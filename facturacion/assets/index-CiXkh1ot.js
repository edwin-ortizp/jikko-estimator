function zy(r,a){for(var s=0;s<a.length;s++){const o=a[s];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in r)){const c=Object.getOwnPropertyDescriptor(o,i);c&&Object.defineProperty(r,i,c.get?c:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();function hu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},io={},hd={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function Vy(){if(yh)return Fe;yh=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function j(A,W,ue){this.props=A,this.context=W,this.refs=C,this.updater=ue||w}j.prototype.isReactComponent={},j.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=j.prototype;function D(A,W,ue){this.props=A,this.context=W,this.refs=C,this.updater=ue||w}var R=D.prototype=new N;R.constructor=D,S(R,j.prototype),R.isPureReactComponent=!0;var M=Array.isArray,T=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function z(A,W,ue){var me,Ne={},be=null,ie=null;if(W!=null)for(me in W.ref!==void 0&&(ie=W.ref),W.key!==void 0&&(be=""+W.key),W)T.call(W,me)&&!_.hasOwnProperty(me)&&(Ne[me]=W[me]);var he=arguments.length-2;if(he===1)Ne.children=ue;else if(1<he){for(var Ae=Array(he),ge=0;ge<he;ge++)Ae[ge]=arguments[ge+2];Ne.children=Ae}if(A&&A.defaultProps)for(me in he=A.defaultProps,he)Ne[me]===void 0&&(Ne[me]=he[me]);return{$$typeof:r,type:A,key:be,ref:ie,props:Ne,_owner:k.current}}function F(A,W){return{$$typeof:r,type:A.type,key:W,ref:A.ref,props:A.props,_owner:A._owner}}function $(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function q(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ue){return W[ue]})}var Z=/\/+/g;function te(A,W){return typeof A=="object"&&A!==null&&A.key!=null?q(""+A.key):W.toString(36)}function re(A,W,ue,me,Ne){var be=typeof A;(be==="undefined"||be==="boolean")&&(A=null);var ie=!1;if(A===null)ie=!0;else switch(be){case"string":case"number":ie=!0;break;case"object":switch(A.$$typeof){case r:case a:ie=!0}}if(ie)return ie=A,Ne=Ne(ie),A=me===""?"."+te(ie,0):me,M(Ne)?(ue="",A!=null&&(ue=A.replace(Z,"$&/")+"/"),re(Ne,W,ue,"",function(ge){return ge})):Ne!=null&&($(Ne)&&(Ne=F(Ne,ue+(!Ne.key||ie&&ie.key===Ne.key?"":(""+Ne.key).replace(Z,"$&/")+"/")+A)),W.push(Ne)),1;if(ie=0,me=me===""?".":me+":",M(A))for(var he=0;he<A.length;he++){be=A[he];var Ae=me+te(be,he);ie+=re(be,W,ue,Ae,Ne)}else if(Ae=v(A),typeof Ae=="function")for(A=Ae.call(A),he=0;!(be=A.next()).done;)be=be.value,Ae=me+te(be,he++),ie+=re(be,W,ue,Ae,Ne);else if(be==="object")throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ie}function G(A,W,ue){if(A==null)return A;var me=[],Ne=0;return re(A,me,"","",function(be){return W.call(ue,be,Ne++)}),me}function X(A){if(A._status===-1){var W=A._result;W=W(),W.then(function(ue){(A._status===0||A._status===-1)&&(A._status=1,A._result=ue)},function(ue){(A._status===0||A._status===-1)&&(A._status=2,A._result=ue)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var ne={current:null},O={transition:null},J={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:G,forEach:function(A,W,ue){G(A,function(){W.apply(this,arguments)},ue)},count:function(A){var W=0;return G(A,function(){W++}),W},toArray:function(A){return G(A,function(W){return W})||[]},only:function(A){if(!$(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Fe.Component=j,Fe.Fragment=s,Fe.Profiler=i,Fe.PureComponent=D,Fe.StrictMode=o,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Fe.act=ee,Fe.cloneElement=function(A,W,ue){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var me=S({},A.props),Ne=A.key,be=A.ref,ie=A._owner;if(W!=null){if(W.ref!==void 0&&(be=W.ref,ie=k.current),W.key!==void 0&&(Ne=""+W.key),A.type&&A.type.defaultProps)var he=A.type.defaultProps;for(Ae in W)T.call(W,Ae)&&!_.hasOwnProperty(Ae)&&(me[Ae]=W[Ae]===void 0&&he!==void 0?he[Ae]:W[Ae])}var Ae=arguments.length-2;if(Ae===1)me.children=ue;else if(1<Ae){he=Array(Ae);for(var ge=0;ge<Ae;ge++)he[ge]=arguments[ge+2];me.children=he}return{$$typeof:r,type:A.type,key:Ne,ref:be,props:me,_owner:ie}},Fe.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},Fe.createElement=z,Fe.createFactory=function(A){var W=z.bind(null,A);return W.type=A,W},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(A){return{$$typeof:m,render:A}},Fe.isValidElement=$,Fe.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:X}},Fe.memo=function(A,W){return{$$typeof:h,type:A,compare:W===void 0?null:W}},Fe.startTransition=function(A){var W=O.transition;O.transition={};try{A()}finally{O.transition=W}},Fe.unstable_act=ee,Fe.useCallback=function(A,W){return ne.current.useCallback(A,W)},Fe.useContext=function(A){return ne.current.useContext(A)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(A){return ne.current.useDeferredValue(A)},Fe.useEffect=function(A,W){return ne.current.useEffect(A,W)},Fe.useId=function(){return ne.current.useId()},Fe.useImperativeHandle=function(A,W,ue){return ne.current.useImperativeHandle(A,W,ue)},Fe.useInsertionEffect=function(A,W){return ne.current.useInsertionEffect(A,W)},Fe.useLayoutEffect=function(A,W){return ne.current.useLayoutEffect(A,W)},Fe.useMemo=function(A,W){return ne.current.useMemo(A,W)},Fe.useReducer=function(A,W,ue){return ne.current.useReducer(A,W,ue)},Fe.useRef=function(A){return ne.current.useRef(A)},Fe.useState=function(A){return ne.current.useState(A)},Fe.useSyncExternalStore=function(A,W,ue){return ne.current.useSyncExternalStore(A,W,ue)},Fe.useTransition=function(){return ne.current.useTransition()},Fe.version="18.3.1",Fe}var vh;function pu(){return vh||(vh=1,hd.exports=Vy()),hd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function Uy(){if(bh)return io;bh=1;var r=pu(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,f,h){var x,b={},v=null,w=null;h!==void 0&&(v=""+h),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(x in f)o.call(f,x)&&!c.hasOwnProperty(x)&&(b[x]=f[x]);if(m&&m.defaultProps)for(x in f=m.defaultProps,f)b[x]===void 0&&(b[x]=f[x]);return{$$typeof:a,type:m,key:v,ref:w,props:b,_owner:i.current}}return io.Fragment=s,io.jsx=d,io.jsxs=d,io}var wh;function By(){return wh||(wh=1,fd.exports=Uy()),fd.exports}var t=By(),g=pu();const hn=hu(g),Wy=zy({__proto__:null,default:hn},[g]);var zl={},pd={exports:{}},Zt={},gd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function Hy(){return jh||(jh=1,function(r){function a(O,J){var ee=O.length;O.push(J);e:for(;0<ee;){var A=ee-1>>>1,W=O[A];if(0<i(W,J))O[A]=J,O[ee]=W,ee=A;else break e}}function s(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var J=O[0],ee=O.pop();if(ee!==J){O[0]=ee;e:for(var A=0,W=O.length,ue=W>>>1;A<ue;){var me=2*(A+1)-1,Ne=O[me],be=me+1,ie=O[be];if(0>i(Ne,ee))be<W&&0>i(ie,Ne)?(O[A]=ie,O[be]=ee,A=be):(O[A]=Ne,O[me]=ee,A=me);else if(be<W&&0>i(ie,ee))O[A]=ie,O[be]=ee,A=be;else break e}}return J}function i(O,J){var ee=O.sortIndex-J.sortIndex;return ee!==0?ee:O.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var f=[],h=[],x=1,b=null,v=3,w=!1,S=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(O){for(var J=s(h);J!==null;){if(J.callback===null)o(h);else if(J.startTime<=O)o(h),J.sortIndex=J.expirationTime,a(f,J);else break;J=s(h)}}function M(O){if(C=!1,R(O),!S)if(s(f)!==null)S=!0,X(T);else{var J=s(h);J!==null&&ne(M,J.startTime-O)}}function T(O,J){S=!1,C&&(C=!1,N(z),z=-1),w=!0;var ee=v;try{for(R(J),b=s(f);b!==null&&(!(b.expirationTime>J)||O&&!q());){var A=b.callback;if(typeof A=="function"){b.callback=null,v=b.priorityLevel;var W=A(b.expirationTime<=J);J=r.unstable_now(),typeof W=="function"?b.callback=W:b===s(f)&&o(f),R(J)}else o(f);b=s(f)}if(b!==null)var ue=!0;else{var me=s(h);me!==null&&ne(M,me.startTime-J),ue=!1}return ue}finally{b=null,v=ee,w=!1}}var k=!1,_=null,z=-1,F=5,$=-1;function q(){return!(r.unstable_now()-$<F)}function Z(){if(_!==null){var O=r.unstable_now();$=O;var J=!0;try{J=_(!0,O)}finally{J?te():(k=!1,_=null)}}else k=!1}var te;if(typeof D=="function")te=function(){D(Z)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,G=re.port2;re.port1.onmessage=Z,te=function(){G.postMessage(null)}}else te=function(){j(Z,0)};function X(O){_=O,k||(k=!0,te())}function ne(O,J){z=j(function(){O(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_continueExecution=function(){S||w||(S=!0,X(T))},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return s(f)},r.unstable_next=function(O){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var ee=v;v=J;try{return O()}finally{v=ee}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ee=v;v=O;try{return J()}finally{v=ee}},r.unstable_scheduleCallback=function(O,J,ee){var A=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?A+ee:A):ee=A,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,O={id:x++,callback:J,priorityLevel:O,startTime:ee,expirationTime:W,sortIndex:-1},ee>A?(O.sortIndex=ee,a(h,O),s(f)===null&&O===s(h)&&(C?(N(z),z=-1):C=!0,ne(M,ee-A))):(O.sortIndex=W,a(f,O),S||w||(S=!0,X(T))),O},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(O){var J=v;return function(){var ee=v;v=J;try{return O.apply(this,arguments)}finally{v=ee}}}}(xd)),xd}var Nh;function Yy(){return Nh||(Nh=1,gd.exports=Hy()),gd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function Gy(){if(Ch)return Zt;Ch=1;var r=pu(),a=Yy();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function c(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(i[e]=n,e=0;e<n.length;e++)o.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},b={};function v(e){return f.call(b,e)?!0:f.call(x,e)?!1:h.test(e)?b[e]=!0:(x[e]=!0,!1)}function w(e,n,l,u){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,l,u){if(n===null||typeof n>"u"||w(e,n,l,u))return!0;if(u)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function C(e,n,l,u,p,y,E){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=y,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];j[n]=new C(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(N,D);j[n]=new C(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(N,D);j[n]=new C(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(N,D);j[n]=new C(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,n,l,u){var p=j.hasOwnProperty(n)?j[n]:null;(p!==null?p.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,l,p,u)&&(l=null),u||p===null?v(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):p.mustUseProperty?e[p.propertyName]=l===null?p.type===3?!1:"":l:(n=p.attributeName,u=p.attributeNamespace,l===null?e.removeAttribute(n):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,u?e.setAttributeNS(u,n,l):e.setAttribute(n,l))))}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),O=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,A;function W(e){if(A===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+e}var ue=!1;function me(e,n){if(!e||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var u=K}Reflect.construct(e,[],n)}else{try{n.call()}catch(K){u=K}e.call(n.prototype)}else{try{throw Error()}catch(K){u=K}e()}}catch(K){if(K&&u&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),y=u.stack.split(`
`),E=p.length-1,P=y.length-1;1<=E&&0<=P&&p[E]!==y[P];)P--;for(;1<=E&&0<=P;E--,P--)if(p[E]!==y[P]){if(E!==1||P!==1)do if(E--,P--,0>P||p[E]!==y[P]){var I=`
`+p[E].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=E&&0<=P);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?W(e):""}function Ne(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function be(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case k:return"Portal";case F:return"Profiler";case z:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case $:return(e._context.displayName||"Context")+".Provider";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return n=e.displayName||null,n!==null?n:be(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return be(e(n))}catch{}}return null}function ie(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(n);case 8:return n===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ae(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ge(e){var n=Ae(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(E){u=""+E,y.call(this,E)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ie(e){e._valueTracker||(e._valueTracker=ge(e))}function We(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return e&&(u=Ae(e)?e.checked?"true":"false":e.value),e=u,e!==l?(n.setValue(e),!0):!1}function pt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gt(e,n){var l=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function Ir(e,n){var l=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;l=he(n.value!=null?n.value:l),e._wrapperState={initialChecked:u,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Or(e,n){n=n.checked,n!=null&&R(e,"checked",n,!1)}function fr(e,n){Or(e,n);var l=he(n.value),u=n.type;if(l!=null)u==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?da(e,n.type,l):n.hasOwnProperty("defaultValue")&&da(e,n.type,he(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Oa(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function da(e,n,l){(n!=="number"||pt(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var en=Array.isArray;function Fr(e,n,l,u){if(e=e.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=n.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&u&&(e[l].defaultSelected=!0)}else{for(l=""+he(l),n=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,u&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function tr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $r(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(s(92));if(en(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:he(l)}}function Cn(e,n){var l=he(n.value),u=he(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),u!=null&&(e.defaultValue=""+u)}function Sn(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?rr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tn,En=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,u,p){MSApp.execUnsafeLocalFunction(function(){return e(n,l,u,p)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=tn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function rn(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fa=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(e){Fa.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),It[n]=It[e]})});function ua(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||It.hasOwnProperty(e)&&It[e]?(""+n).trim():n+"px"}function ma(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var u=l.indexOf("--")===0,p=ua(l,n[l],u);l==="float"&&(l="cssFloat"),u?e.setProperty(l,p):e[l]=p}}var ks=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kn(e,n){if(n){if(ks[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function ke(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Me=null;function Qe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var et=null,Ye=null,hr=null;function nr(e){if(e=Gs(e)){if(typeof et!="function")throw Error(s(280));var n=e.stateNode;n&&(n=tl(n),et(e.stateNode,e.type,n))}}function fa(e){Ye?hr?hr.push(e):hr=[e]:Ye=e}function ha(){if(Ye){var e=Ye,n=hr;if(hr=Ye=null,nr(e),n)for(e=0;e<n.length;e++)nr(n[e])}}function Lo(e,n){return e(n)}function Io(){}var L=!1;function U(e,n,l){if(L)return e(n,l);L=!0;try{return Lo(e,n,l)}finally{L=!1,(Ye!==null||hr!==null)&&(Io(),ha())}}function Q(e,n){var l=e.stateNode;if(l===null)return null;var u=tl(l);if(u===null)return null;l=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var le=!1;if(m)try{var de={};Object.defineProperty(de,"passive",{get:function(){le=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{le=!1}function Ee(e,n,l,u,p,y,E,P,I){var K=Array.prototype.slice.call(arguments,3);try{n.apply(l,K)}catch(se){this.onError(se)}}var we=!1,xe=null,Ce=!1,_e=null,De={onError:function(e){we=!0,xe=e}};function Re(e,n,l,u,p,y,E,P,I){we=!1,xe=null,Ee.apply(De,arguments)}function ze(e,n,l,u,p,y,E,P,I){if(Re.apply(this,arguments),we){if(we){var K=xe;we=!1,xe=null}else throw Error(s(198));Ce||(Ce=!0,_e=K)}}function Ge(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function Nt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Et(e){if(Ge(e)!==e)throw Error(s(188))}function lt(e){var n=e.alternate;if(!n){if(n=Ge(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,u=n;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Et(p),e;if(y===u)return Et(p),n;y=y.sibling}throw Error(s(188))}if(l.return!==u.return)l=p,u=y;else{for(var E=!1,P=p.child;P;){if(P===l){E=!0,l=p,u=y;break}if(P===u){E=!0,u=p,l=y;break}P=P.sibling}if(!E){for(P=y.child;P;){if(P===l){E=!0,l=y,u=p;break}if(P===u){E=!0,u=y,l=p;break}P=P.sibling}if(!E)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function Je(e){return e=lt(e),e!==null?zr(e):null}function zr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=zr(e);if(n!==null)return n;e=e.sibling}return null}var Dn=a.unstable_scheduleCallback,Sr=a.unstable_cancelCallback,pr=a.unstable_shouldYield,Ds=a.unstable_requestPaint,tt=a.unstable_now,nn=a.unstable_getCurrentPriorityLevel,Rn=a.unstable_ImmediatePriority,pa=a.unstable_UserBlockingPriority,Ve=a.unstable_NormalPriority,kt=a.unstable_LowPriority,ga=a.unstable_IdlePriority,Vr=null,qe=null;function $a(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Vr,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:ax,Ai=Math.log,nx=Math.LN2;function ax(e){return e>>>=0,e===0?32:31-(Ai(e)/nx|0)|0}var Oo=64,Fo=4194304;function Rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,p=e.suspendedLanes,y=e.pingedLanes,E=l&268435455;if(E!==0){var P=E&~p;P!==0?u=Rs(P):(y&=E,y!==0&&(u=Rs(y)))}else E=l&~p,E!==0?u=Rs(E):y!==0&&(u=Rs(y));if(u===0)return 0;if(n!==0&&n!==u&&(n&p)===0&&(p=u&-u,y=n&-n,p>=y||p===16&&(y&4194240)!==0))return n;if((u&4)!==0&&(u|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)l=31-Gt(n),p=1<<l,u|=e[l],n&=~p;return u}function sx(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ox(e,n){for(var l=e.suspendedLanes,u=e.pingedLanes,p=e.expirationTimes,y=e.pendingLanes;0<y;){var E=31-Gt(y),P=1<<E,I=p[E];I===-1?((P&l)===0||(P&u)!==0)&&(p[E]=sx(P,n)):I<=n&&(e.expiredLanes|=P),y&=~P}}function Mi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qu(){var e=Oo;return Oo<<=1,(Oo&4194240)===0&&(Oo=64),e}function Li(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function _s(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Gt(n),e[n]=l}function lx(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<l;){var p=31-Gt(l),y=1<<p;n[p]=0,u[p]=-1,e[p]=-1,l&=~y}}function Ii(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var u=31-Gt(l),p=1<<u;p&n|e[u]&n&&(e[u]|=n),l&=~p}}var Xe=0;function Ku(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Qu,Oi,Xu,Ju,Zu,Fi=!1,zo=[],_n=null,Pn=null,Tn=null,Ps=new Map,Ts=new Map,An=[],ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function em(e,n){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(n.pointerId)}}function As(e,n,l,u,p,y){return e===null||e.nativeEvent!==y?(e={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},n!==null&&(n=Gs(n),n!==null&&Oi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function cx(e,n,l,u,p){switch(n){case"focusin":return _n=As(_n,e,n,l,u,p),!0;case"dragenter":return Pn=As(Pn,e,n,l,u,p),!0;case"mouseover":return Tn=As(Tn,e,n,l,u,p),!0;case"pointerover":var y=p.pointerId;return Ps.set(y,As(Ps.get(y)||null,e,n,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Ts.set(y,As(Ts.get(y)||null,e,n,l,u,p)),!0}return!1}function tm(e){var n=xa(e.target);if(n!==null){var l=Ge(n);if(l!==null){if(n=l.tag,n===13){if(n=Nt(l),n!==null){e.blockedOn=n,Zu(e.priority,function(){Xu(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=zi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);Me=u,l.target.dispatchEvent(u),Me=null}else return n=Gs(l),n!==null&&Oi(n),e.blockedOn=l,!1;n.shift()}return!0}function rm(e,n,l){Vo(e)&&l.delete(n)}function dx(){Fi=!1,_n!==null&&Vo(_n)&&(_n=null),Pn!==null&&Vo(Pn)&&(Pn=null),Tn!==null&&Vo(Tn)&&(Tn=null),Ps.forEach(rm),Ts.forEach(rm)}function Ms(e,n){e.blockedOn===n&&(e.blockedOn=null,Fi||(Fi=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dx)))}function Ls(e){function n(p){return Ms(p,e)}if(0<zo.length){Ms(zo[0],e);for(var l=1;l<zo.length;l++){var u=zo[l];u.blockedOn===e&&(u.blockedOn=null)}}for(_n!==null&&Ms(_n,e),Pn!==null&&Ms(Pn,e),Tn!==null&&Ms(Tn,e),Ps.forEach(n),Ts.forEach(n),l=0;l<An.length;l++)u=An[l],u.blockedOn===e&&(u.blockedOn=null);for(;0<An.length&&(l=An[0],l.blockedOn===null);)tm(l),l.blockedOn===null&&An.shift()}var za=M.ReactCurrentBatchConfig,Uo=!0;function ux(e,n,l,u){var p=Xe,y=za.transition;za.transition=null;try{Xe=1,$i(e,n,l,u)}finally{Xe=p,za.transition=y}}function mx(e,n,l,u){var p=Xe,y=za.transition;za.transition=null;try{Xe=4,$i(e,n,l,u)}finally{Xe=p,za.transition=y}}function $i(e,n,l,u){if(Uo){var p=zi(e,n,l,u);if(p===null)nc(e,n,u,Bo,l),em(e,u);else if(cx(p,e,n,l,u))u.stopPropagation();else if(em(e,u),n&4&&-1<ix.indexOf(e)){for(;p!==null;){var y=Gs(p);if(y!==null&&Qu(y),y=zi(e,n,l,u),y===null&&nc(e,n,u,Bo,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else nc(e,n,u,null,l)}}var Bo=null;function zi(e,n,l,u){if(Bo=null,e=Qe(u),e=xa(e),e!==null)if(n=Ge(e),n===null)e=null;else if(l=n.tag,l===13){if(e=Nt(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Bo=e,null}function nm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nn()){case Rn:return 1;case pa:return 4;case Ve:case kt:return 16;case ga:return 536870912;default:return 16}default:return 16}}var Mn=null,Vi=null,Wo=null;function am(){if(Wo)return Wo;var e,n=Vi,l=n.length,u,p="value"in Mn?Mn.value:Mn.textContent,y=p.length;for(e=0;e<l&&n[e]===p[e];e++);var E=l-e;for(u=1;u<=E&&n[l-u]===p[y-u];u++);return Wo=p.slice(e,1<u?1-u:void 0)}function Ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function sm(){return!1}function ar(e){function n(l,u,p,y,E){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var P in e)e.hasOwnProperty(P)&&(l=e[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Yo:sm,this.isPropagationStopped=sm,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),n}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=ar(Va),Is=ee({},Va,{view:0,detail:0}),fx=ar(Is),Bi,Wi,Os,Go=ee({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(Bi=e.screenX-Os.screenX,Wi=e.screenY-Os.screenY):Wi=Bi=0,Os=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Wi}}),om=ar(Go),hx=ee({},Go,{dataTransfer:0}),px=ar(hx),gx=ee({},Is,{relatedTarget:0}),Hi=ar(gx),xx=ee({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),yx=ar(xx),vx=ee({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bx=ar(vx),wx=ee({},Va,{data:0}),lm=ar(wx),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cx[e])?!!n[e]:!1}function Yi(){return Sx}var Ex=ee({},Is,{key:function(e){if(e.key){var n=jx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kx=ar(Ex),Dx=ee({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=ar(Dx),Rx=ee({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),_x=ar(Rx),Px=ee({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tx=ar(Px),Ax=ee({},Go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=ar(Ax),Lx=[9,13,27,32],Gi=m&&"CompositionEvent"in window,Fs=null;m&&"documentMode"in document&&(Fs=document.documentMode);var Ix=m&&"TextEvent"in window&&!Fs,cm=m&&(!Gi||Fs&&8<Fs&&11>=Fs),dm=" ",um=!1;function mm(e,n){switch(e){case"keyup":return Lx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ua=!1;function Ox(e,n){switch(e){case"compositionend":return fm(n);case"keypress":return n.which!==32?null:(um=!0,dm);case"textInput":return e=n.data,e===dm&&um?null:e;default:return null}}function Fx(e,n){if(Ua)return e==="compositionend"||!Gi&&mm(e,n)?(e=am(),Wo=Vi=Mn=null,Ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cm&&n.locale!=="ko"?null:n.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$x[e.type]:n==="textarea"}function pm(e,n,l,u){fa(u),n=Jo(n,"onChange"),0<n.length&&(l=new Ui("onChange","change",null,l,u),e.push({event:l,listeners:n}))}var $s=null,zs=null;function zx(e){Am(e,0)}function qo(e){var n=Ga(e);if(We(n))return e}function Vx(e,n){if(e==="change")return n}var gm=!1;if(m){var qi;if(m){var Ki="oninput"in document;if(!Ki){var xm=document.createElement("div");xm.setAttribute("oninput","return;"),Ki=typeof xm.oninput=="function"}qi=Ki}else qi=!1;gm=qi&&(!document.documentMode||9<document.documentMode)}function ym(){$s&&($s.detachEvent("onpropertychange",vm),zs=$s=null)}function vm(e){if(e.propertyName==="value"&&qo(zs)){var n=[];pm(n,zs,e,Qe(e)),U(zx,n)}}function Ux(e,n,l){e==="focusin"?(ym(),$s=n,zs=l,$s.attachEvent("onpropertychange",vm)):e==="focusout"&&ym()}function Bx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(zs)}function Wx(e,n){if(e==="click")return qo(n)}function Hx(e,n){if(e==="input"||e==="change")return qo(n)}function Yx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Er=typeof Object.is=="function"?Object.is:Yx;function Vs(e,n){if(Er(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!f.call(n,p)||!Er(e[p],n[p]))return!1}return!0}function bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wm(e,n){var l=bm(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=n&&u>=n)return{node:l,offset:n-e};e=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bm(l)}}function jm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nm(){for(var e=window,n=pt();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=pt(e.document)}return n}function Qi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Gx(e){var n=Nm(),l=e.focusedElem,u=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&jm(l.ownerDocument.documentElement,l)){if(u!==null&&Qi(l)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var p=l.textContent.length,y=Math.min(u.start,p);u=u.end===void 0?y:Math.min(u.end,p),!e.extend&&y>u&&(p=u,u=y,y=p),p=wm(l,y);var E=wm(l,u);p&&E&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==E.node||e.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),e.removeAllRanges(),y>u?(e.addRange(n),e.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qx=m&&"documentMode"in document&&11>=document.documentMode,Ba=null,Xi=null,Us=null,Ji=!1;function Cm(e,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ji||Ba==null||Ba!==pt(u)||(u=Ba,"selectionStart"in u&&Qi(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Us&&Vs(Us,u)||(Us=u,u=Jo(Xi,"onSelect"),0<u.length&&(n=new Ui("onSelect","select",null,n,l),e.push({event:n,listeners:u}),n.target=Ba)))}function Ko(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Wa={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},Zi={},Sm={};m&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Qo(e){if(Zi[e])return Zi[e];if(!Wa[e])return e;var n=Wa[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Sm)return Zi[e]=n[l];return e}var Em=Qo("animationend"),km=Qo("animationiteration"),Dm=Qo("animationstart"),Rm=Qo("transitionend"),_m=new Map,Pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,n){_m.set(e,n),c(n,[e])}for(var ec=0;ec<Pm.length;ec++){var tc=Pm[ec],Kx=tc.toLowerCase(),Qx=tc[0].toUpperCase()+tc.slice(1);Ln(Kx,"on"+Qx)}Ln(Em,"onAnimationEnd"),Ln(km,"onAnimationIteration"),Ln(Dm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Rm,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function Tm(e,n,l){var u=e.type||"unknown-event";e.currentTarget=l,ze(u,n,void 0,e),e.currentTarget=null}function Am(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],p=u.event;u=u.listeners;e:{var y=void 0;if(n)for(var E=u.length-1;0<=E;E--){var P=u[E],I=P.instance,K=P.currentTarget;if(P=P.listener,I!==y&&p.isPropagationStopped())break e;Tm(p,P,K),y=I}else for(E=0;E<u.length;E++){if(P=u[E],I=P.instance,K=P.currentTarget,P=P.listener,I!==y&&p.isPropagationStopped())break e;Tm(p,P,K),y=I}}}if(Ce)throw e=_e,Ce=!1,_e=null,e}function at(e,n){var l=n[cc];l===void 0&&(l=n[cc]=new Set);var u=e+"__bubble";l.has(u)||(Mm(n,e,2,!1),l.add(u))}function rc(e,n,l){var u=0;n&&(u|=4),Mm(l,e,u,n)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[Xo]){e[Xo]=!0,o.forEach(function(l){l!=="selectionchange"&&(Xx.has(l)||rc(l,!1,e),rc(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Xo]||(n[Xo]=!0,rc("selectionchange",!1,n))}}function Mm(e,n,l,u){switch(nm(n)){case 1:var p=ux;break;case 4:p=mx;break;default:p=$i}l=p.bind(null,n,l,e),p=void 0,!le||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?e.addEventListener(n,l,{capture:!0,passive:p}):e.addEventListener(n,l,!0):p!==void 0?e.addEventListener(n,l,{passive:p}):e.addEventListener(n,l,!1)}function nc(e,n,l,u,p){var y=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var P=u.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===p||I.nodeType===8&&I.parentNode===p))return;E=E.return}for(;P!==null;){if(E=xa(P),E===null)return;if(I=E.tag,I===5||I===6){u=y=E;continue e}P=P.parentNode}}u=u.return}U(function(){var K=y,se=Qe(l),oe=[];e:{var ae=_m.get(e);if(ae!==void 0){var fe=Ui,ye=e;switch(e){case"keypress":if(Ho(l)===0)break e;case"keydown":case"keyup":fe=kx;break;case"focusin":ye="focus",fe=Hi;break;case"focusout":ye="blur",fe=Hi;break;case"beforeblur":case"afterblur":fe=Hi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=_x;break;case Em:case km:case Dm:fe=yx;break;case Rm:fe=Tx;break;case"scroll":fe=fx;break;case"wheel":fe=Mx;break;case"copy":case"cut":case"paste":fe=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=im}var ve=(n&4)!==0,xt=!ve&&e==="scroll",B=ve?ae!==null?ae+"Capture":null:ae;ve=[];for(var V=K,H;V!==null;){H=V;var ce=H.stateNode;if(H.tag===5&&ce!==null&&(H=ce,B!==null&&(ce=Q(V,B),ce!=null&&ve.push(Hs(V,ce,H)))),xt)break;V=V.return}0<ve.length&&(ae=new fe(ae,ye,null,l,se),oe.push({event:ae,listeners:ve}))}}if((n&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",ae&&l!==Me&&(ye=l.relatedTarget||l.fromElement)&&(xa(ye)||ye[an]))break e;if((fe||ae)&&(ae=se.window===se?se:(ae=se.ownerDocument)?ae.defaultView||ae.parentWindow:window,fe?(ye=l.relatedTarget||l.toElement,fe=K,ye=ye?xa(ye):null,ye!==null&&(xt=Ge(ye),ye!==xt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=K),fe!==ye)){if(ve=om,ce="onMouseLeave",B="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(ve=im,ce="onPointerLeave",B="onPointerEnter",V="pointer"),xt=fe==null?ae:Ga(fe),H=ye==null?ae:Ga(ye),ae=new ve(ce,V+"leave",fe,l,se),ae.target=xt,ae.relatedTarget=H,ce=null,xa(se)===K&&(ve=new ve(B,V+"enter",ye,l,se),ve.target=H,ve.relatedTarget=xt,ce=ve),xt=ce,fe&&ye)t:{for(ve=fe,B=ye,V=0,H=ve;H;H=Ha(H))V++;for(H=0,ce=B;ce;ce=Ha(ce))H++;for(;0<V-H;)ve=Ha(ve),V--;for(;0<H-V;)B=Ha(B),H--;for(;V--;){if(ve===B||B!==null&&ve===B.alternate)break t;ve=Ha(ve),B=Ha(B)}ve=null}else ve=null;fe!==null&&Lm(oe,ae,fe,ve,!1),ye!==null&&xt!==null&&Lm(oe,xt,ye,ve,!0)}}e:{if(ae=K?Ga(K):window,fe=ae.nodeName&&ae.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ae.type==="file")var je=Vx;else if(hm(ae))if(gm)je=Hx;else{je=Bx;var Pe=Ux}else(fe=ae.nodeName)&&fe.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(je=Wx);if(je&&(je=je(e,K))){pm(oe,je,l,se);break e}Pe&&Pe(e,ae,K),e==="focusout"&&(Pe=ae._wrapperState)&&Pe.controlled&&ae.type==="number"&&da(ae,"number",ae.value)}switch(Pe=K?Ga(K):window,e){case"focusin":(hm(Pe)||Pe.contentEditable==="true")&&(Ba=Pe,Xi=K,Us=null);break;case"focusout":Us=Xi=Ba=null;break;case"mousedown":Ji=!0;break;case"contextmenu":case"mouseup":case"dragend":Ji=!1,Cm(oe,l,se);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":Cm(oe,l,se)}var Te;if(Gi)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ua?mm(e,l)&&(Le="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(cm&&l.locale!=="ko"&&(Ua||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ua&&(Te=am()):(Mn=se,Vi="value"in Mn?Mn.value:Mn.textContent,Ua=!0)),Pe=Jo(K,Le),0<Pe.length&&(Le=new lm(Le,e,null,l,se),oe.push({event:Le,listeners:Pe}),Te?Le.data=Te:(Te=fm(l),Te!==null&&(Le.data=Te)))),(Te=Ix?Ox(e,l):Fx(e,l))&&(K=Jo(K,"onBeforeInput"),0<K.length&&(se=new lm("onBeforeInput","beforeinput",null,l,se),oe.push({event:se,listeners:K}),se.data=Te))}Am(oe,n)})}function Hs(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Jo(e,n){for(var l=n+"Capture",u=[];e!==null;){var p=e,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Q(e,l),y!=null&&u.unshift(Hs(e,y,p)),y=Q(e,n),y!=null&&u.push(Hs(e,y,p))),e=e.return}return u}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lm(e,n,l,u,p){for(var y=n._reactName,E=[];l!==null&&l!==u;){var P=l,I=P.alternate,K=P.stateNode;if(I!==null&&I===u)break;P.tag===5&&K!==null&&(P=K,p?(I=Q(l,y),I!=null&&E.unshift(Hs(l,I,P))):p||(I=Q(l,y),I!=null&&E.push(Hs(l,I,P)))),l=l.return}E.length!==0&&e.push({event:n,listeners:E})}var Jx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function Im(e){return(typeof e=="string"?e:""+e).replace(Jx,`
`).replace(Zx,"")}function Zo(e,n,l){if(n=Im(n),Im(e)!==n&&l)throw Error(s(425))}function el(){}var ac=null,sc=null;function oc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lc=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(ry)}:lc;function ry(e){setTimeout(function(){throw e})}function ic(e,n){var l=n,u=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){e.removeChild(p),Ls(n);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);Ls(n)}function In(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Fm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Ya,Ys="__reactProps$"+Ya,an="__reactContainer$"+Ya,cc="__reactEvents$"+Ya,ny="__reactListeners$"+Ya,ay="__reactHandles$"+Ya;function xa(e){var n=e[Ur];if(n)return n;for(var l=e.parentNode;l;){if(n=l[an]||l[Ur]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Fm(e);e!==null;){if(l=e[Ur])return l;e=Fm(e)}return n}e=l,l=e.parentNode}return null}function Gs(e){return e=e[Ur]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function tl(e){return e[Ys]||null}var dc=[],qa=-1;function On(e){return{current:e}}function st(e){0>qa||(e.current=dc[qa],dc[qa]=null,qa--)}function rt(e,n){qa++,dc[qa]=e.current,e.current=n}var Fn={},Ot=On(Fn),qt=On(!1),ya=Fn;function Ka(e,n){var l=e.type.contextTypes;if(!l)return Fn;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=n[y];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=p),p}function Kt(e){return e=e.childContextTypes,e!=null}function rl(){st(qt),st(Ot)}function $m(e,n,l){if(Ot.current!==Fn)throw Error(s(168));rt(Ot,n),rt(qt,l)}function zm(e,n,l){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return l;u=u.getChildContext();for(var p in u)if(!(p in n))throw Error(s(108,ie(e)||"Unknown",p));return ee({},l,u)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,ya=Ot.current,rt(Ot,e),rt(qt,qt.current),!0}function Vm(e,n,l){var u=e.stateNode;if(!u)throw Error(s(169));l?(e=zm(e,n,ya),u.__reactInternalMemoizedMergedChildContext=e,st(qt),st(Ot),rt(Ot,e)):st(qt),rt(qt,l)}var sn=null,al=!1,uc=!1;function Um(e){sn===null?sn=[e]:sn.push(e)}function sy(e){al=!0,Um(e)}function $n(){if(!uc&&sn!==null){uc=!0;var e=0,n=Xe;try{var l=sn;for(Xe=1;e<l.length;e++){var u=l[e];do u=u(!0);while(u!==null)}sn=null,al=!1}catch(p){throw sn!==null&&(sn=sn.slice(e+1)),Dn(Rn,$n),p}finally{Xe=n,uc=!1}}return null}var Qa=[],Xa=0,sl=null,ol=0,gr=[],xr=0,va=null,on=1,ln="";function ba(e,n){Qa[Xa++]=ol,Qa[Xa++]=sl,sl=e,ol=n}function Bm(e,n,l){gr[xr++]=on,gr[xr++]=ln,gr[xr++]=va,va=e;var u=on;e=ln;var p=32-Gt(u)-1;u&=~(1<<p),l+=1;var y=32-Gt(n)+p;if(30<y){var E=p-p%5;y=(u&(1<<E)-1).toString(32),u>>=E,p-=E,on=1<<32-Gt(n)+p|l<<p|u,ln=y+e}else on=1<<y|l<<p|u,ln=e}function mc(e){e.return!==null&&(ba(e,1),Bm(e,1,0))}function fc(e){for(;e===sl;)sl=Qa[--Xa],Qa[Xa]=null,ol=Qa[--Xa],Qa[Xa]=null;for(;e===va;)va=gr[--xr],gr[xr]=null,ln=gr[--xr],gr[xr]=null,on=gr[--xr],gr[xr]=null}var sr=null,or=null,it=!1,kr=null;function Wm(e,n){var l=wr(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function Hm(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,sr=e,or=In(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,sr=e,or=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=va!==null?{id:on,overflow:ln}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=wr(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,sr=e,or=null,!0):!1;default:return!1}}function hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pc(e){if(it){var n=or;if(n){var l=n;if(!Hm(e,n)){if(hc(e))throw Error(s(418));n=In(l.nextSibling);var u=sr;n&&Hm(e,n)?Wm(u,l):(e.flags=e.flags&-4097|2,it=!1,sr=e)}}else{if(hc(e))throw Error(s(418));e.flags=e.flags&-4097|2,it=!1,sr=e}}}function Ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function ll(e){if(e!==sr)return!1;if(!it)return Ym(e),it=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!oc(e.type,e.memoizedProps)),n&&(n=or)){if(hc(e))throw Gm(),Error(s(418));for(;n;)Wm(e,n),n=In(n.nextSibling)}if(Ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){or=In(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}or=null}}else or=sr?In(e.stateNode.nextSibling):null;return!0}function Gm(){for(var e=or;e;)e=In(e.nextSibling)}function Ja(){or=sr=null,it=!1}function gc(e){kr===null?kr=[e]:kr.push(e)}var oy=M.ReactCurrentBatchConfig;function qs(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var u=l.stateNode}if(!u)throw Error(s(147,e));var p=u,y=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===y?n.ref:(n=function(E){var P=p.refs;E===null?delete P[y]:P[y]=E},n._stringRef=y,n)}if(typeof e!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,e))}return e}function il(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qm(e){var n=e._init;return n(e._payload)}function Km(e){function n(B,V){if(e){var H=B.deletions;H===null?(B.deletions=[V],B.flags|=16):H.push(V)}}function l(B,V){if(!e)return null;for(;V!==null;)n(B,V),V=V.sibling;return null}function u(B,V){for(B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function p(B,V){return B=Gn(B,V),B.index=0,B.sibling=null,B}function y(B,V,H){return B.index=H,e?(H=B.alternate,H!==null?(H=H.index,H<V?(B.flags|=2,V):H):(B.flags|=2,V)):(B.flags|=1048576,V)}function E(B){return e&&B.alternate===null&&(B.flags|=2),B}function P(B,V,H,ce){return V===null||V.tag!==6?(V=ld(H,B.mode,ce),V.return=B,V):(V=p(V,H),V.return=B,V)}function I(B,V,H,ce){var je=H.type;return je===_?se(B,V,H.props.children,ce,H.key):V!==null&&(V.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===X&&qm(je)===V.type)?(ce=p(V,H.props),ce.ref=qs(B,V,H),ce.return=B,ce):(ce=Tl(H.type,H.key,H.props,null,B.mode,ce),ce.ref=qs(B,V,H),ce.return=B,ce)}function K(B,V,H,ce){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=id(H,B.mode,ce),V.return=B,V):(V=p(V,H.children||[]),V.return=B,V)}function se(B,V,H,ce,je){return V===null||V.tag!==7?(V=Da(H,B.mode,ce,je),V.return=B,V):(V=p(V,H),V.return=B,V)}function oe(B,V,H){if(typeof V=="string"&&V!==""||typeof V=="number")return V=ld(""+V,B.mode,H),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return H=Tl(V.type,V.key,V.props,null,B.mode,H),H.ref=qs(B,null,V),H.return=B,H;case k:return V=id(V,B.mode,H),V.return=B,V;case X:var ce=V._init;return oe(B,ce(V._payload),H)}if(en(V)||J(V))return V=Da(V,B.mode,H,null),V.return=B,V;il(B,V)}return null}function ae(B,V,H,ce){var je=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return je!==null?null:P(B,V,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===je?I(B,V,H,ce):null;case k:return H.key===je?K(B,V,H,ce):null;case X:return je=H._init,ae(B,V,je(H._payload),ce)}if(en(H)||J(H))return je!==null?null:se(B,V,H,ce,null);il(B,H)}return null}function fe(B,V,H,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return B=B.get(H)||null,P(V,B,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return B=B.get(ce.key===null?H:ce.key)||null,I(V,B,ce,je);case k:return B=B.get(ce.key===null?H:ce.key)||null,K(V,B,ce,je);case X:var Pe=ce._init;return fe(B,V,H,Pe(ce._payload),je)}if(en(ce)||J(ce))return B=B.get(H)||null,se(V,B,ce,je,null);il(V,ce)}return null}function ye(B,V,H,ce){for(var je=null,Pe=null,Te=V,Le=V=0,_t=null;Te!==null&&Le<H.length;Le++){Te.index>Le?(_t=Te,Te=null):_t=Te.sibling;var He=ae(B,Te,H[Le],ce);if(He===null){Te===null&&(Te=_t);break}e&&Te&&He.alternate===null&&n(B,Te),V=y(He,V,Le),Pe===null?je=He:Pe.sibling=He,Pe=He,Te=_t}if(Le===H.length)return l(B,Te),it&&ba(B,Le),je;if(Te===null){for(;Le<H.length;Le++)Te=oe(B,H[Le],ce),Te!==null&&(V=y(Te,V,Le),Pe===null?je=Te:Pe.sibling=Te,Pe=Te);return it&&ba(B,Le),je}for(Te=u(B,Te);Le<H.length;Le++)_t=fe(Te,B,Le,H[Le],ce),_t!==null&&(e&&_t.alternate!==null&&Te.delete(_t.key===null?Le:_t.key),V=y(_t,V,Le),Pe===null?je=_t:Pe.sibling=_t,Pe=_t);return e&&Te.forEach(function(qn){return n(B,qn)}),it&&ba(B,Le),je}function ve(B,V,H,ce){var je=J(H);if(typeof je!="function")throw Error(s(150));if(H=je.call(H),H==null)throw Error(s(151));for(var Pe=je=null,Te=V,Le=V=0,_t=null,He=H.next();Te!==null&&!He.done;Le++,He=H.next()){Te.index>Le?(_t=Te,Te=null):_t=Te.sibling;var qn=ae(B,Te,He.value,ce);if(qn===null){Te===null&&(Te=_t);break}e&&Te&&qn.alternate===null&&n(B,Te),V=y(qn,V,Le),Pe===null?je=qn:Pe.sibling=qn,Pe=qn,Te=_t}if(He.done)return l(B,Te),it&&ba(B,Le),je;if(Te===null){for(;!He.done;Le++,He=H.next())He=oe(B,He.value,ce),He!==null&&(V=y(He,V,Le),Pe===null?je=He:Pe.sibling=He,Pe=He);return it&&ba(B,Le),je}for(Te=u(B,Te);!He.done;Le++,He=H.next())He=fe(Te,B,Le,He.value,ce),He!==null&&(e&&He.alternate!==null&&Te.delete(He.key===null?Le:He.key),V=y(He,V,Le),Pe===null?je=He:Pe.sibling=He,Pe=He);return e&&Te.forEach(function($y){return n(B,$y)}),it&&ba(B,Le),je}function xt(B,V,H,ce){if(typeof H=="object"&&H!==null&&H.type===_&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var je=H.key,Pe=V;Pe!==null;){if(Pe.key===je){if(je=H.type,je===_){if(Pe.tag===7){l(B,Pe.sibling),V=p(Pe,H.props.children),V.return=B,B=V;break e}}else if(Pe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===X&&qm(je)===Pe.type){l(B,Pe.sibling),V=p(Pe,H.props),V.ref=qs(B,Pe,H),V.return=B,B=V;break e}l(B,Pe);break}else n(B,Pe);Pe=Pe.sibling}H.type===_?(V=Da(H.props.children,B.mode,ce,H.key),V.return=B,B=V):(ce=Tl(H.type,H.key,H.props,null,B.mode,ce),ce.ref=qs(B,V,H),ce.return=B,B=ce)}return E(B);case k:e:{for(Pe=H.key;V!==null;){if(V.key===Pe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){l(B,V.sibling),V=p(V,H.children||[]),V.return=B,B=V;break e}else{l(B,V);break}else n(B,V);V=V.sibling}V=id(H,B.mode,ce),V.return=B,B=V}return E(B);case X:return Pe=H._init,xt(B,V,Pe(H._payload),ce)}if(en(H))return ye(B,V,H,ce);if(J(H))return ve(B,V,H,ce);il(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,V!==null&&V.tag===6?(l(B,V.sibling),V=p(V,H),V.return=B,B=V):(l(B,V),V=ld(H,B.mode,ce),V.return=B,B=V),E(B)):l(B,V)}return xt}var Za=Km(!0),Qm=Km(!1),cl=On(null),dl=null,es=null,xc=null;function yc(){xc=es=dl=null}function vc(e){var n=cl.current;st(cl),e._currentValue=n}function bc(e,n,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===l)break;e=e.return}}function ts(e,n){dl=e,xc=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Qt=!0),e.firstContext=null)}function yr(e){var n=e._currentValue;if(xc!==e)if(e={context:e,memoizedValue:n,next:null},es===null){if(dl===null)throw Error(s(308));es=e,dl.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return n}var wa=null;function wc(e){wa===null?wa=[e]:wa.push(e)}function Xm(e,n,l,u){var p=n.interleaved;return p===null?(l.next=l,wc(n)):(l.next=p.next,p.next=l),n.interleaved=l,cn(e,u)}function cn(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var zn=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Vn(e,n,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,cn(e,l)}return p=u.interleaved,p===null?(n.next=n,wc(u)):(n.next=p.next,p.next=n),u.interleaved=n,cn(e,l)}function ul(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,l|=u,n.lanes=l,Ii(e,l)}}function Zm(e,n){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=n:y=y.next=n}else p=y=n;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,effects:u.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function ml(e,n,l,u){var p=e.updateQueue;zn=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var I=P,K=I.next;I.next=null,E===null?y=K:E.next=K,E=I;var se=e.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==E&&(P===null?se.firstBaseUpdate=K:P.next=K,se.lastBaseUpdate=I))}if(y!==null){var oe=p.baseState;E=0,se=K=I=null,P=y;do{var ae=P.lane,fe=P.eventTime;if((u&ae)===ae){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ye=e,ve=P;switch(ae=n,fe=l,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){oe=ye.call(fe,oe,ae);break e}oe=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ae=typeof ye=="function"?ye.call(fe,oe,ae):ye,ae==null)break e;oe=ee({},oe,ae);break e;case 2:zn=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,ae=p.effects,ae===null?p.effects=[P]:ae.push(P))}else fe={eventTime:fe,lane:ae,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(K=se=fe,I=oe):se=se.next=fe,E|=ae;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ae=P,P=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);if(se===null&&(I=oe),p.baseState=I,p.firstBaseUpdate=K,p.lastBaseUpdate=se,n=p.shared.interleaved,n!==null){p=n;do E|=p.lane,p=p.next;while(p!==n)}else y===null&&(p.shared.lanes=0);Ca|=E,e.lanes=E,e.memoizedState=oe}}function ef(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],p=u.callback;if(p!==null){if(u.callback=null,u=l,typeof p!="function")throw Error(s(191,p));p.call(u)}}}var Ks={},Br=On(Ks),Qs=On(Ks),Xs=On(Ks);function ja(e){if(e===Ks)throw Error(s(174));return e}function Nc(e,n){switch(rt(Xs,n),rt(Qs,e),rt(Br,Ks),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Vt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Vt(n,e)}st(Br),rt(Br,n)}function rs(){st(Br),st(Qs),st(Xs)}function tf(e){ja(Xs.current);var n=ja(Br.current),l=Vt(n,e.type);n!==l&&(rt(Qs,e),rt(Br,l))}function Cc(e){Qs.current===e&&(st(Br),st(Qs))}var ut=On(0);function fl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sc=[];function Ec(){for(var e=0;e<Sc.length;e++)Sc[e]._workInProgressVersionPrimary=null;Sc.length=0}var hl=M.ReactCurrentDispatcher,kc=M.ReactCurrentBatchConfig,Na=0,mt=null,Ct=null,Dt=null,pl=!1,Js=!1,Zs=0,ly=0;function Ft(){throw Error(s(321))}function Dc(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Er(e[l],n[l]))return!1;return!0}function Rc(e,n,l,u,p,y){if(Na=y,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,hl.current=e===null||e.memoizedState===null?uy:my,e=l(u,p),Js){y=0;do{if(Js=!1,Zs=0,25<=y)throw Error(s(301));y+=1,Dt=Ct=null,n.updateQueue=null,hl.current=fy,e=l(u,p)}while(Js)}if(hl.current=yl,n=Ct!==null&&Ct.next!==null,Na=0,Dt=Ct=mt=null,pl=!1,n)throw Error(s(300));return e}function _c(){var e=Zs!==0;return Zs=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?mt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function vr(){if(Ct===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var n=Dt===null?mt.memoizedState:Dt.next;if(n!==null)Dt=n,Ct=e;else{if(e===null)throw Error(s(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?mt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function eo(e,n){return typeof n=="function"?n(e):n}function Pc(e){var n=vr(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=Ct,p=u.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}u.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,u=u.baseState;var P=E=null,I=null,K=y;do{var se=K.lane;if((Na&se)===se)I!==null&&(I=I.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),u=K.hasEagerState?K.eagerState:e(u,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};I===null?(P=I=oe,E=u):I=I.next=oe,mt.lanes|=se,Ca|=se}K=K.next}while(K!==null&&K!==y);I===null?E=u:I.next=P,Er(u,n.memoizedState)||(Qt=!0),n.memoizedState=u,n.baseState=E,n.baseQueue=I,l.lastRenderedState=u}if(e=l.interleaved,e!==null){p=e;do y=p.lane,mt.lanes|=y,Ca|=y,p=p.next;while(p!==e)}else p===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function Tc(e){var n=vr(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=l.dispatch,p=l.pending,y=n.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=e(y,E.action),E=E.next;while(E!==p);Er(y,n.memoizedState)||(Qt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),l.lastRenderedState=y}return[y,u]}function rf(){}function nf(e,n){var l=mt,u=vr(),p=n(),y=!Er(u.memoizedState,p);if(y&&(u.memoizedState=p,Qt=!0),u=u.queue,Ac(of.bind(null,l,u,e),[e]),u.getSnapshot!==n||y||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,to(9,sf.bind(null,l,u,p,n),void 0,null),Rt===null)throw Error(s(349));(Na&30)!==0||af(l,n,p)}return p}function af(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function sf(e,n,l,u){n.value=l,n.getSnapshot=u,lf(n)&&cf(e)}function of(e,n,l){return l(function(){lf(n)&&cf(e)})}function lf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Er(e,l)}catch{return!0}}function cf(e){var n=cn(e,1);n!==null&&Pr(n,e,1,-1)}function df(e){var n=Wr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e},n.queue=e,e=e.dispatch=dy.bind(null,mt,e),[n.memoizedState,e]}function to(e,n,l,u){return e={tag:e,create:n,destroy:l,deps:u,next:null},n=mt.updateQueue,n===null?(n={lastEffect:null,stores:null},mt.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,n.lastEffect=e)),e}function uf(){return vr().memoizedState}function gl(e,n,l,u){var p=Wr();mt.flags|=e,p.memoizedState=to(1|n,l,void 0,u===void 0?null:u)}function xl(e,n,l,u){var p=vr();u=u===void 0?null:u;var y=void 0;if(Ct!==null){var E=Ct.memoizedState;if(y=E.destroy,u!==null&&Dc(u,E.deps)){p.memoizedState=to(n,l,y,u);return}}mt.flags|=e,p.memoizedState=to(1|n,l,y,u)}function mf(e,n){return gl(8390656,8,e,n)}function Ac(e,n){return xl(2048,8,e,n)}function ff(e,n){return xl(4,2,e,n)}function hf(e,n){return xl(4,4,e,n)}function pf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gf(e,n,l){return l=l!=null?l.concat([e]):null,xl(4,4,pf.bind(null,n,e),l)}function Mc(){}function xf(e,n){var l=vr();n=n===void 0?null:n;var u=l.memoizedState;return u!==null&&n!==null&&Dc(n,u[1])?u[0]:(l.memoizedState=[e,n],e)}function yf(e,n){var l=vr();n=n===void 0?null:n;var u=l.memoizedState;return u!==null&&n!==null&&Dc(n,u[1])?u[0]:(e=e(),l.memoizedState=[e,n],e)}function vf(e,n,l){return(Na&21)===0?(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=l):(Er(l,n)||(l=qu(),mt.lanes|=l,Ca|=l,e.baseState=!0),n)}function iy(e,n){var l=Xe;Xe=l!==0&&4>l?l:4,e(!0);var u=kc.transition;kc.transition={};try{e(!1),n()}finally{Xe=l,kc.transition=u}}function bf(){return vr().memoizedState}function cy(e,n,l){var u=Hn(e);if(l={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null},wf(e))jf(n,l);else if(l=Xm(e,n,l,u),l!==null){var p=Bt();Pr(l,e,u,p),Nf(l,n,u)}}function dy(e,n,l){var u=Hn(e),p={lane:u,action:l,hasEagerState:!1,eagerState:null,next:null};if(wf(e))jf(n,p);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var E=n.lastRenderedState,P=y(E,l);if(p.hasEagerState=!0,p.eagerState=P,Er(P,E)){var I=n.interleaved;I===null?(p.next=p,wc(n)):(p.next=I.next,I.next=p),n.interleaved=p;return}}catch{}finally{}l=Xm(e,n,p,u),l!==null&&(p=Bt(),Pr(l,e,u,p),Nf(l,n,u))}}function wf(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function jf(e,n){Js=pl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Nf(e,n,l){if((l&4194240)!==0){var u=n.lanes;u&=e.pendingLanes,l|=u,n.lanes=l,Ii(e,l)}}var yl={readContext:yr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},uy={readContext:yr,useCallback:function(e,n){return Wr().memoizedState=[e,n===void 0?null:n],e},useContext:yr,useEffect:mf,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,gl(4194308,4,pf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return gl(4194308,4,e,n)},useInsertionEffect:function(e,n){return gl(4,2,e,n)},useMemo:function(e,n){var l=Wr();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var u=Wr();return n=l!==void 0?l(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=cy.bind(null,mt,e),[u.memoizedState,e]},useRef:function(e){var n=Wr();return e={current:e},n.memoizedState=e},useState:df,useDebugValue:Mc,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=df(!1),n=e[0];return e=iy.bind(null,e[1]),Wr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var u=mt,p=Wr();if(it){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Rt===null)throw Error(s(349));(Na&30)!==0||af(u,n,l)}p.memoizedState=l;var y={value:l,getSnapshot:n};return p.queue=y,mf(of.bind(null,u,y,e),[e]),u.flags|=2048,to(9,sf.bind(null,u,y,l,n),void 0,null),l},useId:function(){var e=Wr(),n=Rt.identifierPrefix;if(it){var l=ln,u=on;l=(u&~(1<<32-Gt(u)-1)).toString(32)+l,n=":"+n+"R"+l,l=Zs++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=ly++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},my={readContext:yr,useCallback:xf,useContext:yr,useEffect:Ac,useImperativeHandle:gf,useInsertionEffect:ff,useLayoutEffect:hf,useMemo:yf,useReducer:Pc,useRef:uf,useState:function(){return Pc(eo)},useDebugValue:Mc,useDeferredValue:function(e){var n=vr();return vf(n,Ct.memoizedState,e)},useTransition:function(){var e=Pc(eo)[0],n=vr().memoizedState;return[e,n]},useMutableSource:rf,useSyncExternalStore:nf,useId:bf,unstable_isNewReconciler:!1},fy={readContext:yr,useCallback:xf,useContext:yr,useEffect:Ac,useImperativeHandle:gf,useInsertionEffect:ff,useLayoutEffect:hf,useMemo:yf,useReducer:Tc,useRef:uf,useState:function(){return Tc(eo)},useDebugValue:Mc,useDeferredValue:function(e){var n=vr();return Ct===null?n.memoizedState=e:vf(n,Ct.memoizedState,e)},useTransition:function(){var e=Tc(eo)[0],n=vr().memoizedState;return[e,n]},useMutableSource:rf,useSyncExternalStore:nf,useId:bf,unstable_isNewReconciler:!1};function Dr(e,n){if(e&&e.defaultProps){n=ee({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function Lc(e,n,l,u){n=e.memoizedState,l=l(u,n),l=l==null?n:ee({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var vl={isMounted:function(e){return(e=e._reactInternals)?Ge(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var u=Bt(),p=Hn(e),y=dn(u,p);y.payload=n,l!=null&&(y.callback=l),n=Vn(e,y,p),n!==null&&(Pr(n,e,p,u),ul(n,e,p))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var u=Bt(),p=Hn(e),y=dn(u,p);y.tag=1,y.payload=n,l!=null&&(y.callback=l),n=Vn(e,y,p),n!==null&&(Pr(n,e,p,u),ul(n,e,p))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Bt(),u=Hn(e),p=dn(l,u);p.tag=2,n!=null&&(p.callback=n),n=Vn(e,p,u),n!==null&&(Pr(n,e,u,l),ul(n,e,u))}};function Cf(e,n,l,u,p,y,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,y,E):n.prototype&&n.prototype.isPureReactComponent?!Vs(l,u)||!Vs(p,y):!0}function Sf(e,n,l){var u=!1,p=Fn,y=n.contextType;return typeof y=="object"&&y!==null?y=yr(y):(p=Kt(n)?ya:Ot.current,u=n.contextTypes,y=(u=u!=null)?Ka(e,p):Fn),n=new n(l,y),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=vl,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=y),n}function Ef(e,n,l,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==e&&vl.enqueueReplaceState(n,n.state,null)}function Ic(e,n,l,u){var p=e.stateNode;p.props=l,p.state=e.memoizedState,p.refs={},jc(e);var y=n.contextType;typeof y=="object"&&y!==null?p.context=yr(y):(y=Kt(n)?ya:Ot.current,p.context=Ka(e,y)),p.state=e.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Lc(e,n,y,l),p.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(n=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),n!==p.state&&vl.enqueueReplaceState(p,p.state,null),ml(e,l,p,u),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function ns(e,n){try{var l="",u=n;do l+=Ne(u),u=u.return;while(u);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:n,stack:p,digest:null}}function Oc(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function Fc(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var hy=typeof WeakMap=="function"?WeakMap:Map;function kf(e,n,l){l=dn(-1,l),l.tag=3,l.payload={element:null};var u=n.value;return l.callback=function(){El||(El=!0,Zc=u),Fc(e,n)},l}function Df(e,n,l){l=dn(-1,l),l.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var p=n.value;l.payload=function(){return u(p)},l.callback=function(){Fc(e,n)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Fc(e,n),typeof u!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var E=n.stack;this.componentDidCatch(n.value,{componentStack:E!==null?E:""})}),l}function Rf(e,n,l){var u=e.pingCache;if(u===null){u=e.pingCache=new hy;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(l)||(p.add(l),e=Dy.bind(null,e,n,l),n.then(e,e))}function _f(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Pf(e,n,l,u,p){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=dn(-1,1),n.tag=2,Vn(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=p,e)}var py=M.ReactCurrentOwner,Qt=!1;function Ut(e,n,l,u){n.child=e===null?Qm(n,null,l,u):Za(n,e.child,l,u)}function Tf(e,n,l,u,p){l=l.render;var y=n.ref;return ts(n,p),u=Rc(e,n,l,u,y,p),l=_c(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,un(e,n,p)):(it&&l&&mc(n),n.flags|=1,Ut(e,n,u,p),n.child)}function Af(e,n,l,u,p){if(e===null){var y=l.type;return typeof y=="function"&&!od(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=y,Mf(e,n,y,u,p)):(e=Tl(l.type,null,u,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(y=e.child,(e.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Vs,l(E,u)&&e.ref===n.ref)return un(e,n,p)}return n.flags|=1,e=Gn(y,u),e.ref=n.ref,e.return=n,n.child=e}function Mf(e,n,l,u,p){if(e!==null){var y=e.memoizedProps;if(Vs(y,u)&&e.ref===n.ref)if(Qt=!1,n.pendingProps=u=y,(e.lanes&p)!==0)(e.flags&131072)!==0&&(Qt=!0);else return n.lanes=e.lanes,un(e,n,p)}return $c(e,n,l,u,p)}function Lf(e,n,l){var u=n.pendingProps,p=u.children,y=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(ss,lr),lr|=l;else{if((l&1073741824)===0)return e=y!==null?y.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,rt(ss,lr),lr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=y!==null?y.baseLanes:l,rt(ss,lr),lr|=u}else y!==null?(u=y.baseLanes|l,n.memoizedState=null):u=l,rt(ss,lr),lr|=u;return Ut(e,n,p,l),n.child}function If(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function $c(e,n,l,u,p){var y=Kt(l)?ya:Ot.current;return y=Ka(n,y),ts(n,p),l=Rc(e,n,l,u,y,p),u=_c(),e!==null&&!Qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~p,un(e,n,p)):(it&&u&&mc(n),n.flags|=1,Ut(e,n,l,p),n.child)}function Of(e,n,l,u,p){if(Kt(l)){var y=!0;nl(n)}else y=!1;if(ts(n,p),n.stateNode===null)wl(e,n),Sf(n,l,u),Ic(n,l,u,p),u=!0;else if(e===null){var E=n.stateNode,P=n.memoizedProps;E.props=P;var I=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=yr(K):(K=Kt(l)?ya:Ot.current,K=Ka(n,K));var se=l.getDerivedStateFromProps,oe=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function";oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==u||I!==K)&&Ef(n,E,u,K),zn=!1;var ae=n.memoizedState;E.state=ae,ml(n,u,E,p),I=n.memoizedState,P!==u||ae!==I||qt.current||zn?(typeof se=="function"&&(Lc(n,l,se,u),I=n.memoizedState),(P=zn||Cf(n,l,P,u,ae,I,K))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=I),E.props=u,E.state=I,E.context=K,u=P):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{E=n.stateNode,Jm(e,n),P=n.memoizedProps,K=n.type===n.elementType?P:Dr(n.type,P),E.props=K,oe=n.pendingProps,ae=E.context,I=l.contextType,typeof I=="object"&&I!==null?I=yr(I):(I=Kt(l)?ya:Ot.current,I=Ka(n,I));var fe=l.getDerivedStateFromProps;(se=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==oe||ae!==I)&&Ef(n,E,u,I),zn=!1,ae=n.memoizedState,E.state=ae,ml(n,u,E,p);var ye=n.memoizedState;P!==oe||ae!==ye||qt.current||zn?(typeof fe=="function"&&(Lc(n,l,fe,u),ye=n.memoizedState),(K=zn||Cf(n,l,K,u,ae,ye,I)||!1)?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(u,ye,I),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(u,ye,I)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===e.memoizedProps&&ae===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ae===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=ye),E.props=u,E.state=ye,E.context=I,u=K):(typeof E.componentDidUpdate!="function"||P===e.memoizedProps&&ae===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&ae===e.memoizedState||(n.flags|=1024),u=!1)}return zc(e,n,l,u,y,p)}function zc(e,n,l,u,p,y){If(e,n);var E=(n.flags&128)!==0;if(!u&&!E)return p&&Vm(n,l,!1),un(e,n,y);u=n.stateNode,py.current=n;var P=E&&typeof l.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&E?(n.child=Za(n,e.child,null,y),n.child=Za(n,null,P,y)):Ut(e,n,P,y),n.memoizedState=u.state,p&&Vm(n,l,!0),n.child}function Ff(e){var n=e.stateNode;n.pendingContext?$m(e,n.pendingContext,n.pendingContext!==n.context):n.context&&$m(e,n.context,!1),Nc(e,n.containerInfo)}function $f(e,n,l,u,p){return Ja(),gc(p),n.flags|=256,Ut(e,n,l,u),n.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function zf(e,n,l){var u=n.pendingProps,p=ut.current,y=!1,E=(n.flags&128)!==0,P;if((P=E)||(P=e!==null&&e.memoizedState===null?!1:(p&2)!==0),P?(y=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),rt(ut,p&1),e===null)return pc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(E=u.children,e=u.fallback,y?(u=n.mode,y=n.child,E={mode:"hidden",children:E},(u&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Al(E,u,0,null),e=Da(e,u,l,null),y.return=n,e.return=n,y.sibling=e,n.child=y,n.child.memoizedState=Uc(l),n.memoizedState=Vc,e):Bc(n,E));if(p=e.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return gy(e,n,E,u,P,p,l);if(y){y=u.fallback,E=n.mode,p=e.child,P=p.sibling;var I={mode:"hidden",children:u.children};return(E&1)===0&&n.child!==p?(u=n.child,u.childLanes=0,u.pendingProps=I,n.deletions=null):(u=Gn(p,I),u.subtreeFlags=p.subtreeFlags&14680064),P!==null?y=Gn(P,y):(y=Da(y,E,l,null),y.flags|=2),y.return=n,u.return=n,u.sibling=y,n.child=u,u=y,y=n.child,E=e.child.memoizedState,E=E===null?Uc(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=e.childLanes&~l,n.memoizedState=Vc,u}return y=e.child,e=y.sibling,u=Gn(y,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=l),u.return=n,u.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=u,n.memoizedState=null,u}function Bc(e,n){return n=Al({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function bl(e,n,l,u){return u!==null&&gc(u),Za(n,e.child,null,l),e=Bc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,l,u,p,y,E){if(l)return n.flags&256?(n.flags&=-257,u=Oc(Error(s(422))),bl(e,n,E,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(y=u.fallback,p=n.mode,u=Al({mode:"visible",children:u.children},p,0,null),y=Da(y,p,E,null),y.flags|=2,u.return=n,y.return=n,u.sibling=y,n.child=u,(n.mode&1)!==0&&Za(n,e.child,null,E),n.child.memoizedState=Uc(E),n.memoizedState=Vc,y);if((n.mode&1)===0)return bl(e,n,E,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var P=u.dgst;return u=P,y=Error(s(419)),u=Oc(y,u,void 0),bl(e,n,E,u)}if(P=(E&e.childLanes)!==0,Qt||P){if(u=Rt,u!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,cn(e,p),Pr(u,e,p,-1))}return sd(),u=Oc(Error(s(421))),bl(e,n,E,u)}return p.data==="$?"?(n.flags|=128,n.child=e.child,n=Ry.bind(null,e),p._reactRetry=n,null):(e=y.treeContext,or=In(p.nextSibling),sr=n,it=!0,kr=null,e!==null&&(gr[xr++]=on,gr[xr++]=ln,gr[xr++]=va,on=e.id,ln=e.overflow,va=n),n=Bc(n,u.children),n.flags|=4096,n)}function Vf(e,n,l){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),bc(e.return,n,l)}function Wc(e,n,l,u,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function Uf(e,n,l){var u=n.pendingProps,p=u.revealOrder,y=u.tail;if(Ut(e,n,u.children,l),u=ut.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,l,n);else if(e.tag===19)Vf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(rt(ut,u),(n.mode&1)===0)n.memoizedState=null;else switch(p){case"forwards":for(l=n.child,p=null;l!==null;)e=l.alternate,e!==null&&fl(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),Wc(n,!1,p,l,y);break;case"backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&fl(e)===null){n.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}Wc(n,!0,l,null,y);break;case"together":Wc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function un(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Ca|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=Gn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Gn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function xy(e,n,l){switch(n.tag){case 3:Ff(n),Ja();break;case 5:tf(n);break;case 1:Kt(n.type)&&nl(n);break;case 4:Nc(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,p=n.memoizedProps.value;rt(cl,u._currentValue),u._currentValue=p;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(rt(ut,ut.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?zf(e,n,l):(rt(ut,ut.current&1),e=un(e,n,l),e!==null?e.sibling:null);rt(ut,ut.current&1);break;case 19:if(u=(l&n.childLanes)!==0,(e.flags&128)!==0){if(u)return Uf(e,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),rt(ut,ut.current),u)break;return null;case 22:case 23:return n.lanes=0,Lf(e,n,l)}return un(e,n,l)}var Bf,Hc,Wf,Hf;Bf=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hc=function(){},Wf=function(e,n,l,u){var p=e.memoizedProps;if(p!==u){e=n.stateNode,ja(Br.current);var y=null;switch(l){case"input":p=gt(e,p),u=gt(e,u),y=[];break;case"select":p=ee({},p,{value:void 0}),u=ee({},u,{value:void 0}),y=[];break;case"textarea":p=tr(e,p),u=tr(e,u),y=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=el)}kn(l,u);var E;l=null;for(K in p)if(!u.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var P=p[K];for(E in P)P.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in u){var I=u[K];if(P=p?.[K],u.hasOwnProperty(K)&&I!==P&&(I!=null||P!=null))if(K==="style")if(P){for(E in P)!P.hasOwnProperty(E)||I&&I.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in I)I.hasOwnProperty(E)&&P[E]!==I[E]&&(l||(l={}),l[E]=I[E])}else l||(y||(y=[]),y.push(K,l)),l=I;else K==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,P=P?P.__html:void 0,I!=null&&P!==I&&(y=y||[]).push(K,I)):K==="children"?typeof I!="string"&&typeof I!="number"||(y=y||[]).push(K,""+I):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(I!=null&&K==="onScroll"&&at("scroll",e),y||P===I||(y=[])):(y=y||[]).push(K,I))}l&&(y=y||[]).push("style",l);var K=y;(n.updateQueue=K)&&(n.flags|=4)}},Hf=function(e,n,l,u){l!==u&&(n.flags|=4)};function ro(e,n){if(!it)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function $t(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(n)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=u,e.childLanes=l,n}function yy(e,n,l){var u=n.pendingProps;switch(fc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return Kt(n.type)&&rl(),$t(n),null;case 3:return u=n.stateNode,rs(),st(qt),st(Ot),Ec(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(ll(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kr!==null&&(rd(kr),kr=null))),Hc(e,n),$t(n),null;case 5:Cc(n);var p=ja(Xs.current);if(l=n.type,e!==null&&n.stateNode!=null)Wf(e,n,l,u,p),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(s(166));return $t(n),null}if(e=ja(Br.current),ll(n)){u=n.stateNode,l=n.type;var y=n.memoizedProps;switch(u[Ur]=n,u[Ys]=y,e=(n.mode&1)!==0,l){case"dialog":at("cancel",u),at("close",u);break;case"iframe":case"object":case"embed":at("load",u);break;case"video":case"audio":for(p=0;p<Bs.length;p++)at(Bs[p],u);break;case"source":at("error",u);break;case"img":case"image":case"link":at("error",u),at("load",u);break;case"details":at("toggle",u);break;case"input":Ir(u,y),at("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!y.multiple},at("invalid",u);break;case"textarea":$r(u,y),at("invalid",u)}kn(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var P=y[E];E==="children"?typeof P=="string"?u.textContent!==P&&(y.suppressHydrationWarning!==!0&&Zo(u.textContent,P,e),p=["children",P]):typeof P=="number"&&u.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Zo(u.textContent,P,e),p=["children",""+P]):i.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&at("scroll",u)}switch(l){case"input":Ie(u),Oa(u,y,!0);break;case"textarea":Ie(u),Sn(u);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(u.onclick=el)}u=p,n.updateQueue=u,u!==null&&(n.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rr(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=E.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=E.createElement(l,{is:u.is}):(e=E.createElement(l),l==="select"&&(E=e,u.multiple?E.multiple=!0:u.size&&(E.size=u.size))):e=E.createElementNS(e,l),e[Ur]=n,e[Ys]=u,Bf(e,n,!1,!1),n.stateNode=e;e:{switch(E=ke(l,u),l){case"dialog":at("cancel",e),at("close",e),p=u;break;case"iframe":case"object":case"embed":at("load",e),p=u;break;case"video":case"audio":for(p=0;p<Bs.length;p++)at(Bs[p],e);p=u;break;case"source":at("error",e),p=u;break;case"img":case"image":case"link":at("error",e),at("load",e),p=u;break;case"details":at("toggle",e),p=u;break;case"input":Ir(e,u),p=gt(e,u),at("invalid",e);break;case"option":p=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},p=ee({},u,{value:void 0}),at("invalid",e);break;case"textarea":$r(e,u),p=tr(e,u),at("invalid",e);break;default:p=u}kn(l,p),P=p;for(y in P)if(P.hasOwnProperty(y)){var I=P[y];y==="style"?ma(e,I):y==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&En(e,I)):y==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&rn(e,I):typeof I=="number"&&rn(e,""+I):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?I!=null&&y==="onScroll"&&at("scroll",e):I!=null&&R(e,y,I,E))}switch(l){case"input":Ie(e),Oa(e,u,!1);break;case"textarea":Ie(e),Sn(e);break;case"option":u.value!=null&&e.setAttribute("value",""+he(u.value));break;case"select":e.multiple=!!u.multiple,y=u.value,y!=null?Fr(e,!!u.multiple,y,!1):u.defaultValue!=null&&Fr(e,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=el)}switch(l){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return $t(n),null;case 6:if(e&&n.stateNode!=null)Hf(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(l=ja(Xs.current),ja(Br.current),ll(n)){if(u=n.stateNode,l=n.memoizedProps,u[Ur]=n,(y=u.nodeValue!==l)&&(e=sr,e!==null))switch(e.tag){case 3:Zo(u.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(u.nodeValue,l,(e.mode&1)!==0)}y&&(n.flags|=4)}else u=(l.nodeType===9?l:l.ownerDocument).createTextNode(u),u[Ur]=n,n.stateNode=u}return $t(n),null;case 13:if(st(ut),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&or!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Gm(),Ja(),n.flags|=98560,y=!1;else if(y=ll(n),u!==null&&u.dehydrated!==null){if(e===null){if(!y)throw Error(s(318));if(y=n.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Ur]=n}else Ja(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),y=!1}else kr!==null&&(rd(kr),kr=null),y=!0;if(!y)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ut.current&1)!==0?St===0&&(St=3):sd())),n.updateQueue!==null&&(n.flags|=4),$t(n),null);case 4:return rs(),Hc(e,n),e===null&&Ws(n.stateNode.containerInfo),$t(n),null;case 10:return vc(n.type._context),$t(n),null;case 17:return Kt(n.type)&&rl(),$t(n),null;case 19:if(st(ut),y=n.memoizedState,y===null)return $t(n),null;if(u=(n.flags&128)!==0,E=y.rendering,E===null)if(u)ro(y,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=fl(e),E!==null){for(n.flags|=128,ro(y,!1),u=E.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=l,l=n.child;l!==null;)y=l,e=u,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,e=E.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return rt(ut,ut.current&1|2),n.child}e=e.sibling}y.tail!==null&&tt()>os&&(n.flags|=128,u=!0,ro(y,!1),n.lanes=4194304)}else{if(!u)if(e=fl(E),e!==null){if(n.flags|=128,u=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),ro(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!it)return $t(n),null}else 2*tt()-y.renderingStartTime>os&&l!==1073741824&&(n.flags|=128,u=!0,ro(y,!1),n.lanes=4194304);y.isBackwards?(E.sibling=n.child,n.child=E):(l=y.last,l!==null?l.sibling=E:n.child=E,y.last=E)}return y.tail!==null?(n=y.tail,y.rendering=n,y.tail=n.sibling,y.renderingStartTime=tt(),n.sibling=null,l=ut.current,rt(ut,u?l&1|2:l&1),n):($t(n),null);case 22:case 23:return ad(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(lr&1073741824)!==0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function vy(e,n){switch(fc(n),n.tag){case 1:return Kt(n.type)&&rl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(),st(qt),st(Ot),Ec(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Cc(n),null;case 13:if(st(ut),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ja()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(ut),null;case 4:return rs(),null;case 10:return vc(n.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var jl=!1,zt=!1,by=typeof WeakSet=="function"?WeakSet:Set,pe=null;function as(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(u){ht(e,n,u)}else l.current=null}function Yc(e,n,l){try{l()}catch(u){ht(e,n,u)}}var Yf=!1;function wy(e,n){if(ac=Uo,e=Nm(),Qi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,P=-1,I=-1,K=0,se=0,oe=e,ae=null;t:for(;;){for(var fe;oe!==l||p!==0&&oe.nodeType!==3||(P=E+p),oe!==y||u!==0&&oe.nodeType!==3||(I=E+u),oe.nodeType===3&&(E+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)ae=oe,oe=fe;for(;;){if(oe===e)break t;if(ae===l&&++K===p&&(P=E),ae===y&&++se===u&&(I=E),(fe=oe.nextSibling)!==null)break;oe=ae,ae=oe.parentNode}oe=fe}l=P===-1||I===-1?null:{start:P,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(sc={focusedElem:e,selectionRange:l},Uo=!1,pe=n;pe!==null;)if(n=pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,pe=e;else for(;pe!==null;){n=pe;try{var ye=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,xt=ye.memoizedState,B=n.stateNode,V=B.getSnapshotBeforeUpdate(n.elementType===n.type?ve:Dr(n.type,ve),xt);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ce){ht(n,n.return,ce)}if(e=n.sibling,e!==null){e.return=n.return,pe=e;break}pe=n.return}return ye=Yf,Yf=!1,ye}function no(e,n,l){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&e)===e){var y=p.destroy;p.destroy=void 0,y!==void 0&&Yc(n,l,y)}p=p.next}while(p!==u)}}function Nl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var u=l.create;l.destroy=u()}l=l.next}while(l!==n)}}function Gc(e){var n=e.ref;if(n!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof n=="function"?n(e):n.current=e}}function Gf(e){var n=e.alternate;n!==null&&(e.alternate=null,Gf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ur],delete n[Ys],delete n[cc],delete n[ny],delete n[ay])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qf(e){return e.tag===5||e.tag===3||e.tag===4}function Kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,n,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=el));else if(u!==4&&(e=e.child,e!==null))for(qc(e,n,l),e=e.sibling;e!==null;)qc(e,n,l),e=e.sibling}function Kc(e,n,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Kc(e,n,l),e=e.sibling;e!==null;)Kc(e,n,l),e=e.sibling}var Tt=null,Rr=!1;function Un(e,n,l){for(l=l.child;l!==null;)Qf(e,n,l),l=l.sibling}function Qf(e,n,l){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Vr,l)}catch{}switch(l.tag){case 5:zt||as(l,n);case 6:var u=Tt,p=Rr;Tt=null,Un(e,n,l),Tt=u,Rr=p,Tt!==null&&(Rr?(e=Tt,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Tt.removeChild(l.stateNode));break;case 18:Tt!==null&&(Rr?(e=Tt,l=l.stateNode,e.nodeType===8?ic(e.parentNode,l):e.nodeType===1&&ic(e,l),Ls(e)):ic(Tt,l.stateNode));break;case 4:u=Tt,p=Rr,Tt=l.stateNode.containerInfo,Rr=!0,Un(e,n,l),Tt=u,Rr=p;break;case 0:case 11:case 14:case 15:if(!zt&&(u=l.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Yc(l,n,E),p=p.next}while(p!==u)}Un(e,n,l);break;case 1:if(!zt&&(as(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=l.memoizedProps,u.state=l.memoizedState,u.componentWillUnmount()}catch(P){ht(l,n,P)}Un(e,n,l);break;case 21:Un(e,n,l);break;case 22:l.mode&1?(zt=(u=zt)||l.memoizedState!==null,Un(e,n,l),zt=u):Un(e,n,l);break;default:Un(e,n,l)}}function Xf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new by),n.forEach(function(u){var p=_y.bind(null,e,u);l.has(u)||(l.add(u),u.then(p,p))})}}function _r(e,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];try{var y=e,E=n,P=E;e:for(;P!==null;){switch(P.tag){case 5:Tt=P.stateNode,Rr=!1;break e;case 3:Tt=P.stateNode.containerInfo,Rr=!0;break e;case 4:Tt=P.stateNode.containerInfo,Rr=!0;break e}P=P.return}if(Tt===null)throw Error(s(160));Qf(y,E,p),Tt=null,Rr=!1;var I=p.alternate;I!==null&&(I.return=null),p.return=null}catch(K){ht(p,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Jf(n,e),n=n.sibling}function Jf(e,n){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_r(n,e),Hr(e),u&4){try{no(3,e,e.return),Nl(3,e)}catch(ve){ht(e,e.return,ve)}try{no(5,e,e.return)}catch(ve){ht(e,e.return,ve)}}break;case 1:_r(n,e),Hr(e),u&512&&l!==null&&as(l,l.return);break;case 5:if(_r(n,e),Hr(e),u&512&&l!==null&&as(l,l.return),e.flags&32){var p=e.stateNode;try{rn(p,"")}catch(ve){ht(e,e.return,ve)}}if(u&4&&(p=e.stateNode,p!=null)){var y=e.memoizedProps,E=l!==null?l.memoizedProps:y,P=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Or(p,y),ke(P,E);var K=ke(P,y);for(E=0;E<I.length;E+=2){var se=I[E],oe=I[E+1];se==="style"?ma(p,oe):se==="dangerouslySetInnerHTML"?En(p,oe):se==="children"?rn(p,oe):R(p,se,oe,K)}switch(P){case"input":fr(p,y);break;case"textarea":Cn(p,y);break;case"select":var ae=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?Fr(p,!!y.multiple,fe,!1):ae!==!!y.multiple&&(y.defaultValue!=null?Fr(p,!!y.multiple,y.defaultValue,!0):Fr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ys]=y}catch(ve){ht(e,e.return,ve)}}break;case 6:if(_r(n,e),Hr(e),u&4){if(e.stateNode===null)throw Error(s(162));p=e.stateNode,y=e.memoizedProps;try{p.nodeValue=y}catch(ve){ht(e,e.return,ve)}}break;case 3:if(_r(n,e),Hr(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ls(n.containerInfo)}catch(ve){ht(e,e.return,ve)}break;case 4:_r(n,e),Hr(e);break;case 13:_r(n,e),Hr(e),p=e.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Jc=tt())),u&4&&Xf(e);break;case 22:if(se=l!==null&&l.memoizedState!==null,e.mode&1?(zt=(K=zt)||se,_r(n,e),zt=K):_r(n,e),Hr(e),u&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!se&&(e.mode&1)!==0)for(pe=e,se=e.child;se!==null;){for(oe=pe=se;pe!==null;){switch(ae=pe,fe=ae.child,ae.tag){case 0:case 11:case 14:case 15:no(4,ae,ae.return);break;case 1:as(ae,ae.return);var ye=ae.stateNode;if(typeof ye.componentWillUnmount=="function"){u=ae,l=ae.return;try{n=u,ye.props=n.memoizedProps,ye.state=n.memoizedState,ye.componentWillUnmount()}catch(ve){ht(u,l,ve)}}break;case 5:as(ae,ae.return);break;case 22:if(ae.memoizedState!==null){th(oe);continue}}fe!==null?(fe.return=ae,pe=fe):th(oe)}se=se.sibling}e:for(se=null,oe=e;;){if(oe.tag===5){if(se===null){se=oe;try{p=oe.stateNode,K?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=oe.stateNode,I=oe.memoizedProps.style,E=I!=null&&I.hasOwnProperty("display")?I.display:null,P.style.display=ua("display",E))}catch(ve){ht(e,e.return,ve)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(ve){ht(e,e.return,ve)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===e)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===e)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===e)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:_r(n,e),Hr(e),u&4&&Xf(e);break;case 21:break;default:_r(n,e),Hr(e)}}function Hr(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(qf(l)){var u=l;break e}l=l.return}throw Error(s(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(rn(p,""),u.flags&=-33);var y=Kf(e);Kc(e,y,p);break;case 3:case 4:var E=u.stateNode.containerInfo,P=Kf(e);qc(e,P,E);break;default:throw Error(s(161))}}catch(I){ht(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jy(e,n,l){pe=e,Zf(e)}function Zf(e,n,l){for(var u=(e.mode&1)!==0;pe!==null;){var p=pe,y=p.child;if(p.tag===22&&u){var E=p.memoizedState!==null||jl;if(!E){var P=p.alternate,I=P!==null&&P.memoizedState!==null||zt;P=jl;var K=zt;if(jl=E,(zt=I)&&!K)for(pe=p;pe!==null;)E=pe,I=E.child,E.tag===22&&E.memoizedState!==null?rh(p):I!==null?(I.return=E,pe=I):rh(p);for(;y!==null;)pe=y,Zf(y),y=y.sibling;pe=p,jl=P,zt=K}eh(e)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,pe=y):eh(e)}}function eh(e){for(;pe!==null;){var n=pe;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:zt||Nl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!zt)if(l===null)u.componentDidMount();else{var p=n.elementType===n.type?l.memoizedProps:Dr(n.type,l.memoizedProps);u.componentDidUpdate(p,l.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var y=n.updateQueue;y!==null&&ef(n,y,u);break;case 3:var E=n.updateQueue;if(E!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}ef(n,E,l)}break;case 5:var P=n.stateNode;if(l===null&&n.flags&4){l=P;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Ls(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}zt||n.flags&512&&Gc(n)}catch(ae){ht(n,n.return,ae)}}if(n===e){pe=null;break}if(l=n.sibling,l!==null){l.return=n.return,pe=l;break}pe=n.return}}function th(e){for(;pe!==null;){var n=pe;if(n===e){pe=null;break}var l=n.sibling;if(l!==null){l.return=n.return,pe=l;break}pe=n.return}}function rh(e){for(;pe!==null;){var n=pe;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{Nl(4,n)}catch(I){ht(n,l,I)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var p=n.return;try{u.componentDidMount()}catch(I){ht(n,p,I)}}var y=n.return;try{Gc(n)}catch(I){ht(n,y,I)}break;case 5:var E=n.return;try{Gc(n)}catch(I){ht(n,E,I)}}}catch(I){ht(n,n.return,I)}if(n===e){pe=null;break}var P=n.sibling;if(P!==null){P.return=n.return,pe=P;break}pe=n.return}}var Ny=Math.ceil,Cl=M.ReactCurrentDispatcher,Qc=M.ReactCurrentOwner,br=M.ReactCurrentBatchConfig,Ue=0,Rt=null,bt=null,At=0,lr=0,ss=On(0),St=0,ao=null,Ca=0,Sl=0,Xc=0,so=null,Xt=null,Jc=0,os=1/0,mn=null,El=!1,Zc=null,Bn=null,kl=!1,Wn=null,Dl=0,oo=0,ed=null,Rl=-1,_l=0;function Bt(){return(Ue&6)!==0?tt():Rl!==-1?Rl:Rl=tt()}function Hn(e){return(e.mode&1)===0?1:(Ue&2)!==0&&At!==0?At&-At:oy.transition!==null?(_l===0&&(_l=qu()),_l):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:nm(e.type)),e)}function Pr(e,n,l,u){if(50<oo)throw oo=0,ed=null,Error(s(185));_s(e,l,u),((Ue&2)===0||e!==Rt)&&(e===Rt&&((Ue&2)===0&&(Sl|=l),St===4&&Yn(e,At)),Jt(e,u),l===1&&Ue===0&&(n.mode&1)===0&&(os=tt()+500,al&&$n()))}function Jt(e,n){var l=e.callbackNode;ox(e,n);var u=$o(e,e===Rt?At:0);if(u===0)l!==null&&Sr(l),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(l!=null&&Sr(l),n===1)e.tag===0?sy(ah.bind(null,e)):Um(ah.bind(null,e)),ty(function(){(Ue&6)===0&&$n()}),l=null;else{switch(Ku(u)){case 1:l=Rn;break;case 4:l=pa;break;case 16:l=Ve;break;case 536870912:l=ga;break;default:l=Ve}l=mh(l,nh.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function nh(e,n){if(Rl=-1,_l=0,(Ue&6)!==0)throw Error(s(327));var l=e.callbackNode;if(ls()&&e.callbackNode!==l)return null;var u=$o(e,e===Rt?At:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||n)n=Pl(e,u);else{n=u;var p=Ue;Ue|=2;var y=oh();(Rt!==e||At!==n)&&(mn=null,os=tt()+500,Ea(e,n));do try{Ey();break}catch(P){sh(e,P)}while(!0);yc(),Cl.current=y,Ue=p,bt!==null?n=0:(Rt=null,At=0,n=St)}if(n!==0){if(n===2&&(p=Mi(e),p!==0&&(u=p,n=td(e,p))),n===1)throw l=ao,Ea(e,0),Yn(e,u),Jt(e,tt()),l;if(n===6)Yn(e,u);else{if(p=e.current.alternate,(u&30)===0&&!Cy(p)&&(n=Pl(e,u),n===2&&(y=Mi(e),y!==0&&(u=y,n=td(e,y))),n===1))throw l=ao,Ea(e,0),Yn(e,u),Jt(e,tt()),l;switch(e.finishedWork=p,e.finishedLanes=u,n){case 0:case 1:throw Error(s(345));case 2:ka(e,Xt,mn);break;case 3:if(Yn(e,u),(u&130023424)===u&&(n=Jc+500-tt(),10<n)){if($o(e,0)!==0)break;if(p=e.suspendedLanes,(p&u)!==u){Bt(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=lc(ka.bind(null,e,Xt,mn),n);break}ka(e,Xt,mn);break;case 4:if(Yn(e,u),(u&4194240)===u)break;for(n=e.eventTimes,p=-1;0<u;){var E=31-Gt(u);y=1<<E,E=n[E],E>p&&(p=E),u&=~y}if(u=p,u=tt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ny(u/1960))-u,10<u){e.timeoutHandle=lc(ka.bind(null,e,Xt,mn),u);break}ka(e,Xt,mn);break;case 5:ka(e,Xt,mn);break;default:throw Error(s(329))}}}return Jt(e,tt()),e.callbackNode===l?nh.bind(null,e):null}function td(e,n){var l=so;return e.current.memoizedState.isDehydrated&&(Ea(e,n).flags|=256),e=Pl(e,n),e!==2&&(n=Xt,Xt=l,n!==null&&rd(n)),e}function rd(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function Cy(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Er(y(),p))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yn(e,n){for(n&=~Xc,n&=~Sl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-Gt(n),u=1<<l;e[l]=-1,n&=~u}}function ah(e){if((Ue&6)!==0)throw Error(s(327));ls();var n=$o(e,0);if((n&1)===0)return Jt(e,tt()),null;var l=Pl(e,n);if(e.tag!==0&&l===2){var u=Mi(e);u!==0&&(n=u,l=td(e,u))}if(l===1)throw l=ao,Ea(e,0),Yn(e,n),Jt(e,tt()),l;if(l===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ka(e,Xt,mn),Jt(e,tt()),null}function nd(e,n){var l=Ue;Ue|=1;try{return e(n)}finally{Ue=l,Ue===0&&(os=tt()+500,al&&$n())}}function Sa(e){Wn!==null&&Wn.tag===0&&(Ue&6)===0&&ls();var n=Ue;Ue|=1;var l=br.transition,u=Xe;try{if(br.transition=null,Xe=1,e)return e()}finally{Xe=u,br.transition=l,Ue=n,(Ue&6)===0&&$n()}}function ad(){lr=ss.current,st(ss)}function Ea(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,ey(l)),bt!==null)for(l=bt.return;l!==null;){var u=l;switch(fc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&rl();break;case 3:rs(),st(qt),st(Ot),Ec();break;case 5:Cc(u);break;case 4:rs();break;case 13:st(ut);break;case 19:st(ut);break;case 10:vc(u.type._context);break;case 22:case 23:ad()}l=l.return}if(Rt=e,bt=e=Gn(e.current,null),At=lr=n,St=0,ao=null,Xc=Sl=Ca=0,Xt=so=null,wa!==null){for(n=0;n<wa.length;n++)if(l=wa[n],u=l.interleaved,u!==null){l.interleaved=null;var p=u.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,u.next=E}l.pending=u}wa=null}return e}function sh(e,n){do{var l=bt;try{if(yc(),hl.current=yl,pl){for(var u=mt.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}pl=!1}if(Na=0,Dt=Ct=mt=null,Js=!1,Zs=0,Qc.current=null,l===null||l.return===null){St=1,ao=n,bt=null;break}e:{var y=e,E=l.return,P=l,I=n;if(n=At,P.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=I,se=P,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ae=se.alternate;ae?(se.updateQueue=ae.updateQueue,se.memoizedState=ae.memoizedState,se.lanes=ae.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=_f(E);if(fe!==null){fe.flags&=-257,Pf(fe,E,P,y,n),fe.mode&1&&Rf(y,K,n),n=fe,I=K;var ye=n.updateQueue;if(ye===null){var ve=new Set;ve.add(I),n.updateQueue=ve}else ye.add(I);break e}else{if((n&1)===0){Rf(y,K,n),sd();break e}I=Error(s(426))}}else if(it&&P.mode&1){var xt=_f(E);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Pf(xt,E,P,y,n),gc(ns(I,P));break e}}y=I=ns(I,P),St!==4&&(St=2),so===null?so=[y]:so.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,n&=-n,y.lanes|=n;var B=kf(y,I,n);Zm(y,B);break e;case 1:P=I;var V=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Bn===null||!Bn.has(H)))){y.flags|=65536,n&=-n,y.lanes|=n;var ce=Df(y,P,n);Zm(y,ce);break e}}y=y.return}while(y!==null)}ih(l)}catch(je){n=je,bt===l&&l!==null&&(bt=l=l.return);continue}break}while(!0)}function oh(){var e=Cl.current;return Cl.current=yl,e===null?yl:e}function sd(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ca&268435455)===0&&(Sl&268435455)===0||Yn(Rt,At)}function Pl(e,n){var l=Ue;Ue|=2;var u=oh();(Rt!==e||At!==n)&&(mn=null,Ea(e,n));do try{Sy();break}catch(p){sh(e,p)}while(!0);if(yc(),Ue=l,Cl.current=u,bt!==null)throw Error(s(261));return Rt=null,At=0,St}function Sy(){for(;bt!==null;)lh(bt)}function Ey(){for(;bt!==null&&!pr();)lh(bt)}function lh(e){var n=uh(e.alternate,e,lr);e.memoizedProps=e.pendingProps,n===null?ih(e):bt=n,Qc.current=null}function ih(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=yy(l,n,lr),l!==null){bt=l;return}}else{if(l=vy(l,n),l!==null){l.flags&=32767,bt=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,bt=null;return}}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);St===0&&(St=5)}function ka(e,n,l){var u=Xe,p=br.transition;try{br.transition=null,Xe=1,ky(e,n,l,u)}finally{br.transition=p,Xe=u}return null}function ky(e,n,l,u){do ls();while(Wn!==null);if((Ue&6)!==0)throw Error(s(327));l=e.finishedWork;var p=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var y=l.lanes|l.childLanes;if(lx(e,y),e===Rt&&(bt=Rt=null,At=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||kl||(kl=!0,mh(Ve,function(){return ls(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=br.transition,br.transition=null;var E=Xe;Xe=1;var P=Ue;Ue|=4,Qc.current=null,wy(e,l),Jf(l,e),Gx(sc),Uo=!!ac,sc=ac=null,e.current=l,jy(l),Ds(),Ue=P,Xe=E,br.transition=y}else e.current=l;if(kl&&(kl=!1,Wn=e,Dl=p),y=e.pendingLanes,y===0&&(Bn=null),$a(l.stateNode),Jt(e,tt()),n!==null)for(u=e.onRecoverableError,l=0;l<n.length;l++)p=n[l],u(p.value,{componentStack:p.stack,digest:p.digest});if(El)throw El=!1,e=Zc,Zc=null,e;return(Dl&1)!==0&&e.tag!==0&&ls(),y=e.pendingLanes,(y&1)!==0?e===ed?oo++:(oo=0,ed=e):oo=0,$n(),null}function ls(){if(Wn!==null){var e=Ku(Dl),n=br.transition,l=Xe;try{if(br.transition=null,Xe=16>e?16:e,Wn===null)var u=!1;else{if(e=Wn,Wn=null,Dl=0,(Ue&6)!==0)throw Error(s(331));var p=Ue;for(Ue|=4,pe=e.current;pe!==null;){var y=pe,E=y.child;if((pe.flags&16)!==0){var P=y.deletions;if(P!==null){for(var I=0;I<P.length;I++){var K=P[I];for(pe=K;pe!==null;){var se=pe;switch(se.tag){case 0:case 11:case 15:no(8,se,y)}var oe=se.child;if(oe!==null)oe.return=se,pe=oe;else for(;pe!==null;){se=pe;var ae=se.sibling,fe=se.return;if(Gf(se),se===K){pe=null;break}if(ae!==null){ae.return=fe,pe=ae;break}pe=fe}}}var ye=y.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var xt=ve.sibling;ve.sibling=null,ve=xt}while(ve!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,pe=E;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:no(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,pe=B;break e}pe=y.return}}var V=e.current;for(pe=V;pe!==null;){E=pe;var H=E.child;if((E.subtreeFlags&2064)!==0&&H!==null)H.return=E,pe=H;else e:for(E=V;pe!==null;){if(P=pe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Nl(9,P)}}catch(je){ht(P,P.return,je)}if(P===E){pe=null;break e}var ce=P.sibling;if(ce!==null){ce.return=P.return,pe=ce;break e}pe=P.return}}if(Ue=p,$n(),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Vr,e)}catch{}u=!0}return u}finally{Xe=l,br.transition=n}}return!1}function ch(e,n,l){n=ns(l,n),n=kf(e,n,1),e=Vn(e,n,1),n=Bt(),e!==null&&(_s(e,1,n),Jt(e,n))}function ht(e,n,l){if(e.tag===3)ch(e,e,l);else for(;n!==null;){if(n.tag===3){ch(n,e,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bn===null||!Bn.has(u))){e=ns(l,e),e=Df(n,e,1),n=Vn(n,e,1),e=Bt(),n!==null&&(_s(n,1,e),Jt(n,e));break}}n=n.return}}function Dy(e,n,l){var u=e.pingCache;u!==null&&u.delete(n),n=Bt(),e.pingedLanes|=e.suspendedLanes&l,Rt===e&&(At&l)===l&&(St===4||St===3&&(At&130023424)===At&&500>tt()-Jc?Ea(e,0):Xc|=l),Jt(e,n)}function dh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var l=Bt();e=cn(e,n),e!==null&&(_s(e,n,l),Jt(e,l))}function Ry(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),dh(e,l)}function _y(e,n){var l=0;switch(e.tag){case 13:var u=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(n),dh(e,l)}var uh;uh=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||qt.current)Qt=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return Qt=!1,xy(e,n,l);Qt=(e.flags&131072)!==0}else Qt=!1,it&&(n.flags&1048576)!==0&&Bm(n,ol,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;wl(e,n),e=n.pendingProps;var p=Ka(n,Ot.current);ts(n,l),p=Rc(null,n,u,e,p,l);var y=_c();return n.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Kt(u)?(y=!0,nl(n)):y=!1,n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,jc(n),p.updater=vl,n.stateNode=p,p._reactInternals=n,Ic(n,u,e,l),n=zc(null,n,u,!0,y,l)):(n.tag=0,it&&y&&mc(n),Ut(null,n,p,l),n=n.child),n;case 16:u=n.elementType;e:{switch(wl(e,n),e=n.pendingProps,p=u._init,u=p(u._payload),n.type=u,p=n.tag=Ty(u),e=Dr(u,e),p){case 0:n=$c(null,n,u,e,l);break e;case 1:n=Of(null,n,u,e,l);break e;case 11:n=Tf(null,n,u,e,l);break e;case 14:n=Af(null,n,u,Dr(u.type,e),l);break e}throw Error(s(306,u,""))}return n;case 0:return u=n.type,p=n.pendingProps,p=n.elementType===u?p:Dr(u,p),$c(e,n,u,p,l);case 1:return u=n.type,p=n.pendingProps,p=n.elementType===u?p:Dr(u,p),Of(e,n,u,p,l);case 3:e:{if(Ff(n),e===null)throw Error(s(387));u=n.pendingProps,y=n.memoizedState,p=y.element,Jm(e,n),ml(n,u,null,l);var E=n.memoizedState;if(u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){p=ns(Error(s(423)),n),n=$f(e,n,u,l,p);break e}else if(u!==p){p=ns(Error(s(424)),n),n=$f(e,n,u,l,p);break e}else for(or=In(n.stateNode.containerInfo.firstChild),sr=n,it=!0,kr=null,l=Qm(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ja(),u===p){n=un(e,n,l);break e}Ut(e,n,u,l)}n=n.child}return n;case 5:return tf(n),e===null&&pc(n),u=n.type,p=n.pendingProps,y=e!==null?e.memoizedProps:null,E=p.children,oc(u,p)?E=null:y!==null&&oc(u,y)&&(n.flags|=32),If(e,n),Ut(e,n,E,l),n.child;case 6:return e===null&&pc(n),null;case 13:return zf(e,n,l);case 4:return Nc(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Za(n,null,u,l):Ut(e,n,u,l),n.child;case 11:return u=n.type,p=n.pendingProps,p=n.elementType===u?p:Dr(u,p),Tf(e,n,u,p,l);case 7:return Ut(e,n,n.pendingProps,l),n.child;case 8:return Ut(e,n,n.pendingProps.children,l),n.child;case 12:return Ut(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(u=n.type._context,p=n.pendingProps,y=n.memoizedProps,E=p.value,rt(cl,u._currentValue),u._currentValue=E,y!==null)if(Er(y.value,E)){if(y.children===p.children&&!qt.current){n=un(e,n,l);break e}}else for(y=n.child,y!==null&&(y.return=n);y!==null;){var P=y.dependencies;if(P!==null){E=y.child;for(var I=P.firstContext;I!==null;){if(I.context===u){if(y.tag===1){I=dn(-1,l&-l),I.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?I.next=I:(I.next=se.next,se.next=I),K.pending=I}}y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),bc(y.return,l,n),P.lanes|=l;break}I=I.next}}else if(y.tag===10)E=y.type===n.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(s(341));E.lanes|=l,P=E.alternate,P!==null&&(P.lanes|=l),bc(E,l,n),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===n){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Ut(e,n,p.children,l),n=n.child}return n;case 9:return p=n.type,u=n.pendingProps.children,ts(n,l),p=yr(p),u=u(p),n.flags|=1,Ut(e,n,u,l),n.child;case 14:return u=n.type,p=Dr(u,n.pendingProps),p=Dr(u.type,p),Af(e,n,u,p,l);case 15:return Mf(e,n,n.type,n.pendingProps,l);case 17:return u=n.type,p=n.pendingProps,p=n.elementType===u?p:Dr(u,p),wl(e,n),n.tag=1,Kt(u)?(e=!0,nl(n)):e=!1,ts(n,l),Sf(n,u,p),Ic(n,u,p,l),zc(null,n,u,!0,e,l);case 19:return Uf(e,n,l);case 22:return Lf(e,n,l)}throw Error(s(156,n.tag))};function mh(e,n){return Dn(e,n)}function Py(e,n,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,n,l,u){return new Py(e,n,l,u)}function od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ty(e){if(typeof e=="function")return od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z)return 11;if(e===G)return 14}return 2}function Gn(e,n){var l=e.alternate;return l===null?(l=wr(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function Tl(e,n,l,u,p,y){var E=2;if(u=e,typeof e=="function")od(e)&&(E=1);else if(typeof e=="string")E=5;else e:switch(e){case _:return Da(l.children,p,y,n);case z:E=8,p|=8;break;case F:return e=wr(12,l,n,p|2),e.elementType=F,e.lanes=y,e;case te:return e=wr(13,l,n,p),e.elementType=te,e.lanes=y,e;case re:return e=wr(19,l,n,p),e.elementType=re,e.lanes=y,e;case ne:return Al(l,p,y,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:E=10;break e;case q:E=9;break e;case Z:E=11;break e;case G:E=14;break e;case X:E=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=wr(E,l,n,p),n.elementType=e,n.type=u,n.lanes=y,n}function Da(e,n,l,u){return e=wr(7,e,u,n),e.lanes=l,e}function Al(e,n,l,u){return e=wr(22,e,u,n),e.elementType=ne,e.lanes=l,e.stateNode={isHidden:!1},e}function ld(e,n,l){return e=wr(6,e,null,n),e.lanes=l,e}function id(e,n,l){return n=wr(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ay(e,n,l,u,p){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function cd(e,n,l,u,p,y,E,P,I){return e=new Ay(e,n,l,P,I),n===1?(n=1,y===!0&&(n|=8)):n=0,y=wr(3,null,null,n),e.current=y,y.stateNode=e,y.memoizedState={element:u,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},jc(y),e}function My(e,n,l){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:u==null?null:""+u,children:e,containerInfo:n,implementation:l}}function fh(e){if(!e)return Fn;e=e._reactInternals;e:{if(Ge(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Kt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var l=e.type;if(Kt(l))return zm(e,l,n)}return n}function hh(e,n,l,u,p,y,E,P,I){return e=cd(l,u,!0,e,p,y,E,P,I),e.context=fh(null),l=e.current,u=Bt(),p=Hn(l),y=dn(u,p),y.callback=n??null,Vn(l,y,p),e.current.lanes=p,_s(e,p,u),Jt(e,u),e}function Ml(e,n,l,u){var p=n.current,y=Bt(),E=Hn(p);return l=fh(l),n.context===null?n.context=l:n.pendingContext=l,n=dn(y,E),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Vn(p,n,E),e!==null&&(Pr(e,p,E,y),ul(e,p,E)),E}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ph(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function dd(e,n){ph(e,n),(e=e.alternate)&&ph(e,n)}function Ly(){return null}var gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ud(e){this._internalRoot=e}Il.prototype.render=ud.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Ml(e,n,null,null)},Il.prototype.unmount=ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Sa(function(){Ml(null,e,null,null)}),n[an]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ju();e={blockedOn:null,target:e,priority:n};for(var l=0;l<An.length&&n!==0&&n<An[l].priority;l++);An.splice(l,0,e),l===0&&tm(e)}};function md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xh(){}function Iy(e,n,l,u,p){if(p){if(typeof u=="function"){var y=u;u=function(){var K=Ll(E);y.call(K)}}var E=hh(n,u,e,0,null,!1,!1,"",xh);return e._reactRootContainer=E,e[an]=E.current,Ws(e.nodeType===8?e.parentNode:e),Sa(),E}for(;p=e.lastChild;)e.removeChild(p);if(typeof u=="function"){var P=u;u=function(){var K=Ll(I);P.call(K)}}var I=cd(e,0,!1,null,null,!1,!1,"",xh);return e._reactRootContainer=I,e[an]=I.current,Ws(e.nodeType===8?e.parentNode:e),Sa(function(){Ml(n,I,l,u)}),I}function Fl(e,n,l,u,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var P=p;p=function(){var I=Ll(E);P.call(I)}}Ml(n,E,e,p)}else E=Iy(l,n,e,p,u);return Ll(E)}Qu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=Rs(n.pendingLanes);l!==0&&(Ii(n,l|1),Jt(n,tt()),(Ue&6)===0&&(os=tt()+500,$n()))}break;case 13:Sa(function(){var u=cn(e,1);if(u!==null){var p=Bt();Pr(u,e,1,p)}}),dd(e,1)}},Oi=function(e){if(e.tag===13){var n=cn(e,134217728);if(n!==null){var l=Bt();Pr(n,e,134217728,l)}dd(e,134217728)}},Xu=function(e){if(e.tag===13){var n=Hn(e),l=cn(e,n);if(l!==null){var u=Bt();Pr(l,e,n,u)}dd(e,n)}},Ju=function(){return Xe},Zu=function(e,n){var l=Xe;try{return Xe=e,n()}finally{Xe=l}},et=function(e,n,l){switch(n){case"input":if(fr(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==e&&u.form===e.form){var p=tl(u);if(!p)throw Error(s(90));We(u),fr(u,p)}}}break;case"textarea":Cn(e,l);break;case"select":n=l.value,n!=null&&Fr(e,!!l.multiple,n,!1)}},Lo=nd,Io=Sa;var Oy={usingClientEntryPoint:!1,Events:[Gs,Ga,tl,fa,ha,nd]},lo={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fy={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Je(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Vr=$l.inject(Fy),qe=$l}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oy,Zt.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(n))throw Error(s(200));return My(e,n,null,l)},Zt.createRoot=function(e,n){if(!md(e))throw Error(s(299));var l=!1,u="",p=gh;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=cd(e,1,!1,null,null,l,!1,u,p),e[an]=n.current,Ws(e.nodeType===8?e.parentNode:e),new ud(n)},Zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Je(n),e=e===null?null:e.stateNode,e},Zt.flushSync=function(e){return Sa(e)},Zt.hydrate=function(e,n,l){if(!Ol(n))throw Error(s(200));return Fl(null,e,n,!0,l)},Zt.hydrateRoot=function(e,n,l){if(!md(e))throw Error(s(405));var u=l!=null&&l.hydratedSources||null,p=!1,y="",E=gh;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),n=hh(n,null,e,1,l??null,p,!1,y,E),e[an]=n.current,Ws(e),u)for(e=0;e<u.length;e++)l=u[e],p=l._getVersion,p=p(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,p]:n.mutableSourceEagerHydrationData.push(l,p);return new Il(n)},Zt.render=function(e,n,l){if(!Ol(n))throw Error(s(200));return Fl(null,e,n,!1,l)},Zt.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(s(40));return e._reactRootContainer?(Sa(function(){Fl(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1},Zt.unstable_batchedUpdates=nd,Zt.unstable_renderSubtreeIntoContainer=function(e,n,l,u){if(!Ol(l))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Fl(e,n,l,!1,u)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var Sh;function Pp(){if(Sh)return pd.exports;Sh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),pd.exports=Gy(),pd.exports}var Eh;function qy(){if(Eh)return zl;Eh=1;var r=Pp();return zl.createRoot=r.createRoot,zl.hydrateRoot=r.hydrateRoot,zl}var Ky=qy();const Qy=hu(Ky);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tp=r=>{throw TypeError(r)},Xy=(r,a,s)=>a.has(r)||Tp("Cannot "+s),yd=(r,a,s)=>(Xy(r,a,"read from private field"),s?s.call(r):a.get(r)),Jy=(r,a,s)=>a.has(r)?Tp("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,s),kh="popstate";function Zy(r={}){function a(i,c){let{pathname:d="/",search:m="",hash:f=""}=wn(i.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),bo("",{pathname:d,search:m,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){let d=i.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");m=h===-1?f:f.slice(0,h)}return m+"#"+(typeof c=="string"?c:ra(c))}function o(i,c){yt(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return tv(a,s,o,r)}function $e(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function yt(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ev(){return Math.random().toString(36).substring(2,10)}function Dh(r,a){return{usr:r.state,key:r.key,idx:a}}function bo(r,a,s=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?wn(a):a,state:s,key:a&&a.key||o||ev()}}function ra({pathname:r="/",search:a="",hash:s=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function wn(r){let a={};if(r){let s=r.indexOf("#");s>=0&&(a.hash=r.substring(s),r=r.substring(0,s));let o=r.indexOf("?");o>=0&&(a.search=r.substring(o),r=r.substring(0,o)),r&&(a.pathname=r)}return a}function tv(r,a,s,o={}){let{window:i=document.defaultView,v5Compat:c=!1}=o,d=i.history,m="POP",f=null,h=x();h==null&&(h=0,d.replaceState({...d.state,idx:h},""));function x(){return(d.state||{idx:null}).idx}function b(){m="POP";let j=x(),N=j==null?null:j-h;h=j,f&&f({action:m,location:C.location,delta:N})}function v(j,N){m="PUSH";let D=bo(C.location,j,N);s&&s(D,j),h=x()+1;let R=Dh(D,h),M=C.createHref(D);try{d.pushState(R,"",M)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(M)}c&&f&&f({action:m,location:C.location,delta:1})}function w(j,N){m="REPLACE";let D=bo(C.location,j,N);s&&s(D,j),h=x();let R=Dh(D,h),M=C.createHref(D);d.replaceState(R,"",M),c&&f&&f({action:m,location:C.location,delta:0})}function S(j){return Ap(j)}let C={get action(){return m},get location(){return r(i,d)},listen(j){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(kh,b),f=j,()=>{i.removeEventListener(kh,b),f=null}},createHref(j){return a(i,j)},createURL:S,encodeLocation(j){let N=S(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:w,go(j){return d.go(j)}};return C}function Ap(r,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$e(s,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:ra(r);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=s+o),new URL(o,s)}var po,Rh=class{constructor(r){if(Jy(this,po,new Map),r)for(let[a,s]of r)this.set(a,s)}get(r){if(yd(this,po).has(r))return yd(this,po).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,a){yd(this,po).set(r,a)}};po=new WeakMap;var rv=new Set(["lazy","caseSensitive","path","id","index","children"]);function nv(r){return rv.has(r)}var av=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function sv(r){return av.has(r)}function ov(r){return r.index===!0}function wo(r,a,s=[],o={},i=!1){return r.map((c,d)=>{let m=[...s,String(d)],f=typeof c.id=="string"?c.id:m.join("-");if($e(c.index!==!0||!c.children,"Cannot specify children on an index route"),$e(i||!o[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),ov(c)){let h={...c,...a(c),id:f};return o[f]=h,h}else{let h={...c,...a(c),id:f,children:void 0};return o[f]=h,c.children&&(h.children=wo(c.children,a,m,o,i)),h}})}function ea(r,a,s="/"){return Kl(r,a,s,!1)}function Kl(r,a,s,o){let i=typeof a=="string"?wn(a):a,c=Cr(i.pathname||"/",s);if(c==null)return null;let d=Mp(r);iv(d);let m=null;for(let f=0;m==null&&f<d.length;++f){let h=vv(c);m=xv(d[f],h,o)}return m}function lv(r,a){let{route:s,pathname:o,params:i}=r;return{id:s.id,pathname:o,params:i,data:a[s.id],handle:s.handle}}function Mp(r,a=[],s=[],o=""){let i=(c,d,m)=>{let f={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};f.relativePath.startsWith("/")&&($e(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length));let h=Kr([o,f.relativePath]),x=s.concat(f);c.children&&c.children.length>0&&($e(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Mp(c.children,a,x,h)),!(c.path==null&&!c.index)&&a.push({path:h,score:pv(h,c.index),routesMeta:x})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))i(c,d);else for(let m of Lp(c.path))i(c,d,m)}),a}function Lp(r){let a=r.split("/");if(a.length===0)return[];let[s,...o]=a,i=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return i?[c,""]:[c];let d=Lp(o.join("/")),m=[];return m.push(...d.map(f=>f===""?c:[c,f].join("/"))),i&&m.push(...d),m.map(f=>r.startsWith("/")&&f===""?"/":f)}function iv(r){r.sort((a,s)=>a.score!==s.score?s.score-a.score:gv(a.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var cv=/^:[\w-]+$/,dv=3,uv=2,mv=1,fv=10,hv=-2,_h=r=>r==="*";function pv(r,a){let s=r.split("/"),o=s.length;return s.some(_h)&&(o+=hv),a&&(o+=uv),s.filter(i=>!_h(i)).reduce((i,c)=>i+(cv.test(c)?dv:c===""?mv:fv),o)}function gv(r,a){return r.length===a.length&&r.slice(0,-1).every((o,i)=>o===a[i])?r[r.length-1]-a[a.length-1]:0}function xv(r,a,s=!1){let{routesMeta:o}=r,i={},c="/",d=[];for(let m=0;m<o.length;++m){let f=o[m],h=m===o.length-1,x=c==="/"?a:a.slice(c.length)||"/",b=si({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},x),v=f.route;if(!b&&h&&s&&!o[o.length-1].route.index&&(b=si({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!b)return null;Object.assign(i,b.params),d.push({params:i,pathname:Kr([c,b.pathname]),pathnameBase:Nv(Kr([c,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(c=Kr([c,b.pathnameBase]))}return d}function si(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,o]=yv(r.path,r.caseSensitive,r.end),i=a.match(s);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:o.reduce((h,{paramName:x,isOptional:b},v)=>{if(x==="*"){let S=m[v]||"";d=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const w=m[v];return b&&!w?h[x]=void 0:h[x]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:d,pattern:r}}function yv(r,a=!1,s=!0){yt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,f)=>(o.push({paramName:m,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),o]}function vv(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return yt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function Cr(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,o=r.charAt(s);return o&&o!=="/"?null:r.slice(s)||"/"}function bv({basename:r,pathname:a}){return a==="/"?r:Kr([r,a])}function wv(r,a="/"){let{pathname:s,search:o="",hash:i=""}=typeof r=="string"?wn(r):r;return{pathname:s?s.startsWith("/")?s:jv(s,a):a,search:Cv(o),hash:Sv(i)}}function jv(r,a){let s=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function vd(r,a,s,o){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ip(r){return r.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function gu(r){let a=Ip(r);return a.map((s,o)=>o===a.length-1?s.pathname:s.pathnameBase)}function xu(r,a,s,o=!1){let i;typeof r=="string"?i=wn(r):(i={...r},$e(!i.pathname||!i.pathname.includes("?"),vd("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),vd("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),vd("#","search","hash",i)));let c=r===""||i.pathname==="",d=c?"/":i.pathname,m;if(d==null)m=s;else{let b=a.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}m=b>=0?a[b]:"/"}let f=wv(i,m),h=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(h||x)&&(f.pathname+="/"),f}var Kr=r=>r.join("/").replace(/\/\/+/g,"/"),Nv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Cv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Sv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,oi=class{constructor(r,a,s,o=!1){this.status=r,this.statusText=a||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function jo(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Op=["POST","PUT","PATCH","DELETE"],Ev=new Set(Op),kv=["GET",...Op],Dv=new Set(kv),Rv=new Set([301,302,303,307,308]),_v=new Set([307,308]),bd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Pv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},co={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yu=r=>Tv.test(r),Av=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Fp="remix-router-transitions",$p=Symbol("ResetLoaderData");function Mv(r){const a=r.window?r.window:typeof window<"u"?window:void 0,s=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";$e(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=r.hydrationRouteProperties||[],i=r.mapRouteProperties||Av,c={},d=wo(r.routes,i,void 0,c),m,f=r.basename||"/",h=r.dataStrategy||$v,x={unstable_middleware:!1,...r.future},b=null,v=new Set,w=null,S=null,C=null,j=r.hydrationData!=null,N=ea(d,r.history.location,f),D=!1,R=null,M;if(N==null&&!r.patchRoutesOnNavigation){let L=jr(404,{pathname:r.history.location.pathname}),{matches:U,route:Q}=Uh(d);M=!0,N=U,R={[Q.id]:L}}else if(N&&!r.hydrationData&&fa(N,d,r.history.location.pathname).active&&(N=null),N)if(N.some(L=>L.route.lazy))M=!1;else if(!N.some(L=>L.route.loader))M=!0;else{let L=r.hydrationData?r.hydrationData.loaderData:null,U=r.hydrationData?r.hydrationData.errors:null;if(U){let Q=N.findIndex(le=>U[le.route.id]!==void 0);M=N.slice(0,Q+1).every(le=>!Vd(le.route,L,U))}else M=N.every(Q=>!Vd(Q.route,L,U))}else{M=!1,N=[];let L=fa(null,d,r.history.location.pathname);L.active&&L.matches&&(D=!0,N=L.matches)}let T,k={historyAction:r.history.action,location:r.history.location,matches:N,initialized:M,navigation:bd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||R,fetchers:new Map,blockers:new Map},_="POP",z=!1,F,$=!1,q=new Map,Z=null,te=!1,re=!1,G=new Set,X=new Map,ne=0,O=-1,J=new Map,ee=new Set,A=new Map,W=new Map,ue=new Set,me=new Map,Ne,be=null;function ie(){if(b=r.history.listen(({action:L,location:U,delta:Q})=>{if(Ne){Ne(),Ne=void 0;return}yt(me.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Me({currentLocation:k.location,nextLocation:U,historyAction:L});if(le&&Q!=null){let de=new Promise(Ee=>{Ne=Ee});r.history.go(Q*-1),ke(le,{state:"blocked",location:U,proceed(){ke(le,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),de.then(()=>r.history.go(Q))},reset(){let Ee=new Map(k.blockers);Ee.set(le,co),ge({blockers:Ee})}});return}return gt(L,U)}),s){Qv(a,q);let L=()=>Xv(a,q);a.addEventListener("pagehide",L),Z=()=>a.removeEventListener("pagehide",L)}return k.initialized||gt("POP",k.location,{initialHydration:!0}),T}function he(){b&&b(),Z&&Z(),v.clear(),F&&F.abort(),k.fetchers.forEach((L,U)=>En(U)),k.blockers.forEach((L,U)=>kn(U))}function Ae(L){return v.add(L),()=>v.delete(L)}function ge(L,U={}){L.matches&&(L.matches=L.matches.map(de=>{let Ee=c[de.route.id],we=de.route;return we.element!==Ee.element||we.errorElement!==Ee.errorElement||we.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...de,route:Ee}:de})),k={...k,...L};let Q=[],le=[];k.fetchers.forEach((de,Ee)=>{de.state==="idle"&&(ue.has(Ee)?Q.push(Ee):le.push(Ee))}),ue.forEach(de=>{!k.fetchers.has(de)&&!X.has(de)&&Q.push(de)}),[...v].forEach(de=>de(k,{deletedFetchers:Q,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),Q.forEach(de=>En(de)),le.forEach(de=>k.fetchers.delete(de))}function Ie(L,U,{flushSync:Q}={}){let le=k.actionData!=null&&k.navigation.formMethod!=null&&er(k.navigation.formMethod)&&k.navigation.state==="loading"&&L.state?._isRedirect!==!0,de;U.actionData?Object.keys(U.actionData).length>0?de=U.actionData:de=null:le?de=k.actionData:de=null;let Ee=U.loaderData?zh(k.loaderData,U.loaderData,U.matches||[],U.errors):k.loaderData,we=k.blockers;we.size>0&&(we=new Map(we),we.forEach((De,Re)=>we.set(Re,co)));let xe=te?!1:nr(L,U.matches||k.matches),Ce=z===!0||k.navigation.formMethod!=null&&er(k.navigation.formMethod)&&L.state?._isRedirect!==!0;m&&(d=m,m=void 0),te||_==="POP"||(_==="PUSH"?r.history.push(L,L.state):_==="REPLACE"&&r.history.replace(L,L.state));let _e;if(_==="POP"){let De=q.get(k.location.pathname);De&&De.has(L.pathname)?_e={currentLocation:k.location,nextLocation:L}:q.has(L.pathname)&&(_e={currentLocation:L,nextLocation:k.location})}else if($){let De=q.get(k.location.pathname);De?De.add(L.pathname):(De=new Set([L.pathname]),q.set(k.location.pathname,De)),_e={currentLocation:k.location,nextLocation:L}}ge({...U,actionData:de,loaderData:Ee,historyAction:_,location:L,initialized:!0,navigation:bd,revalidation:"idle",restoreScrollPosition:xe,preventScrollReset:Ce,blockers:we},{viewTransitionOpts:_e,flushSync:Q===!0}),_="POP",z=!1,$=!1,te=!1,re=!1,be?.resolve(),be=null}async function We(L,U){if(typeof L=="number"){r.history.go(L);return}let Q=zd(k.location,k.matches,f,L,U?.fromRouteId,U?.relative),{path:le,submission:de,error:Ee}=Ph(!1,Q,U),we=k.location,xe=bo(k.location,le,U&&U.state);xe={...xe,...r.history.encodeLocation(xe)};let Ce=U&&U.replace!=null?U.replace:void 0,_e="PUSH";Ce===!0?_e="REPLACE":Ce===!1||de!=null&&er(de.formMethod)&&de.formAction===k.location.pathname+k.location.search&&(_e="REPLACE");let De=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Re=(U&&U.flushSync)===!0,ze=Me({currentLocation:we,nextLocation:xe,historyAction:_e});if(ze){ke(ze,{state:"blocked",location:xe,proceed(){ke(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),We(L,U)},reset(){let Ge=new Map(k.blockers);Ge.set(ze,co),ge({blockers:Ge})}});return}await gt(_e,xe,{submission:de,pendingError:Ee,preventScrollReset:De,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Re})}function pt(){be||(be=Jv()),Sn(),ge({revalidation:"loading"});let L=be.promise;return k.navigation.state==="submitting"?L:k.navigation.state==="idle"?(gt(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),L):(gt(_||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:$===!0}),L)}async function gt(L,U,Q){F&&F.abort(),F=null,_=L,te=(Q&&Q.startUninterruptedRevalidation)===!0,hr(k.location,k.matches),z=(Q&&Q.preventScrollReset)===!0,$=(Q&&Q.enableViewTransition)===!0;let le=m||d,de=Q&&Q.overrideNavigation,Ee=Q?.initialHydration&&k.matches&&k.matches.length>0&&!D?k.matches:ea(le,U,f),we=(Q&&Q.flushSync)===!0;if(Ee&&k.initialized&&!re&&Hv(k.location,U)&&!(Q&&Q.submission&&er(Q.submission.formMethod))){Ie(U,{matches:Ee},{flushSync:we});return}let xe=fa(Ee,le,U.pathname);if(xe.active&&xe.matches&&(Ee=xe.matches),!Ee){let{error:Et,notFoundMatches:lt,route:Je}=Qe(U.pathname);Ie(U,{matches:lt,loaderData:{},errors:{[Je.id]:Et}},{flushSync:we});return}F=new AbortController;let Ce=ms(r.history,U,F.signal,Q&&Q.submission),_e=new Rh(r.unstable_getContext?await r.unstable_getContext():void 0),De;if(Q&&Q.pendingError)De=[_a(Ee).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&er(Q.submission.formMethod)){let Et=await Ir(Ce,U,Q.submission,Ee,_e,xe.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:we});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[lt,Je]=Et.pendingActionResult;if(ir(Je)&&jo(Je.error)&&Je.error.status===404){F=null,Ie(U,{matches:Et.matches,loaderData:{},errors:{[lt]:Je.error}});return}}Ee=Et.matches||Ee,De=Et.pendingActionResult,de=wd(U,Q.submission),we=!1,xe.active=!1,Ce=ms(r.history,Ce.url,Ce.signal)}let{shortCircuited:Re,matches:ze,loaderData:Ge,errors:Nt}=await Or(Ce,U,Ee,_e,xe.active,de,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,we,De);Re||(F=null,Ie(U,{matches:ze||Ee,...Vh(De),loaderData:Ge,errors:Nt}))}async function Ir(L,U,Q,le,de,Ee,we,xe={}){Sn();let Ce=qv(U,Q);if(ge({navigation:Ce},{flushSync:xe.flushSync===!0}),Ee){let Re=await ha(le,U.pathname,L.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let ze=_a(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[ze,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:ze,error:Ge,route:Nt}=Qe(U.pathname);return{matches:ze,pendingActionResult:[Nt.id,{type:"error",error:Ge}]}}}let _e,De=Ql(le,U);if(!De.route.action&&!De.route.lazy)_e={type:"error",error:jr(405,{method:L.method,pathname:U.pathname,routeId:De.route.id})};else{let Re=hs(i,c,L,le,De,we?[]:o,de),ze=await $r(L,Re,de,null);if(_e=ze[De.route.id],!_e){for(let Ge of le)if(ze[Ge.route.id]){_e=ze[Ge.route.id];break}}if(L.signal.aborted)return{shortCircuited:!0}}if(Ta(_e)){let Re;return xe&&xe.replace!=null?Re=xe.replace:Re=Oh(_e.response.headers.get("Location"),new URL(L.url),f)===k.location.pathname+k.location.search,await tr(L,_e,!0,{submission:Q,replace:Re}),{shortCircuited:!0}}if(ir(_e)){let Re=_a(le,De.route.id);return(xe&&xe.replace)!==!0&&(_="PUSH"),{matches:le,pendingActionResult:[Re.route.id,_e,De.route.id]}}return{matches:le,pendingActionResult:[De.route.id,_e]}}async function Or(L,U,Q,le,de,Ee,we,xe,Ce,_e,De,Re){let ze=Ee||wd(U,we),Ge=we||xe||Wh(ze),Nt=!te&&!_e;if(de){if(Nt){let kt=fr(Re);ge({navigation:ze,...kt!==void 0?{actionData:kt}:{}},{flushSync:De})}let Ve=await ha(Q,U.pathname,L.signal);if(Ve.type==="aborted")return{shortCircuited:!0};if(Ve.type==="error"){let kt=_a(Ve.partialMatches).route.id;return{matches:Ve.partialMatches,loaderData:{},errors:{[kt]:Ve.error}}}else if(Ve.matches)Q=Ve.matches;else{let{error:kt,notFoundMatches:ga,route:Vr}=Qe(U.pathname);return{matches:ga,loaderData:{},errors:{[Vr.id]:kt}}}}let Et=m||d,{dsMatches:lt,revalidatingFetchers:Je}=Th(L,le,i,c,r.history,k,Q,Ge,U,_e?[]:o,_e===!0,re,G,ue,A,ee,Et,f,r.patchRoutesOnNavigation!=null,Re);if(O=++ne,!r.dataStrategy&&!lt.some(Ve=>Ve.shouldLoad)&&Je.length===0){let Ve=ua();return Ie(U,{matches:Q,loaderData:{},errors:Re&&ir(Re[1])?{[Re[0]]:Re[1].error}:null,...Vh(Re),...Ve?{fetchers:new Map(k.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(Nt){let Ve={};if(!de){Ve.navigation=ze;let kt=fr(Re);kt!==void 0&&(Ve.actionData=kt)}Je.length>0&&(Ve.fetchers=Oa(Je)),ge(Ve,{flushSync:De})}Je.forEach(Ve=>{It(Ve.key),Ve.controller&&X.set(Ve.key,Ve.controller)});let zr=()=>Je.forEach(Ve=>It(Ve.key));F&&F.signal.addEventListener("abort",zr);let{loaderResults:Dn,fetcherResults:Sr}=await Cn(lt,Je,L,le);if(L.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",zr),Je.forEach(Ve=>X.delete(Ve.key));let pr=Vl(Dn);if(pr)return await tr(L,pr.result,!0,{replace:Ce}),{shortCircuited:!0};if(pr=Vl(Sr),pr)return ee.add(pr.key),await tr(L,pr.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Ds,errors:tt}=$h(k,Q,Dn,Re,Je,Sr);_e&&k.errors&&(tt={...k.errors,...tt});let nn=ua(),Rn=ma(O),pa=nn||Rn||Je.length>0;return{matches:Q,loaderData:Ds,errors:tt,...pa?{fetchers:new Map(k.fetchers)}:{}}}function fr(L){if(L&&!ir(L[1]))return{[L[0]]:L[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Oa(L){return L.forEach(U=>{let Q=k.fetchers.get(U.key),le=uo(void 0,Q?Q.data:void 0);k.fetchers.set(U.key,le)}),new Map(k.fetchers)}async function da(L,U,Q,le){It(L);let de=(le&&le.flushSync)===!0,Ee=m||d,we=zd(k.location,k.matches,f,Q,U,le?.relative),xe=ea(Ee,we,f),Ce=fa(xe,Ee,we);if(Ce.active&&Ce.matches&&(xe=Ce.matches),!xe){Vt(L,U,jr(404,{pathname:we}),{flushSync:de});return}let{path:_e,submission:De,error:Re}=Ph(!0,we,le);if(Re){Vt(L,U,Re,{flushSync:de});return}let ze=new Rh(r.unstable_getContext?await r.unstable_getContext():void 0),Ge=(le&&le.preventScrollReset)===!0;if(De&&er(De.formMethod)){await en(L,U,_e,xe,ze,Ce.active,de,Ge,De);return}A.set(L,{routeId:U,path:_e}),await Fr(L,U,_e,xe,ze,Ce.active,de,Ge,De)}async function en(L,U,Q,le,de,Ee,we,xe,Ce){Sn(),A.delete(L);let _e=k.fetchers.get(L);rr(L,Kv(Ce,_e),{flushSync:we});let De=new AbortController,Re=ms(r.history,Q,De.signal,Ce);if(Ee){let qe=await ha(le,new URL(Re.url).pathname,Re.signal,L);if(qe.type==="aborted")return;if(qe.type==="error"){Vt(L,U,qe.error,{flushSync:we});return}else if(qe.matches)le=qe.matches;else{Vt(L,U,jr(404,{pathname:Q}),{flushSync:we});return}}let ze=Ql(le,Q);if(!ze.route.action&&!ze.route.lazy){let qe=jr(405,{method:Ce.formMethod,pathname:Q,routeId:U});Vt(L,U,qe,{flushSync:we});return}X.set(L,De);let Ge=ne,Nt=hs(i,c,Re,le,ze,o,de),lt=(await $r(Re,Nt,de,L))[ze.route.id];if(Re.signal.aborted){X.get(L)===De&&X.delete(L);return}if(ue.has(L)){if(Ta(lt)||ir(lt)){rr(L,Xn(void 0));return}}else{if(Ta(lt))if(X.delete(L),O>Ge){rr(L,Xn(void 0));return}else return ee.add(L),rr(L,uo(Ce)),tr(Re,lt,!1,{fetcherSubmission:Ce,preventScrollReset:xe});if(ir(lt)){Vt(L,U,lt.error);return}}let Je=k.navigation.location||k.location,zr=ms(r.history,Je,De.signal),Dn=m||d,Sr=k.navigation.state!=="idle"?ea(Dn,k.navigation.location,f):k.matches;$e(Sr,"Didn't find any matches after fetcher action");let pr=++ne;J.set(L,pr);let Ds=uo(Ce,lt.data);k.fetchers.set(L,Ds);let{dsMatches:tt,revalidatingFetchers:nn}=Th(zr,de,i,c,r.history,k,Sr,Ce,Je,o,!1,re,G,ue,A,ee,Dn,f,r.patchRoutesOnNavigation!=null,[ze.route.id,lt]);nn.filter(qe=>qe.key!==L).forEach(qe=>{let $a=qe.key,Gt=k.fetchers.get($a),Ai=uo(void 0,Gt?Gt.data:void 0);k.fetchers.set($a,Ai),It($a),qe.controller&&X.set($a,qe.controller)}),ge({fetchers:new Map(k.fetchers)});let Rn=()=>nn.forEach(qe=>It(qe.key));De.signal.addEventListener("abort",Rn);let{loaderResults:pa,fetcherResults:Ve}=await Cn(tt,nn,zr,de);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",Rn),J.delete(L),X.delete(L),nn.forEach(qe=>X.delete(qe.key)),k.fetchers.has(L)){let qe=Xn(lt.data);k.fetchers.set(L,qe)}let kt=Vl(pa);if(kt)return tr(zr,kt.result,!1,{preventScrollReset:xe});if(kt=Vl(Ve),kt)return ee.add(kt.key),tr(zr,kt.result,!1,{preventScrollReset:xe});let{loaderData:ga,errors:Vr}=$h(k,Sr,pa,void 0,nn,Ve);ma(pr),k.navigation.state==="loading"&&pr>O?($e(_,"Expected pending action"),F&&F.abort(),Ie(k.navigation.location,{matches:Sr,loaderData:ga,errors:Vr,fetchers:new Map(k.fetchers)})):(ge({errors:Vr,loaderData:zh(k.loaderData,ga,Sr,Vr),fetchers:new Map(k.fetchers)}),re=!1)}async function Fr(L,U,Q,le,de,Ee,we,xe,Ce){let _e=k.fetchers.get(L);rr(L,uo(Ce,_e?_e.data:void 0),{flushSync:we});let De=new AbortController,Re=ms(r.history,Q,De.signal);if(Ee){let Je=await ha(le,new URL(Re.url).pathname,Re.signal,L);if(Je.type==="aborted")return;if(Je.type==="error"){Vt(L,U,Je.error,{flushSync:we});return}else if(Je.matches)le=Je.matches;else{Vt(L,U,jr(404,{pathname:Q}),{flushSync:we});return}}let ze=Ql(le,Q);X.set(L,De);let Ge=ne,Nt=hs(i,c,Re,le,ze,o,de),lt=(await $r(Re,Nt,de,L))[ze.route.id];if(X.get(L)===De&&X.delete(L),!Re.signal.aborted){if(ue.has(L)){rr(L,Xn(void 0));return}if(Ta(lt))if(O>Ge){rr(L,Xn(void 0));return}else{ee.add(L),await tr(Re,lt,!1,{preventScrollReset:xe});return}if(ir(lt)){Vt(L,U,lt.error);return}rr(L,Xn(lt.data))}}async function tr(L,U,Q,{submission:le,fetcherSubmission:de,preventScrollReset:Ee,replace:we}={}){U.response.headers.has("X-Remix-Revalidate")&&(re=!0);let xe=U.response.headers.get("Location");$e(xe,"Expected a Location header on the redirect Response"),xe=Oh(xe,new URL(L.url),f);let Ce=bo(k.location,xe,{_isRedirect:!0});if(s){let Nt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(yu(xe)){const Et=Ap(xe,!0);Nt=Et.origin!==a.location.origin||Cr(Et.pathname,f)==null}if(Nt){we?a.location.replace(xe):a.location.assign(xe);return}}F=null;let _e=we===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:Re,formEncType:ze}=k.navigation;!le&&!de&&De&&Re&&ze&&(le=Wh(k.navigation));let Ge=le||de;if(_v.has(U.response.status)&&Ge&&er(Ge.formMethod))await gt(_e,Ce,{submission:{...Ge,formAction:xe},preventScrollReset:Ee||z,enableViewTransition:Q?$:void 0});else{let Nt=wd(Ce,le);await gt(_e,Ce,{overrideNavigation:Nt,fetcherSubmission:de,preventScrollReset:Ee||z,enableViewTransition:Q?$:void 0})}}async function $r(L,U,Q,le){let de,Ee={};try{de=await zv(h,L,U,le,Q,!1)}catch(we){return U.filter(xe=>xe.shouldLoad).forEach(xe=>{Ee[xe.route.id]={type:"error",error:we}}),Ee}if(L.signal.aborted)return Ee;for(let[we,xe]of Object.entries(de))if(Yv(xe)){let Ce=xe.result;Ee[we]={type:"redirect",response:Bv(Ce,L,we,U,f)}}else Ee[we]=await Uv(xe);return Ee}async function Cn(L,U,Q,le){let de=$r(Q,L,le,null),Ee=Promise.all(U.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let De=(await $r(Ce.request,Ce.matches,le,Ce.key))[Ce.match.route.id];return{[Ce.key]:De}}else return Promise.resolve({[Ce.key]:{type:"error",error:jr(404,{pathname:Ce.path})}})})),we=await de,xe=(await Ee).reduce((Ce,_e)=>Object.assign(Ce,_e),{});return{loaderResults:we,fetcherResults:xe}}function Sn(){re=!0,A.forEach((L,U)=>{X.has(U)&&G.add(U),It(U)})}function rr(L,U,Q={}){k.fetchers.set(L,U),ge({fetchers:new Map(k.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Vt(L,U,Q,le={}){let de=_a(k.matches,U);En(L),ge({errors:{[de.route.id]:Q},fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function tn(L){return W.set(L,(W.get(L)||0)+1),ue.has(L)&&ue.delete(L),k.fetchers.get(L)||Pv}function En(L){let U=k.fetchers.get(L);X.has(L)&&!(U&&U.state==="loading"&&J.has(L))&&It(L),A.delete(L),J.delete(L),ee.delete(L),ue.delete(L),G.delete(L),k.fetchers.delete(L)}function rn(L){let U=(W.get(L)||0)-1;U<=0?(W.delete(L),ue.add(L)):W.set(L,U),ge({fetchers:new Map(k.fetchers)})}function It(L){let U=X.get(L);U&&(U.abort(),X.delete(L))}function Fa(L){for(let U of L){let Q=tn(U),le=Xn(Q.data);k.fetchers.set(U,le)}}function ua(){let L=[],U=!1;for(let Q of ee){let le=k.fetchers.get(Q);$e(le,`Expected fetcher: ${Q}`),le.state==="loading"&&(ee.delete(Q),L.push(Q),U=!0)}return Fa(L),U}function ma(L){let U=[];for(let[Q,le]of J)if(le<L){let de=k.fetchers.get(Q);$e(de,`Expected fetcher: ${Q}`),de.state==="loading"&&(It(Q),J.delete(Q),U.push(Q))}return Fa(U),U.length>0}function ks(L,U){let Q=k.blockers.get(L)||co;return me.get(L)!==U&&me.set(L,U),Q}function kn(L){k.blockers.delete(L),me.delete(L)}function ke(L,U){let Q=k.blockers.get(L)||co;$e(Q.state==="unblocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="proceeding"||Q.state==="blocked"&&U.state==="unblocked"||Q.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${U.state}`);let le=new Map(k.blockers);le.set(L,U),ge({blockers:le})}function Me({currentLocation:L,nextLocation:U,historyAction:Q}){if(me.size===0)return;me.size>1&&yt(!1,"A router only supports one blocker at a time");let le=Array.from(me.entries()),[de,Ee]=le[le.length-1],we=k.blockers.get(de);if(!(we&&we.state==="proceeding")&&Ee({currentLocation:L,nextLocation:U,historyAction:Q}))return de}function Qe(L){let U=jr(404,{pathname:L}),Q=m||d,{matches:le,route:de}=Uh(Q);return{notFoundMatches:le,route:de,error:U}}function et(L,U,Q){if(w=L,C=U,S=Q||null,!j&&k.navigation===bd){j=!0;let le=nr(k.location,k.matches);le!=null&&ge({restoreScrollPosition:le})}return()=>{w=null,C=null,S=null}}function Ye(L,U){return S&&S(L,U.map(le=>lv(le,k.loaderData)))||L.key}function hr(L,U){if(w&&C){let Q=Ye(L,U);w[Q]=C()}}function nr(L,U){if(w){let Q=Ye(L,U),le=w[Q];if(typeof le=="number")return le}return null}function fa(L,U,Q){if(r.patchRoutesOnNavigation)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Kl(U,Q,f,!0)}}else return{active:!0,matches:Kl(U,Q,f,!0)||[]};return{active:!1,matches:null}}async function ha(L,U,Q,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:L};let de=L;for(;;){let Ee=m==null,we=m||d,xe=c;try{await r.patchRoutesOnNavigation({signal:Q,path:U,matches:de,fetcherKey:le,patch:(De,Re)=>{Q.aborted||Ah(De,Re,we,xe,i,!1)}})}catch(De){return{type:"error",error:De,partialMatches:de}}finally{Ee&&!Q.aborted&&(d=[...d])}if(Q.aborted)return{type:"aborted"};let Ce=ea(we,U,f);if(Ce)return{type:"success",matches:Ce};let _e=Kl(we,U,f,!0);if(!_e||de.length===_e.length&&de.every((De,Re)=>De.route.id===_e[Re].route.id))return{type:"success",matches:null};de=_e}}function Lo(L){c={},m=wo(L,i,void 0,c)}function Io(L,U,Q=!1){let le=m==null;Ah(L,U,m||d,c,i,Q),le&&(d=[...d],ge({}))}return T={get basename(){return f},get future(){return x},get state(){return k},get routes(){return d},get window(){return a},initialize:ie,subscribe:Ae,enableScrollRestoration:et,navigate:We,fetch:da,revalidate:pt,createHref:L=>r.history.createHref(L),encodeLocation:L=>r.history.encodeLocation(L),getFetcher:tn,deleteFetcher:rn,dispose:he,getBlocker:ks,deleteBlocker:kn,patchRoutes:Io,_internalFetchControllers:X,_internalSetRoutes:Lo,_internalSetStateDoNotUseOrYouWillBreakYourApp(L){ge(L)}},T}function Lv(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function zd(r,a,s,o,i,c){let d,m;if(i){d=[];for(let h of a)if(d.push(h),h.route.id===i){m=h;break}}else d=a,m=a[a.length-1];let f=xu(o||".",gu(d),Cr(r.pathname,s)||r.pathname,c==="path");if(o==null&&(f.search=r.search,f.hash=r.hash),(o==null||o===""||o===".")&&m){let h=vu(f.search);if(m.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&h){let x=new URLSearchParams(f.search),b=x.getAll("index");x.delete("index"),b.filter(w=>w).forEach(w=>x.append("index",w));let v=x.toString();f.search=v?`?${v}`:""}}return s!=="/"&&(f.pathname=bv({basename:s,pathname:f.pathname})),ra(f)}function Ph(r,a,s){if(!s||!Lv(s))return{path:a};if(s.formMethod&&!Gv(s.formMethod))return{path:a,error:jr(405,{method:s.formMethod})};let o=()=>({path:a,error:jr(400,{type:"invalid-body"})}),c=(s.formMethod||"get").toUpperCase(),d=Hp(a);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!er(c))return o();let b=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((v,[w,S])=>`${v}${w}=${S}
`,""):String(s.body);return{path:a,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:void 0,text:b}}}else if(s.formEncType==="application/json"){if(!er(c))return o();try{let b=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:a,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:b,text:void 0}}}catch{return o()}}}$e(typeof FormData=="function","FormData is not available in this environment");let m,f;if(s.formData)m=Bd(s.formData),f=s.formData;else if(s.body instanceof FormData)m=Bd(s.body),f=s.body;else if(s.body instanceof URLSearchParams)m=s.body,f=Fh(m);else if(s.body==null)m=new URLSearchParams,f=new FormData;else try{m=new URLSearchParams(s.body),f=Fh(m)}catch{return o()}let h={formMethod:c,formAction:d,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(er(h.formMethod))return{path:a,submission:h};let x=wn(a);return r&&x.search&&vu(x.search)&&m.append("index",""),x.search=`?${m}`,{path:ra(x),submission:h}}function Th(r,a,s,o,i,c,d,m,f,h,x,b,v,w,S,C,j,N,D,R){let M=R?ir(R[1])?R[1].error:R[1].data:void 0,T=i.createURL(c.location),k=i.createURL(f),_;if(x&&c.errors){let te=Object.keys(c.errors)[0];_=d.findIndex(re=>re.route.id===te)}else if(R&&ir(R[1])){let te=R[0];_=d.findIndex(re=>re.route.id===te)-1}let z=R?R[1].statusCode:void 0,F=z&&z>=400,$={currentUrl:T,currentParams:c.matches[0]?.params||{},nextUrl:k,nextParams:d[0].params,...m,actionResult:M,actionStatus:z},q=d.map((te,re)=>{let{route:G}=te,X=null;if(_!=null&&re>_?X=!1:G.lazy?X=!0:G.loader==null?X=!1:x?X=Vd(G,c.loaderData,c.errors):Iv(c.loaderData,c.matches[re],te)&&(X=!0),X!==null)return Ud(s,o,r,te,h,a,X);let ne=F?!1:b||T.pathname+T.search===k.pathname+k.search||T.search!==k.search||Ov(c.matches[re],te),O={...$,defaultShouldRevalidate:ne},J=li(te,O);return Ud(s,o,r,te,h,a,J,O)}),Z=[];return S.forEach((te,re)=>{if(x||!d.some(W=>W.route.id===te.routeId)||w.has(re))return;let G=c.fetchers.get(re),X=G&&G.state!=="idle"&&G.data===void 0,ne=ea(j,te.path,N);if(!ne){if(D&&X)return;Z.push({key:re,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(C.has(re))return;let O=Ql(ne,te.path),J=new AbortController,ee=ms(i,te.path,J.signal),A=null;if(v.has(re))v.delete(re),A=hs(s,o,ee,ne,O,h,a);else if(X)b&&(A=hs(s,o,ee,ne,O,h,a));else{let W={...$,defaultShouldRevalidate:F?!1:b};li(O,W)&&(A=hs(s,o,ee,ne,O,h,a,W))}A&&Z.push({key:re,routeId:te.routeId,path:te.path,matches:A,match:O,request:ee,controller:J})}),{dsMatches:q,revalidatingFetchers:Z}}function Vd(r,a,s){if(r.lazy)return!0;if(!r.loader)return!1;let o=a!=null&&r.id in a,i=s!=null&&s[r.id]!==void 0;return!o&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!o&&!i}function Iv(r,a,s){let o=!a||s.route.id!==a.route.id,i=!r.hasOwnProperty(s.route.id);return o||i}function Ov(r,a){let s=r.route.path;return r.pathname!==a.pathname||s!=null&&s.endsWith("*")&&r.params["*"]!==a.params["*"]}function li(r,a){if(r.route.shouldRevalidate){let s=r.route.shouldRevalidate(a);if(typeof s=="boolean")return s}return a.defaultShouldRevalidate}function Ah(r,a,s,o,i,c){let d;if(r){let h=o[r];$e(h,`No route found to patch children into: routeId = ${r}`),h.children||(h.children=[]),d=h.children}else d=s;let m=[],f=[];if(a.forEach(h=>{let x=d.find(b=>zp(h,b));x?f.push({existingRoute:x,newRoute:h}):m.push(h)}),m.length>0){let h=wo(m,i,[r||"_","patch",String(d?.length||"0")],o);d.push(...h)}if(c&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:x,newRoute:b}=f[h],v=x,[w]=wo([b],i,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function zp(r,a){return"id"in r&&"id"in a&&r.id===a.id?!0:r.index===a.index&&r.path===a.path&&r.caseSensitive===a.caseSensitive?(!r.children||r.children.length===0)&&(!a.children||a.children.length===0)?!0:r.children.every((s,o)=>a.children?.some(i=>zp(s,i))):!1}var Mh=new WeakMap,Vp=({key:r,route:a,manifest:s,mapRouteProperties:o})=>{let i=s[a.id];if($e(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let c=i.lazy[r];if(!c)return;let d=Mh.get(i);d||(d={},Mh.set(i,d));let m=d[r];if(m)return m;let f=(async()=>{let h=nv(r),b=i[r]!==void 0&&r!=="hasErrorBoundary";if(h)yt(!h,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),d[r]=Promise.resolve();else if(b)yt(!1,`Route "${i.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let v=await c();v!=null&&(Object.assign(i,{[r]:v}),Object.assign(i,o(i)))}typeof i.lazy=="object"&&(i.lazy[r]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return d[r]=f,f},Lh=new WeakMap;function Fv(r,a,s,o,i){let c=s[r.id];if($e(c,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let x=Lh.get(c);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let b=(async()=>{$e(typeof r.lazy=="function","No lazy route function found");let v=await r.lazy(),w={};for(let S in v){let C=v[S];if(C===void 0)continue;let j=sv(S),D=c[S]!==void 0&&S!=="hasErrorBoundary";j?yt(!j,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?yt(!D,`Route "${c.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=C}Object.assign(c,w),Object.assign(c,{...o(c),lazy:void 0})})();return Lh.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let d=Object.keys(r.lazy),m=[],f;for(let x of d){if(i&&i.includes(x))continue;let b=Vp({key:x,route:r,manifest:s,mapRouteProperties:o});b&&(m.push(b),x===a&&(f=b))}let h=m.length>0?Promise.all(m).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function Ih(r){let a=r.matches.filter(i=>i.shouldLoad),s={};return(await Promise.all(a.map(i=>i.resolve()))).forEach((i,c)=>{s[a[c].route.id]=i}),s}async function $v(r){return r.matches.some(a=>a.route.unstable_middleware)?Up(r,!1,()=>Ih(r),(a,s)=>({[s]:{type:"error",result:a}})):Ih(r)}async function Up(r,a,s,o){let{matches:i,request:c,params:d,context:m}=r,f={handlerResult:void 0};try{let h=i.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(v=>[b.route.id,v]):[]),x=await Bp({request:c,params:d,context:m},h,a,f,s);return a?x:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let x=await o(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,x):x}}async function Bp(r,a,s,o,i,c=0){let{request:d}=r;if(d.signal.aborted)throw d.signal.reason?d.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${d.method} ${d.url}`);let m=a[c];if(!m)return o.handlerResult=await i(),o.handlerResult;let[f,h]=m,x=!1,b,v=async()=>{if(x)throw new Error("You may only call `next()` once per middleware");x=!0,await Bp(r,a,s,o,i,c+1)};try{let w=await h({request:r.request,params:r.params,context:r.context},v);return x?w===void 0?b:w:v()}catch(w){throw o.middlewareError?o.middlewareError.error!==w&&(o.middlewareError={routeId:f,error:w}):o.middlewareError={routeId:f,error:w},w}}function Wp(r,a,s,o,i){let c=Vp({key:"unstable_middleware",route:o.route,manifest:a,mapRouteProperties:r}),d=Fv(o.route,er(s.method)?"action":"loader",a,r,i);return{middleware:c,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Ud(r,a,s,o,i,c,d,m=null){let f=!1,h=Wp(r,a,s,o,i);return{...o,_lazyPromises:h,shouldLoad:d,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(x){return f=!0,m?typeof x=="boolean"?li(o,{...m,defaultShouldRevalidate:x}):li(o,m):d},resolve(x){return f||d||x&&!er(s.method)&&(o.route.lazy||o.route.loader)?Vv({request:s,match:o,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:x,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function hs(r,a,s,o,i,c,d,m=null){return o.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:Wp(r,a,s,f,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ud(r,a,s,f,c,d,!0,m))}async function zv(r,a,s,o,i,c){s.some(h=>h._lazyPromises?.middleware)&&await Promise.all(s.map(h=>h._lazyPromises?.middleware));let d={request:a,params:s[0].params,context:i,matches:s},f=await r({...d,fetcherKey:o,unstable_runClientMiddleware:h=>{let x=d;return Up(x,!1,()=>h({...x,fetcherKey:o,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,v)=>({[v]:{type:"error",result:b}}))}});try{await Promise.all(s.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function Vv({request:r,match:a,lazyHandlerPromise:s,lazyRoutePromise:o,handlerOverride:i,scopedContext:c}){let d,m,f=er(r.method),h=f?"action":"loader",x=b=>{let v,w=new Promise((j,N)=>v=N);m=()=>v(),r.signal.addEventListener("abort",m);let S=j=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${a.route.id}]`)):b({request:r,params:a.params,context:c},...j!==void 0?[j]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(N=>S(N)):S())}}catch(j){return{type:"error",result:j}}})();return Promise.race([C,w])};try{let b=f?a.route.action:a.route.loader;if(s||o)if(b){let v,[w]=await Promise.all([x(b).catch(S=>{v=S}),s,o]);if(v!==void 0)throw v;d=w}else{await s;let v=f?a.route.action:a.route.loader;if(v)[d]=await Promise.all([x(v),o]);else if(h==="action"){let w=new URL(r.url),S=w.pathname+w.search;throw jr(405,{method:r.method,pathname:S,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(b)d=await x(b);else{let v=new URL(r.url),w=v.pathname+v.search;throw jr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{m&&r.signal.removeEventListener("abort",m)}return d}async function Uv(r){let{result:a,type:s}=r;if(Yp(a)){let o;try{let i=a.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?a.body==null?o=null:o=await a.json():o=await a.text()}catch(i){return{type:"error",error:i}}return s==="error"?{type:"error",error:new oi(a.status,a.statusText,o),statusCode:a.status,headers:a.headers}:{type:"data",data:o,statusCode:a.status,headers:a.headers}}return s==="error"?Bh(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:new oi(a.init?.status||500,void 0,a.data),statusCode:jo(a)?a.status:void 0,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:jo(a)?a.status:void 0}:Bh(a)?{type:"data",data:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function Bv(r,a,s,o,i){let c=r.headers.get("Location");if($e(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!yu(c)){let d=o.slice(0,o.findIndex(m=>m.route.id===s)+1);c=zd(new URL(a.url),d,i,c),r.headers.set("Location",c)}return r}function Oh(r,a,s){if(yu(r)){let o=r,i=o.startsWith("//")?new URL(a.protocol+o):new URL(o),c=Cr(i.pathname,s)!=null;if(i.origin===a.origin&&c)return i.pathname+i.search+i.hash}return r}function ms(r,a,s,o){let i=r.createURL(Hp(a)).toString(),c={signal:s};if(o&&er(o.formMethod)){let{formMethod:d,formEncType:m}=o;c.method=d.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(o.json)):m==="text/plain"?c.body=o.text:m==="application/x-www-form-urlencoded"&&o.formData?c.body=Bd(o.formData):c.body=o.formData}return new Request(i,c)}function Bd(r){let a=new URLSearchParams;for(let[s,o]of r.entries())a.append(s,typeof o=="string"?o:o.name);return a}function Fh(r){let a=new FormData;for(let[s,o]of r.entries())a.append(s,o);return a}function Wv(r,a,s,o=!1,i=!1){let c={},d=null,m,f=!1,h={},x=s&&ir(s[1])?s[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in a))return;let v=b.route.id,w=a[v];if($e(!Ta(w),"Cannot handle redirect results in processLoaderData"),ir(w)){let S=w.error;if(x!==void 0&&(S=x,x=void 0),d=d||{},i)d[v]=S;else{let C=_a(r,v);d[C.route.id]==null&&(d[C.route.id]=S)}o||(c[v]=$p),f||(f=!0,m=jo(w.error)?w.error.status:500),w.headers&&(h[v]=w.headers)}else c[v]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(m=w.statusCode),w.headers&&(h[v]=w.headers)}),x!==void 0&&s&&(d={[s[0]]:x},s[2]&&(c[s[2]]=void 0)),{loaderData:c,errors:d,statusCode:m||200,loaderHeaders:h}}function $h(r,a,s,o,i,c){let{loaderData:d,errors:m}=Wv(a,s,o);return i.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:x,controller:b}=f,v=c[h];if($e(v,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(ir(v)){let w=_a(r.matches,x?.route.id);m&&m[w.route.id]||(m={...m,[w.route.id]:v.error}),r.fetchers.delete(h)}else if(Ta(v))$e(!1,"Unhandled fetcher revalidation redirect");else{let w=Xn(v.data);r.fetchers.set(h,w)}}),{loaderData:d,errors:m}}function zh(r,a,s,o){let i=Object.entries(a).filter(([,c])=>c!==$p).reduce((c,[d,m])=>(c[d]=m,c),{});for(let c of s){let d=c.route.id;if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&c.route.loader&&(i[d]=r[d]),o&&o.hasOwnProperty(d))break}return i}function Vh(r){return r?ir(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function _a(r,a){return(a?r.slice(0,r.findIndex(o=>o.route.id===a)+1):[...r]).reverse().find(o=>o.route.hasErrorBoundary===!0)||r[0]}function Uh(r){let a=r.length===1?r[0]:r.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function jr(r,{pathname:a,routeId:s,method:o,type:i,message:c}={}){let d="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(d="Bad Request",o&&a&&s?m=`You made a ${o} request to "${a}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:i==="invalid-body"&&(m="Unable to encode submission body")):r===403?(d="Forbidden",m=`Route "${s}" does not match URL "${a}"`):r===404?(d="Not Found",m=`No route matches URL "${a}"`):r===405&&(d="Method Not Allowed",o&&a&&s?m=`You made a ${o.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:o&&(m=`Invalid request method "${o.toUpperCase()}"`)),new oi(r||500,d,new Error(m),!0)}function Vl(r){let a=Object.entries(r);for(let s=a.length-1;s>=0;s--){let[o,i]=a[s];if(Ta(i))return{key:o,result:i}}}function Hp(r){let a=typeof r=="string"?wn(r):r;return ra({...a,hash:""})}function Hv(r,a){return r.pathname!==a.pathname||r.search!==a.search?!1:r.hash===""?a.hash!=="":r.hash===a.hash?!0:a.hash!==""}function Yv(r){return Yp(r.result)&&Rv.has(r.result.status)}function ir(r){return r.type==="error"}function Ta(r){return(r&&r.type)==="redirect"}function Bh(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function Yp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Gv(r){return Dv.has(r.toUpperCase())}function er(r){return Ev.has(r.toUpperCase())}function vu(r){return new URLSearchParams(r).getAll("index").some(a=>a==="")}function Ql(r,a){let s=typeof a=="string"?wn(a).search:a.search;if(r[r.length-1].route.index&&vu(s||""))return r[r.length-1];let o=Ip(r);return o[o.length-1]}function Wh(r){let{formMethod:a,formAction:s,formEncType:o,text:i,formData:c,json:d}=r;if(!(!a||!s||!o)){if(i!=null)return{formMethod:a,formAction:s,formEncType:o,formData:void 0,json:void 0,text:i};if(c!=null)return{formMethod:a,formAction:s,formEncType:o,formData:c,json:void 0,text:void 0};if(d!==void 0)return{formMethod:a,formAction:s,formEncType:o,formData:void 0,json:d,text:void 0}}}function wd(r,a){return a?{state:"loading",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qv(r,a){return{state:"submitting",location:r,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function uo(r,a){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Kv(r,a){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:a?a.data:void 0}}function Xn(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Qv(r,a){try{let s=r.sessionStorage.getItem(Fp);if(s){let o=JSON.parse(s);for(let[i,c]of Object.entries(o||{}))c&&Array.isArray(c)&&a.set(i,new Set(c||[]))}}catch{}}function Xv(r,a){if(a.size>0){let s={};for(let[o,i]of a)s[o]=[...i];try{r.sessionStorage.setItem(Fp,JSON.stringify(s))}catch(o){yt(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function Jv(){let r,a,s=new Promise((o,i)=>{r=async c=>{o(c);try{await s}catch{}},a=async c=>{i(c);try{await s}catch{}}});return{promise:s,resolve:r,reject:a}}var La=g.createContext(null);La.displayName="DataRouter";var Do=g.createContext(null);Do.displayName="DataRouterState";g.createContext(!1);var bu=g.createContext({isTransitioning:!1});bu.displayName="ViewTransition";var Gp=g.createContext(new Map);Gp.displayName="Fetchers";var Zv=g.createContext(null);Zv.displayName="Await";var Xr=g.createContext(null);Xr.displayName="Navigation";var hi=g.createContext(null);hi.displayName="Location";var Jr=g.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var wu=g.createContext(null);wu.displayName="RouteError";function eb(r,{relative:a}={}){$e(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=g.useContext(Xr),{hash:i,pathname:c,search:d}=_o(r,{relative:a}),m=c;return s!=="/"&&(m=c==="/"?s:Kr([s,c])),o.createHref({pathname:m,search:d,hash:i})}function Ro(){return g.useContext(hi)!=null}function jn(){return $e(Ro(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(hi).location}var qp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kp(r){g.useContext(Xr).static||g.useLayoutEffect(r)}function pi(){let{isDataRoute:r}=g.useContext(Jr);return r?fb():tb()}function tb(){$e(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=g.useContext(La),{basename:a,navigator:s}=g.useContext(Xr),{matches:o}=g.useContext(Jr),{pathname:i}=jn(),c=JSON.stringify(gu(o)),d=g.useRef(!1);return Kp(()=>{d.current=!0}),g.useCallback((f,h={})=>{if(yt(d.current,qp),!d.current)return;if(typeof f=="number"){s.go(f);return}let x=xu(f,JSON.parse(c),i,h.relative==="path");r==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Kr([a,x.pathname])),(h.replace?s.replace:s.push)(x,h.state,h)},[a,s,c,i,r])}g.createContext(null);function ju(){let{matches:r}=g.useContext(Jr),a=r[r.length-1];return a?a.params:{}}function _o(r,{relative:a}={}){let{matches:s}=g.useContext(Jr),{pathname:o}=jn(),i=JSON.stringify(gu(s));return g.useMemo(()=>xu(r,JSON.parse(i),o,a==="path"),[r,i,o,a])}function rb(r,a,s,o){$e(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(Xr),{matches:c}=g.useContext(Jr),d=c[c.length-1],m=d?d.params:{},f=d?d.pathname:"/",h=d?d.pathnameBase:"/",x=d&&d.route;{let N=x&&x.path||"";Qp(f,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=jn(),v;v=b;let w=v.pathname||"/",S=w;if(h!=="/"){let N=h.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=ea(r,{pathname:S});return yt(x||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),yt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),lb(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Kr([h,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Kr([h,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,s,o)}function nb(){let r=mb(),a=jo(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:c},"ErrorBoundary")," or"," ",g.createElement("code",{style:c},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),s?g.createElement("pre",{style:i},s):null,d)}var ab=g.createElement(nb,null),sb=class extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?g.createElement(Jr.Provider,{value:this.props.routeContext},g.createElement(wu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ob({routeContext:r,match:a,children:s}){let o=g.useContext(La);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Jr.Provider,{value:r},s)}function lb(r,a=[],s=null,o=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let i=r,c=s?.errors;if(c!=null){let f=i.findIndex(h=>h.route.id&&c?.[h.route.id]!==void 0);$e(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let d=!1,m=-1;if(s)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=f),h.route.id){let{loaderData:x,errors:b}=s,v=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||v){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((f,h,x)=>{let b,v=!1,w=null,S=null;s&&(b=c&&h.route.id?c[h.route.id]:void 0,w=h.route.errorElement||ab,d&&(m<0&&x===0?(Qp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):m===x&&(v=!0,S=h.route.hydrateFallbackElement||null)));let C=a.concat(i.slice(0,x+1)),j=()=>{let N;return b?N=w:v?N=S:h.route.Component?N=g.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,g.createElement(ob,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:s!=null},children:N})};return s&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?g.createElement(sb,{location:s.location,revalidation:s.revalidation,component:w,error:b,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):j()},null)}function Nu(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ib(r){let a=g.useContext(La);return $e(a,Nu(r)),a}function cb(r){let a=g.useContext(Do);return $e(a,Nu(r)),a}function db(r){let a=g.useContext(Jr);return $e(a,Nu(r)),a}function Cu(r){let a=db(r),s=a.matches[a.matches.length-1];return $e(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function ub(){return Cu("useRouteId")}function mb(){let r=g.useContext(wu),a=cb("useRouteError"),s=Cu("useRouteError");return r!==void 0?r:a.errors?.[s]}function fb(){let{router:r}=ib("useNavigate"),a=Cu("useNavigate"),s=g.useRef(!1);return Kp(()=>{s.current=!0}),g.useCallback(async(i,c={})=>{yt(s.current,qp),s.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:a,...c}))},[r,a])}var Hh={};function Qp(r,a,s){!a&&!Hh[r]&&(Hh[r]=!0,yt(!1,s))}var Yh={};function Gh(r,a){!r&&!Yh[a]&&(Yh[a]=!0,console.warn(a))}function hb(r){let a={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&yt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:g.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&yt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:g.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&yt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:g.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),a}var pb=["HydrateFallback","hydrateFallbackElement"],gb=class{constructor(){this.status="pending",this.promise=new Promise((r,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",r(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}};function xb({router:r,flushSync:a}){let[s,o]=g.useState(r.state),[i,c]=g.useState(),[d,m]=g.useState({isTransitioning:!1}),[f,h]=g.useState(),[x,b]=g.useState(),[v,w]=g.useState(),S=g.useRef(new Map),C=g.useCallback((R,{deletedFetchers:M,flushSync:T,viewTransitionOpts:k})=>{R.fetchers.forEach((z,F)=>{z.data!==void 0&&S.current.set(F,z.data)}),M.forEach(z=>S.current.delete(z)),Gh(T===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(Gh(k==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!_){a&&T?a(()=>o(R)):g.startTransition(()=>o(R));return}if(a&&T){a(()=>{x&&(f&&f.resolve(),x.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let z=r.window.document.startViewTransition(()=>{a(()=>o(R))});z.finished.finally(()=>{a(()=>{h(void 0),b(void 0),c(void 0),m({isTransitioning:!1})})}),a(()=>b(z));return}x?(f&&f.resolve(),x.skipTransition(),w({state:R,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(c(R),m({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[r.window,a,x,f]);g.useLayoutEffect(()=>r.subscribe(C),[r,C]),g.useEffect(()=>{d.isTransitioning&&!d.flushSync&&h(new gb)},[d]),g.useEffect(()=>{if(f&&i&&r.window){let R=i,M=f.promise,T=r.window.document.startViewTransition(async()=>{g.startTransition(()=>o(R)),await M});T.finished.finally(()=>{h(void 0),b(void 0),c(void 0),m({isTransitioning:!1})}),b(T)}},[i,f,r.window]),g.useEffect(()=>{f&&i&&s.location.key===i.location.key&&f.resolve()},[f,x,s.location,i]),g.useEffect(()=>{!d.isTransitioning&&v&&(c(v.state),m({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[d.isTransitioning,v]);let j=g.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,M,T)=>r.navigate(R,{state:M,preventScrollReset:T?.preventScrollReset}),replace:(R,M,T)=>r.navigate(R,{replace:!0,state:M,preventScrollReset:T?.preventScrollReset})}),[r]),N=r.basename||"/",D=g.useMemo(()=>({router:r,navigator:j,static:!1,basename:N}),[r,j,N]);return g.createElement(g.Fragment,null,g.createElement(La.Provider,{value:D},g.createElement(Do.Provider,{value:s},g.createElement(Gp.Provider,{value:S.current},g.createElement(bu.Provider,{value:d},g.createElement(bb,{basename:N,location:s.location,navigationType:s.historyAction,navigator:j},g.createElement(yb,{routes:r.routes,future:r.future,state:s})))))),null)}var yb=g.memo(vb);function vb({routes:r,future:a,state:s}){return rb(r,void 0,s,a)}function bb({basename:r="/",children:a=null,location:s,navigationType:o="POP",navigator:i,static:c=!1}){$e(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=g.useMemo(()=>({basename:d,navigator:i,static:c,future:{}}),[d,i,c]);typeof s=="string"&&(s=wn(s));let{pathname:f="/",search:h="",hash:x="",state:b=null,key:v="default"}=s,w=g.useMemo(()=>{let S=Cr(f,d);return S==null?null:{location:{pathname:S,search:h,hash:x,state:b,key:v},navigationType:o}},[d,f,h,x,b,v,o]);return yt(w!=null,`<Router basename="${d}"> is not able to match the URL "${f}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:g.createElement(Xr.Provider,{value:m},g.createElement(hi.Provider,{children:a,value:w}))}var Xl="get",Jl="application/x-www-form-urlencoded";function gi(r){return r!=null&&typeof r.tagName=="string"}function wb(r){return gi(r)&&r.tagName.toLowerCase()==="button"}function jb(r){return gi(r)&&r.tagName.toLowerCase()==="form"}function Nb(r){return gi(r)&&r.tagName.toLowerCase()==="input"}function Cb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Sb(r,a){return r.button===0&&(!a||a==="_self")&&!Cb(r)}var Ul=null;function Eb(){if(Ul===null)try{new FormData(document.createElement("form"),0),Ul=!1}catch{Ul=!0}return Ul}var kb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jd(r){return r!=null&&!kb.has(r)?(yt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jl}"`),null):r}function Db(r,a){let s,o,i,c,d;if(jb(r)){let m=r.getAttribute("action");o=m?Cr(m,a):null,s=r.getAttribute("method")||Xl,i=jd(r.getAttribute("enctype"))||Jl,c=new FormData(r)}else if(wb(r)||Nb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||m.getAttribute("action");if(o=f?Cr(f,a):null,s=r.getAttribute("formmethod")||m.getAttribute("method")||Xl,i=jd(r.getAttribute("formenctype"))||jd(m.getAttribute("enctype"))||Jl,c=new FormData(m,r),!Eb()){let{name:h,type:x,value:b}=r;if(x==="image"){let v=h?`${h}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else h&&c.append(h,b)}}else{if(gi(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Xl,o=null,i=Jl,d=r}return c&&i==="text/plain"&&(d=c,c=void 0),{action:o,method:s.toLowerCase(),encType:i,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Su(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Rb(r,a,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${s}`:a&&Cr(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function _b(r,a){if(r.id in a)return a[r.id];try{let s=await import(r.module);return a[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Tb(r,a,s){let o=await Promise.all(r.map(async i=>{let c=a.routes[i.route.id];if(c){let d=await _b(c,s);return d.links?d.links():[]}return[]}));return Ib(o.flat(1).filter(Pb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qh(r,a,s,o,i,c){let d=(f,h)=>s[h]?f.route.id!==s[h].route.id:!0,m=(f,h)=>s[h].pathname!==f.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==f.params["*"];return c==="assets"?a.filter((f,h)=>d(f,h)||m(f,h)):c==="data"?a.filter((f,h)=>{let x=o.routes[f.route.id];if(!x||!x.hasLoader)return!1;if(d(f,h)||m(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ab(r,a,{includeHydrateFallback:s}={}){return Mb(r.map(o=>{let i=a.routes[o.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function Mb(r){return[...new Set(r)]}function Lb(r){let a={},s=Object.keys(r).sort();for(let o of s)a[o]=r[o];return a}function Ib(r,a){let s=new Set;return new Set(a),r.reduce((o,i)=>{let c=JSON.stringify(Lb(i));return s.has(c)||(s.add(c),o.push({key:c,link:i})),o},[])}function Xp(){let r=g.useContext(La);return Su(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ob(){let r=g.useContext(Do);return Su(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Eu=g.createContext(void 0);Eu.displayName="FrameworkContext";function Jp(){let r=g.useContext(Eu);return Su(r,"You must render this element inside a <HydratedRouter> element"),r}function Fb(r,a){let s=g.useContext(Eu),[o,i]=g.useState(!1),[c,d]=g.useState(!1),{onFocus:m,onBlur:f,onMouseEnter:h,onMouseLeave:x,onTouchStart:b}=a,v=g.useRef(null);g.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let C=N=>{N.forEach(D=>{d(D.isIntersecting)})},j=new IntersectionObserver(C,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[r]),g.useEffect(()=>{if(o){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[o]);let w=()=>{i(!0)},S=()=>{i(!1),d(!1)};return s?r!=="intent"?[c,v,{}]:[c,v,{onFocus:mo(m,w),onBlur:mo(f,S),onMouseEnter:mo(h,w),onMouseLeave:mo(x,S),onTouchStart:mo(b,w)}]:[!1,v,{}]}function mo(r,a){return s=>{r&&r(s),s.defaultPrevented||a(s)}}function $b({page:r,...a}){let{router:s}=Xp(),o=g.useMemo(()=>ea(s.routes,r,s.basename),[s.routes,r,s.basename]);return o?g.createElement(Vb,{page:r,matches:o,...a}):null}function zb(r){let{manifest:a,routeModules:s}=Jp(),[o,i]=g.useState([]);return g.useEffect(()=>{let c=!1;return Tb(r,a,s).then(d=>{c||i(d)}),()=>{c=!0}},[r,a,s]),o}function Vb({page:r,matches:a,...s}){let o=jn(),{manifest:i,routeModules:c}=Jp(),{basename:d}=Xp(),{loaderData:m,matches:f}=Ob(),h=g.useMemo(()=>qh(r,a,f,i,o,"data"),[r,a,f,i,o]),x=g.useMemo(()=>qh(r,a,f,i,o,"assets"),[r,a,f,i,o]),b=g.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let S=new Set,C=!1;if(a.forEach(N=>{let D=i.routes[N.route.id];!D||!D.hasLoader||(!h.some(R=>R.route.id===N.route.id)&&N.route.id in m&&c[N.route.id]?.shouldRevalidate||D.hasClientLoader?C=!0:S.add(N.route.id))}),S.size===0)return[];let j=Rb(r,d,"data");return C&&S.size>0&&j.searchParams.set("_routes",a.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[d,m,o,i,h,a,r,c]),v=g.useMemo(()=>Ab(x,i),[x,i]),w=zb(x);return g.createElement(g.Fragment,null,b.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),v.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),w.map(({key:S,link:C})=>g.createElement("link",{key:S,...C})))}function Ub(...r){return a=>{r.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zp&&(window.__reactRouterVersion="7.7.0")}catch{}function Bb(r,a){return Mv({basename:a?.basename,unstable_getContext:a?.unstable_getContext,future:a?.future,history:Zy({window:a?.window}),hydrationData:Wb(),routes:r,mapRouteProperties:hb,hydrationRouteProperties:pb,dataStrategy:a?.dataStrategy,patchRoutesOnNavigation:a?.patchRoutesOnNavigation,window:a?.window}).initialize()}function Wb(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:Hb(r.errors)}),r}function Hb(r){if(!r)return null;let a=Object.entries(r),s={};for(let[o,i]of a)if(i&&i.__type==="RouteErrorResponse")s[o]=new oi(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let c=window[i.__subType];if(typeof c=="function")try{let d=new c(i.message);d.stack="",s[o]=d}catch{}}if(s[o]==null){let c=new Error(i.message);c.stack="",s[o]=c}}else s[o]=i;return s}var eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=g.forwardRef(function({onClick:a,discover:s="render",prefetch:o="none",relative:i,reloadDocument:c,replace:d,state:m,target:f,to:h,preventScrollReset:x,viewTransition:b,...v},w){let{basename:S}=g.useContext(Xr),C=typeof h=="string"&&eg.test(h),j,N=!1;if(typeof h=="string"&&C&&(j=h,Zp))try{let F=new URL(window.location.href),$=h.startsWith("//")?new URL(F.protocol+h):new URL(h),q=Cr($.pathname,S);$.origin===F.origin&&q!=null?h=q+$.search+$.hash:N=!0}catch{yt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=eb(h,{relative:i}),[R,M,T]=Fb(o,v),k=Kb(h,{replace:d,state:m,target:f,preventScrollReset:x,relative:i,viewTransition:b});function _(F){a&&a(F),F.defaultPrevented||k(F)}let z=g.createElement("a",{...v,...T,href:j||D,onClick:N||c?a:_,ref:Ub(w,M),target:f,"data-discover":!C&&s==="render"?"true":void 0});return R&&!C?g.createElement(g.Fragment,null,z,g.createElement($b,{page:D})):z});Wt.displayName="Link";var Yb=g.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:o="",end:i=!1,style:c,to:d,viewTransition:m,children:f,...h},x){let b=_o(d,{relative:h.relative}),v=jn(),w=g.useContext(Do),{navigator:S,basename:C}=g.useContext(Xr),j=w!=null&&ew(b)&&m===!0,N=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,D=v.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(D=D.toLowerCase(),R=R?R.toLowerCase():null,N=N.toLowerCase()),R&&C&&(R=Cr(R,C)||R);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=D===N||!i&&D.startsWith(N)&&D.charAt(M)==="/",k=R!=null&&(R===N||!i&&R.startsWith(N)&&R.charAt(N.length)==="/"),_={isActive:T,isPending:k,isTransitioning:j},z=T?a:void 0,F;typeof o=="function"?F=o(_):F=[o,T?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof c=="function"?c(_):c;return g.createElement(Wt,{...h,"aria-current":z,className:F,ref:x,style:$,to:d,viewTransition:m},typeof f=="function"?f(_):f)});Yb.displayName="NavLink";var Gb=g.forwardRef(({discover:r="render",fetcherKey:a,navigate:s,reloadDocument:o,replace:i,state:c,method:d=Xl,action:m,onSubmit:f,relative:h,preventScrollReset:x,viewTransition:b,...v},w)=>{let S=Jb(),C=Zb(m,{relative:h}),j=d.toLowerCase()==="get"?"get":"post",N=typeof m=="string"&&eg.test(m),D=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,T=M?.getAttribute("formmethod")||d;S(M||R.currentTarget,{fetcherKey:a,method:T,navigate:s,replace:i,state:c,relative:h,preventScrollReset:x,viewTransition:b})};return g.createElement("form",{ref:w,method:j,action:C,onSubmit:o?f:D,...v,"data-discover":!N&&r==="render"?"true":void 0})});Gb.displayName="Form";function qb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tg(r){let a=g.useContext(La);return $e(a,qb(r)),a}function Kb(r,{target:a,replace:s,state:o,preventScrollReset:i,relative:c,viewTransition:d}={}){let m=pi(),f=jn(),h=_o(r,{relative:c});return g.useCallback(x=>{if(Sb(x,a)){x.preventDefault();let b=s!==void 0?s:ra(f)===ra(h);m(r,{replace:b,state:o,preventScrollReset:i,relative:c,viewTransition:d})}},[f,m,h,s,o,a,r,i,c,d])}var Qb=0,Xb=()=>`__${String(++Qb)}__`;function Jb(){let{router:r}=tg("useSubmit"),{basename:a}=g.useContext(Xr),s=ub();return g.useCallback(async(o,i={})=>{let{action:c,method:d,encType:m,formData:f,body:h}=Db(o,a);if(i.navigate===!1){let x=i.fetcherKey||Xb();await r.fetch(x,s,i.action||c,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||d,formEncType:i.encType||m,flushSync:i.flushSync})}else await r.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||d,formEncType:i.encType||m,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,a,s])}function Zb(r,{relative:a}={}){let{basename:s}=g.useContext(Xr),o=g.useContext(Jr);$e(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),c={..._o(r||".",{relative:a})},d=jn();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),f=m.getAll("index");if(f.some(x=>x==="")){m.delete("index"),f.filter(b=>b).forEach(b=>m.append("index",b));let x=m.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Kr([s,c.pathname])),ra(c)}function ew(r,a={}){let s=g.useContext(bu);$e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=tg("useViewTransitionState"),i=_o(r,{relative:a.relative});if(!s.isTransitioning)return!1;let c=Cr(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=Cr(s.nextLocation.pathname,o)||s.nextLocation.pathname;return si(i.pathname,d)!=null||si(i.pathname,c)!=null}var ws=Pp();const tw=hu(ws);function rw(r){return g.createElement(xb,{flushSync:ws.flushSync,...r})}/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rg=(...r)=>r.filter((a,s,o)=>!!a&&o.indexOf(a)===s).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:i="",children:c,iconNode:d,...m},f)=>g.createElement("svg",{ref:f,...aw,width:a,height:a,stroke:r,strokeWidth:o?Number(s)*24/Number(a):s,className:rg("lucide",i),...m},[...d.map(([h,x])=>g.createElement(h,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(r,a)=>{const s=g.forwardRef(({className:o,...i},c)=>g.createElement(sw,{ref:c,iconNode:a,className:rg(`lucide-${nw(r)}`,o),...i}));return s.displayName=`${r}`,s};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Se("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Se("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Se("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Se("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Se("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Se("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Se("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Se("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Se("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Se("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Se("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Se("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Se("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function cg(r){var a,s,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(a=0;a<i;a++)r[a]&&(s=cg(r[a]))&&(o&&(o+=" "),o+=s)}else for(s in r)r[s]&&(o&&(o+=" "),o+=s);return o}function kw(){for(var r,a,s=0,o="",i=arguments.length;s<i;s++)(r=arguments[s])&&(a=cg(r))&&(o&&(o+=" "),o+=a);return o}const Pu="-",Dw=r=>{const a=_w(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=r;return{getClassGroupId:d=>{const m=d.split(Pu);return m[0]===""&&m.length!==1&&m.shift(),dg(m,a)||Rw(d)},getConflictingClassGroupIds:(d,m)=>{const f=s[d]||[];return m&&o[d]?[...f,...o[d]]:f}}},dg=(r,a)=>{if(r.length===0)return a.classGroupId;const s=r[0],o=a.nextPart.get(s),i=o?dg(r.slice(1),o):void 0;if(i)return i;if(a.validators.length===0)return;const c=r.join(Pu);return a.validators.find(({validator:d})=>d(c))?.classGroupId},Xh=/^\[(.+)\]$/,Rw=r=>{if(Xh.test(r)){const a=Xh.exec(r)[1],s=a?.substring(0,a.indexOf(":"));if(s)return"arbitrary.."+s}},_w=r=>{const{theme:a,prefix:s}=r,o={nextPart:new Map,validators:[]};return Tw(Object.entries(r.classGroups),s).forEach(([c,d])=>{qd(d,o,c,a)}),o},qd=(r,a,s,o)=>{r.forEach(i=>{if(typeof i=="string"){const c=i===""?a:Jh(a,i);c.classGroupId=s;return}if(typeof i=="function"){if(Pw(i)){qd(i(o),a,s,o);return}a.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([c,d])=>{qd(d,Jh(a,c),s,o)})})},Jh=(r,a)=>{let s=r;return a.split(Pu).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},Pw=r=>r.isThemeGetter,Tw=(r,a)=>a?r.map(([s,o])=>{const i=o.map(c=>typeof c=="string"?a+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,m])=>[a+d,m])):c);return[s,i]}):r,Aw=r=>{if(r<1)return{get:()=>{},set:()=>{}};let a=0,s=new Map,o=new Map;const i=(c,d)=>{s.set(c,d),a++,a>r&&(a=0,o=s,s=new Map)};return{get(c){let d=s.get(c);if(d!==void 0)return d;if((d=o.get(c))!==void 0)return i(c,d),d},set(c,d){s.has(c)?s.set(c,d):i(c,d)}}},ug="!",Mw=r=>{const{separator:a,experimentalParseClassName:s}=r,o=a.length===1,i=a[0],c=a.length,d=m=>{const f=[];let h=0,x=0,b;for(let j=0;j<m.length;j++){let N=m[j];if(h===0){if(N===i&&(o||m.slice(j,j+c)===a)){f.push(m.slice(x,j)),x=j+c;continue}if(N==="/"){b=j;continue}}N==="["?h++:N==="]"&&h--}const v=f.length===0?m:m.substring(x),w=v.startsWith(ug),S=w?v.substring(1):v,C=b&&b>x?b-x:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:C}};return s?m=>s({className:m,parseClassName:d}):d},Lw=r=>{if(r.length<=1)return r;const a=[];let s=[];return r.forEach(o=>{o[0]==="["?(a.push(...s.sort(),o),s=[]):s.push(o)}),a.push(...s.sort()),a},Iw=r=>({cache:Aw(r.cacheSize),parseClassName:Mw(r),...Dw(r)}),Ow=/\s+/,Fw=(r,a)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:i}=a,c=[],d=r.trim().split(Ow);let m="";for(let f=d.length-1;f>=0;f-=1){const h=d[f],{modifiers:x,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:w}=s(h);let S=!!w,C=o(S?v.substring(0,w):v);if(!C){if(!S){m=h+(m.length>0?" "+m:m);continue}if(C=o(v),!C){m=h+(m.length>0?" "+m:m);continue}S=!1}const j=Lw(x).join(":"),N=b?j+ug:j,D=N+C;if(c.includes(D))continue;c.push(D);const R=i(C,S);for(let M=0;M<R.length;++M){const T=R[M];c.push(N+T)}m=h+(m.length>0?" "+m:m)}return m};function $w(){let r=0,a,s,o="";for(;r<arguments.length;)(a=arguments[r++])&&(s=mg(a))&&(o&&(o+=" "),o+=s);return o}const mg=r=>{if(typeof r=="string")return r;let a,s="";for(let o=0;o<r.length;o++)r[o]&&(a=mg(r[o]))&&(s&&(s+=" "),s+=a);return s};function zw(r,...a){let s,o,i,c=d;function d(f){const h=a.reduce((x,b)=>b(x),r());return s=Iw(h),o=s.cache.get,i=s.cache.set,c=m,m(f)}function m(f){const h=o(f);if(h)return h;const x=Fw(f,s);return i(f,x),x}return function(){return c($w.apply(null,arguments))}}const ot=r=>{const a=s=>s[r]||[];return a.isThemeGetter=!0,a},fg=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vw=/^\d+\/\d+$/,Uw=new Set(["px","full","screen"]),Bw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ww=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fn=r=>ps(r)||Uw.has(r)||Vw.test(r),Kn=r=>Ns(r,"length",tj),ps=r=>!!r&&!Number.isNaN(Number(r)),Nd=r=>Ns(r,"number",ps),fo=r=>!!r&&Number.isInteger(Number(r)),qw=r=>r.endsWith("%")&&ps(r.slice(0,-1)),Oe=r=>fg.test(r),Qn=r=>Bw.test(r),Kw=new Set(["length","size","percentage"]),Qw=r=>Ns(r,Kw,hg),Xw=r=>Ns(r,"position",hg),Jw=new Set(["image","url"]),Zw=r=>Ns(r,Jw,nj),ej=r=>Ns(r,"",rj),ho=()=>!0,Ns=(r,a,s)=>{const o=fg.exec(r);return o?o[1]?typeof a=="string"?o[1]===a:a.has(o[1]):s(o[2]):!1},tj=r=>Ww.test(r)&&!Hw.test(r),hg=()=>!1,rj=r=>Yw.test(r),nj=r=>Gw.test(r),aj=()=>{const r=ot("colors"),a=ot("spacing"),s=ot("blur"),o=ot("brightness"),i=ot("borderColor"),c=ot("borderRadius"),d=ot("borderSpacing"),m=ot("borderWidth"),f=ot("contrast"),h=ot("grayscale"),x=ot("hueRotate"),b=ot("invert"),v=ot("gap"),w=ot("gradientColorStops"),S=ot("gradientColorStopPositions"),C=ot("inset"),j=ot("margin"),N=ot("opacity"),D=ot("padding"),R=ot("saturate"),M=ot("scale"),T=ot("sepia"),k=ot("skew"),_=ot("space"),z=ot("translate"),F=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",Oe,a],Z=()=>[Oe,a],te=()=>["",fn,Kn],re=()=>["auto",ps,Oe],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Oe],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[ps,Oe];return{cacheSize:500,separator:":",theme:{colors:[ho],spacing:[fn,Kn],blur:["none","",Qn,Oe],brightness:A(),borderColor:[r],borderRadius:["none","","full",Qn,Oe],borderSpacing:Z(),borderWidth:te(),contrast:A(),grayscale:J(),hueRotate:A(),invert:J(),gap:Z(),gradientColorStops:[r],gradientColorStopPositions:[qw,Kn],inset:q(),margin:q(),opacity:A(),padding:Z(),saturate:A(),scale:A(),sepia:J(),skew:A(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Qn]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Oe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,Oe]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",fo,Oe]}],"grid-cols":[{"grid-cols":[ho]}],"col-start-end":[{col:["auto",{span:["full",fo,Oe]},Oe]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[ho]}],"row-start-end":[{row:["auto",{span:[fo,Oe]},Oe]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,a]}],"min-w":[{"min-w":[Oe,a,"min","max","fit"]}],"max-w":[{"max-w":[Oe,a,"none","full","min","max","fit","prose",{screen:[Qn]},Qn]}],h:[{h:[Oe,a,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,a,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,a,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,a,"auto","min","max","fit"]}],"font-size":[{text:["base",Qn,Kn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nd]}],"font-family":[{font:[ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",ps,Nd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fn,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fn,Kn]}],"underline-offset":[{"underline-offset":["auto",fn,Oe]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Xw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zw]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[fn,Oe]}],"outline-w":[{outline:[fn,Kn]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[fn,Kn]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Qn,ej]}],"shadow-color":[{shadow:[ho]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Qn,Oe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[b]}],saturate:[{saturate:[R]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[fo,Oe]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[fn,Kn,Nd]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sj=zw(aj);function ct(...r){return sj(kw(r))}const oj=[{name:"Dashboard",href:"/",icon:vw,description:"Vista matriz de facturación"},{name:"Pendientes",href:"/pendientes",icon:xw,description:"Solicitudes pendientes"},{name:"Reportes",href:"/reportes",icon:Ar,description:"Análisis y reportes"},{name:"Empresas",href:"/empresas",icon:ft,description:"Directorio de empresas de energía"},{name:"Análisis",href:"/analisis-demanda",icon:Nn,description:"Análisis de demanda temporal"}],lj=[{name:"Alcaldía de Palmira",slug:"alcaldia-palmira"},{name:"Alcaldía de Tuluá",slug:"alcaldia-tulua"},{name:"Gobernación del Valle",slug:"gobernacion-valle"},{name:"Infibagué",slug:"infibague"}];function Gr({children:r}){const a=jn(),[s,o]=g.useState(!1),i=g.useRef(null);return g.useEffect(()=>{const c=d=>{i.current&&!i.current.contains(d.target)&&o(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg border-b border-blue-800",children:t.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center py-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:"Control de Facturación - Jikkosoft"}),t.jsx("span",{className:"ml-3 text-blue-200 text-sm hidden md:inline",children:"Gestión de solicitudes por empresa y mes"})]}),t.jsxs("nav",{className:"flex space-x-2",children:[oj.map(c=>{const d=a.pathname===c.href,m=c.icon;return t.jsxs(Wt,{to:c.href,className:ct("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",d?"bg-white/20 text-white border border-white/30 shadow-sm":"text-blue-100 hover:text-white hover:bg-white/10 border border-transparent"),title:c.description,children:[t.jsx(m,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:c.name}),t.jsx("span",{className:"sm:hidden",children:c.name.charAt(0)})]},c.name)}),t.jsxs("div",{className:"relative",ref:i,children:[t.jsxs("button",{onClick:()=>o(!s),className:ct("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",s||a.pathname.includes("/entidad/")?"bg-white/20 text-white border border-white/30 shadow-sm":"text-blue-100 hover:text-white hover:bg-white/10 border border-transparent"),title:"Vistas históricas por entidad",children:[t.jsx(Qh,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Histórico"}),t.jsx("span",{className:"sm:hidden",children:"H"}),t.jsx(xi,{className:"h-3 w-3 ml-1"})]}),s&&t.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-100",children:"Vistas Históricas"}),lj.map(c=>{const d=a.pathname===`/entidad/${c.slug}/historico`;return t.jsx(Wt,{to:`/entidad/${c.slug}/historico`,className:ct("block px-4 py-3 text-sm transition-colors",d?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),onClick:()=>o(!1),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Qh,{className:"h-4 w-4 mr-3 text-gray-400"}),c.name]})},c.slug)})]})]})]})]})})}),t.jsx("main",{className:"w-full px-2 sm:px-4 lg:px-6",children:r})]})}function ij(){return g.useEffect(()=>{const r="/jikko-estimator/facturacion",a=window.location.pathname,s=window.location.hash,o=window.location.search;if(a===r||a===r+"/")return void 0;if(!s&&a.startsWith(r)){let i=a.substring(r.length);i.startsWith("/")||(i="/"+i);const c=r+"/#"+i+o;console.log("LegacyUrlRedirect: Redirigiendo de",a,"a",c),window.location.replace(c)}},[]),null}const cj="modulepreload",dj=function(r){return"/jikko-estimator/facturacion/"+r},Zh={},Y=function(a,s,o){let i=Promise.resolve();if(s&&s.length>0){let h=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var d=h;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),f=m?.nonce||m?.getAttribute("nonce");i=h(s.map(x=>{if(x=dj(x),x in Zh)return;Zh[x]=!0;const b=x.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":cj,b||(w.as="script"),w.crossOrigin="",w.href=x,f&&w.setAttribute("nonce",f),document.head.appendChild(w),b)return new Promise((S,C)=>{w.addEventListener("load",S),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(m){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=m,window.dispatchEvent(f),!f.defaultPrevented)throw m}return i.then(m=>{for(const f of m||[])f.status==="rejected"&&c(f.reason);return a().catch(c)})},To=(r,a,s)=>{const o=r[a];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+a+(a.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};class Be{static apiBaseUrl="http://localhost:3001/api";static async loadDataForEntityYear(a,s){try{const o=await this.loadDataFromJsonFiles(a,s.toString());if(o)return o}catch(o){console.warn(`JSON loading failed for ${a} ${s}:`,o);try{const i=await fetch(`${this.apiBaseUrl}/billing/${encodeURIComponent(a)}/${s}`);if(!i.ok)throw new Error(`La API no pudo cargar los datos: ${i.status}`);return await i.json()}catch{throw o}}throw new Error(`No se pudo cargar los datos para ${a} ${s}`)}static async loadDataFromJsonFiles(a,s){try{const i={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[a];if(!i)throw new Error(`Entidad "${a}" no está configurada en el sistema`);try{const d=(await To(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Y(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Y(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Y(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Y(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Y(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Y(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Y(()=>import("./2023-DrujBmiH.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Y(()=>import("./2024-C_HV7Ih5.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Y(()=>import("./2025-DPX86qph.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Y(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Y(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Y(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Y(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Y(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Y(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Y(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Y(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Y(()=>import("./2025-DbV08IcW.js"),[]),"../data/gobernacion-valle/2017.json":()=>Y(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Y(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Y(()=>import("./2019-KKyEHg-1.js"),[]),"../data/gobernacion-valle/2020.json":()=>Y(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Y(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Y(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Y(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Y(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Y(()=>import("./2025-GQlrFJAI.js"),[]),"../data/infibague/2023.json":()=>Y(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Y(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Y(()=>import("./2025-TA4I06BJ.js"),[])}),`../data/${i}/${s}.json`,4)).default;return this.normalizeDataStructure(d)}catch(c){throw c.message?.includes("Unknown variable dynamic import")?new Error(`No existe el archivo JSON para ${a} del año ${s}`):c}}catch(o){throw console.error("Error loading data from JSON files:",o),o}}static async saveDataForEntityYear(a,s,o){try{const i=this.normalizeDataStructure(o),c=await fetch(`${this.apiBaseUrl}/billing/${encodeURIComponent(a)}/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!c.ok)throw new Error(`API request failed: ${c.status} ${c.statusText}`);const d=await c.json();console.log(`Data saved for ${a} ${s}:`,d.message)}catch(i){throw console.error(`Error saving data for ${a} ${s}:`,i),i}}static async getAvailableEntities(){try{const a=await fetch(`${this.apiBaseUrl}/entities`);if(!a.ok)throw new Error(`API request failed: ${a.status}`);return await a.json()}catch(a){return console.error("Error getting entities:",a),["Alcaldía de Palmira","Alcaldía de Tuluá","Gobernación del Valle del Cauca","Infibagué"]}}static async getAvailableYears(){try{const a=await fetch(`${this.apiBaseUrl}/years`);if(!a.ok)throw new Error(`API request failed: ${a.status}`);return await a.json()}catch(a){return console.error("Error getting years:",a),[2017,2018,2019,2020,2021,2022,2023,2024,2025]}}static normalizeDataStructure(a){const s={};for(const[o,i]of Object.entries(a))if(typeof i=="object"&&i!==null){const c={};for(const[d,m]of Object.entries(i))d==="_metadata"?c._metadata=m:typeof m=="object"&&m!==null&&(c[d]=m);c._metadata||(c._metadata={usuariosCount:null,esIncumbente:!1,tipoEmpresa:null,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}),s[o]=c}return s}static getCompanyMetadata(a){return a._metadata||{usuariosCount:null,esIncumbente:!1,tipoEmpresa:null,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}}static updateCompanyMetadata(a,s){return{...a,_metadata:s}}static getMonthlyBillingData(a,s){const o=a[s];return o&&typeof o=="object"?o:null}static validateCompanyData(a){try{return!(!a._metadata||typeof a._metadata.esIncumbente!="boolean")}catch(s){return console.error("Error validating company data:",s),!1}}static createDataBackup(a){return JSON.parse(JSON.stringify(a))}static validateCompanyRename(a,s,o){return a[s]?a[o]&&s!==o?{isValid:!1,error:`Ya existe una empresa con el nombre "${o}"`}:o.trim()?{isValid:!0}:{isValid:!1,error:"El nombre de la empresa no puede estar vacío"}:{isValid:!1,error:`La empresa "${s}" no existe`}}static loadDataFromLocalStorage(a,s){try{const o=`billing_${a}_${s}`,i=localStorage.getItem(o);return i?this.normalizeDataStructure(JSON.parse(i)):null}catch(o){return console.error(`Error loading from localStorage for ${a} ${s}:`,o),null}}}class wt{static MONTH_NAMES=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];static formatHumanDate(a){if(!a)return"Sin fecha";const s=a.split("-");if(s.length===3&&s[0].length===4){const m=parseInt(s[0]),f=parseInt(s[1])-1,h=parseInt(s[2]);if(!isNaN(m)&&!isNaN(f)&&!isNaN(h)&&f>=0&&f<=11&&h>=1&&h<=31){const x=new Date(m,f,h),b=x.getDate(),v=this.MONTH_NAMES[x.getMonth()],w=x.getFullYear();return`${v} ${b} de ${w}`}}const o=new Date(a),i=o.getDate(),c=this.MONTH_NAMES[o.getMonth()],d=o.getFullYear();return`${c} ${i} de ${d}`}static calculateElapsedDays(a){if(!a)return null;const s=a.split("-");if(s.length===3&&s[0].length===4){const d=parseInt(s[0]),m=parseInt(s[1])-1,f=parseInt(s[2]);if(!isNaN(d)&&!isNaN(m)&&!isNaN(f)&&m>=0&&m<=11&&f>=1&&f<=31){const h=new Date(d,m,f),b=new Date().getTime()-h.getTime();return Math.floor(b/(1e3*3600*24))}}const o=new Date(a),c=new Date().getTime()-o.getTime();return Math.floor(c/(1e3*3600*24))}static shouldShowElapsedDays(a){return a!=="Sin Solicitud"&&a!=="Closed"&&a!=="Removed"}static getElapsedDaysColor(a){return a>30?"text-red-600":a>15?"text-orange-600":"text-gray-600"}static calculateClosedDays(a,s,o){if(o!=null&&o>=0)return o;if(!a||!s)return null;const i=f=>{const h=f.split("-");if(h.length===3&&h[0].length===4){const x=parseInt(h[0]),b=parseInt(h[1])-1,v=parseInt(h[2]);if(!isNaN(x)&&!isNaN(b)&&!isNaN(v)&&b>=0&&b<=11&&v>=1&&v<=31)return new Date(x,b,v)}return null},c=i(a),d=i(s);if(!c||!d)try{const f=new Date(a),x=new Date(s).getTime()-f.getTime();return Math.floor(x/(1e3*3600*24))}catch{return null}const m=d.getTime()-c.getTime();return Math.floor(m/(1e3*3600*24))}static shouldShowClosedDays(a){return a==="Closed"}static getClosedDaysColor(){return"text-gray-600"}static calculateProcessingDaysForStorage(a,s){if(!a||!s)return null;const o=f=>{const h=f.split("-");if(h.length===3&&h[0].length===4){const x=parseInt(h[0]),b=parseInt(h[1])-1,v=parseInt(h[2]);if(!isNaN(x)&&!isNaN(b)&&!isNaN(v)&&b>=0&&b<=11&&v>=1&&v<=31)return new Date(x,b,v)}return null},i=o(a),c=o(s);if(!i||!c)try{const f=new Date(a),x=new Date(s).getTime()-f.getTime(),b=Math.floor(x/(1e3*3600*24));return b>=0?b:null}catch{return null}const d=c.getTime()-i.getTime(),m=Math.floor(d/(1e3*3600*24));return m>=0?m:null}static shouldCalculateAndStoreDays(a,s,o){return a==="Closed"&&!!s&&!!o}}const Ke=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];async function uj(r,a){const o={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[r];if(!o)throw new Error(`Entity ${r} not found`);try{const c=(await To(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Y(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Y(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Y(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Y(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Y(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Y(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Y(()=>import("./2023-DrujBmiH.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Y(()=>import("./2024-C_HV7Ih5.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Y(()=>import("./2025-DPX86qph.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Y(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Y(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Y(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Y(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Y(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Y(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Y(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Y(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Y(()=>import("./2025-DbV08IcW.js"),[]),"../data/gobernacion-valle/2017.json":()=>Y(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Y(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Y(()=>import("./2019-KKyEHg-1.js"),[]),"../data/gobernacion-valle/2020.json":()=>Y(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Y(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Y(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Y(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Y(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Y(()=>import("./2025-GQlrFJAI.js"),[]),"../data/infibague/2023.json":()=>Y(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Y(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Y(()=>import("./2025-TA4I06BJ.js"),[])}),`../data/${o}/${a}.json`,4)).default;return Object.keys(c)}catch{throw new Error(`Failed to load data for ${r} ${a}`)}}const Nr=["Alcaldía de Palmira","Alcaldía de Tuluá","Gobernación del Valle del Cauca","Infibagué"],Tu={"Sin Solicitud":"Sin Solicitud",New:"Nuevo",Refinement:"Refinamiento",Ready:"Listo",Active:"Activo","Validación y aprobación de Tributaria - Analítica":"Validación y Aprobación de Tributaria - Analítica","Cargue Archivo Staging":"Cargue Archivo Staging","Validación Tributaria Staging":"Validación Tributaria Staging","Cargue Archivo PROD":"Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD":"Validación y Aprobación de Tributaria - PROD","Facturación en PROD":"Facturación en PROD","Generar Reportes":"Generar Reportes","QA Certification":"Certificación QA","Gestion Tributaria":"Gestión Tributaria",Impediment:"Impedimento",Paused:"Pausado","Peer Review":"Revisión por Pares","Third Party":"Terceros",Staging:"Pre-producción",Production:"Producción",Closed:"Cerrado",Removed:"Removido"};function na(r){switch(r){case"Sin Solicitud":return{bg:"bg-gray-100",text:"text-gray-600"};case"New":return{bg:"bg-blue-100",text:"text-blue-800"};case"Refinement":return{bg:"bg-purple-100",text:"text-purple-800"};case"Ready":return{bg:"bg-blue-100",text:"text-blue-800"};case"Active":return{bg:"bg-blue-100",text:"text-blue-800"};case"QA Certification":return{bg:"bg-yellow-100",text:"text-yellow-800"};case"Gestion Tributaria":return{bg:"bg-orange-100",text:"text-orange-800"};case"Impediment":return{bg:"bg-red-100",text:"text-red-800"};case"Paused":return{bg:"bg-gray-100",text:"text-gray-800"};case"Peer Review":return{bg:"bg-indigo-100",text:"text-indigo-800"};case"Third Party":return{bg:"bg-pink-100",text:"text-pink-800"};case"Staging":return{bg:"bg-cyan-100",text:"text-cyan-800"};case"Production":return{bg:"bg-green-100",text:"text-green-800"};case"Closed":return{bg:"bg-green-100",text:"text-green-800"};case"Removed":return{bg:"bg-red-100",text:"text-red-800"};case"Validación y aprobación de Tributaria - Analítica":return{bg:"bg-blue-100",text:"text-gray-800"};case"Cargue Archivo Staging":return{bg:"bg-orange-100",text:"text-gray-800"};case"Validación Tributaria Staging":return{bg:"bg-orange-100",text:"text-gray-800"};case"Cargue Archivo PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Validación y Aprobación de Tributaria - PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Facturación en PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Validación Tributaria de Facturación":return{bg:"bg-green-100",text:"text-gray-800"};case"Dispersión en BD":return{bg:"bg-blue-100",text:"text-gray-800"};case"Generar Reportes":return{bg:"bg-green-100",text:"text-gray-800"};default:return{bg:"bg-gray-50",text:"text-gray-500"}}}function mj(r){return{"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[r]||""}function ys(r){switch(r){case"Sin Solicitud":return"📝";case"New":return"🆕";case"Refinement":return"🔍";case"Ready":return"🆕";case"Active":return"⚡";case"Limpieza y Transformación":return"🧹";case"Validación y aprobación de Tributaria - Analítica":return"🔍🧹";case"Cargue Archivo Staging":return"📤";case"Validación Tributaria Staging":return"🔍📤";case"Cargue Archivo PROD":return"📦";case"Validación y Aprobación de Tributaria - PROD":return"🔍📦";case"Facturación en PROD":return"💰";case"Validación Tributaria de Facturación":return"🔍💰";case"Dispersión en BD":return"📊💾";case"Generar Reportes":return"📊";case"QA Certification":return"🔍";case"Gestion Tributaria":return"💰";case"Impediment":return"🚫";case"Paused":return"⏸️";case"Peer Review":return"👥";case"Third Party":return"🤝";case"Staging":return"🎭";case"Production":return"🚀";case"Closed":return"✅";case"Removed":return"🗑️";default:return"❓"}}async function fj(r,a){const s={};try{(await uj(r,a)).forEach(i=>{s[i]={},Ke.forEach(c=>{s[i][c]={estado:"Sin Solicitud",entidad:"",fechaRecibido:"",fechaCerrado:"",notas:"",workItemId:null}})})}catch(o){throw console.error("Error generating blank data:",o),new Error(`No se pudo generar datos para ${r} ${a}: ${o instanceof Error?o.message:"Error desconocido"}`)}return s}class vo{static renameCompany(a,s,o){if(s===o)return a;const i=Be.validateCompanyRename(a,s,o);if(!i.isValid)throw new Error(i.error);const c=Be.createDataBackup(a),d={};try{for(const[m,f]of Object.entries(a))m===s?(Be.validateCompanyData(f)||console.warn(`Company data validation failed for ${s}, proceeding anyway`),d[o]=f):d[m]=f;return d}catch(m){return console.error("Error during company rename, restoring backup:",m),c}}static addNewCompany(a,s,o){const i=s.trim();if(!i)throw new Error("El nombre de la empresa no puede estar vacío");if(a[i])throw new Error(`Ya existe una empresa con el nombre "${i}"`);const c={_metadata:o};if(!Be.validateCompanyData(c))throw new Error("Los datos de la nueva empresa no son válidos");return{...a,[i]:c}}static getCompanyNames(a){return Object.keys(a)}static validateCompanyName(a,s,o){const i=a.trim();return i?i!==o&&s.includes(i)?{isValid:!1,error:"Ya existe una empresa con este nombre"}:{isValid:!0}:{isValid:!1,error:"El nombre de la empresa es requerido"}}static hasAnyBillingData(a){for(const[s,o]of Object.entries(a))if(s!=="_metadata"&&o&&typeof o=="object")return!0;return!1}static sortCompanies(a,s,o=!1){return a.sort((i,c)=>{if(o){const d=this.hasAnyBillingData(s[i]||{}),m=this.hasAnyBillingData(s[c]||{});if(d&&!m)return-1;if(!d&&m)return 1}return i.localeCompare(c,"es")})}static async validateCompanyMultiYear(a,s,o,i){const c=a.trim(),d=[],m={};for(const v of s)try{const w=await Be.loadDataForEntityYear(o,v);m[v]=w}catch{m[v]={}}for(const v of s){const w=m[v];if(!!w[c])d.push({year:v,exists:!0,canCreate:!1,message:"Ya existe empresa con este nombre"});else{const C=this.calculateAlphabeticalPosition(c,Object.keys(w));d.push({year:v,exists:!1,canCreate:!0,message:`Se creará en posición alfabética #${C}`,position:C})}}const f=d.filter(v=>v.canCreate),h=d.filter(v=>!v.canCreate),x=[],b=f.length>0&&f[0].position||1;return{companyName:c,successYears:f,skippedYears:h,errors:x,alphabeticalPosition:b,totalChanges:f.length}}static async createCompanyMultiYear(a,s,o){const{companyName:i,successYears:c}=a;for(const d of c)try{let m;try{m=await Be.loadDataForEntityYear(o,d.year)}catch{m={}}const f={_metadata:s},h={...m,[i]:f},x=this.sortBillingDataAlphabetically(h);await Be.saveDataForEntityYear(o,d.year,x)}catch(m){throw console.error(`Error creating company in year ${d.year}:`,m),new Error(`Failed to create company in year ${d.year}: ${m}`)}}static calculateAlphabeticalPosition(a,s){return[...s,a].sort((i,c)=>i.localeCompare(c,"es")).indexOf(a)+1}static sortBillingDataAlphabetically(a){const s=Object.entries(a).sort(([o],[i])=>o.localeCompare(i,"es"));return Object.fromEntries(s)}static async checkCompanyExistsInYear(a,s,o){try{return!!(await Be.loadDataForEntityYear(o,s))[a.trim()]}catch{return!1}}}function Pt(r,a){const[s,o]=g.useState({}),[i,c]=g.useState(!0),[d,m]=g.useState(null),f=g.useRef(null);g.useEffect(()=>{if(!a)return;(async()=>{c(!0),m(null);try{const _=await Be.loadDataForEntityYear(a,r);o(_)}catch(_){console.error("Error loading data:",_),m(`No se pudo cargar los datos para ${a} ${r}`),o({})}finally{c(!1)}})()},[a,r]);const h=g.useCallback(async()=>{if(!(!a||i))try{return await Be.saveDataForEntityYear(a,r,s),console.log("Data saved successfully for",a,r),!0}catch(k){return console.error("Error saving data:",k),!1}},[a,r,s,i]),x=g.useCallback(k=>{!a||i||(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{try{const _=k||s;await Be.saveDataForEntityYear(a,r,_),console.log("Data auto-saved after user change:",a,r)}catch(_){console.error("Error auto-saving after user change:",_)}},2e3))},[a,r,s,i]),b=g.useCallback((k,_,z,F)=>{o($=>{const q=$[k]?.[_],Z={...q,[z]:F};let te=Z;z==="estado"&&F==="Closed"?wt.shouldCalculateAndStoreDays("Closed",Z.fechaRecibido,Z.fechaCerrado)&&(te={...Z,diasProcesamiento:wt.calculateProcessingDaysForStorage(Z.fechaRecibido,Z.fechaCerrado)}):(z==="fechaRecibido"||z==="fechaCerrado")&&q?.estado==="Closed"?wt.shouldCalculateAndStoreDays("Closed",z==="fechaRecibido"?F:Z.fechaRecibido,z==="fechaCerrado"?F:Z.fechaCerrado)&&(te={...Z,diasProcesamiento:wt.calculateProcessingDaysForStorage(z==="fechaRecibido"?F:Z.fechaRecibido,z==="fechaCerrado"?F:Z.fechaCerrado)}):z==="estado"&&F!=="Closed"&&q?.diasProcesamiento!==void 0&&(te={...Z,diasProcesamiento:null});const re={...$,[k]:{...$[k],[_]:te}};return x(re),re})},[x]),v=g.useCallback((k,_,z)=>{o(F=>{const $=F[k]?.[_];let q={...$,estado:z};return z==="Closed"&&$?wt.shouldCalculateAndStoreDays("Closed",$.fechaRecibido,$.fechaCerrado)&&(q={...q,diasProcesamiento:wt.calculateProcessingDaysForStorage($.fechaRecibido,$.fechaCerrado)}):z!=="Closed"&&$?.diasProcesamiento!==void 0&&(q={...q,diasProcesamiento:null}),{...F,[k]:{...F[k],[_]:q}}})},[]),w=g.useCallback((k,_)=>{const z=s[k];return z?Be.getMonthlyBillingData(z,_):null},[s]),S=g.useCallback((k,_)=>{o(z=>{const F=z[k]||{},$=Be.updateCompanyMetadata(F,_);return{...z,[k]:$}})},[]),C=g.useCallback(k=>{const _=s[k];return Be.getCompanyMetadata(_||{})},[s]),j=g.useCallback((k,_)=>{o(z=>{try{return vo.renameCompany(z,k,_)}catch(F){throw console.error("Error renaming company:",F),F}})},[]),N=g.useCallback((k,_)=>{o(z=>{try{return vo.addNewCompany(z,k,_)}catch(F){throw console.error("Error adding new company:",F),F}})},[]),D=g.useCallback(()=>vo.getCompanyNames(s),[s]),R=g.useCallback(k=>{o(_=>{const z={..._};return k.forEach(F=>{delete z[F]}),z})},[]),M=g.useCallback(async()=>{try{o(await fj(a,r.toString())),m(null)}catch(k){console.error("Error regenerating data:",k),m(`No se pudo generar datos para ${a} ${r}`),o({})}},[a,r]),T=g.useCallback(async(k,_,z)=>{const F=[],$=new Map,q=k.allYears?[2017,2018,2019,2020,2021,2022,2023,2024,2025]:[r],Z=[a],te={};let re=0;for(const X of q)for(const ne of Z)try{const O=await Be.loadDataForEntityYear(ne,X);te[`${ne}-${X}`]=O;const J=k.allCompanies?Object.keys(O):k.companies.filter(ee=>O[ee]);for(const ee of J)for(const A of Ke){const W=O[ee]?.[A];if(W?.workItemId){const ue={company:ee,month:A,year:X,entity:ne},me=$.get(W.workItemId)||[];$.set(W.workItemId,[...me,ue]),re++}}}catch(O){console.warn(`Could not load data for ${ne} ${X}:`,O)}if($.size===0)throw new Error("No se encontraron work items para sincronizar");let G=0;try{const X=Array.from($.keys()),ne=await _.syncMultipleWorkItemsWithDates(X);for(const[O,J]of ne){const ee=$.get(O);if(ee)for(const A of ee){G++,z?.(G,re,`${A.company} - ${A.month}`);const{company:W,month:ue,year:me,entity:Ne}=A,be=te[`${Ne}-${me}`][W]?.[ue];if(be){const ie=be.estado,he=J.state,Ae=ie!==he||be.fechaRecibido!==J.fechaRecibido||be.fechaCerrado!==J.fechaCerrado||be.workItemType!==J.workItemType;if(F.push({company:W,month:ue,oldState:ie,newState:he,fechaRecibido:J.fechaRecibido,fechaCerrado:J.fechaCerrado,success:!0,noChanges:!Ae}),me===r&&Ne===a&&Ae&&(v(W,ue,he),b(W,ue,"fechaRecibido",J.fechaRecibido),b(W,ue,"fechaCerrado",J.fechaCerrado),b(W,ue,"workItemType",J.workItemType)),me!==r||Ne!==a)try{const ge=J.fechaRecibido||be.fechaRecibido,Ie=J.fechaCerrado||be.fechaCerrado;let We=be.diasProcesamiento;he==="Closed"&&wt.shouldCalculateAndStoreDays("Closed",ge,Ie)?We=wt.calculateProcessingDaysForStorage(ge,Ie):he!=="Closed"&&(We=null),te[`${Ne}-${me}`][W][ue]={...be,estado:he,fechaRecibido:ge,fechaCerrado:Ie,diasProcesamiento:We,workItemType:J.workItemType},await Be.saveDataForEntityYear(Ne,me,te[`${Ne}-${me}`])}catch(ge){console.error(`Error saving data for ${Ne} ${me}:`,ge)}}}}return F}catch(X){throw console.error("Error during advanced sync:",X),X}},[r,a,b,v]);return{billingData:s,isLoading:i,error:d,updateField:b,updateStatusFromAzure:v,getCellData:w,updateCompanyMetadata:S,getCompanyMetadata:C,renameCompany:j,addNewCompany:N,getCompanyNames:D,deleteCompanies:R,regenerateDataForEntityYear:M,performAdvancedSync:T,saveData:h}}function Co(r){const s={"Sin Solicitud":"Sin Solicitud",New:"New",Refinement:"Refinement",Ready:"Ready",Active:"Active","QA Certification":"QA Certification","Gestion Tributaria":"Gestion Tributaria",Impediment:"Impediment",Paused:"Paused","Peer Review":"Peer Review","Third Party":"Third Party",Staging:"Staging",Production:"Production",Closed:"Closed",Removed:"Removed","Validación y aprobación de Tributaria - Analítica":"Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging":"Cargue Archivo Staging","Validación Tributaria Staging":"Validación Tributaria Staging","Cargue Archivo PROD":"Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD":"Validación y Aprobación de Tributaria - PROD","Facturación en PROD":"Facturación en PROD","Validación Tributaria de Facturación":"Validación Tributaria de Facturación","Dispersión en BD":"Dispersión en BD","Generar Reportes":"Generar Reportes","Validación y Aprobación de Tributaria - BD":"Validación y aprobación de Tributaria - Analítica","Cargue del Archivo en BD":"Cargue Archivo Staging","Facturacion PROD":"Facturación en PROD","Validación Tributaria PROD":"Validación y Aprobación de Tributaria - PROD","En Validación":"Peer Review","Pendiente Aprobación":"Ready","En Proceso":"Active",Finalizado:"Closed",Cancelado:"Removed","Limpieza y Transformacion":"Active"}[r];return s||(["Sin Solicitud","New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production","Closed","Removed","Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging","Validación Tributaria Staging","Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD","Facturación en PROD","Validación Tributaria de Facturación","Dispersión en BD","Generar Reportes"].includes(r)?r:(console.warn(`[State Mapper] Unrecognized state value: "${r}". Mapping to 'Sin Solicitud'.`),"Sin Solicitud"))}const hj={FT01:{type:"FT01",name:"FT01 - Consumos",description:"Archivo de consumos de energía eléctrica"},FT03:{type:"FT03",name:"FT03 - Recaudos",description:"Archivo de recaudos reportados por comercializadora"},FT06:{type:"FT06",name:"FT06 - Excluidos",description:"Archivo de usuarios excluidos (pagan directo a alcaldía)"}};function pj(r){return`${r.ft01}${r.ft03}${r.ft06}`}function pg(r){const a={ft01:"-",ft03:"-",ft06:"-"};if(!r||r.length!==3)return a;const[s,o,i]=r.split(""),c=["P","N","-"];return!c.includes(s)||!c.includes(o)||!c.includes(i)?a:{ft01:s,ft03:o,ft06:i}}function gj(r){const a=[r.ft01,r.ft03,r.ft06],s=a.filter(c=>c==="P").length,o=a.filter(c=>c==="N").length;return a.filter(c=>c==="-").length===0?"complete":s>0||o>0?"partial":"pending"}function gg(r){const a=[r.ft01,r.ft03,r.ft06],s=a.filter(d=>d==="P").length,o=a.filter(d=>d==="N").length,i=a.filter(d=>d==="-").length;return{overallStatus:gj(r),processed:s,noApply:o,pending:i,details:r}}function Kd(r){const a=pg(r);return gg(a)}function Cd(r){switch(r){case"complete":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"partial":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"pending":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}}function xg(r){switch(r){case"complete":return"Completo";case"partial":return"Parcial";case"pending":return"Pendiente";default:return"Desconocido"}}function xj(r){switch(r){case"P":return"Procesado";case"N":return"No Aplica";case"-":return"Pendiente";default:return"Desconocido"}}function Au(r){switch(r){case"complete":return"✅";case"partial":return"🟡";case"pending":return"🔴";default:return"❓"}}function yj(r){switch(r){case"-":return"P";case"P":return"N";case"N":return"-";default:return"-"}}function vj(r){const[a,s]=g.useState(2025),[o,i]=g.useState(""),[c,d]=g.useState(""),[m,f]=g.useState([]),[h,x]=g.useState(null),b=g.useMemo(()=>Object.keys(r),[r]),v=g.useMemo(()=>b.filter(_=>{const z=_.toLowerCase().includes(o.toLowerCase()),F=c===""||Ke.some(Z=>Be.getMonthlyBillingData(r[_]||{},Z)?.entidad===c);let $=!0;if(h&&($=Ke.some(Z=>{const te=Be.getMonthlyBillingData(r[_]||{},Z);return te?Kd(te.ft).overallStatus===h:!1})),m.length===0)return z&&F&&$;const q=Ke.some(Z=>{const te=Be.getMonthlyBillingData(r[_]||{},Z);if(!te)return m.includes("Sin Solicitud");const re=Co(te.estado);return m.includes(te.estado)||m.includes(re)});return z&&F&&q&&$}),[b,o,c,m,h,r]),w=g.useMemo(()=>{const _={"Sin Solicitud":0,New:0,Refinement:0,Ready:0,Active:0,"Validación y aprobación de Tributaria - Analítica":0,"Cargue Archivo Staging":0,"Validación Tributaria Staging":0,"Cargue Archivo PROD":0,"Validación y Aprobación de Tributaria - PROD":0,"Facturación en PROD":0,"Validación Tributaria de Facturación":0,"Dispersión en BD":0,"Generar Reportes":0,"QA Certification":0,"Gestion Tributaria":0,Impediment:0,Paused:0,"Peer Review":0,"Third Party":0,Staging:0,Production:0,Closed:0,Removed:0,conWorkItems:0};return v.forEach(z=>{Ke.forEach(F=>{const $=Be.getMonthlyBillingData(r[z]||{},F);if($){const q=Co($.estado);_[q]++,$.workItemId&&_.conWorkItems++}})}),_},[v,r]),S=g.useMemo(()=>{const _={conWorkItems:0};return v.forEach(z=>{Ke.forEach(F=>{const $=Be.getMonthlyBillingData(r[z]||{},F);if($){const q=$.estado;_[q]?_[q]++:_[q]=1,$.workItemId&&_.conWorkItems++}})}),_},[v,r]),C=g.useCallback(_=>{f(z=>z.includes(_)?z.filter(F=>F!==_):[...z,_])},[]),j=g.useCallback(()=>{f([]),x(null)},[]),N=m.length>0||h!==null,D=g.useMemo(()=>({selectedStatuses:m,toggleStatus:C,clearFilters:j,isFilterActive:N}),[m,C,j,N]),R=g.useMemo(()=>{const _={complete:0,partial:0,pending:0,total:0};return v.forEach(z=>{Ke.forEach(F=>{const $=Be.getMonthlyBillingData(r[z]||{},F);if($&&$.estado!=="Sin Solicitud"){const q=Kd($.ft);_[q.overallStatus]++,_.total++}})}),_},[v,r]),M=g.useCallback(_=>{i(_)},[]),T=g.useCallback(_=>{d(_)},[]),k=g.useCallback(_=>{x(_)},[]);return{selectedYear:a,setSelectedYear:s,searchTerm:o,setSearchTerm:M,selectedEntity:c,setSelectedEntity:T,filteredCompanies:v,statistics:w,realStateStatistics:S,statusFilters:D,selectedFTStatus:h,setSelectedFTStatus:k,ftStatistics:R}}class Zn{static convertAzureDate(a){if(!a)return"";try{return new Date(a).toISOString().split("T")[0]}catch(s){return console.error("Error converting Azure date:",s),""}}static calculateDuration(a,s){if(!a||!s)return null;try{const o=this.parseLocalDate(a),c=this.parseLocalDate(s).getTime()-o.getTime();return Math.ceil(c/(1e3*60*60*24))}catch(o){return console.error("Error calculating duration:",o),null}}static parseLocalDate(a){const s=a.split("-");if(s.length===3&&s[0].length===4){const o=parseInt(s[0]),i=parseInt(s[1])-1,c=parseInt(s[2]);if(!isNaN(o)&&!isNaN(i)&&!isNaN(c)&&i>=0&&i<=11&&c>=1&&c<=31)return new Date(o,i,c)}return new Date(a)}static calculateRequestDuration(a,s){return!a||!s?null:this.calculateDuration(a,s)}static calculateDaysSinceCreation(a){if(!a)return null;const s=new Date,o=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;return this.calculateDuration(a,o)}static formatDisplayDate(a){if(!a)return"Sin fecha";try{return this.parseLocalDate(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}catch(s){return console.error("Error formatting date:",s),"Fecha inválida"}}static getDurationColor(a){return a>30?"text-red-600":a>15?"text-orange-600":a>7?"text-yellow-600":"text-green-600"}static formatDurationText(a){return a===null?"Sin calcular":a===0?"Mismo día":a===1?"1 día":`${a} días`}}class bj{config;constructor(a){this.config=a}updateConfig(a){this.config=a}isEnabled(){return this.config.enabled&&!!this.config.pat&&!!this.config.organization&&!!this.config.project}async getWorkItem(a){if(!this.isEnabled()||!a)return null;try{const s=`https://dev.azure.com/${this.config.organization}/${this.config.project}/_apis/wit/workitems/${a}?api-version=7.0`,o=await fetch(s,{headers:{Authorization:`Basic ${btoa(`:${this.config.pat}`)}`}});if(o.ok){const i=await o.json(),c=i.fields["System.BoardColumn"],d=i.fields["System.State"];let m;return c&&c.trim()!==""?m=c:m=d||"Sin Solicitud",{state:m,title:i.fields["System.Title"],url:i._links.html.href,createdDate:i.fields["System.CreatedDate"]||"",changedDate:i.fields["System.ChangedDate"]||"",closedDate:i.fields["Microsoft.VSTS.Common.ClosedDate"]||null,workItemType:i.fields["System.WorkItemType"]||"Unknown"}}}catch(s){console.error("Error fetching work item:",s)}return null}async createWorkItem(a,s,o,i){if(!this.isEnabled())return null;try{const c=`https://dev.azure.com/${this.config.organization}/${this.config.project}/_apis/wit/workitems/$Task?api-version=7.0`,d=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:`Basic ${btoa(`:${this.config.pat}`)}`},body:JSON.stringify([{op:"add",path:"/fields/System.Title",value:`Facturación ${a} - ${s} ${o}`},{op:"add",path:"/fields/System.Description",value:`Solicitud de facturación para ${a} correspondiente a ${s} ${o}. Entidad solicitante: ${i}`},{op:"add",path:"/fields/System.Tags",value:`Facturación; ${a}; ${s}; ${o}`}])});if(d.ok)return(await d.json()).id}catch(c){console.error("Error creating work item:",c)}return null}async syncFromAzure(a){const s=await this.getWorkItem(a);return s?s.state:null}async syncWorkItemData(a){const s=await this.getWorkItem(a);return s?{state:s.state,fechaRecibido:Zn.convertAzureDate(s.createdDate),fechaCerrado:s.closedDate?Zn.convertAzureDate(s.closedDate):"",workItemType:s.workItemType}:null}async syncMultipleWorkItems(a){const s=new Map;if(!this.isEnabled()||a.length===0)return s;const o=10;for(let i=0;i<a.length;i+=o){const d=a.slice(i,i+o).map(async m=>{try{const f=await this.syncFromAzure(m);f&&s.set(m,f)}catch(f){console.error(`Error syncing work item ${m}:`,f)}});await Promise.all(d),i+o<a.length&&await new Promise(m=>setTimeout(m,100))}return s}async syncMultipleWorkItemsWithDates(a){const s=new Map;if(!this.isEnabled()||a.length===0)return s;const o=10;for(let i=0;i<a.length;i+=o){const d=a.slice(i,i+o).map(async m=>{try{const f=await this.syncWorkItemData(m);f&&s.set(m,f)}catch(f){console.error(`Error syncing work item ${m}:`,f)}});await Promise.all(d),i+o<a.length&&await new Promise(m=>setTimeout(m,100))}return s}getWorkItemUrl(a){return`https://dev.azure.com/${this.config.organization}/${this.config.project}/_workitems/edit/${a}`}}const wj=()=>{try{const r=localStorage.getItem("azure-devops-config");if(r)return JSON.parse(r)}catch(r){console.warn("Error loading Azure DevOps config from localStorage:",r)}return{organization:"",project:"",pat:"",enabled:!1}},jj=r=>{try{localStorage.setItem("azure-devops-config",JSON.stringify(r))}catch(a){console.warn("Error saving Azure DevOps config to localStorage:",a)}};function Nj(){const[r,a]=g.useState(wj),[s,o]=g.useState(!1),[i]=g.useState(()=>new bj(r)),c=g.useCallback(w=>{a(w),i.updateConfig(w),jj(w)},[i]),d=g.useCallback(async(w,S,C,j)=>{if(!i.isEnabled())return null;o(!0);try{return await i.createWorkItem(w,S,C,j)}finally{o(!1)}},[i]),m=g.useCallback(async w=>{if(!i.isEnabled()||!w)return null;o(!0);try{return await i.syncFromAzure(w)}finally{o(!1)}},[i]),f=g.useCallback(w=>i.getWorkItemUrl(w),[i]),h=g.useCallback(async w=>{if(!i.isEnabled()||w.length===0)return new Map;o(!0);try{return await i.syncMultipleWorkItems(w)}finally{o(!1)}},[i]),x=g.useCallback(async w=>{if(!i.isEnabled()||w.length===0)return new Map;o(!0);try{return await i.syncMultipleWorkItemsWithDates(w)}finally{o(!1)}},[i]),b=g.useCallback(async w=>{if(!i.isEnabled()||!w)return null;o(!0);try{return await i.syncWorkItemData(w)}finally{o(!1)}},[i]),v=g.useCallback(()=>i.isEnabled(),[i]);return{azureConfig:r,updateConfig:c,syncing:s,createWorkItem:d,syncFromAzure:m,syncMultipleWorkItems:h,syncMultipleWorkItemsWithDates:x,syncWorkItemData:b,getWorkItemUrl:f,isEnabled:v}}class Ze{static calculateDaysRemaining(a){if(!a)return null;const s=new Date;s.setHours(0,0,0,0);const o=new Date(a);o.setHours(0,0,0,0);const i=o.getTime()-s.getTime();return Math.ceil(i/(1e3*60*60*24))}static getUrgencyLevel(a){return a===null?"none":a<0||a<=3?"critical":a<=7?"warning":"normal"}static getUrgencyColor(a){switch(a){case"critical":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-300"};case"warning":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"};case"normal":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"};case"none":default:return{bg:"bg-gray-100",text:"text-gray-600",border:"border-gray-300"}}}static getUrgencyIcon(a){switch(a){case"critical":return"🔴";case"warning":return"🟡";case"normal":return"🟢";case"none":default:return"⚫"}}static formatDaysRemaining(a){return a===null?"Sin plazo":a<0?`Vencido (${Math.abs(a)}d)`:a===0?"Vence hoy":a===1?"Vence mañana":`${a} días`}static applyBulkDeadline(a,s){const{month:o,deadlines:i,scope:c,selectedCompanies:d}=s,m=this.getCompaniesToApply(a,o,c,d),f=JSON.parse(JSON.stringify(a));return m.forEach(h=>{f[h]||(f[h]={}),f[h][o]||(f[h][o]={estado:"Sin Solicitud",entidad:"",fechaRecibido:"",fechaCerrado:"",notas:"",workItemId:null}),f[h][o]={...f[h][o],fechaLimiteEmpresa:i.fechaLimiteEmpresa,fechaLimiteSLA:i.fechaLimiteSLA}}),f}static getCompaniesToApply(a,s,o,i){const c=Object.keys(a).filter(d=>d!=="_metadata");switch(o){case"all":return c;case"withRequests":return c.filter(d=>{const m=a[d][s];return m&&m.estado&&m.estado!=="Sin Solicitud"});case"withoutDeadline":return c.filter(d=>{const m=a[d][s];return!m||!m.fechaLimiteEmpresa||!m.fechaLimiteSLA});case"manual":return i||[];default:return[]}}static generateMonthlySummary(a,s){const o=Object.keys(a).filter(f=>f!=="_metadata");let i=0,c=null;o.forEach(f=>{const h=a[f][s],x=h?.fechaLimiteEmpresa,b=h?.fechaLimiteSLA;x&&b&&(i++,c||(c={fechaLimiteEmpresa:x,fechaLimiteSLA:b}))});const d=c?this.calculateDaysRemaining(c.fechaLimiteEmpresa):null,m=c?this.calculateDaysRemaining(c.fechaLimiteSLA):null;return{month:s,deadlines:c,companiesCount:o.length,companiesWithDeadline:i,daysUntilCompanyDeadline:d,daysUntilSLADeadline:m,companyDeadlineUrgency:this.getUrgencyLevel(d),slaDeadlineUrgency:this.getUrgencyLevel(m)}}static getCompaniesDeadlineInfo(a,s){return Object.keys(a).filter(i=>i!=="_metadata").map(i=>{const c=a[i][s],m=c?.fechaLimiteEmpresa&&c?.fechaLimiteSLA?{fechaLimiteEmpresa:c.fechaLimiteEmpresa,fechaLimiteSLA:c.fechaLimiteSLA}:null,f=m?this.calculateDaysRemaining(m.fechaLimiteEmpresa):null,h=m?this.calculateDaysRemaining(m.fechaLimiteSLA):null;return{company:i,month:s,deadlines:m,daysUntilCompanyDeadline:f,daysUntilSLADeadline:h,hasActiveRequest:c?.estado!=="Sin Solicitud"&&!!c?.estado,estado:c?.estado||"Sin Solicitud"}}).filter(i=>i.deadlines!==null)}static getUpcomingDeadlines(a,s=10){const o=[];return Ke.forEach(d=>{const m=this.getCompaniesDeadlineInfo(a,d);o.push(...m)}),o.filter(d=>d.estado!=="Closed"&&d.estado!=="Removed").sort((d,m)=>{const f=d.daysUntilSLADeadline??Number.MAX_VALUE,h=m.daysUntilSLADeadline??Number.MAX_VALUE;return f-h}).slice(0,s)}static getCompaniesWithoutDeadline(a,s){return Object.keys(a).filter(i=>i!=="_metadata").filter(i=>{const c=a[i][s];return!c||!c.fechaLimiteEmpresa||!c.fechaLimiteSLA})}static validateDeadlines(a){if(!a.fechaLimiteEmpresa||!a.fechaLimiteSLA)return{valid:!1,error:"Ambas fechas límite son requeridas"};const s=new Date(a.fechaLimiteEmpresa);return new Date(a.fechaLimiteSLA)<s?{valid:!1,error:"La fecha límite SLA debe ser igual o posterior a la fecha límite de la empresa"}:{valid:!0}}static shouldShowDeadline(a){return!a||a==="Sin Solicitud"?!0:!["Closed","Removed","Production"].includes(a)}}function Cj({billingData:r,onUpdateData:a}){const s=g.useCallback(x=>{const{month:b,deadlines:v,scope:w,selectedCompanies:S}=x,C=Ze.validateDeadlines(v);if(!C.valid)throw new Error(C.error);let j=[];switch(w){case"all":j=Object.keys(r).filter(N=>N!=="_metadata");break;case"withRequests":j=Object.keys(r).filter(N=>N!=="_metadata").filter(N=>{const D=r[N]?.[b];return D&&D.estado&&D.estado!=="Sin Solicitud"});break;case"withoutDeadline":j=Ze.getCompaniesWithoutDeadline(r,b);break;case"manual":j=S||[];break}return j.forEach(N=>{a(N,b,"fechaLimiteEmpresa",v.fechaLimiteEmpresa),a(N,b,"fechaLimiteSLA",v.fechaLimiteSLA)}),{appliedCount:j.length,companies:j}},[r,a]),o=g.useCallback((x,b,v)=>{const w=Ze.validateDeadlines(v);if(!w.valid)throw new Error(w.error);a(x,b,"fechaLimiteEmpresa",v.fechaLimiteEmpresa),a(x,b,"fechaLimiteSLA",v.fechaLimiteSLA)},[a]),i=g.useCallback((x,b)=>{a(x,b,"fechaLimiteEmpresa",null),a(x,b,"fechaLimiteSLA",null)},[a]),c=g.useCallback((x,b)=>{const v=r[x]?.[b];return!v?.fechaLimiteEmpresa||!v?.fechaLimiteSLA?null:{fechaLimiteEmpresa:v.fechaLimiteEmpresa,fechaLimiteSLA:v.fechaLimiteSLA}},[r]),d=g.useCallback(x=>Ze.generateMonthlySummary(r,x),[r]),m=g.useCallback(x=>Ze.getCompaniesWithoutDeadline(r,x),[r]),f=g.useCallback(x=>Ze.getCompaniesDeadlineInfo(r,x),[r]),h=g.useCallback(x=>{const b=Object.keys(r).filter(C=>C!=="_metadata"),v=b.filter(C=>{const j=r[C]?.[x];return j&&j.estado&&j.estado!=="Sin Solicitud"}),w=Ze.getCompaniesWithoutDeadline(r,x),S=b.filter(C=>{const j=r[C]?.[x];return j?.fechaLimiteEmpresa&&j?.fechaLimiteSLA});return{all:b.length,withRequests:v.length,withoutDeadline:w.length,withDeadline:S.length}},[r]);return{applyDeadlinesToMonth:s,setDeadline:o,removeDeadline:i,getDeadline:c,getDeadlineSummaryByMonth:d,getCompaniesWithoutDeadline:m,getCompaniesDeadlineInfo:f,getCompaniesCount:h}}function Sj({selectedYear:r,onYearChange:a,searchTerm:s,onSearchChange:o,selectedEntity:i,onEntityChange:c,realStateStatistics:d,statusFilters:m,selectedFTStatus:f,onFTStatusChange:h,ftStatistics:x,deadlineBadge:b}){const[v,w]=g.useState(!1),S=j=>{switch(Co(j)){case"Sin Solicitud":return"bg-gray-100 text-gray-600 border-gray-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-100 text-red-800 border-red-200";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-100 text-green-800 border-green-200";case"Closed":return"bg-gray-100 text-gray-800 border-gray-200";case"Removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-50 text-gray-500 border-gray-100"}},C=j=>{const N=Co(j);return S(N)};return t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-6 p-4 lg:p-6",children:[t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ft,{className:"w-6 h-6 text-blue-600"}),t.jsx("span",{className:"text-lg font-semibold text-gray-900",children:i})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Año ",r]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[b&&b,t.jsx("div",{className:"text-sm text-gray-500 hidden sm:block",children:"Dashboard de Control"})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.jsx("div",{children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 rounded-lg px-3 py-2 border border-blue-200 flex-1",children:[t.jsx(dt,{className:"w-4 h-4 text-blue-600"}),t.jsxs("select",{value:r,onChange:j=>a(parseInt(j.target.value)),className:"bg-transparent border-none outline-none font-medium text-blue-800 w-full",children:[t.jsx("option",{value:2017,children:"2017"}),t.jsx("option",{value:2018,children:"2018"}),t.jsx("option",{value:2019,children:"2019"}),t.jsx("option",{value:2020,children:"2020"}),t.jsx("option",{value:2021,children:"2021"}),t.jsx("option",{value:2022,children:"2022"}),t.jsx("option",{value:2023,children:"2023"}),t.jsx("option",{value:2024,children:"2024"}),t.jsx("option",{value:2025,children:"2025"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[t.jsx(ft,{className:"w-4 h-4 text-gray-600"}),t.jsx("select",{value:i,onChange:j=>c(j.target.value),className:"bg-transparent border-none outline-none font-medium text-gray-800 w-full text-sm",children:Nr.map(j=>t.jsx("option",{value:j,children:j.length>20?j.substring(0,20)+"...":j},j))})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ru,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),t.jsx("input",{type:"text",placeholder:"Buscar empresa...",value:s,onChange:j=>o(j.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>w(!v),className:`w-full flex items-center justify-center gap-2 px-3 py-2 border rounded-lg transition-colors ${m.isFilterActive?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:[t.jsx(js,{className:"w-4 h-4"}),t.jsx("span",{children:"Filtros"}),m.isFilterActive&&t.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:m.selectedStatuses.length+(f?1:0)}),t.jsx(xi,{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`})]}),v&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-80 z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros Avanzados"}),m.isFilterActive&&t.jsxs("button",{onClick:m.clearFilters,className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[t.jsx(Lt,{className:"w-3 h-3"}),"Limpiar Todo"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(ag,{className:"w-4 h-4 text-purple-600"}),"Estado de Archivos FT"]}),t.jsxs("div",{className:"space-y-2",children:[["complete","partial","pending"].map(j=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[t.jsx("input",{type:"radio",name:"ftStatus",checked:f===j,onChange:()=>h(f===j?null:j),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:Au(j)}),t.jsx("span",{className:"text-sm font-medium",children:xg(j)}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",j==="complete"?x.complete:j==="partial"?x.partial:x.pending,")"]})]})]},j)),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[t.jsx("input",{type:"radio",name:"ftStatus",checked:f===null,onChange:()=>h(null),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),t.jsx("span",{className:"text-sm font-medium",children:"Todos"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Filtrar por Estado"}),t.jsx("div",{className:"space-y-2",children:["Sin Solicitud","New","Ready","Active","Gestion Tributaria","Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging","Validación Tributaria Staging","Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD","Facturación en PROD","Validación Tributaria de Facturación","Dispersión en BD","Generar Reportes","QA Certification","Impediment","Paused","Closed"].map(j=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:m.selectedStatuses.includes(j),onChange:()=>m.toggleStatus(j),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:ys(j)}),t.jsx("span",{className:"text-sm font-medium",children:j})]})]},j))})]})]})]})]})})})]}),t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mt-6",children:[Object.entries(d).filter(([j])=>j!=="conWorkItems").filter(([,j])=>j>0).map(([j,N])=>t.jsx("div",{className:`p-3 rounded-lg border ${C(j)}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:ys(j)}),t.jsx("span",{className:"font-medium text-sm truncate",title:j,children:j.length>15?j.slice(-15):j})]}),t.jsx("span",{className:"text-lg font-bold",children:N})]})},j)),t.jsx("div",{className:"p-3 rounded-lg border bg-purple-100 text-purple-800 border-purple-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(No,{className:"w-3 h-3"}),t.jsx("span",{className:"font-medium text-sm",children:"Con Work Items"})]}),t.jsx("span",{className:"text-lg font-bold",children:d.conWorkItems})]})}),x.total>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-3 rounded-lg border bg-green-100 text-green-800 border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:"✅"}),t.jsx("span",{className:"font-medium text-sm",children:"FT Completos"})]}),t.jsx("span",{className:"text-lg font-bold",children:x.complete})]})}),t.jsx("div",{className:"p-3 rounded-lg border bg-yellow-100 text-yellow-800 border-yellow-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:"🟡"}),t.jsx("span",{className:"font-medium text-sm",children:"FT Parciales"})]}),t.jsx("span",{className:"text-lg font-bold",children:x.partial})]})}),t.jsx("div",{className:"p-3 rounded-lg border bg-red-100 text-red-800 border-red-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:"🔴"}),t.jsx("span",{className:"font-medium text-sm",children:"FT Pendientes"})]}),t.jsx("span",{className:"text-lg font-bold",children:x.pending})]})})]})]})]})}function Ej(r,a=20){return r?r.length<=a?r:"..."+r.slice(-a):""}function Mu(r){if(!r)return"";const a={"Sin Solicitud":"Sin Solicitud","Validación y aprobación de Tributaria - Analítica":"...Tributaria - Analítica","Limpieza y Transformación":"...Limpieza y Transformación","Cargue Archivo Staging":"...Cargue Archivo Staging","QA Certification":"QA Certification"};return a[r]?a[r]:Ej(r,20)}function kj({data:r,onCellClick:a}){const s=Co(r.estado),o=Kd(r.ft),i=Au(o.overallStatus),c=v=>{switch(v){case"Sin Solicitud":return"bg-gray-100 text-gray-600 border-gray-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-200 text-red-900 border-red-300";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-200 text-green-900 border-green-300";case"Closed":return"bg-green-300 text-green-900 border-green-400";case"Removed":return"bg-red-200 text-red-900 border-red-300";default:return"bg-gray-50 text-gray-500 border-gray-100"}},d=wt.shouldShowElapsedDays(s)?wt.calculateElapsedDays(r.fechaRecibido):null,m=wt.shouldShowClosedDays(s)?wt.calculateClosedDays(r.fechaRecibido,r.fechaCerrado,r.diasProcesamiento):null,h=Ze.shouldShowDeadline(r.estado)&&(r.fechaLimiteEmpresa||r.fechaLimiteSLA),x=r.fechaLimiteSLA?Ze.calculateDaysRemaining(r.fechaLimiteSLA):null,b=Ze.getUrgencyLevel(x);return t.jsx("button",{onClick:a,className:`w-full h-8 rounded border ${c(s)}
        hover:shadow-sm transition-all duration-150 hover:brightness-95
        focus:outline-none focus:ring-1 focus:ring-blue-500 relative text-left`,children:t.jsxs("div",{className:"flex items-center justify-between px-2 py-1 h-full relative",children:[t.jsx("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:t.jsx("span",{className:"text-xs font-medium truncate",title:r.estado,children:Mu(r.estado)})}),t.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[d!==null&&t.jsxs("span",{className:`text-xs font-bold ${wt.getElapsedDaysColor(d)}`,children:[d,"d"]}),m!==null&&t.jsxs("span",{className:`text-xs font-bold ${wt.getClosedDaysColor()}`,children:[m,"d"]}),h&&x!==null&&t.jsxs("span",{className:`text-xs inline-flex items-center gap-0.5 ${b==="critical"?"text-red-700":b==="warning"?"text-yellow-700":"text-green-700"}`,title:`Deadline SLA: ${Ze.formatDaysRemaining(x)}`,children:[b==="critical"?t.jsx(Ht,{className:"w-2.5 h-2.5"}):t.jsx(mr,{className:"w-2.5 h-2.5"}),t.jsxs("span",{className:"font-bold",children:[x,"d"]})]}),r.workItemId&&t.jsx("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),r.ft&&t.jsx("span",{className:"text-xs leading-none",title:`FT Status: Procesados ${o.processed}, No Aplican ${o.noApply}, Pendientes ${o.pending}`,children:i})]})]})})}function Dj({filteredCompanies:r,billingData:a,onCellClick:s,onCompanyClick:o}){return t.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-max",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-gray-900 sticky left-0 bg-gray-50 z-10 min-w-48 text-sm",children:"Empresa de Energía"}),Ke.map(i=>t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-gray-900 min-w-24 text-sm",children:i},i))]})}),t.jsx("tbody",{children:r.map((i,c)=>{const d=a[i],m=Be.getCompanyMetadata(d||{});return t.jsxs("tr",{className:c%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100",children:[t.jsx("td",{className:"px-3 py-1 font-medium text-gray-900 sticky left-0 bg-inherit z-10 border-r border-gray-200",children:t.jsxs("button",{onClick:f=>o(i,f),className:"flex items-center gap-2 truncate max-w-44 hover:text-blue-600 transition-colors text-left text-sm",title:`${i} - Click para editar información, Ctrl+Click para ver perfil`,children:[t.jsx("span",{className:"truncate",children:i}),m.esIncumbente&&t.jsx(yi,{className:"w-3 h-3 text-yellow-500 flex-shrink-0",fill:"currentColor"})]})}),Ke.map(f=>{const h=Be.getMonthlyBillingData(d||{},f);return h?t.jsx("td",{className:"p-1",children:t.jsx(kj,{data:h,onCellClick:()=>s(i,f)})},f):t.jsx("td",{className:"p-1"},f)})]},i)})})]})})})}function is(r){return r==null||isNaN(r)?"":new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0}).format(r)}function Sd(r){if(!r||r.trim()==="")return null;const a=r.replace(/\./g,"").replace(/,/g,""),s=parseInt(a,10);return isNaN(s)?null:s}function Rj({selectedCell:r,currentData:a,selectedYear:s,azureConfig:o,syncing:i,onClose:c,onUpdateData:d,onCreateWorkItem:m,onSyncFromAzure:f,getWorkItemUrl:h}){const[x,b]=g.useState(null),v=pg(a?.ft),w=gg(v),S=j=>{const N=yj(v[j]),D={...v,[j]:N},R=pj(D);d(r.empresa,r.mes,"ft",R)};if(!r||!a)return null;const C=j=>{const N=na(j),D={"bg-gray-100":"border-gray-200","bg-blue-100":"border-blue-200","bg-purple-100":"border-purple-200","bg-green-100":"border-green-200","bg-yellow-100":"border-yellow-200","bg-orange-100":"border-orange-200","bg-red-100":"border-red-200","bg-indigo-100":"border-indigo-200","bg-pink-100":"border-pink-200","bg-cyan-100":"border-cyan-200","bg-gray-50":"border-gray-100"},R=N.bg.match(/bg-\w+-\d+/),M=R&&D[R[0]]||"border-gray-200";return`${N.bg} ${N.text} ${M}`};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ft,{className:"w-6 h-6"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:r.empresa}),t.jsxs("p",{className:"text-blue-100 text-sm",children:[r.mes," ",s]})]})]}),t.jsx("button",{onClick:c,className:"text-blue-100 hover:text-white transition-colors p-2 hover:bg-blue-800 rounded-lg",children:t.jsx(Lt,{className:"w-6 h-6"})})]})}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 p-6 max-h-[calc(95vh-120px)] overflow-y-auto",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(ta,{className:"w-5 h-5 text-blue-600"}),"Estado y Progreso"]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado Actual"}),a.workItemId&&o.enabled&&t.jsxs("button",{onClick:()=>a.workItemId&&f(r.empresa,r.mes,a.workItemId),disabled:i,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 transition-colors text-xs disabled:opacity-50 bg-blue-50 px-2 py-1 rounded-lg",children:[t.jsx(yo,{className:`w-3 h-3 ${i?"animate-spin":""}`}),"Sync Azure"]})]}),t.jsxs("div",{className:`inline-flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium ${C(a.estado)}`,children:[t.jsx("span",{className:"text-lg",children:ys(a.estado)}),t.jsx("span",{children:a.estado})]}),wt.shouldShowElapsedDays(a.estado)&&t.jsx("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg border border-amber-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mr,{className:"w-4 h-4 text-amber-600"}),t.jsxs("span",{className:"text-sm text-amber-800",children:["Días transcurridos:",t.jsxs("span",{className:`ml-1 font-bold ${wt.getElapsedDaysColor(wt.calculateElapsedDays(a.fechaRecibido)||0)}`,children:[wt.calculateElapsedDays(a.fechaRecibido)||0," días"]})]})]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(No,{className:"w-4 h-4 text-purple-600"}),"Azure DevOps Work Item"]}),t.jsx("button",{onClick:()=>b(x==="workItemId"?null:"workItemId"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-50 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="workItemId"?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:a.workItemId||"",onChange:j=>d(r.empresa,r.mes,"workItemId",j.target.value?parseInt(j.target.value):null),placeholder:"ID del Work Item",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),t.jsx("button",{onClick:()=>b(null),className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:t.jsx(Cw,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:a.workItemId?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"font-medium",children:["#",a.workItemId]}),t.jsx("a",{href:h(a.workItemId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",children:t.jsx(No,{className:"w-4 h-4"})})]}):t.jsx("span",{className:"text-gray-500 italic",children:"Sin Work Item"})}),o.enabled&&!a.workItemId&&t.jsx("button",{onClick:()=>m(r.empresa,r.mes,a.entidad),disabled:i,className:"bg-purple-600 text-white px-3 py-1 rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors text-sm font-medium",children:"Crear Work Item"})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-xl p-5",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(ft,{className:"w-5 h-5 text-green-600"}),"Entidad Pública"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Entidad Asignada"}),t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("span",{className:a.entidad?"text-gray-900 font-medium":"text-gray-500 italic",children:a.entidad||"Sin asignar"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(Ia,{className:"w-4 h-4 text-green-600"}),"Notas y Comentarios"]}),t.jsx("button",{onClick:()=>b(x==="notas"?null:"notas"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="notas"?t.jsx("textarea",{value:a.notas,onChange:j=>d(r.empresa,r.mes,"notas",j.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none bg-white",rows:6,placeholder:"Agregar notas, observaciones o comentarios sobre esta solicitud...",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-32",children:t.jsx("span",{className:a.notas?"text-gray-900 whitespace-pre-wrap":"text-gray-500 italic",children:a.notas||"Sin notas o comentarios"})})]})]})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-purple-50 rounded-xl p-5",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(ag,{className:"w-5 h-5 text-purple-600"}),"Control de Archivos FT"]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estado General"}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${Cd(w.overallStatus).bg} ${Cd(w.overallStatus).text} ${Cd(w.overallStatus).border}`,children:[Au(w.overallStatus)," ",xg(w.overallStatus)]})]}),t.jsxs("div",{className:"text-xs text-gray-600",children:["Procesados: ",w.processed," • No Aplican: ",w.noApply," • Pendientes: ",w.pending]})]}),t.jsx("div",{className:"space-y-3",children:Object.entries(hj).map(([j,N])=>{const D=j.toLowerCase(),R=v[D],M=xj(R),T=k=>{switch(k){case"P":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"N":return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";case"-":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}};return t.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-gray-900 text-sm",children:N.name}),t.jsx("div",{className:"text-xs text-gray-600 mt-1",children:N.description})]}),t.jsx("button",{onClick:()=>S(D),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-colors ${T(R)}`,title:`Click para cambiar estado. Actual: ${M}`,children:M})]})},D)})}),t.jsxs("div",{className:"mt-4 p-3 bg-purple-100 rounded-lg",children:[t.jsxs("div",{className:"text-xs text-purple-800",children:[t.jsx("strong",{children:"Estados:"})," Pendiente → Procesado → No Aplica → Pendiente"]}),t.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Haz click en cada botón para cambiar el estado del archivo FT correspondiente."})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 rounded-xl p-5",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(dt,{className:"w-5 h-5 text-blue-600"}),"Fechas Importantes"]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Recibido"}),t.jsx("button",{onClick:()=>b(x==="fechaRecibido"?null:"fechaRecibido"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="fechaRecibido"?t.jsx("input",{type:"date",value:a.fechaRecibido,onChange:j=>d(r.empresa,r.mes,"fechaRecibido",j.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("span",{className:a.fechaRecibido?"text-gray-900 font-medium":"text-gray-500 italic",children:wt.formatHumanDate(a.fechaRecibido)||"Sin fecha"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Cerrado"}),t.jsx("button",{onClick:()=>b(x==="fechaCerrado"?null:"fechaCerrado"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="fechaCerrado"?t.jsx("input",{type:"date",value:a.fechaCerrado,onChange:j=>d(r.empresa,r.mes,"fechaCerrado",j.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:t.jsx("span",{className:a.fechaCerrado?"text-gray-900 font-medium":"text-gray-500 italic",children:wt.formatHumanDate(a.fechaCerrado)||"Sin fecha"})})]})]}),(a.fechaRecibido||a.fechaCerrado)&&t.jsxs("div",{className:"bg-indigo-50 rounded-xl p-5",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Sw,{className:"w-5 h-5 text-indigo-600"}),"Duración y Métricas"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.fechaRecibido&&a.fechaCerrado&&t.jsxs("div",{className:"bg-white rounded-lg border border-indigo-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(mr,{className:"w-4 h-4 text-indigo-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duración Total"})]}),t.jsx("div",{className:"text-lg font-bold text-indigo-900",children:Zn.formatDurationText(Zn.calculateDuration(a.fechaRecibido,a.fechaCerrado))}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Desde recepción hasta cierre"})]}),a.fechaRecibido&&!a.fechaCerrado&&t.jsxs("div",{className:"bg-white rounded-lg border border-indigo-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(dt,{className:"w-4 h-4 text-indigo-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Días Transcurridos"})]}),t.jsx("div",{className:`text-lg font-bold ${Zn.getDurationColor(Zn.calculateDaysSinceCreation(a.fechaRecibido)||0)}`,children:Zn.formatDurationText(Zn.calculateDaysSinceCreation(a.fechaRecibido))}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Desde la recepción"})]})]})]})]}),t.jsx("div",{className:"xl:col-span-3 mt-6",children:t.jsxs("div",{className:"bg-green-50 rounded-xl p-5",children:[t.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(go,{className:"w-5 h-5 text-green-600"}),"Datos de Facturación"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(Zl,{className:"w-4 h-4"}),"Cantidad de Facturas"]}),t.jsx("button",{onClick:()=>b(x==="cantidadFacturas"?null:"cantidadFacturas"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="cantidadFacturas"?t.jsx("input",{type:"number",value:a.cantidadFacturas||"",onChange:j=>d(r.empresa,r.mes,"cantidadFacturas",j.target.value?parseInt(j.target.value):null),onBlur:()=>b(null),placeholder:"Número de facturas generadas",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:t.jsx("span",{className:a.cantidadFacturas?"text-gray-900 font-medium":"text-gray-500 italic",children:a.cantidadFacturas?a.cantidadFacturas.toLocaleString("es-CO"):"Sin especificar"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(Zl,{className:"w-4 h-4"}),"Cantidad de Medidores"]}),t.jsx("button",{onClick:()=>b(x==="cantidadMedidores"?null:"cantidadMedidores"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="cantidadMedidores"?t.jsx("input",{type:"number",value:a.cantidadMedidores||"",onChange:j=>d(r.empresa,r.mes,"cantidadMedidores",j.target.value?parseInt(j.target.value):null),onBlur:()=>b(null),placeholder:"Número de medidores reportados",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:t.jsx("span",{className:a.cantidadMedidores?"text-gray-900 font-medium":"text-gray-500 italic",children:a.cantidadMedidores?a.cantidadMedidores.toLocaleString("es-CO"):"Sin especificar"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(Zl,{className:"w-4 h-4"}),"Cantidad de Excluidos"]}),t.jsx("button",{onClick:()=>b(x==="cantidadExcluidos"?null:"cantidadExcluidos"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="cantidadExcluidos"?t.jsx("input",{type:"number",value:a.cantidadExcluidos||"",onChange:j=>d(r.empresa,r.mes,"cantidadExcluidos",j.target.value?parseInt(j.target.value):null),onBlur:()=>b(null),placeholder:"Número de medidores excluidos",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:t.jsx("span",{className:a.cantidadExcluidos?"text-gray-900 font-medium":"text-gray-500 italic",children:a.cantidadExcluidos?a.cantidadExcluidos.toLocaleString("es-CO"):"Sin especificar"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(go,{className:"w-4 h-4"}),"Valor FT01 (Consumos kWh)"]}),t.jsx("button",{onClick:()=>b(x==="valorFT01"?null:"valorFT01"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="valorFT01"?t.jsx("input",{type:"text",value:a.valorFT01?is(a.valorFT01):"",onChange:j=>{const N=Sd(j.target.value);d(r.empresa,r.mes,"valorFT01",N)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:t.jsx("span",{className:a.valorFT01?"text-gray-900 font-medium":"text-gray-500 italic",children:a.valorFT01?`$${is(a.valorFT01)}`:"Sin especificar"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(go,{className:"w-4 h-4"}),"Valor FT03 (Recaudado)"]}),t.jsx("button",{onClick:()=>b(x==="valorFT03"?null:"valorFT03"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="valorFT03"?t.jsx("input",{type:"text",value:a.valorFT03?is(a.valorFT03):"",onChange:j=>{const N=Sd(j.target.value);d(r.empresa,r.mes,"valorFT03",N)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:t.jsx("span",{className:a.valorFT03?"text-gray-900 font-medium":"text-gray-500 italic",children:a.valorFT03?`$${is(a.valorFT03)}`:"Sin especificar"})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[t.jsx(go,{className:"w-4 h-4"}),"Valor FT06 (Medidores Excluidos)"]}),t.jsx("button",{onClick:()=>b(x==="valorFT06"?null:"valorFT06"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x==="valorFT06"?t.jsx("input",{type:"text",value:a.valorFT06?is(a.valorFT06):"",onChange:j=>{const N=Sd(j.target.value);d(r.empresa,r.mes,"valorFT06",N)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):t.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:t.jsx("span",{className:a.valorFT06?"text-gray-900 font-medium":"text-gray-500 italic",children:a.valorFT06?`$${is(a.valorFT06)}`:"Sin especificar"})})]})]}),t.jsxs("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:[t.jsxs("div",{className:"text-xs text-green-800",children:[t.jsx("strong",{children:"Información de Facturación:"})," Complete estos campos cuando tenga datos disponibles."]}),t.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Los valores monetarios se formatean automáticamente con separador de miles."})]})]})})]}),t.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-gray-600",children:t.jsx("span",{children:"Última modificación automática guardada"})}),t.jsxs("button",{onClick:c,className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:[t.jsx(ta,{className:"w-4 h-4"}),"Cerrar"]})]})})]})})}function _j({isOpen:r,onClose:a,config:s,onUpdateConfig:o}){if(!r)return null;const i=()=>{a(),console.log("Azure DevOps configuration saved")};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(lg,{className:"w-5 h-5 text-purple-600"}),"Configuración Azure DevOps"]}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organización"}),t.jsx("input",{type:"text",value:s.organization,onChange:c=>o({...s,organization:c.target.value}),placeholder:"nombre-organizacion",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proyecto"}),t.jsx("input",{type:"text",value:s.project,onChange:c=>o({...s,project:c.target.value}),placeholder:"nombre-proyecto",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Access Token (PAT)"}),t.jsx("input",{type:"password",value:s.pat,onChange:c=>o({...s,pat:c.target.value}),placeholder:"tu-personal-access-token",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Necesita permisos: Work Items (Read) + Work Items (Write para crear nuevos)"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"enableAzure",checked:s.enabled,onChange:c=>o({...s,enabled:c.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),t.jsx("label",{htmlFor:"enableAzure",className:"text-sm font-medium text-gray-700",children:"Habilitar sincronización automática"})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sincronización:"}),t.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[t.jsxs("div",{children:["• ",t.jsx("strong",{children:"Estados:"})," Solo lectura desde Azure DevOps"]}),t.jsxs("div",{children:["• ",t.jsx("strong",{children:"Work Items:"})," Se crean automáticamente"]}),t.jsxs("div",{children:["• ",t.jsx("strong",{children:"Mapeo:"})," New→Sin Solicitud, Active→En Progreso, Resolved→Con Impedimento, Closed→Terminado"]})]})]})]}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx("button",{onClick:a,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),t.jsx("button",{onClick:i,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Guardar"})]})]})})})}function Pj({isOpen:r,onClose:a,billingData:s,selectedEntity:o,selectedYear:i,azureConfig:c,onCreateRequest:d}){const[m,f]=g.useState(""),[h,x]=g.useState([]),[b,v]=g.useState(""),[w,S]=g.useState(""),[C,j]=g.useState(!1),[N,D]=g.useState([]),R=Object.keys(s);g.useEffect(()=>{r&&(f(""),x([]),v(""),S(""),D([]))},[r]);const M=F=>{x($=>$.includes(F)?$.filter(q=>q!==F):[...$,F])},T=()=>{const F=[];if(m||F.push("Debe seleccionar una empresa de energía"),h.length===0&&F.push("Debe seleccionar al menos un mes"),m&&h.length>0){const $=h.filter(q=>{const Z=s[m]?.[q];return Z&&Z.estado!=="Sin Solicitud"});$.length>0&&F.push(`Los siguientes meses ya tienen solicitudes: ${$.join(", ")}`)}return D(F),F.length===0},k=async()=>{if(T()){j(!0);try{await d(m,h,b,w),a()}catch(F){console.error("Error creating request:",F),D(["Error al crear la solicitud. Por favor, inténtalo nuevamente."])}finally{j(!1)}}},_=F=>{if(!m)return"available";const $=s[m]?.[F];return!$||$.estado==="Sin Solicitud"?"available":$.estado},z=F=>{switch(F){case"available":return"bg-green-100 text-green-800 border-green-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-100 text-red-800 border-red-200";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-100 text-green-800 border-green-200";case"Closed":return"bg-gray-100 text-gray-800 border-gray-200";case"Removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:t.jsx(Hd,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Nueva Solicitud de Facturación"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[o," - ",i]})]})]}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1",children:t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[N.length>0&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(Ht,{className:"w-5 h-5 text-red-600"}),t.jsx("h3",{className:"font-medium text-red-800",children:"Errores de validación"})]}),t.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-700",children:N.map((F,$)=>t.jsx("li",{children:F},$))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ft,{className:"w-5 h-5 text-gray-600"}),t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Empresa de Energía"})]}),t.jsxs("select",{value:m,onChange:F=>f(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Seleccionar empresa..."}),R.map(F=>t.jsx("option",{value:F,children:F},F))]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"w-5 h-5 text-gray-600"}),t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Meses a solicitar"})]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Ke.map(F=>{const $=_(F),q=$==="available",Z=h.includes(F);return t.jsxs("button",{onClick:()=>q&&M(F),disabled:!q,className:`
                      p-3 rounded-md border text-sm font-medium transition-all
                      ${Z?"bg-blue-600 text-white border-blue-600":q?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":`${z($)} cursor-not-allowed opacity-60`}
                    `,children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx("span",{children:F}),Z&&t.jsx(ta,{className:"w-4 h-4"})]}),!q&&t.jsx("div",{className:"text-xs mt-1 opacity-75",children:$})]},F)})}),t.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona los meses para los cuales quieres crear solicitudes. Los meses en gris ya tienen solicitudes existentes."})]}),c.organization&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(No,{className:"w-5 h-5 text-gray-600"}),t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID del Work Item en Azure DevOps (opcional)"})]}),t.jsx("input",{type:"text",value:w,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: 12345"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Si ya tienes un work item en Azure DevOps relacionado con esta solicitud, ingresa su ID aquí."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ia,{className:"w-5 h-5 text-gray-600"}),t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notas (opcional)"})]}),t.jsx("textarea",{value:b,onChange:F=>v(F.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agregar notas sobre la solicitud..."})]}),c.organization&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Integración con Azure DevOps"})]}),t.jsx("p",{className:"text-sm text-blue-700",children:w?`Se asociará el work item #${w} con todas las solicitudes creadas. El estado actual del work item se sincronizará automáticamente.`:"Las solicitudes se crearán sin work item asociado. Puedes agregar uno más tarde."})]})]}),t.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cancelar"}),t.jsx("button",{onClick:k,disabled:C||!m||h.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:C?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.jsx("span",{children:"Creando..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Hd,{className:"w-4 h-4"}),t.jsx("span",{children:"Crear Solicitud"})]})})]})]})}):null}function Tj({isOpen:r,onClose:a,azureConfig:s,filteredCompanies:o,selectedYear:i,onSync:c}){const[d,m]=g.useState("config"),[f,h]=g.useState(!1),[x,b]=g.useState(!0),[v,w]=g.useState([]),[S,C]=g.useState({current:0,total:0,currentItem:""}),[j,N]=g.useState(!1);if(!r)return null;const D=async()=>{m("syncing"),C({current:0,total:0,currentItem:"Iniciando sincronización..."});const _={allYears:f,allCompanies:x,companies:x?[]:o,years:f?[2017,2018,2019,2020,2021,2022,2023,2024,2025]:[i]};try{const z=await c(_);w(z),m("results")}catch(z){console.error("Sync failed:",z),m("config")}},R=()=>{const _=M();navigator.clipboard.writeText(_).then(()=>{N(!0),setTimeout(()=>N(!1),2e3)})},M=()=>{const _=v.filter(q=>q.success&&!q.noChanges),z=v.filter(q=>q.noChanges),F=v.filter(q=>!q.success);let $=`=== RESUMEN DE SINCRONIZACIÓN AZURE DEVOPS ===

`;return $+=`Fecha: ${new Date().toLocaleString("es-ES")}
`,$+=`Alcance: ${f?"Todos los años":`Año ${i}`} | ${x?"Todos los clientes":"Clientes filtrados"}

`,$+=`📊 ESTADÍSTICAS:
`,$+=`✅ Actualizados: ${_.length}
`,$+=`➖ Sin cambios: ${z.length}
`,$+=`❌ Errores: ${F.length}

`,_.length>0&&($+=`📋 CAMBIOS REALIZADOS:
`,_.forEach(q=>{$+=`${q.company} - ${q.month}: "${q.oldState}" → "${q.newState}"
`}),$+=`
`),F.length>0&&($+=`⚠️ ERRORES:
`,F.forEach(q=>{$+=`${q.company} - ${q.month}: ${q.error}
`})),$},T=()=>({updated:v.filter(_=>_.success&&!_.noChanges).length,noChanges:v.filter(_=>_.noChanges).length,errors:v.filter(_=>!_.success).length}),k=()=>{m("config"),w([]),C({current:0,total:0,currentItem:""}),N(!1),a()};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(yo,{className:"w-5 h-5 text-blue-600"}),"Sincronización con Azure DevOps"]}),t.jsx("button",{onClick:k,disabled:d==="syncing",className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:t.jsx(Lt,{className:"w-5 h-5"})})]}),d==="config"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ht,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"¿Qué hará esta sincronización?"}),t.jsx("p",{className:"text-blue-800 text-sm",children:"Esta opción actualizará los estados de las solicitudes desde Azure DevOps para los clientes y años seleccionados. Se sincronizarán los estados, fechas de recibido y fechas de cierre de todos los work items configurados."})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Alcance Temporal"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"radio",checked:!f,onChange:()=>h(!1),className:"text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-700",children:"Solo año actual"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Sincronizar únicamente ",i]})]})]}),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"radio",checked:f,onChange:()=>h(!0),className:"text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-700",children:"Todos los años"}),t.jsx("div",{className:"text-sm text-gray-500",children:"Sincronizar desde 2017 hasta 2025"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Alcance de Clientes"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"radio",checked:x,onChange:()=>b(!0),className:"text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-700",children:"Todos los clientes"}),t.jsx("div",{className:"text-sm text-gray-500",children:"Sincronizar todas las empresas"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"radio",checked:!x,onChange:()=>b(!1),className:"text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-700",children:"Solo clientes filtrados"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Sincronizar únicamente los ",o.length," clientes actualmente visibles"]})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[t.jsx("button",{onClick:k,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),t.jsxs("button",{onClick:D,disabled:!s.enabled,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(yo,{className:"w-4 h-4"}),"Iniciar Sincronización"]})]})]}),d==="syncing"&&t.jsxs("div",{className:"text-center py-12 space-y-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(yo,{className:"w-12 h-12 text-blue-600 animate-spin"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sincronizando con Azure DevOps..."}),t.jsx("p",{className:"text-gray-600 mb-4",children:S.currentItem}),S.total>0&&t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[t.jsx("span",{children:"Progreso"}),t.jsxs("span",{children:[S.current," de ",S.total]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.current/S.total*100}%`}})})]})]})]}),d==="results"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-3 gap-4",children:(()=>{const _=T();return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[t.jsx(Mt,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-green-800",children:_.updated}),t.jsx("div",{className:"text-sm text-green-700",children:"Actualizados"})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[t.jsx(mr,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:_.noChanges}),t.jsx("div",{className:"text-sm text-gray-700",children:"Sin cambios"})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[t.jsx(Wd,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-red-800",children:_.errors}),t.jsx("div",{className:"text-sm text-red-700",children:"Errores"})]})]})})()}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Detalle de Sincronización"}),t.jsxs("button",{onClick:R,className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[t.jsx(yw,{className:"w-4 h-4"}),j?"¡Copiado!":"Copiar al portapapeles"]})]}),t.jsx("div",{className:"space-y-2",children:v.map((_,z)=>t.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${_.success?_.noChanges?"bg-gray-50 border border-gray-200":"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[t.jsx("div",{className:"flex-shrink-0",children:_.success?_.noChanges?t.jsx(mr,{className:"w-5 h-5 text-gray-600"}):t.jsx(Mt,{className:"w-5 h-5 text-green-600"}):t.jsx(Wd,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"font-medium",children:_.company}),t.jsx("span",{className:"text-gray-500",children:"—"}),t.jsx("span",{className:"font-medium",children:_.month})]}),_.success?_.noChanges?t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Sin cambios detectados"}):t.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:['"',_.oldState,'" → "',_.newState,'"']}):t.jsx("div",{className:"text-sm text-red-700 mt-1",children:_.error})]})]},z))})]}),t.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:t.jsx("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})})]})]})})})}function Aj({isOpen:r,onClose:a,companyName:s,currentMetadata:o,existingCompanies:i,isNewCompany:c=!1,onSave:d}){const[m,f]=g.useState(s),[h,x]=g.useState(null),[b,v]=g.useState(!1),[w,S]=g.useState(null),[C,j]=g.useState(null),[N,D]=g.useState(null),[R,M]=g.useState(!1),[T,k]=g.useState(!1),[_,z]=g.useState(!1),[F,$]=g.useState(null);g.useEffect(()=>{r&&(f(s),$(null),o?(x(o.usuariosCount),v(o.esIncumbente),S(o.tipoEmpresa),j(o.email||null),D(o.nit||null),M(o.esAutoconsumidora||!1),k(o.esOperadorRed||!1),z(o.recauda||!1)):(x(null),v(!1),S(null),j(null),D(null),M(!1),k(!1),z(!1)))},[o,r,s]);const q=G=>G.trim()?G.trim()!==s&&i.includes(G.trim())?"Ya existe una empresa con este nombre":null:"El nombre de la empresa es requerido",Z=G=>{f(G),$(q(G))},te=()=>{const G=m.trim(),X=q(G);if(X){$(X);return}d({usuariosCount:h,esIncumbente:b,tipoEmpresa:w,email:C,nit:N,esAutoconsumidora:R,esOperadorRed:T,recauda:_},G!==s?G:void 0),a()},re=G=>{const X=parseInt(G);x(isNaN(X)?null:X)};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[t.jsx(ft,{className:"w-5 h-5 text-blue-600"}),c?"Nueva Empresa":"Información de Empresa"]}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Empresa"}),t.jsx("input",{type:"text",value:m,onChange:G=>Z(G.target.value),placeholder:"Ingrese el nombre de la empresa",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${F?"border-red-500":"border-gray-300"}`}),F&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:F})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.jsx(Po,{className:"w-4 h-4 inline mr-1"}),"Cantidad de Usuarios"]}),t.jsx("input",{type:"number",value:h||"",onChange:G=>re(G.target.value),placeholder:"Ingrese el número de usuarios",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.jsx(ii,{className:"w-4 h-4 inline mr-1"}),"Tipo de Empresa"]}),t.jsxs("select",{value:w||"",onChange:G=>S(G.target.value||null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Seleccione un tipo"}),t.jsx("option",{value:"Generadora",children:"Generadora"}),t.jsx("option",{value:"Comercializadora",children:"Comercializadora"}),t.jsx("option",{value:"Ambas",children:"Ambas"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.jsx(ww,{className:"w-4 h-4 inline mr-1"}),"Email de la Empresa"]}),t.jsx("input",{type:"email",value:C||"",onChange:G=>j(G.target.value||null),placeholder:"ejemplo@empresa.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.jsx(Ia,{className:"w-4 h-4 inline mr-1"}),"NIT (incluye dígito de verificación)"]}),t.jsx("input",{type:"text",value:N||"",onChange:G=>D(G.target.value||null),placeholder:"900123456-7",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:b,onChange:G=>v(G.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx(yi,{className:"w-4 h-4 text-yellow-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es empresa incumbente del municipio"})]})}),t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Propiedades Adicionales"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:R,onChange:G=>M(G.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx(ii,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Autoconsumidora"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:T,onChange:G=>k(G.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx(Nw,{className:"w-4 h-4 text-orange-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Operador de Red"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:_,onChange:G=>z(G.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx(go,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recauda"})]})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),t.jsx("button",{onClick:te,disabled:!!F||!m.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:c?"Crear Empresa":"Guardar"})]})]})}):null}class Ed{static getEntityFolder(a){return{"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[a]||""}static async loadCompaniesForYear(a,s){try{const o=this.getEntityFolder(a);if(!o)throw new Error(`Entidad no encontrada: ${a}`);const c=(await To(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Y(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Y(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Y(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Y(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Y(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Y(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Y(()=>import("./2023-DrujBmiH.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Y(()=>import("./2024-C_HV7Ih5.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Y(()=>import("./2025-DPX86qph.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Y(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Y(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Y(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Y(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Y(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Y(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Y(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Y(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Y(()=>import("./2025-DbV08IcW.js"),[]),"../data/gobernacion-valle/2017.json":()=>Y(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Y(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Y(()=>import("./2019-KKyEHg-1.js"),[]),"../data/gobernacion-valle/2020.json":()=>Y(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Y(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Y(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Y(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Y(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Y(()=>import("./2025-GQlrFJAI.js"),[]),"../data/infibague/2023.json":()=>Y(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Y(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Y(()=>import("./2025-TA4I06BJ.js"),[])}),`../data/${o}/${s}.json`,4)).default;return Object.keys(c)}catch(o){return console.warn(`Error loading companies for ${a} ${s}:`,o),[]}}static async generateComparisonData(a){const{entity:s,years:o}=a,i={};for(const f of o)i[f]=await this.loadCompaniesForYear(s,f);const c=new Set;Object.values(i).forEach(f=>{f.forEach(h=>c.add(h))});const d=Array.from(c).sort().map(f=>{const h={name:f};return o.forEach(x=>{h[x.toString()]=i[x].includes(f)}),h}),m={};return o.forEach(f=>{m[f.toString()]=i[f].length}),{entity:s,years:o,companies:d,summary:m}}static exportToJSON(a){const s=JSON.stringify(a,null,2),o=new Blob([s],{type:"application/json"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download=`comparativa-empresas-${a.entity.replace(/\s+/g,"-").toLowerCase()}-${a.years.join("-")}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)}static exportToCSV(a){const o=[["Empresa",...a.years.map(h=>h.toString())].join(",")];a.companies.forEach(h=>{const x=[`"${h.name}"`,...a.years.map(b=>h[b.toString()]?"Sí":"No")];o.push(x.join(","))}),o.push(""),o.push("RESUMEN");const i=["Total de empresas",...a.years.map(h=>a.summary[h.toString()].toString())];o.push(i.join(","));const c=o.join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(d),f=document.createElement("a");f.href=m,f.download=`comparativa-empresas-${a.entity.replace(/\s+/g,"-").toLowerCase()}-${a.years.join("-")}.csv`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m)}}function Mj({isOpen:r,onClose:a,defaultEntity:s="Alcaldía de Palmira"}){const[o,i]=g.useState({entity:s,years:[2024,2025]}),[c,d]=g.useState(null),[m,f]=g.useState(!1),[h,x]=g.useState(null),b=[2017,2018,2019,2020,2021,2022,2023,2024,2025],v=j=>{i(N=>({...N,years:N.years.includes(j)?N.years.filter(D=>D!==j):[...N.years,j].sort()}))},w=async()=>{if(o.years.length<2){x("Selecciona al menos 2 años para comparar");return}f(!0),x(null);try{const j=await Ed.generateComparisonData(o);d(j)}catch(j){x(j instanceof Error?j.message:"Error al generar comparación")}finally{f(!1)}},S=()=>{c&&Ed.exportToJSON(c)},C=()=>{c&&Ed.exportToCSV(c)};return g.useEffect(()=>{r&&!c&&w()},[r]),r?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Yd,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comparativa de Empresas"})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx(Lt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[t.jsx(ft,{className:"w-4 h-4"}),"Entidad"]}),t.jsx("select",{value:o.entity,onChange:j=>i(N=>({...N,entity:j.target.value})),className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Nr.map(j=>t.jsx("option",{value:j,children:j},j))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[t.jsx(dt,{className:"w-4 h-4"}),"Años a Comparar"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(j=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:o.years.includes(j),onChange:()=>v(j),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium",children:j})]},j))})]})]}),t.jsx("div",{className:"flex justify-center mb-6",children:t.jsxs("button",{onClick:w,disabled:m||o.years.length<2,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[m?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t.jsx(Yd,{className:"w-4 h-4"}),m?"Generando...":"Generar Comparación"]})}),h&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:t.jsx("p",{className:"text-red-600 text-sm",children:h})}),c&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Resumen"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.years.map(j=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.summary[j.toString()]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Empresas en ",j]})]},j))})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[t.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(Ia,{className:"w-4 h-4"}),"Exportar JSON"]}),t.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[t.jsx(ku,{className:"w-4 h-4"}),"Exportar CSV"]})]}),t.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 border-r",children:"Empresa"}),c.years.map(j=>t.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 border-r last:border-r-0",children:j},j))]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:c.companies.map((j,N)=>t.jsxs("tr",{className:N%2===0?"bg-white":"bg-gray-50/50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r font-medium",children:j.name}),c.years.map(D=>t.jsx("td",{className:"px-4 py-3 text-center border-r last:border-r-0",children:j[D.toString()]?t.jsx(Mt,{className:"w-5 h-5 text-green-600 mx-auto"}):t.jsx(Wd,{className:"w-5 h-5 text-red-400 mx-auto"})},D))]},j.name))})]})})})]})]}),t.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"})})})]})}):null}function Lj({isOpen:r,onClose:a,onImport:s,selectedEntity:o,selectedYear:i}){const[c,d]=g.useState(""),[m,f]=g.useState(!1),[h,x]=g.useState(null),b=async()=>{if(c.trim()){f(!0),x(null);try{const S=await s(c.trim());x(S)}catch(S){x({total:0,imported:[],skipped:[],errors:[{company:"",month:"",status:"error",message:S instanceof Error?S.message:"Error desconocido al procesar"}]})}finally{f(!1)}}},v=()=>{d(""),x(null),a()},w=(S,C)=>{const j=()=>{switch(S.status){case"success":return t.jsx(Mt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"});case"skipped":return t.jsx(mr,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"});case"error":return t.jsx(Ht,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"})}},N=()=>{switch(S.status){case"success":return"bg-green-50 border-green-200";case"skipped":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200"}};return t.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${N()}`,children:[j(),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[S.company&&t.jsx("span",{className:"text-gray-900",children:S.company}),S.month&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-400",children:"-"}),t.jsx("span",{className:"text-gray-700",children:S.month})]}),S.workItemId&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-gray-400",children:"-"}),t.jsxs("span",{className:"text-blue-600",children:["#",S.workItemId]})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.message})]})]},C)};return r?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gd,{className:"w-6 h-6 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Importar Datos"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Contexto actual: ",o," - ",i]}),t.jsx("p",{className:"text-xs text-blue-600",children:"✨ Soporte multi-año: Puede importar datos de cualquier año y entidad"})]})]}),t.jsx("button",{onClick:v,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx(Lt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"JSON de Importación"}),t.jsx("textarea",{value:c,onChange:S=>d(S.target.value),placeholder:'{\\n  "EMGESA S.A. E.S.P.": {\\n    "Enero": {\\n      "entidad": "Alcaldía de Tuluá",\\n      "workItemId": 26373,\\n      "anio": 2024\\n    }\\n  }\\n}',className:"w-full h-40 p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",disabled:m}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[t.jsx("p",{children:"Pega aquí el JSON con los datos a importar. Se validará cada empresa y Work Item con Azure DevOps."}),t.jsx("p",{className:"text-blue-600",children:"💡 Los datos se guardarán automáticamente en el archivo correspondiente según el año y entidad de cada registro."}),t.jsx("p",{className:"text-green-600",children:'📝 Ejemplo: Los registros con "anio": 2018 se guardarán en el archivo de 2018, independiente del año actual.'})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:b,disabled:!c.trim()||m,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:m?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Procesando..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Gd,{className:"w-4 h-4"}),"Importar"]})}),c.trim()&&t.jsx("button",{onClick:()=>d(""),disabled:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",children:"Limpiar"})]})]}),h&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.total}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total Procesados"})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.imported.length}),t.jsx("div",{className:"text-sm text-green-700",children:"Importados"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.skipped.length}),t.jsx("div",{className:"text-sm text-yellow-700",children:"Ya Existían"})]}),t.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.errors.length}),t.jsx("div",{className:"text-sm text-red-700",children:"Errores"})]})]}),t.jsxs("div",{className:"space-y-4",children:[h.imported.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-green-700 mb-3",children:[t.jsx(Mt,{className:"w-5 h-5"}),"Importados Exitosamente (",h.imported.length,")"]}),t.jsx("div",{className:"space-y-2",children:h.imported.map((S,C)=>w(S,C))})]}),h.skipped.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-yellow-700 mb-3",children:[t.jsx(mr,{className:"w-5 h-5"}),"Ya Existían (",h.skipped.length,")"]}),t.jsx("div",{className:"space-y-2",children:h.skipped.map((S,C)=>w(S,C))})]}),h.errors.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-red-700 mb-3",children:[t.jsx(Ht,{className:"w-5 h-5"}),"Errores (",h.errors.length,")"]}),t.jsx("div",{className:"space-y-2",children:h.errors.map((S,C)=>w(S,C))})]})]})]})]}),t.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"})})})]})}):null}const Ij=[2017,2018,2019,2020,2021,2022,2023,2024,2025];function Oj({isOpen:r,onClose:a,selectedEntity:s,onValidate:o,onConfirmCreation:i}){const[c,d]=g.useState("configure"),[m,f]=g.useState(""),[h,x]=g.useState([]),[b,v]=g.useState(null),[w,S]=g.useState(!1),[C,j]=g.useState(null),[N,D]=g.useState(!1),[R,M]=g.useState(null),[T,k]=g.useState(null),[_,z]=g.useState(!1);g.useEffect(()=>{r&&(d("configure"),f(""),x([]),v(null),S(!1),j(null),M(null),k(null),D(!1),z(!1))},[r]);const F=O=>O.trim()?O.trim().length<3?"El nombre debe tener al menos 3 caracteres":null:"El nombre de la empresa es requerido",$=O=>{f(O),k(F(O))},q=O=>{x(J=>J.includes(O)?J.filter(ee=>ee!==O):[...J,O].sort())},Z=O=>{const J=parseInt(O);v(isNaN(J)?null:J)},te=()=>m.trim()&&h.length>0&&!T,re=async()=>{if(te()){D(!0);try{const O={usuariosCount:b,esIncumbente:w,tipoEmpresa:C,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1},J=await o(m.trim(),h,O);M(J),d("preview")}catch(O){console.error("Error during validation:",O),alert("Error al validar la empresa. Por favor, inténtalo nuevamente.")}finally{D(!1)}}},G=async()=>{if(R){z(!0);try{await i(R,{usuariosCount:b,esIncumbente:w,tipoEmpresa:C,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}),d("completed")}catch(O){console.error("Error during company creation:",O),alert("Error al crear la empresa. Por favor, inténtalo nuevamente.")}finally{z(!1)}}},X=()=>{d("configure"),M(null)},ne=()=>{d("configure"),M(null),a()};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ft,{className:"w-6 h-6 text-blue-600"}),t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[c==="configure"&&"Nueva Empresa Multi-Año",c==="preview"&&"Previsualización de Cambios",c==="completed"&&"Empresa Creada Exitosamente"]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[c==="configure"&&`Entidad: ${s}`,c==="preview"&&"Revisa los cambios antes de confirmar",c==="completed"&&"La empresa ha sido creada en los años seleccionados"]})]})]}),t.jsx("button",{onClick:ne,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx(Lt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[c==="configure"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa *"}),t.jsx("input",{type:"text",value:m,onChange:O=>$(O.target.value),placeholder:"Ej: EMGESA S.A. E.S.P.",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T?"border-red-500":"border-gray-300"}`}),T&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:T})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(dt,{className:"w-4 h-4 inline mr-1"}),"Años en los que crear la empresa *"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Ij.map(O=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[t.jsx("input",{type:"checkbox",checked:h.includes(O),onChange:()=>q(O),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium",children:O})]},O))}),h.length===0&&t.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Selecciona al menos un año"}),h.length>0&&t.jsxs("p",{className:"text-blue-600 text-sm mt-1",children:["Seleccionados: ",h.join(", ")," (",h.length," años)"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.jsx(Po,{className:"w-4 h-4 inline mr-1"}),"Cantidad de Usuarios"]}),t.jsx("input",{type:"number",value:b||"",onChange:O=>Z(O.target.value),placeholder:"Opcional",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t.jsx(ii,{className:"w-4 h-4 inline mr-1"}),"Tipo de Empresa"]}),t.jsxs("select",{value:C||"",onChange:O=>j(O.target.value||null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Seleccione un tipo"}),t.jsx("option",{value:"Generadora",children:"Generadora"}),t.jsx("option",{value:"Comercializadora",children:"Comercializadora"}),t.jsx("option",{value:"Ambas",children:"Ambas"})]})]})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w,onChange:O=>S(O.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx(yi,{className:"w-4 h-4 text-yellow-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es empresa incumbente del municipio"})]})})]}),c==="preview"&&R&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Resumen de Cambios"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:R.successYears.length}),t.jsx("div",{className:"text-green-700",children:"Se crearán"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:R.skippedYears.length}),t.jsx("div",{className:"text-yellow-700",children:"Se omitirán"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:R.errors.length}),t.jsx("div",{className:"text-red-700",children:"Errores"})]})]})]}),R.successYears.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"flex items-center gap-2 font-medium text-green-700 mb-3",children:[t.jsx(Mt,{className:"w-4 h-4"}),"Se creará en estos años (",R.successYears.length,")"]}),t.jsx("div",{className:"space-y-2",children:R.successYears.map(O=>t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-green-800",children:O.year}),t.jsx("span",{className:"text-sm text-green-600",children:O.message})]})},O.year))})]}),R.skippedYears.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"flex items-center gap-2 font-medium text-yellow-700 mb-3",children:[t.jsx(dr,{className:"w-4 h-4"}),"Se omitirán estos años (",R.skippedYears.length,")"]}),t.jsx("div",{className:"space-y-2",children:R.skippedYears.map(O=>t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-yellow-800",children:O.year}),t.jsx("span",{className:"text-sm text-yellow-600",children:O.message})]})},O.year))})]}),R.errors.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"flex items-center gap-2 font-medium text-red-700 mb-3",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Errores encontrados (",R.errors.length,")"]}),t.jsx("div",{className:"space-y-2",children:R.errors.map(O=>t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-red-800",children:O.year}),t.jsx("span",{className:"text-sm text-red-600",children:O.message})]})},O.year))})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Posición Alfabética"}),t.jsxs("p",{className:"text-sm text-gray-600",children:['La empresa "',R.companyName,'" se insertará en la posición #',R.alphabeticalPosition," del listado alfabético."]})]})]}),c==="completed"&&t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Mt,{className:"w-8 h-8 text-green-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"¡Empresa Creada Exitosamente!"}),t.jsx("p",{className:"text-gray-600",children:"La empresa ha sido creada en los años seleccionados y ordenada alfabéticamente en cada archivo."})]})]}),t.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:t.jsxs("div",{className:"flex justify-between",children:[c==="configure"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:ne,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),t.jsx("button",{onClick:re,disabled:!te()||N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Validando..."]}):t.jsxs(t.Fragment,{children:["Validar Empresa",t.jsx(lw,{className:"w-4 h-4"})]})})]}),c==="preview"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:X,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"← Regresar"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:ne,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),t.jsx("button",{onClick:G,disabled:_||R?.successYears.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:_?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Mt,{className:"w-4 h-4"}),"Confirmar Creación"]})})]})]}),c==="completed"&&t.jsx("button",{onClick:ne,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})]})})]})}):null}function Fj({isOpen:r,onClose:a,emptyCompanies:s,onConfirmDelete:o}){const[i,c]=g.useState(new Set),[d,m]=g.useState(!1),[f,h]=g.useState(null);if(!r)return null;const x=N=>{const D=new Set(i);D.has(N)?D.delete(N):D.add(N),c(D)},b=()=>{c(new Set(s.map(N=>N.name)))},v=()=>{c(new Set)},w=async()=>{if(i.size!==0){m(!0);try{const N=await o(Array.from(i));h(N),c(new Set)}catch(N){console.error("Error deleting companies:",N),alert("Error al eliminar empresas: "+(N instanceof Error?N.message:"Error desconocido"))}finally{m(!1)}}},S=()=>{c(new Set),h(null),a()},C=N=>{switch(N){case"Generadora":return t.jsx(ii,{className:"w-4 h-4 text-blue-600"});case"Comercializadora":return t.jsx(Po,{className:"w-4 h-4 text-green-600"});case"Ambas":return t.jsx(ft,{className:"w-4 h-4 text-purple-600"});default:return t.jsx(ft,{className:"w-4 h-4 text-gray-400"})}},j=N=>N||"No especificado";return f?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mt,{className:"w-6 h-6 text-green-600"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eliminación Completada"})]}),t.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 p-1",children:t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Resumen de la eliminación"}),t.jsxs("p",{className:"text-green-700",children:["Se eliminaron exitosamente ",t.jsx("strong",{children:f.totalDeleted})," empresas sin solicitudes."]}),t.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Se preservaron ",t.jsx("strong",{children:f.preservedCompanies.length})," empresas con solicitudes activas."]})]})}),f.deletedCompanies.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Empresas eliminadas (",f.deletedCompanies.length,")"]}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.deletedCompanies.map(N=>t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[C(N.metadata.tipoEmpresa),t.jsx("span",{className:"font-medium text-gray-900",children:N.name})]}),t.jsx("span",{className:"text-sm text-gray-500",children:j(N.metadata.tipoEmpresa)})]}),(N.metadata.usuariosCount||N.metadata.esIncumbente)&&t.jsxs("div",{className:"mt-2 text-xs text-gray-600 space-y-1",children:[N.metadata.usuariosCount&&t.jsxs("p",{children:["Usuarios: ",N.metadata.usuariosCount.toLocaleString()]}),N.metadata.esIncumbente&&t.jsx("p",{children:"Empresa incumbente"})]})]},N.name))})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})})]})]})}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dr,{className:"w-6 h-6 text-orange-600"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Empresas Sin Solicitudes"})]}),t.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 p-1",children:t.jsx(Lt,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-6",children:s.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Mt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay empresas para eliminar"}),t.jsx("p",{className:"text-gray-600",children:"Todas las empresas en el sistema tienen al menos una solicitud activa."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[t.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"⚠️ Confirmación de eliminación"}),t.jsxs("p",{className:"text-orange-700",children:["Se encontraron ",t.jsx("strong",{children:s.length})," empresas sin solicitudes activas. Esta acción eliminará permanentemente las empresas seleccionadas del sistema."]}),t.jsx("p",{className:"text-orange-700 text-sm mt-2",children:"Las empresas eliminadas no podrán ser recuperadas. Revisa cuidadosamente la lista antes de continuar."})]}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx("button",{onClick:b,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Seleccionar todas"}),t.jsx("button",{onClick:v,className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Deseleccionar todas"}),t.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[i.size," de ",s.length," seleccionadas"]})]})]}),t.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto mb-6",children:s.map(N=>t.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${i.has(N.name)?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>x(N.name),children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:i.has(N.name),onChange:()=>x(N.name),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C(N.metadata.tipoEmpresa),t.jsx("span",{className:"font-semibold text-gray-900",children:N.name}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",j(N.metadata.tipoEmpresa),")"]})]}),(N.metadata.usuariosCount||N.metadata.esIncumbente)&&t.jsxs("div",{className:"text-sm text-gray-600 space-x-4",children:[N.metadata.usuariosCount&&t.jsxs("span",{children:["👥 ",N.metadata.usuariosCount.toLocaleString()," usuarios"]}),N.metadata.esIncumbente&&t.jsx("span",{children:"⭐ Incumbente"})]})]})]})},N.name))}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:S,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),t.jsxs("button",{onClick:w,disabled:i.size===0||d,className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(ig,{className:"w-4 h-4"}),d?"Eliminando...":`Eliminar ${i.size} empresas`]})]})]})})]})})}function ep(r){if(!r)return"Sin fecha";const a=new Date(r),s={day:"numeric",month:"long",year:"numeric"};return a.toLocaleDateString("es-ES",s)}function $j(r){switch(r){case"all":return"Todas las empresas";case"withRequests":return"Empresas con solicitudes activas";case"withoutDeadline":return"Empresas sin deadline definido";case"manual":return"Selección manual de empresas";default:return"Scope desconocido"}}function zj(r){switch(r){case"all":return"Aplicar a todas las empresas, tengan o no solicitud creada";case"withRequests":return"Solo empresas que tengan solicitudes activas en el mes";case"withoutDeadline":return"Solo empresas que no tengan deadline configurado";case"manual":return"Seleccionar manualmente las empresas";default:return""}}function Vj(r=1){const a=new Date,s=new Date(a);s.setMonth(s.getMonth()+r),s.setDate(15);const o=new Date(s);return o.setDate(o.getDate()+10),{fechaLimiteEmpresa:s.toISOString().split("T")[0],fechaLimiteSLA:o.toISOString().split("T")[0]}}function Uj({isOpen:r,onClose:a,billingData:s,onApplyDeadlines:o}){const[i,c]=g.useState("bulk"),[d,m]=g.useState(Ke[0]),[f,h]=g.useState(Vj()),[x,b]=g.useState("withRequests"),[v,w]=g.useState([]),[S,C]=g.useState(!1),[j,N]=g.useState(null),[D,R]=g.useState(null),M=g.useMemo(()=>Object.keys(s).filter(G=>G!=="_metadata").sort(),[s]),T=g.useMemo(()=>{const G={all:M.length,withRequests:0,withoutDeadline:0,manual:v.length};return G.withRequests=M.filter(X=>{const ne=s[X]?.[d];return ne&&ne.estado&&ne.estado!=="Sin Solicitud"}).length,G.withoutDeadline=Ze.getCompaniesWithoutDeadline(s,d).length,G},[s,d,M,v]),k=g.useMemo(()=>Ze.generateMonthlySummary(s,d),[s,d]),_=G=>{c(G),N(null),R(null)},z=G=>{m(G),N(null),R(null),k.deadlines&&h(k.deadlines)},F=G=>{b(G),C(G==="manual"),N(null)},$=G=>{w(X=>X.includes(G)?X.filter(ne=>ne!==G):[...X,G])},q=()=>{w(M)},Z=()=>{w([])},te=()=>{const G=Ze.validateDeadlines(f);if(!G.valid){N(G.error||"Error de validación");return}const X=x==="manual"?T.manual:T[x];if(X===0){N("No hay empresas para aplicar con los criterios seleccionados");return}try{o(d,f,x,v),R(`Plazos aplicados exitosamente a ${X} empresa${X!==1?"s":""}`),N(null),setTimeout(()=>{a(),R(null)},2e3)}catch(ne){N(ne instanceof Error?ne.message:"Error al aplicar plazos")}};if(!r)return null;const re=x==="manual"?T.manual:T[x];return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dt,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gestión de Plazos"})]}),t.jsx("button",{onClick:a,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:t.jsx(Lt,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"flex border-b bg-gray-50",children:[t.jsx("button",{onClick:()=>_("bulk"),className:`flex-1 px-6 py-3 font-medium transition-colors ${i==="bulk"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Aplicación Masiva"}),t.jsx("button",{onClick:()=>_("calendar"),className:`flex-1 px-6 py-3 font-medium transition-colors ${i==="calendar"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Vista por Mes"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="bulk"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes a configurar"}),t.jsx("select",{value:d,onChange:G=>z(G.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ke.map(G=>t.jsx("option",{value:G,children:G},G))})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Plazos a aplicar"}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Límite Empresa",t.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Cuándo debe entregar la empresa)"})]}),t.jsx("input",{type:"date",value:f.fechaLimiteEmpresa,onChange:G=>h({...f,fechaLimiteEmpresa:G.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fecha Límite SLA",t.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Cuándo debemos facturar)"})]}),t.jsx("input",{type:"date",value:f.fechaLimiteSLA,onChange:G=>h({...f,fechaLimiteSLA:G.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Aplicar a:"}),t.jsx("div",{className:"space-y-3",children:["all","withRequests","withoutDeadline","manual"].map(G=>t.jsxs("label",{className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[t.jsx("input",{type:"radio",name:"scope",checked:x===G,onChange:()=>F(G),className:"mt-1 text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-medium text-gray-900",children:[$j(G),t.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",T[G]," empresa",T[G]!==1?"s":"",")"]})]}),t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:zj(G)})]})]},G))})]}),S&&t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Seleccionar empresas"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:q,className:"text-xs text-blue-600 hover:text-blue-700",children:"Seleccionar todas"}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx("button",{onClick:Z,className:"text-xs text-gray-600 hover:text-gray-700",children:"Limpiar"})]})]}),t.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:M.map(G=>t.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:v.includes(G),onChange:()=>$(G),className:"text-blue-600 focus:ring-blue-500 rounded"}),t.jsx("span",{className:"text-sm text-gray-900",children:G})]},G))})]}),k.companiesWithDeadline>0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(dr,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-yellow-900",children:"Este mes ya tiene plazos configurados"}),t.jsxs("div",{className:"text-sm text-yellow-700 mt-1",children:[k.companiesWithDeadline," empresa",k.companiesWithDeadline!==1?"s":""," con plazos existentes. Esta acción sobrescribirá los plazos existentes."]})]})]})]}),i==="calendar"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(sg,{className:"w-5 h-5 text-blue-600"}),t.jsxs("h3",{className:"font-semibold text-gray-900",children:["Resumen de ",d]})]}),k.deadlines?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Fecha Límite Empresa"}),t.jsx("div",{className:"font-medium text-gray-900",children:ep(k.deadlines.fechaLimiteEmpresa)}),k.daysUntilCompanyDeadline!==null&&t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:Ze.formatDaysRemaining(k.daysUntilCompanyDeadline)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Fecha Límite SLA"}),t.jsx("div",{className:"font-medium text-gray-900",children:ep(k.deadlines.fechaLimiteSLA)}),k.daysUntilSLADeadline!==null&&t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:Ze.formatDaysRemaining(k.daysUntilSLADeadline)})]})]}),t.jsx("div",{className:"pt-3 border-t border-gray-200",children:t.jsxs("div",{className:"text-sm text-gray-700",children:["Empresas con este plazo:"," ",t.jsx("span",{className:"font-medium",children:k.companiesWithDeadline})," ","de ",k.companiesCount]})})]}):t.jsxs("div",{className:"text-center py-6 text-gray-500",children:["No hay plazos configurados para ",d]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ver mes"}),t.jsx("select",{value:d,onChange:G=>z(G.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ke.map(G=>t.jsx("option",{value:G,children:G},G))})]}),t.jsx("button",{onClick:()=>c("bulk"),className:"w-full p-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:"Configurar plazos para este mes"})]})]}),t.jsxs("div",{className:"border-t bg-gray-50 px-6 py-4",children:[j&&t.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-center gap-2 text-red-700 text-sm",children:[t.jsx(dr,{className:"w-4 h-4 flex-shrink-0"}),j]}),D&&t.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-3 flex items-center gap-2 text-green-700 text-sm",children:[t.jsx(ta,{className:"w-4 h-4 flex-shrink-0"}),D]}),t.jsx("div",{className:"flex justify-between items-center",children:i==="bulk"?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Se aplicará a ",t.jsx("span",{className:"font-semibold",children:re})," empresa",re!==1?"s":""]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),t.jsx("button",{onClick:te,disabled:re===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Aplicar Plazos"})]})]}):t.jsx("button",{onClick:a,className:"ml-auto px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cerrar"})})]})]})})}function Bj({billingData:r}){const a=g.useMemo(()=>Ke.map(x=>Ze.generateMonthlySummary(r,x)),[r]),s=g.useMemo(()=>Ze.getUpcomingDeadlines(r,10),[r]),o=g.useMemo(()=>{const x={critical:0,warning:0,normal:0,none:0};return s.forEach(b=>{const v=Ze.getUrgencyLevel(b.daysUntilSLADeadline);x[v]++}),x},[s]),i=g.useMemo(()=>o.critical>0,[o]),c=g.useMemo(()=>a.filter(x=>x.companiesWithDeadline>0&&(x.companyDeadlineUrgency!=="none"||x.slaDeadlineUrgency!=="none")),[a]),d=g.useMemo(()=>s.filter(x=>x.daysUntilSLADeadline!==null&&x.daysUntilSLADeadline<0||x.daysUntilCompanyDeadline!==null&&x.daysUntilCompanyDeadline<0),[s]),m=g.useMemo(()=>a.reduce((x,b)=>x+b.companiesWithDeadline,0),[a]),f=g.useMemo(()=>{const x={};return Ke.forEach(b=>{const v=Ze.getCompaniesDeadlineInfo(r,b);v.length>0&&(x[b]=v)}),x},[r]),h=g.useMemo(()=>({totalDeadlines:s.length,criticalCount:o.critical,warningCount:o.warning,normalCount:o.normal,overdueCount:d.length,activeMonthsCount:c.length,companiesWithDeadlines:m}),[s,o,d,c,m]);return{monthlySummaries:a,upcomingDeadlines:s,urgencyCounts:o,hasCriticalAlerts:i,activeMonths:c,overdueDeadlines:d,deadlinesByMonth:f,statistics:h}}function Wj({billingData:r,onManageClick:a}){const[s,o]=g.useState(!1),i=g.useRef(null),c=pi(),d=Bj({billingData:r});if(d.upcomingDeadlines.length===0)return null;g.useEffect(()=>{const h=x=>{i.current&&!i.current.contains(x.target)&&o(!1)};return s&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[s]);const m=d.upcomingDeadlines.slice(0,8),f=()=>{o(!1),a()};return t.jsxs("div",{className:"relative",ref:i,children:[t.jsxs("button",{onClick:()=>o(!s),className:`relative flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${d.hasCriticalAlerts?"bg-red-100 hover:bg-red-200 text-red-700":d.urgencyCounts.warning>0?"bg-yellow-100 hover:bg-yellow-200 text-yellow-700":"bg-blue-100 hover:bg-blue-200 text-blue-700"}`,title:"Ver próximos vencimientos",children:[t.jsx(Kh,{className:`w-4 h-4 ${d.hasCriticalAlerts?"animate-pulse":""}`}),d.hasCriticalAlerts&&t.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-600 text-white text-xs font-bold rounded-full border-2 border-white",children:d.urgencyCounts.critical}),t.jsxs("span",{className:"text-sm font-medium hidden sm:inline",children:[d.statistics.totalDeadlines," ",d.statistics.totalDeadlines===1?"plazo":"plazos"]})]}),s&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-lg shadow-2xl border border-gray-200 z-50 overflow-hidden",children:[t.jsxs("div",{className:`px-4 py-3 border-b flex items-center justify-between ${d.hasCriticalAlerts?"bg-gradient-to-r from-red-50 to-orange-50 border-red-100":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-100"}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kh,{className:"w-5 h-5 text-gray-700"}),t.jsx("h3",{className:"font-semibold text-gray-900",children:"Próximos Vencimientos"})]}),t.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",title:"Cerrar",children:t.jsx(Lt,{className:"w-4 h-4"})})]}),d.hasCriticalAlerts&&t.jsxs("div",{className:"px-4 py-2 bg-red-50 border-b border-red-100 flex items-center gap-2",children:[t.jsx(Ht,{className:"w-4 h-4 text-red-600"}),t.jsxs("span",{className:"text-sm font-medium text-red-700",children:[d.urgencyCounts.critical," ",d.urgencyCounts.critical===1?"plazo crítico":"plazos críticos"]})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:m.map((h,x)=>{const b=Ze.getUrgencyLevel(h.daysUntilSLADeadline),v=Ze.getUrgencyIcon(b),w=Ze.formatDaysRemaining(h.daysUntilSLADeadline);return t.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ${b==="critical"?"bg-red-50/30":""}`,children:t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("span",{className:"text-xl",title:`Urgencia: ${b}`,children:v}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-gray-900 truncate text-sm",title:h.company,children:h.company}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx(dt,{className:"w-3 h-3"}),t.jsx("span",{children:h.month})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(mr,{className:"w-4 h-4 text-gray-400"}),t.jsx("span",{className:`font-bold ${b==="critical"?"text-red-700":b==="warning"?"text-yellow-700":"text-green-700"}`,children:w})]})]})},`${h.company}-${h.month}-${x}`)})}),t.jsxs("div",{className:"border-t border-gray-200 bg-gray-50",children:[t.jsxs("div",{className:"px-4 py-2 flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[d.urgencyCounts.critical>0&&t.jsxs("span",{className:"text-red-700 font-medium",children:[d.urgencyCounts.critical," críticos"]}),d.urgencyCounts.warning>0&&t.jsxs("span",{className:"text-yellow-700 font-medium",children:[d.urgencyCounts.warning," advertencia"]}),d.urgencyCounts.normal>0&&t.jsxs("span",{className:"text-green-700 font-medium",children:[d.urgencyCounts.normal," normales"]})]}),d.statistics.totalDeadlines>8&&t.jsxs("span",{className:"text-gray-500",children:["+",d.statistics.totalDeadlines-8," más"]})]}),t.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 space-y-2",children:[t.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg transition-colors font-medium text-sm",children:[t.jsx(dt,{className:"w-4 h-4"}),t.jsx("span",{children:"Gestionar Todos los Plazos"})]}),t.jsxs("button",{onClick:()=>{o(!1),c("/reportes/vencimientos")},className:"w-full flex items-center justify-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2.5 rounded-lg transition-colors font-medium text-sm",children:[t.jsx(ng,{className:"w-4 h-4"}),t.jsx("span",{children:"Ver Reporte Completo"})]})]})]})]})]})}const vi={isProduction:()=>!0,isDevelopment:()=>!1,isFeatureEnabled:r=>{switch(r){case"actions":return!1;case"azure":return!1;case"protected":return!0;default:return!1}},getProtectionPassword:()=>"jikko",shouldProtectFeatures:()=>vi.isFeatureEnabled("protected")},Hj=vi.isFeatureEnabled,Yj=vi.getProtectionPassword,Gj=vi.shouldProtectFeatures;function qj({children:r,featureName:a="esta función"}){const[s,o]=g.useState(!1),[i,c]=g.useState(""),[d,m]=g.useState(""),[f,h]=g.useState(!0),x=`protected_feature_auth_${a.replace(/\s+/g,"_")}`;g.useEffect(()=>{sessionStorage.getItem(x)==="true"&&o(!0),h(!1)},[x]);const b=v=>{v.preventDefault();const w=Yj();i===w?(o(!0),sessionStorage.setItem(x,"true"),m("")):(m("Contraseña incorrecta"),c(""))};return f?null:s?t.jsx(t.Fragment,{children:r}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(bw,{className:"w-6 h-6"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Contenido Protegido"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Se requiere autenticación"})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("p",{className:"text-gray-700 mb-2",children:["El acceso a ",t.jsx("strong",{children:a})," está protegido."]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Por favor, ingresa la contraseña para continuar."})]}),t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),t.jsx("input",{id:"password",type:"password",value:i,onChange:v=>c(v.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Ingresa la contraseña",autoFocus:!0})]}),d&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[t.jsx(Ht,{className:"w-4 h-4 flex-shrink-0"}),t.jsx("span",{children:d})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),t.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Acceder"})]})]}),t.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-800",children:[t.jsx("strong",{children:"Nota:"})," La autenticación se mantendrá activa durante esta sesión del navegador."]})})]})]})})}function kd({feature:r,children:a,fallback:s=null,requirePassword:o=!1,featureName:i}){if(!Hj(r))return t.jsx(t.Fragment,{children:s});if(o&&Gj()){const d=i||Kj(r);return t.jsx(qj,{featureName:d,children:a})}return t.jsx(t.Fragment,{children:a})}function Kj(r){return{actions:"Acciones de Gestión",azure:"Configuración de Azure DevOps",protected:"Función Protegida"}[r]||"esta función"}function Qj({onCreateRequestClick:r,onNewCompanyClick:a,onNewCompanyMultiYearClick:s,onCompareCompaniesClick:o,onImportDataClick:i,onDeleteEmptyCompaniesClick:c,onManageDeadlinesClick:d,azureConfig:m,onConfigClick:f,onSyncClick:h,syncing:x}){const[b,v]=g.useState(!1),w=pi(),S=()=>v(!b),C=j=>{j(),v(!1)};return t.jsxs(t.Fragment,{children:[b&&t.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 transition-opacity",onClick:()=>v(!1)}),t.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[b&&t.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-2xl border border-gray-200 w-80 max-h-[80vh] overflow-y-auto mb-2",children:[t.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-3 rounded-t-lg",children:t.jsx("h3",{className:"font-semibold",children:"Acciones Rápidas"})}),t.jsxs("div",{className:"p-2",children:[t.jsx(kd,{feature:"actions",fallback:null,children:t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide px-2 py-1",children:"Solicitudes y Empresas"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>C(r),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-green-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:t.jsx(Hd,{className:"w-4 h-4 text-green-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Nueva Solicitud"})]}),t.jsxs("button",{onClick:()=>C(a),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-blue-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:t.jsx(ft,{className:"w-4 h-4 text-blue-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Nueva Empresa"})]}),t.jsxs("button",{onClick:()=>C(s),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-purple-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors",children:t.jsxs("div",{className:"flex items-center gap-0.5",children:[t.jsx(ft,{className:"w-3.5 h-3.5 text-purple-700"}),t.jsx(dt,{className:"w-3 h-3 text-purple-700"})]})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Empresa Multi-Año"})]})]})]})}),t.jsx(kd,{feature:"actions",fallback:null,children:t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide px-2 py-1",children:"Gestión de Datos"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>C(o),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-100 rounded-lg group-hover:bg-gray-200 transition-colors",children:t.jsx(Yd,{className:"w-4 h-4 text-gray-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Comparar Empresas"})]}),t.jsxs("button",{onClick:()=>C(i),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-orange-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 rounded-lg group-hover:bg-orange-200 transition-colors",children:t.jsx(Gd,{className:"w-4 h-4 text-orange-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Importar Datos"})]}),t.jsxs("button",{onClick:()=>C(c),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-red-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 rounded-lg group-hover:bg-red-200 transition-colors",children:t.jsx(ig,{className:"w-4 h-4 text-red-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Limpiar Empresas Vacías"})]})]})]})}),t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide px-2 py-1",children:"Plazos y Vencimientos"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>C(d),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-amber-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-amber-100 rounded-lg group-hover:bg-amber-200 transition-colors",children:t.jsx(uw,{className:"w-4 h-4 text-amber-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gestionar Plazos"})]}),t.jsxs("button",{onClick:()=>{w("/reportes/vencimientos"),v(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-blue-50 transition-colors text-left group",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:t.jsx(ng,{className:"w-4 h-4 text-blue-700"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reporte de Vencimientos"})]})]})]}),t.jsx(kd,{feature:"azure",fallback:null,children:t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide px-2 py-1",children:"Azure DevOps"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>C(f),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-purple-50 transition-colors text-left group",children:[t.jsxs("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors relative",children:[t.jsx(lg,{className:"w-4 h-4 text-purple-700"}),m.enabled&&t.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-green-500 rounded-full border border-white"})]}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Configurar Azure"})]}),m.enabled&&t.jsxs("button",{onClick:()=>C(h),disabled:x,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-indigo-50 transition-colors text-left group disabled:opacity-50",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-indigo-100 rounded-lg group-hover:bg-indigo-200 transition-colors",children:t.jsx(yo,{className:`w-4 h-4 text-indigo-700 ${x?"animate-spin":""}`})}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:x?"Sincronizando...":"Sincronizar Azure"})]})]})]})})]})]}),t.jsx("button",{onClick:S,className:`flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-300 ${b?"bg-red-600 hover:bg-red-700 rotate-90":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,title:b?"Cerrar menú":"Acciones rápidas",children:b?t.jsx(Lt,{className:"w-6 h-6 text-white"}):t.jsx(jw,{className:"w-6 h-6 text-white"})})]})]})}function Xj(){const[r,a]=g.useState(!1),s=g.useCallback(()=>{a(!0)},[]),o=g.useCallback(()=>{a(!1)},[]);return{showComparisonModal:r,openComparisonModal:s,closeComparisonModal:o}}class Jj{static normalizeCompanyName(a){return a.replace(/\s*\(\d{4}\)\s*$/,"").trim()}static async processImportData(a,s,o,i,c,d){const m=[];try{const f=JSON.parse(a);if(!f||typeof f!="object")throw new Error("JSON inválido: debe ser un objeto con empresas");for(const[h,x]of Object.entries(f)){if(!x||typeof x!="object"){m.push({company:h,month:"",status:"error",message:"Datos de empresa inválidos"});continue}for(const[b,v]of Object.entries(x))try{const w=this.normalizeCompanyName(h),S=await this.processCompanyMonthRecord(w,b,v,s,o,i,c,d);m.push(S)}catch(w){m.push({company:this.normalizeCompanyName(h),month:b,status:"error",message:w instanceof Error?w.message:"Error desconocido"})}}}catch(f){m.push({company:"",month:"",status:"error",message:f instanceof Error?`Error de formato JSON: ${f.message}`:"JSON inválido"})}return this.createSummary(m)}static async processCompanyMonthRecord(a,s,o,i,c,d,m,f){if(!o||typeof o!="object")return{company:a,month:s,status:"error",message:"Datos de solicitud inválidos"};const{entidad:h,workItemId:x,anio:b}=o;if(!h||!x||!b)return{company:a,month:s,status:"error",message:"Faltan campos requeridos: entidad, workItemId, anio"};const v=typeof x=="number"?x:parseInt(x);if(isNaN(v))return{company:a,month:s,status:"error",message:"workItemId debe ser un número válido"};const w=typeof b=="number"?b:parseInt(b);if(isNaN(w)||w<2017||w>2030)return{company:a,month:s,status:"error",message:`Año ${w} no es válido (debe estar entre 2017 y 2030)`};if(!Ke.includes(s))return{company:a,month:s,status:"error",message:`Mes "${s}" no es válido. Debe ser uno de: ${Ke.join(", ")}`};const S=`${h}-${w}`,C=f?.[S]||i;if(!C[a])return{company:a,month:s,status:"error",message:`Empresa "${a}" no encontrada en ${h} ${w}`};const j=C[a][s];if(j&&typeof j=="object"&&j.workItemId)return{company:a,month:s,status:"skipped",message:`Ya existe registro para ${h} ${w} con Work Item ${j.workItemId}`,workItemId:j.workItemId};try{const N=await m(v);return N?{company:a,month:s,status:"success",message:`Work Item ${v} validado para ${w} (Estado: ${N})`,workItemId:v}:{company:a,month:s,status:"error",message:`Work Item ${v} no existe o no es accesible en Azure DevOps`,workItemId:v}}catch(N){return{company:a,month:s,status:"error",message:`Error al validar Work Item ${v}: ${N instanceof Error?N.message:"Error desconocido"}`,workItemId:v}}}static createSummary(a){const s=a.filter(c=>c.status==="success"),o=a.filter(c=>c.status==="skipped"),i=a.filter(c=>c.status==="error");return{total:a.length,imported:s,skipped:o,errors:i}}}function Zj({billingData:r,selectedYear:a,selectedEntity:s,updateField:o,updateStatusFromAzure:i,syncFromAzure:c,syncWorkItemData:d}){const[m,f]=g.useState(!1),h=g.useCallback(()=>{f(!0)},[]),x=g.useCallback(()=>{f(!1)},[]),b=g.useCallback(async v=>{let w={};try{w=JSON.parse(v)}catch{throw new Error("JSON inválido")}const S=new Set;for(const[,N]of Object.entries(w))if(typeof N=="object"&&N)for(const[,D]of Object.entries(N))typeof D=="object"&&D&&D.anio&&D.entidad&&S.add(`${D.entidad}-${D.anio}`);const C={};for(const N of S){const[D,R]=N.split("-"),M=parseInt(R);try{const T=await Be.loadDataForEntityYear(D,M);C[N]=T}catch(T){console.warn(`Could not load data for ${D} ${M}:`,T),C[N]={}}}const j=await Jj.processImportData(v,r,a,s,c,C);for(const N of j.imported)if(N.workItemId&&N.message){const D=N.message.match(/validado para (\d{4})/),R=D?parseInt(D[1]):a,M=Object.keys(w).find(_=>_.replace(/\s*\(\d{4}\)\s*$/,"").trim()===N.company);let T=s;M&&w[M]?.[N.month]?.entidad&&(T=w[M][N.month].entidad);const k=`${T}-${R}`;try{const _=await d(N.workItemId),z=new Date().toISOString().split("T")[0],F={workItemId:N.workItemId,entidad:T,notas:"",estado:_?.state||"New",fechaRecibido:_?.fechaRecibido||z,fechaCerrado:_?.fechaCerrado||"",workItemType:_?.workItemType};C[k]&&(C[k][N.company]||(C[k][N.company]={}),C[k][N.company][N.month]=F,await Be.saveDataForEntityYear(T,R,C[k])),R===a&&T===s&&(o(N.company,N.month,"workItemId",N.workItemId),o(N.company,N.month,"entidad",T),o(N.company,N.month,"notas",""),o(N.company,N.month,"fechaRecibido",F.fechaRecibido),o(N.company,N.month,"fechaCerrado",F.fechaCerrado),o(N.company,N.month,"workItemType",F.workItemType),i(N.company,N.month,F.estado))}catch(_){console.error(`Error syncing data for ${N.company} - ${N.month}:`,_)}}return j},[r,a,s,o,i,c,d]);return{showImportModal:m,openImportModal:h,closeImportModal:x,processImport:b}}function eN(){const r=g.useCallback(s=>{const o=[];for(const[i,c]of Object.entries(s)){let d=!1;for(const m of Ke){const f=Be.getMonthlyBillingData(c,m);if(f&&f.estado!=="Sin Solicitud"){d=!0;break}}if(!d){const m=Be.getCompanyMetadata(c);o.push({name:i,metadata:m,monthsChecked:[...Ke]})}}return o},[]),a=g.useCallback((s,o)=>{const i={...s},c=[],d=[];o.forEach(f=>{if(i[f]){const h=Be.getCompanyMetadata(i[f]);c.push({name:f,metadata:h,monthsChecked:[...Ke]}),delete i[f]}}),Object.keys(s).forEach(f=>{o.includes(f)||d.push(f)});const m={deletedCompanies:c,totalDeleted:c.length,preservedCompanies:d};return{updatedData:i,result:m}},[]);return{findEmptyCompanies:r,deleteEmptyCompanies:a}}function tp(){const{year:r,entity:a}=ju(),s=pi(),o=jn(),[i,c]=g.useState(null),[d,m]=g.useState(!1),[f,h]=g.useState(!1),[x,b]=g.useState(!1),[v,w]=g.useState(null),[S,C]=g.useState(!1),[j,N]=g.useState(!1),[D,R]=g.useState(!1),[M,T]=g.useState(!1),k=r?parseInt(r):2025,_=a?decodeURIComponent(a):"Alcaldía de Palmira",{billingData:z,isLoading:F,error:$,updateField:q,updateStatusFromAzure:Z,getCellData:te,updateCompanyMetadata:re,getCompanyMetadata:G,renameCompany:X,addNewCompany:ne,getCompanyNames:O,deleteCompanies:J,performAdvancedSync:ee}=Pt(k,_),A=vj(z),W=Nj(),ue=Xj(),me=Zj({billingData:z,selectedYear:k,selectedEntity:_,updateField:q,updateStatusFromAzure:Z,syncFromAzure:W.syncFromAzure,syncWorkItemData:W.syncWorkItemData}),Ne=eN(),be=Cj({billingData:z,onUpdateData:q});g.useEffect(()=>{const Me=new URLSearchParams(o.search).get("search");Me&&A.setSearchTerm(Me)},[o.search,A.setSearchTerm]),g.useEffect(()=>{(!r||!a)&&o.pathname==="/"&&s(`/2025/${encodeURIComponent("Alcaldía de Palmira")}`,{replace:!0})},[r,a,o.pathname,s]);const ie=g.useCallback(ke=>{s(`/${ke}/${encodeURIComponent(_)}`,{replace:!0})},[s,_]),he=g.useCallback(ke=>{s(`/${k}/${encodeURIComponent(ke)}`,{replace:!0})},[s,k]),Ae=g.useCallback((ke,Me)=>{c({empresa:ke,mes:Me})},[]),ge=g.useCallback(()=>{c(null)},[]),Ie=g.useCallback(async(ke,Me,Qe,et)=>{if(Qe!=="estado"&&q(ke,Me,Qe,et),Qe==="workItemId"&&et&&!te(ke,Me)?.workItemId){const Ye=await W.createWorkItem(ke,Me,k,te(ke,Me)?.entidad||"");Ye&&q(ke,Me,"workItemId",Ye)}if(Qe==="workItemId"&&et&&te(ke,Me)?.workItemId!==et){const Ye=await W.syncFromAzure(et);Ye&&Z(ke,Me,Ye)}},[q,Z,te,W,k]),We=g.useCallback(async(ke,Me,Qe)=>{const et=await W.createWorkItem(ke,Me,k,Qe);et&&q(ke,Me,"workItemId",et)},[W,q,k]),pt=g.useCallback(async(ke,Me,Qe)=>{const et=await W.syncFromAzure(Qe);et&&Z(ke,Me,et)},[W,Z]),gt=g.useCallback(()=>{b(!0)},[]),Ir=g.useCallback(async ke=>await ee(ke,W,(Me,Qe,et)=>{console.log(`Syncing ${Me}/${Qe}: ${et}`)}),[ee,W]),Or=g.useCallback((ke,Me)=>{Me&&(Me.ctrlKey||Me.metaKey)?s(`/empresa/${encodeURIComponent(ke)}`):(w(ke),C(!1))},[s]),fr=g.useCallback(()=>{w("Nueva Empresa"),C(!0)},[]),Oa=g.useCallback(()=>{N(!0)},[]),da=g.useCallback(async(ke,Me,Qe)=>await vo.validateCompanyMultiYear(ke,Me,_,Qe),[_]),en=g.useCallback(async(ke,Me)=>{await vo.createCompanyMultiYear(ke,Me,_),ke.successYears.some(et=>et.year===k)&&window.location.reload()},[_,k]),Fr=g.useCallback((ke,Me)=>{try{if(S){if(!Me)throw new Error("Se requiere el nombre de la empresa para crear una nueva empresa");ne(Me,ke)}else v&&(Me&&Me!==v?X(v,Me):re(v,ke));w(null),C(!1)}catch(Qe){console.error("Error saving company info:",Qe),alert(Qe instanceof Error?Qe.message:"Error al guardar la información de la empresa")}},[S,v,ne,X,re]),tr=g.useCallback(async(ke,Me,Qe,et)=>{for(const Ye of Me)if(q(ke,Ye,"estado","New"),q(ke,Ye,"entidad",_),q(ke,Ye,"fechaRecibido",new Date().toISOString().split("T")[0]),q(ke,Ye,"notas",Qe),et&&et.trim()){const hr=parseInt(et.trim());if(q(ke,Ye,"workItemId",hr),W.azureConfig.enabled)try{const nr=await W.syncWorkItemData(hr);nr&&(Z(ke,Ye,nr.state),q(ke,Ye,"fechaRecibido",nr.fechaRecibido),q(ke,Ye,"fechaCerrado",nr.fechaCerrado),q(ke,Ye,"workItemType",nr.workItemType))}catch(nr){console.error(`Error syncing Azure data for work item ${hr}:`,nr)}}},[q,_,W,Z]),$r=g.useCallback(()=>{R(!0)},[]),Cn=g.useCallback(()=>{T(!0)},[]),Sn=g.useCallback((ke,Me,Qe,et)=>{try{const Ye=be.applyDeadlinesToMonth({month:ke,deadlines:Me,scope:Qe,selectedCompanies:et});console.log(`Deadlines aplicados a ${Ye.appliedCount} empresas`)}catch(Ye){throw console.error("Error aplicando deadlines:",Ye),Ye}},[be]),rr=g.useCallback(()=>m(!1),[]),Vt=g.useCallback(()=>h(!1),[]),tn=g.useCallback(()=>b(!1),[]),En=g.useCallback(()=>N(!1),[]),rn=g.useCallback(()=>R(!1),[]),It=g.useCallback(()=>T(!1),[]),Fa=g.useCallback(()=>m(!0),[]),ua=g.useCallback(()=>h(!0),[]),ma=g.useCallback(()=>{w(null),C(!1)},[]),ks=g.useCallback(async ke=>{const{result:Me}=Ne.deleteEmptyCompanies(z,ke);return J(ke),Me},[z,Ne,J]),kn=i?te(i.empresa,i.mes):null;return F?t.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsxs("p",{className:"text-gray-600",children:["Cargando datos de ",_,"..."]})]})}):$?t.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[t.jsx("h3",{className:"font-bold",children:"Error al cargar datos"}),t.jsx("p",{children:$})]}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Por favor, verifica que existan los datos para esta entidad y año."}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:t.jsxs("div",{className:"w-full",children:[t.jsx(Sj,{selectedYear:k,onYearChange:ie,searchTerm:A.searchTerm,onSearchChange:A.setSearchTerm,selectedEntity:_,onEntityChange:he,realStateStatistics:A.realStateStatistics,statusFilters:A.statusFilters,selectedFTStatus:A.selectedFTStatus,onFTStatusChange:A.setSelectedFTStatus,ftStatistics:A.ftStatistics,deadlineBadge:t.jsx(Wj,{billingData:z,onManageClick:Cn})}),t.jsx(Dj,{filteredCompanies:A.filteredCompanies,billingData:z,onCellClick:Ae,onCompanyClick:Or}),t.jsx(Qj,{onCreateRequestClick:ua,onNewCompanyClick:fr,onNewCompanyMultiYearClick:Oa,onCompareCompaniesClick:ue.openComparisonModal,onImportDataClick:me.openImportModal,onDeleteEmptyCompaniesClick:$r,onManageDeadlinesClick:Cn,azureConfig:W.azureConfig,onConfigClick:Fa,onSyncClick:gt,syncing:W.syncing}),t.jsx(Rj,{selectedCell:i,currentData:kn,selectedYear:k,azureConfig:W.azureConfig,syncing:W.syncing,onClose:ge,onUpdateData:Ie,onCreateWorkItem:We,onSyncFromAzure:pt,getWorkItemUrl:W.getWorkItemUrl}),t.jsx(_j,{isOpen:d,onClose:rr,config:W.azureConfig,onUpdateConfig:W.updateConfig}),t.jsx(Pj,{isOpen:f,onClose:Vt,billingData:z,selectedEntity:_,selectedYear:k,azureConfig:W.azureConfig,onCreateRequest:tr}),t.jsx(Tj,{isOpen:x,onClose:tn,azureConfig:W.azureConfig,filteredCompanies:A.filteredCompanies,selectedYear:k,onSync:Ir}),t.jsx(Aj,{isOpen:!!v,onClose:ma,companyName:v||"",currentMetadata:v&&!S?G(v):void 0,existingCompanies:O(),isNewCompany:S,onSave:Fr}),t.jsx(Mj,{isOpen:ue.showComparisonModal,onClose:ue.closeComparisonModal,defaultEntity:_}),t.jsx(Lj,{isOpen:me.showImportModal,onClose:me.closeImportModal,onImport:me.processImport,selectedEntity:_,selectedYear:k}),t.jsx(Oj,{isOpen:j,onClose:En,selectedEntity:_,onValidate:da,onConfirmCreation:en}),t.jsx(Fj,{isOpen:D,onClose:rn,emptyCompanies:Ne.findEmptyCompanies(z),onConfirmDelete:ks}),t.jsx(Uj,{isOpen:M,onClose:It,billingData:z,onApplyDeadlines:Sn})]})})}function tN(){const r=Pt(2025,"Alcaldía de Palmira"),a=Pt(2025,"Alcaldía de Tuluá"),s=Pt(2025,"Gobernación del Valle del Cauca"),o=Pt(2025,"Infibagué"),i=Pt(2024,"Alcaldía de Palmira"),c=Pt(2024,"Alcaldía de Tuluá"),d=Pt(2024,"Gobernación del Valle del Cauca"),m=Pt(2024,"Infibagué"),f=Pt(2023,"Alcaldía de Palmira"),h=Pt(2023,"Alcaldía de Tuluá"),x=Pt(2023,"Gobernación del Valle del Cauca"),b=Pt(2023,"Infibagué"),v=g.useMemo(()=>{const N={},D=[{entity:"Alcaldía de Palmira",data:r},{entity:"Alcaldía de Tuluá",data:a},{entity:"Gobernación del Valle del Cauca",data:s},{entity:"Infibagué",data:o}].filter(({data:T})=>!T.error&&T.billingData&&Object.keys(T.billingData).length>0);D.length>0&&(N[2025]=D);const R=[{entity:"Alcaldía de Palmira",data:i},{entity:"Alcaldía de Tuluá",data:c},{entity:"Gobernación del Valle del Cauca",data:d},{entity:"Infibagué",data:m}].filter(({data:T})=>!T.error&&T.billingData&&Object.keys(T.billingData).length>0);R.length>0&&(N[2024]=R);const M=[{entity:"Alcaldía de Palmira",data:f},{entity:"Alcaldía de Tuluá",data:h},{entity:"Gobernación del Valle del Cauca",data:x},{entity:"Infibagué",data:b}].filter(({data:T})=>!T.error&&T.billingData&&Object.keys(T.billingData).length>0);return M.length>0&&(N[2023]=M),N},[r,a,s,o,i,c,d,m,f,h,x,b]),w=g.useMemo(()=>[r,a,s,o,i,c,d,m,f,h,x,b].some(D=>D.isLoading),[r,a,s,o,i,c,d,m,f,h,x,b]),S=g.useMemo(()=>[r,a,s,o,i,c,d,m,f,h,x,b].map(D=>D.error).filter(D=>D&&!D.includes("No se pudo cargar")&&!D.includes("Failed to load")),[r,a,s,o,i,c,d,m,f,h,x,b]),C=g.useMemo(()=>Object.keys(v).map(N=>parseInt(N)).sort((N,D)=>D-N),[v]),j=g.useMemo(()=>{const N=new Set;return Object.values(v).forEach(D=>{D.forEach(({entity:R})=>N.add(R))}),Array.from(N)},[v]);return{entityDataByYear:v,isLoading:w,criticalErrors:S,availableYears:C,availableEntities:j}}function rN(){const[r,a]=g.useState("all"),[s,o]=g.useState(2025),[i,c]=g.useState(""),[d,m]=g.useState("all"),f=tN(),h=Pt(s==="all"?2025:s,"Alcaldía de Palmira"),x=Pt(s==="all"?2025:s,"Alcaldía de Tuluá"),b=Pt(s==="all"?2025:s,"Gobernación del Valle del Cauca"),v=Pt(s==="all"?2025:s,"Infibagué"),w=g.useMemo(()=>{if(s==="all"){const T=[];return Object.values(f.entityDataByYear).forEach(k=>{k.forEach(({entity:_,data:z})=>{T.find($=>$.key===_)||T.push({key:_,data:z})})}),T}else{const T=[];return!h.error&&h.billingData&&Object.keys(h.billingData).length>0&&T.push({key:"Alcaldía de Palmira",data:h}),!x.error&&x.billingData&&Object.keys(x.billingData).length>0&&T.push({key:"Alcaldía de Tuluá",data:x}),!b.error&&b.billingData&&Object.keys(b.billingData).length>0&&T.push({key:"Gobernación del Valle del Cauca",data:b}),!v.error&&v.billingData&&Object.keys(v.billingData).length>0&&T.push({key:"Infibagué",data:v}),T}},[s,f.entityDataByYear,h,x,b,v]),S=g.useMemo(()=>{const T=[],k=(_,z,F)=>{_&&Object.entries(_).forEach(([$,q])=>{q&&Object.entries(q).forEach(([Z,te])=>{if(Z==="_metadata"||!te||typeof te!="object")return;const re=te;re.estado&&re.estado!=="Closed"&&re.estado!=="Sin Solicitud"&&T.push({...re,entityName:z,companyName:$,monthName:Z,year:F})})})};return s==="all"?Object.entries(f.entityDataByYear).forEach(([_,z])=>{const F=parseInt(_);z.forEach(({entity:$,data:q})=>{k(q.billingData,$,F)})}):w.forEach(({key:_,data:z})=>{k(z.billingData,_,s)}),T},[s,w,f.entityDataByYear]),C=g.useMemo(()=>S.filter(T=>{if(r!=="all"&&T.entityName!==r||d!=="all"&&T.estado!==d)return!1;if(i){const k=i.toLowerCase();return T.companyName.toLowerCase().includes(k)||T.entityName.toLowerCase().includes(k)||T.monthName.toLowerCase().includes(k)||T.notas&&T.notas.toLowerCase().includes(k)||T.workItemId&&T.workItemId.toString().includes(k)}return!0}),[S,r,d,i]),j=g.useMemo(()=>{const T=new Map;return C.forEach(k=>{const _=`${k.companyName}|${k.entityName}`;T.has(_)||T.set(_,{entityName:k.entityName,companyName:k.companyName,periods:[],pendingCount:0});const z=T.get(_);z.periods.push({monthName:k.monthName,year:k.year,estado:k.estado,fechaRecibido:k.fechaRecibido,fechaCerrado:k.fechaCerrado,diasProcesamiento:k.diasProcesamiento,notas:k.notas,workItemId:k.workItemId}),z.pendingCount=z.periods.length}),Array.from(T.values()).sort((k,_)=>{if(k.pendingCount!==_.pendingCount)return _.pendingCount-k.pendingCount;const z=k.entityName.localeCompare(_.entityName);return z!==0?z:k.companyName.localeCompare(_.companyName)})},[C]),N=g.useMemo(()=>{const T={"Sin Solicitud":0,New:0,Refinement:0,Ready:0,Active:0,"Validación y aprobación de Tributaria - Analítica":0,"Cargue Archivo Staging":0,"Validación Tributaria Staging":0,"Cargue Archivo PROD":0,"Validación y Aprobación de Tributaria - PROD":0,"Facturación en PROD":0,"Validación Tributaria de Facturación":0,"Dispersión en BD":0,"Generar Reportes":0,"QA Certification":0,"Gestion Tributaria":0,Impediment:0,Paused:0,"Peer Review":0,"Third Party":0,Staging:0,Production:0,Closed:0,Removed:0},k={},_={},z={};C.forEach($=>{T[$.estado]=(T[$.estado]||0)+1,k[$.entityName]=(k[$.entityName]||0)+1,_[$.companyName]=(_[$.companyName]||0)+1,z[$.year]=(z[$.year]||0)+1});const F={total:C.length,byStatus:T,byEntity:k,byCompany:_};return s==="all"&&(F.byYear=z),F},[C,s]),D=g.useMemo(()=>s==="all"?f.isLoading:h.isLoading||x.isLoading||b.isLoading||v.isLoading,[s,f.isLoading,h.isLoading,x.isLoading,b.isLoading,v.isLoading]),R=g.useMemo(()=>s==="all"?f.criticalErrors:[h.error,x.error,b.error,v.error].filter(T=>T&&!T.includes("No se pudo cargar")&&!T.includes("Failed to load")),[s,f.criticalErrors,h.error,x.error,b.error,v.error]),M=g.useMemo(()=>s==="all"?f.availableEntities:w.map(T=>T.key),[s,f.availableEntities,w]);return{requests:C,groupedRequests:j,stats:N,selectedEntity:r,setSelectedEntity:a,selectedYear:s,setSelectedYear:o,searchTerm:i,setSearchTerm:c,statusFilter:d,setStatusFilter:m,isLoading:D,error:R.length>0?R.join("; "):null,entities:M,allEntities:Nr,years:s==="all"?f.availableYears:[2017,2018,2019,2020,2021,2022,2023,2024,2025],availableYears:f.availableYears,statuses:["New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production"]}}const pn=g.forwardRef(({className:r,...a},s)=>t.jsx("div",{ref:s,className:ct("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a}));pn.displayName="Card";const Pa=g.forwardRef(({className:r,...a},s)=>t.jsx("div",{ref:s,className:ct("flex flex-col space-y-1.5 p-6",r),...a}));Pa.displayName="CardHeader";const fs=g.forwardRef(({className:r,...a},s)=>t.jsx("h3",{ref:s,className:ct("text-2xl font-semibold leading-none tracking-tight",r),...a}));fs.displayName="CardTitle";const nN=g.forwardRef(({className:r,...a},s)=>t.jsx("p",{ref:s,className:ct("text-sm text-muted-foreground",r),...a}));nN.displayName="CardDescription";const gn=g.forwardRef(({className:r,...a},s)=>t.jsx("div",{ref:s,className:ct("p-6 pt-0",r),...a}));gn.displayName="CardContent";const aN=g.forwardRef(({className:r,...a},s)=>t.jsx("div",{ref:s,className:ct("flex items-center p-6 pt-0",r),...a}));aN.displayName="CardFooter";function yg(r){var a,s,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r))for(a=0;a<r.length;a++)r[a]&&(s=yg(r[a]))&&(o&&(o+=" "),o+=s);else for(a in r)r[a]&&(o&&(o+=" "),o+=a);return o}function sN(){for(var r,a,s=0,o="";s<arguments.length;)(r=arguments[s++])&&(a=yg(r))&&(o&&(o+=" "),o+=a);return o}const rp=r=>typeof r=="boolean"?"".concat(r):r===0?"0":r,np=sN,vg=(r,a)=>s=>{var o;if(a?.variants==null)return np(r,s?.class,s?.className);const{variants:i,defaultVariants:c}=a,d=Object.keys(i).map(h=>{const x=s?.[h],b=c?.[h];if(x===null)return null;const v=rp(x)||rp(b);return i[h][v]}),m=s&&Object.entries(s).reduce((h,x)=>{let[b,v]=x;return v===void 0||(h[b]=v),h},{}),f=a==null||(o=a.compoundVariants)===null||o===void 0?void 0:o.reduce((h,x)=>{let{class:b,className:v,...w}=x;return Object.entries(w).every(S=>{let[C,j]=S;return Array.isArray(j)?j.includes({...c,...m}[C]):{...c,...m}[C]===j})?[...h,b,v]:h},[]);return np(r,d,f,s?.class,s?.className)},oN=vg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bg({className:r,variant:a,...s}){return t.jsx("div",{className:ct(oN({variant:a}),r),...s})}function wg({size:r="md",className:a}){const s={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return t.jsx("div",{className:ct("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",s[r],a)})}function lN({stats:r,isLoading:a}){if(a)return t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(d=>t.jsx(pn,{children:t.jsx(gn,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(wg,{size:"md"})})})},d))});const s=Object.entries(r.byEntity).sort(([,d],[,m])=>m-d).slice(0,3),o=Object.entries(r.byCompany).sort(([,d],[,m])=>m-d).slice(0,3),i=r.byYear&&Object.keys(r.byYear).length>0;return t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs(pn,{children:[t.jsxs(Pa,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(fs,{className:"text-sm font-medium",children:"Total Pendientes"}),t.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(gn,{children:[t.jsx("div",{className:"text-2xl font-bold",children:r.total}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Solicitudes no cerradas"})]})]}),t.jsxs(pn,{children:[t.jsxs(Pa,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(fs,{className:"text-sm font-medium",children:"Por Estado"}),t.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(gn,{children:t.jsx("div",{className:"space-y-2",children:Object.entries(r.byStatus).filter(([,d])=>d>0).map(([d,m])=>{const f=na(d),h=Tu[d]||d;return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(bg,{variant:"outline",className:`text-xs ${f.bg} ${f.text} border-current`,children:h}),t.jsx("span",{className:"text-sm font-medium",children:m})]},d)})})})]}),t.jsxs(pn,{children:[t.jsxs(Pa,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(fs,{className:"text-sm font-medium",children:"Por Entidad"}),t.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(gn,{children:t.jsx("div",{className:"space-y-2",children:s.length>0?s.map(([d,m])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground truncate",children:d}),t.jsx("span",{className:"text-sm font-medium",children:m})]},d)):t.jsx("p",{className:"text-xs text-muted-foreground",children:"Sin datos"})})})]}),t.jsxs(pn,{children:[t.jsxs(Pa,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(fs,{className:"text-sm font-medium",children:"Top Empresas"}),t.jsx(Po,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(gn,{children:t.jsx("div",{className:"space-y-2",children:o.length>0?o.map(([d,m])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground truncate",children:d.length>15?`${d.substring(0,15)}...`:d}),t.jsx("span",{className:"text-sm font-medium",children:m})]},d)):t.jsx("p",{className:"text-xs text-muted-foreground",children:"Sin datos"})})})]}),i&&t.jsxs(pn,{children:[t.jsxs(Pa,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(fs,{className:"text-sm font-medium",children:"Por Año"}),t.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(gn,{children:t.jsxs("div",{className:"space-y-2",children:[Object.entries(r.byYear).sort(([d],[m])=>parseInt(m)-parseInt(d)).slice(0,3).map(([d,m])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:d}),t.jsx("span",{className:"text-sm font-medium",children:m})]},d)),Object.keys(r.byYear).length>3&&t.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-1",children:["+",Object.keys(r.byYear).length-3," más"]})]})})]})]})}const jg=g.forwardRef(({className:r,type:a,...s},o)=>t.jsx("input",{type:a,className:ct("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:o,...s}));jg.displayName="Input";function ap(r,[a,s]){return Math.min(s,Math.max(a,r))}function nt(r,a,{checkForDefaultPrevented:s=!0}={}){return function(i){if(r?.(i),s===!1||!i.defaultPrevented)return a?.(i)}}function iN(r,a=[]){let s=[];function o(c,d){const m=g.createContext(d),f=s.length;s=[...s,d];function h(b){const{scope:v,children:w,...S}=b,C=v?.[r][f]||m,j=g.useMemo(()=>S,Object.values(S));return t.jsx(C.Provider,{value:j,children:w})}function x(b,v){const w=v?.[r][f]||m,S=g.useContext(w);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return h.displayName=c+"Provider",[h,x]}const i=()=>{const c=s.map(d=>g.createContext(d));return function(m){const f=m?.[r]||c;return g.useMemo(()=>({[`__scope${r}`]:{...m,[r]:f}}),[m,f])}};return i.scopeName=r,[o,cN(i,...a)]}function cN(...r){const a=r[0];if(r.length===1)return a;const s=()=>{const o=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((m,{useScope:f,scopeName:h})=>{const b=f(c)[`__scope${h}`];return{...m,...b}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return s.scopeName=a.scopeName,s}function dN(r,a){typeof r=="function"?r(a):r!=null&&(r.current=a)}function Ng(...r){return a=>r.forEach(s=>dN(s,a))}function jt(...r){return g.useCallback(Ng(...r),r)}var So=g.forwardRef((r,a)=>{const{children:s,...o}=r,i=g.Children.toArray(s),c=i.find(uN);if(c){const d=c.props.children,m=i.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return t.jsx(Qd,{...o,ref:a,children:g.isValidElement(d)?g.cloneElement(d,void 0,m):null})}return t.jsx(Qd,{...o,ref:a,children:s})});So.displayName="Slot";var Qd=g.forwardRef((r,a)=>{const{children:s,...o}=r;if(g.isValidElement(s)){const i=fN(s);return g.cloneElement(s,{...mN(o,s.props),ref:a?Ng(a,i):i})}return g.Children.count(s)>1?g.Children.only(null):null});Qd.displayName="SlotClone";var Cg=({children:r})=>t.jsx(t.Fragment,{children:r});function uN(r){return g.isValidElement(r)&&r.type===Cg}function mN(r,a){const s={...a};for(const o in a){const i=r[o],c=a[o];/^on[A-Z]/.test(o)?i&&c?s[o]=(...m)=>{c(...m),i(...m)}:i&&(s[o]=i):o==="style"?s[o]={...i,...c}:o==="className"&&(s[o]=[i,c].filter(Boolean).join(" "))}return{...r,...s}}function fN(r){let a=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}function hN(r){const a=r+"CollectionProvider",[s,o]=iN(a),[i,c]=s(a,{collectionRef:{current:null},itemMap:new Map}),d=w=>{const{scope:S,children:C}=w,j=hn.useRef(null),N=hn.useRef(new Map).current;return t.jsx(i,{scope:S,itemMap:N,collectionRef:j,children:C})};d.displayName=a;const m=r+"CollectionSlot",f=hn.forwardRef((w,S)=>{const{scope:C,children:j}=w,N=c(m,C),D=jt(S,N.collectionRef);return t.jsx(So,{ref:D,children:j})});f.displayName=m;const h=r+"CollectionItemSlot",x="data-radix-collection-item",b=hn.forwardRef((w,S)=>{const{scope:C,children:j,...N}=w,D=hn.useRef(null),R=jt(S,D),M=c(h,C);return hn.useEffect(()=>(M.itemMap.set(D,{ref:D,...N}),()=>void M.itemMap.delete(D))),t.jsx(So,{[x]:"",ref:R,children:j})});b.displayName=h;function v(w){const S=c(r+"CollectionConsumer",w);return hn.useCallback(()=>{const j=S.collectionRef.current;if(!j)return[];const N=Array.from(j.querySelectorAll(`[${x}]`));return Array.from(S.itemMap.values()).sort((M,T)=>N.indexOf(M.ref.current)-N.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:f,ItemSlot:b},v,o]}function Sg(r,a=[]){let s=[];function o(c,d){const m=g.createContext(d),f=s.length;s=[...s,d];const h=b=>{const{scope:v,children:w,...S}=b,C=v?.[r]?.[f]||m,j=g.useMemo(()=>S,Object.values(S));return t.jsx(C.Provider,{value:j,children:w})};h.displayName=c+"Provider";function x(b,v){const w=v?.[r]?.[f]||m,S=g.useContext(w);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[h,x]}const i=()=>{const c=s.map(d=>g.createContext(d));return function(m){const f=m?.[r]||c;return g.useMemo(()=>({[`__scope${r}`]:{...m,[r]:f}}),[m,f])}};return i.scopeName=r,[o,pN(i,...a)]}function pN(...r){const a=r[0];if(r.length===1)return a;const s=()=>{const o=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((m,{useScope:f,scopeName:h})=>{const b=f(c)[`__scope${h}`];return{...m,...b}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return s.scopeName=a.scopeName,s}var gN=g.createContext(void 0);function xN(r){const a=g.useContext(gN);return r||a||"ltr"}var yN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vt=yN.reduce((r,a)=>{const s=g.forwardRef((o,i)=>{const{asChild:c,...d}=o,m=c?So:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...d,ref:i})});return s.displayName=`Primitive.${a}`,{...r,[a]:s}},{});function vN(r,a){r&&ws.flushSync(()=>r.dispatchEvent(a))}function yn(r){const a=g.useRef(r);return g.useEffect(()=>{a.current=r}),g.useMemo(()=>(...s)=>a.current?.(...s),[])}function bN(r,a=globalThis?.document){const s=yn(r);g.useEffect(()=>{const o=i=>{i.key==="Escape"&&s(i)};return a.addEventListener("keydown",o,{capture:!0}),()=>a.removeEventListener("keydown",o,{capture:!0})},[s,a])}var wN="DismissableLayer",Xd="dismissableLayer.update",jN="dismissableLayer.pointerDownOutside",NN="dismissableLayer.focusOutside",sp,Eg=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lu=g.forwardRef((r,a)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,onDismiss:m,...f}=r,h=g.useContext(Eg),[x,b]=g.useState(null),v=x?.ownerDocument??globalThis?.document,[,w]=g.useState({}),S=jt(a,_=>b(_)),C=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=C.indexOf(j),D=x?C.indexOf(x):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,M=D>=N,T=EN(_=>{const z=_.target,F=[...h.branches].some($=>$.contains(z));!M||F||(i?.(_),d?.(_),_.defaultPrevented||m?.())},v),k=kN(_=>{const z=_.target;[...h.branches].some($=>$.contains(z))||(c?.(_),d?.(_),_.defaultPrevented||m?.())},v);return bN(_=>{D===h.layers.size-1&&(o?.(_),!_.defaultPrevented&&m&&(_.preventDefault(),m()))},v),g.useEffect(()=>{if(x)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(sp=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),op(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=sp)}},[x,v,s,h]),g.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),op())},[x,h]),g.useEffect(()=>{const _=()=>w({});return document.addEventListener(Xd,_),()=>document.removeEventListener(Xd,_)},[]),t.jsx(vt.div,{...f,ref:S,style:{pointerEvents:R?M?"auto":"none":void 0,...r.style},onFocusCapture:nt(r.onFocusCapture,k.onFocusCapture),onBlurCapture:nt(r.onBlurCapture,k.onBlurCapture),onPointerDownCapture:nt(r.onPointerDownCapture,T.onPointerDownCapture)})});Lu.displayName=wN;var CN="DismissableLayerBranch",SN=g.forwardRef((r,a)=>{const s=g.useContext(Eg),o=g.useRef(null),i=jt(a,o);return g.useEffect(()=>{const c=o.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),t.jsx(vt.div,{...r,ref:i})});SN.displayName=CN;function EN(r,a=globalThis?.document){const s=yn(r),o=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const c=m=>{if(m.target&&!o.current){let f=function(){kg(jN,s,h,{discrete:!0})};const h={originalEvent:m};m.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=f,a.addEventListener("click",i.current,{once:!0})):f()}else a.removeEventListener("click",i.current);o.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",c),a.removeEventListener("click",i.current)}},[a,s]),{onPointerDownCapture:()=>o.current=!0}}function kN(r,a=globalThis?.document){const s=yn(r),o=g.useRef(!1);return g.useEffect(()=>{const i=c=>{c.target&&!o.current&&kg(NN,s,{originalEvent:c},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function op(){const r=new CustomEvent(Xd);document.dispatchEvent(r)}function kg(r,a,s,{discrete:o}){const i=s.originalEvent.target,c=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:s});a&&i.addEventListener(r,a,{once:!0}),o?vN(i,c):i.dispatchEvent(c)}var Dd=0;function DN(){g.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??lp()),document.body.insertAdjacentElement("beforeend",r[1]??lp()),Dd++,()=>{Dd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Dd--}},[])}function lp(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Rd="focusScope.autoFocusOnMount",_d="focusScope.autoFocusOnUnmount",ip={bubbles:!1,cancelable:!0},RN="FocusScope",Dg=g.forwardRef((r,a)=>{const{loop:s=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...d}=r,[m,f]=g.useState(null),h=yn(i),x=yn(c),b=g.useRef(null),v=jt(a,C=>f(C)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(o){let C=function(R){if(w.paused||!m)return;const M=R.target;m.contains(M)?b.current=M:Jn(b.current,{select:!0})},j=function(R){if(w.paused||!m)return;const M=R.relatedTarget;M!==null&&(m.contains(M)||Jn(b.current,{select:!0}))},N=function(R){if(document.activeElement===document.body)for(const T of R)T.removedNodes.length>0&&Jn(m)};document.addEventListener("focusin",C),document.addEventListener("focusout",j);const D=new MutationObserver(N);return m&&D.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",j),D.disconnect()}}},[o,m,w.paused]),g.useEffect(()=>{if(m){dp.add(w);const C=document.activeElement;if(!m.contains(C)){const N=new CustomEvent(Rd,ip);m.addEventListener(Rd,h),m.dispatchEvent(N),N.defaultPrevented||(_N(LN(Rg(m)),{select:!0}),document.activeElement===C&&Jn(m))}return()=>{m.removeEventListener(Rd,h),setTimeout(()=>{const N=new CustomEvent(_d,ip);m.addEventListener(_d,x),m.dispatchEvent(N),N.defaultPrevented||Jn(C??document.body,{select:!0}),m.removeEventListener(_d,x),dp.remove(w)},0)}}},[m,h,x,w]);const S=g.useCallback(C=>{if(!s&&!o||w.paused)return;const j=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,N=document.activeElement;if(j&&N){const D=C.currentTarget,[R,M]=PN(D);R&&M?!C.shiftKey&&N===M?(C.preventDefault(),s&&Jn(R,{select:!0})):C.shiftKey&&N===R&&(C.preventDefault(),s&&Jn(M,{select:!0})):N===D&&C.preventDefault()}},[s,o,w.paused]);return t.jsx(vt.div,{tabIndex:-1,...d,ref:v,onKeyDown:S})});Dg.displayName=RN;function _N(r,{select:a=!1}={}){const s=document.activeElement;for(const o of r)if(Jn(o,{select:a}),document.activeElement!==s)return}function PN(r){const a=Rg(r),s=cp(a,r),o=cp(a.reverse(),r);return[s,o]}function Rg(r){const a=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)a.push(s.currentNode);return a}function cp(r,a){for(const s of r)if(!TN(s,{upTo:a}))return s}function TN(r,{upTo:a}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(a!==void 0&&r===a)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function AN(r){return r instanceof HTMLInputElement&&"select"in r}function Jn(r,{select:a=!1}={}){if(r&&r.focus){const s=document.activeElement;r.focus({preventScroll:!0}),r!==s&&AN(r)&&a&&r.select()}}var dp=MN();function MN(){let r=[];return{add(a){const s=r[0];a!==s&&s?.pause(),r=up(r,a),r.unshift(a)},remove(a){r=up(r,a),r[0]?.resume()}}}function up(r,a){const s=[...r],o=s.indexOf(a);return o!==-1&&s.splice(o,1),s}function LN(r){return r.filter(a=>a.tagName!=="A")}var Yt=globalThis?.document?g.useLayoutEffect:()=>{},IN=Wy.useId||(()=>{}),ON=0;function bi(r){const[a,s]=g.useState(IN());return Yt(()=>{s(o=>o??String(ON++))},[r]),a?`radix-${a}`:""}const FN=["top","right","bottom","left"],aa=Math.min,cr=Math.max,ci=Math.round,Bl=Math.floor,sa=r=>({x:r,y:r}),$N={left:"right",right:"left",bottom:"top",top:"bottom"},zN={start:"end",end:"start"};function Jd(r,a,s){return cr(r,aa(a,s))}function vn(r,a){return typeof r=="function"?r(a):r}function bn(r){return r.split("-")[0]}function Cs(r){return r.split("-")[1]}function Iu(r){return r==="x"?"y":"x"}function Ou(r){return r==="y"?"height":"width"}function oa(r){return["top","bottom"].includes(bn(r))?"y":"x"}function Fu(r){return Iu(oa(r))}function VN(r,a,s){s===void 0&&(s=!1);const o=Cs(r),i=Fu(r),c=Ou(i);let d=i==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return a.reference[c]>a.floating[c]&&(d=di(d)),[d,di(d)]}function UN(r){const a=di(r);return[Zd(r),a,Zd(a)]}function Zd(r){return r.replace(/start|end/g,a=>zN[a])}function BN(r,a,s){const o=["left","right"],i=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(r){case"top":case"bottom":return s?a?i:o:a?o:i;case"left":case"right":return a?c:d;default:return[]}}function WN(r,a,s,o){const i=Cs(r);let c=BN(bn(r),s==="start",o);return i&&(c=c.map(d=>d+"-"+i),a&&(c=c.concat(c.map(Zd)))),c}function di(r){return r.replace(/left|right|bottom|top/g,a=>$N[a])}function HN(r){return{top:0,right:0,bottom:0,left:0,...r}}function _g(r){return typeof r!="number"?HN(r):{top:r,right:r,bottom:r,left:r}}function ui(r){const{x:a,y:s,width:o,height:i}=r;return{width:o,height:i,top:s,left:a,right:a+o,bottom:s+i,x:a,y:s}}function mp(r,a,s){let{reference:o,floating:i}=r;const c=oa(a),d=Fu(a),m=Ou(d),f=bn(a),h=c==="y",x=o.x+o.width/2-i.width/2,b=o.y+o.height/2-i.height/2,v=o[m]/2-i[m]/2;let w;switch(f){case"top":w={x,y:o.y-i.height};break;case"bottom":w={x,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y:b};break;case"left":w={x:o.x-i.width,y:b};break;default:w={x:o.x,y:o.y}}switch(Cs(a)){case"start":w[d]-=v*(s&&h?-1:1);break;case"end":w[d]+=v*(s&&h?-1:1);break}return w}const YN=async(r,a,s)=>{const{placement:o="bottom",strategy:i="absolute",middleware:c=[],platform:d}=s,m=c.filter(Boolean),f=await(d.isRTL==null?void 0:d.isRTL(a));let h=await d.getElementRects({reference:r,floating:a,strategy:i}),{x,y:b}=mp(h,o,f),v=o,w={},S=0;for(let C=0;C<m.length;C++){const{name:j,fn:N}=m[C],{x:D,y:R,data:M,reset:T}=await N({x,y:b,initialPlacement:o,placement:v,strategy:i,middlewareData:w,rects:h,platform:d,elements:{reference:r,floating:a}});x=D??x,b=R??b,w={...w,[j]:{...w[j],...M}},T&&S<=50&&(S++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(h=T.rects===!0?await d.getElementRects({reference:r,floating:a,strategy:i}):T.rects),{x,y:b}=mp(h,v,f)),C=-1)}return{x,y:b,placement:v,strategy:i,middlewareData:w}};async function Eo(r,a){var s;a===void 0&&(a={});const{x:o,y:i,platform:c,rects:d,elements:m,strategy:f}=r,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:b="floating",altBoundary:v=!1,padding:w=0}=vn(a,r),S=_g(w),j=m[v?b==="floating"?"reference":"floating":b],N=ui(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(j)))==null||s?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(m.floating)),boundary:h,rootBoundary:x,strategy:f})),D=b==="floating"?{x:o,y:i,width:d.floating.width,height:d.floating.height}:d.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m.floating)),M=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},T=ui(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:R,strategy:f}):D);return{top:(N.top-T.top+S.top)/M.y,bottom:(T.bottom-N.bottom+S.bottom)/M.y,left:(N.left-T.left+S.left)/M.x,right:(T.right-N.right+S.right)/M.x}}const GN=r=>({name:"arrow",options:r,async fn(a){const{x:s,y:o,placement:i,rects:c,platform:d,elements:m,middlewareData:f}=a,{element:h,padding:x=0}=vn(r,a)||{};if(h==null)return{};const b=_g(x),v={x:s,y:o},w=Fu(i),S=Ou(w),C=await d.getDimensions(h),j=w==="y",N=j?"top":"left",D=j?"bottom":"right",R=j?"clientHeight":"clientWidth",M=c.reference[S]+c.reference[w]-v[w]-c.floating[S],T=v[w]-c.reference[w],k=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let _=k?k[R]:0;(!_||!await(d.isElement==null?void 0:d.isElement(k)))&&(_=m.floating[R]||c.floating[S]);const z=M/2-T/2,F=_/2-C[S]/2-1,$=aa(b[N],F),q=aa(b[D],F),Z=$,te=_-C[S]-q,re=_/2-C[S]/2+z,G=Jd(Z,re,te),X=!f.arrow&&Cs(i)!=null&&re!==G&&c.reference[S]/2-(re<Z?$:q)-C[S]/2<0,ne=X?re<Z?re-Z:re-te:0;return{[w]:v[w]+ne,data:{[w]:G,centerOffset:re-G-ne,...X&&{alignmentOffset:ne}},reset:X}}}),qN=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(a){var s,o;const{placement:i,middlewareData:c,rects:d,initialPlacement:m,platform:f,elements:h}=a,{mainAxis:x=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...j}=vn(r,a);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const N=bn(i),D=oa(m),R=bn(m)===m,M=await(f.isRTL==null?void 0:f.isRTL(h.floating)),T=v||(R||!C?[di(m)]:UN(m)),k=S!=="none";!v&&k&&T.push(...WN(m,C,S,M));const _=[m,...T],z=await Eo(a,j),F=[];let $=((o=c.flip)==null?void 0:o.overflows)||[];if(x&&F.push(z[N]),b){const re=VN(i,d,M);F.push(z[re[0]],z[re[1]])}if($=[...$,{placement:i,overflows:F}],!F.every(re=>re<=0)){var q,Z;const re=(((q=c.flip)==null?void 0:q.index)||0)+1,G=_[re];if(G)return{data:{index:re,overflows:$},reset:{placement:G}};let X=(Z=$.filter(ne=>ne.overflows[0]<=0).sort((ne,O)=>ne.overflows[1]-O.overflows[1])[0])==null?void 0:Z.placement;if(!X)switch(w){case"bestFit":{var te;const ne=(te=$.filter(O=>{if(k){const J=oa(O.placement);return J===D||J==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(J=>J>0).reduce((J,ee)=>J+ee,0)]).sort((O,J)=>O[1]-J[1])[0])==null?void 0:te[0];ne&&(X=ne);break}case"initialPlacement":X=m;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function fp(r,a){return{top:r.top-a.height,right:r.right-a.width,bottom:r.bottom-a.height,left:r.left-a.width}}function hp(r){return FN.some(a=>r[a]>=0)}const KN=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(a){const{rects:s}=a,{strategy:o="referenceHidden",...i}=vn(r,a);switch(o){case"referenceHidden":{const c=await Eo(a,{...i,elementContext:"reference"}),d=fp(c,s.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:hp(d)}}}case"escaped":{const c=await Eo(a,{...i,altBoundary:!0}),d=fp(c,s.floating);return{data:{escapedOffsets:d,escaped:hp(d)}}}default:return{}}}}};async function QN(r,a){const{placement:s,platform:o,elements:i}=r,c=await(o.isRTL==null?void 0:o.isRTL(i.floating)),d=bn(s),m=Cs(s),f=oa(s)==="y",h=["left","top"].includes(d)?-1:1,x=c&&f?-1:1,b=vn(a,r);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof S=="number"&&(w=m==="end"?S*-1:S),f?{x:w*x,y:v*h}:{x:v*h,y:w*x}}const XN=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(a){var s,o;const{x:i,y:c,placement:d,middlewareData:m}=a,f=await QN(a,r);return d===((s=m.offset)==null?void 0:s.placement)&&(o=m.arrow)!=null&&o.alignmentOffset?{}:{x:i+f.x,y:c+f.y,data:{...f,placement:d}}}}},JN=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(a){const{x:s,y:o,placement:i}=a,{mainAxis:c=!0,crossAxis:d=!1,limiter:m={fn:j=>{let{x:N,y:D}=j;return{x:N,y:D}}},...f}=vn(r,a),h={x:s,y:o},x=await Eo(a,f),b=oa(bn(i)),v=Iu(b);let w=h[v],S=h[b];if(c){const j=v==="y"?"top":"left",N=v==="y"?"bottom":"right",D=w+x[j],R=w-x[N];w=Jd(D,w,R)}if(d){const j=b==="y"?"top":"left",N=b==="y"?"bottom":"right",D=S+x[j],R=S-x[N];S=Jd(D,S,R)}const C=m.fn({...a,[v]:w,[b]:S});return{...C,data:{x:C.x-s,y:C.y-o,enabled:{[v]:c,[b]:d}}}}}},ZN=function(r){return r===void 0&&(r={}),{options:r,fn(a){const{x:s,y:o,placement:i,rects:c,middlewareData:d}=a,{offset:m=0,mainAxis:f=!0,crossAxis:h=!0}=vn(r,a),x={x:s,y:o},b=oa(i),v=Iu(b);let w=x[v],S=x[b];const C=vn(m,a),j=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(f){const R=v==="y"?"height":"width",M=c.reference[v]-c.floating[R]+j.mainAxis,T=c.reference[v]+c.reference[R]-j.mainAxis;w<M?w=M:w>T&&(w=T)}if(h){var N,D;const R=v==="y"?"width":"height",M=["top","left"].includes(bn(i)),T=c.reference[b]-c.floating[R]+(M&&((N=d.offset)==null?void 0:N[b])||0)+(M?0:j.crossAxis),k=c.reference[b]+c.reference[R]+(M?0:((D=d.offset)==null?void 0:D[b])||0)-(M?j.crossAxis:0);S<T?S=T:S>k&&(S=k)}return{[v]:w,[b]:S}}}},e2=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(a){var s,o;const{placement:i,rects:c,platform:d,elements:m}=a,{apply:f=()=>{},...h}=vn(r,a),x=await Eo(a,h),b=bn(i),v=Cs(i),w=oa(i)==="y",{width:S,height:C}=c.floating;let j,N;b==="top"||b==="bottom"?(j=b,N=v===(await(d.isRTL==null?void 0:d.isRTL(m.floating))?"start":"end")?"left":"right"):(N=b,j=v==="end"?"top":"bottom");const D=C-x.top-x.bottom,R=S-x.left-x.right,M=aa(C-x[j],D),T=aa(S-x[N],R),k=!a.middlewareData.shift;let _=M,z=T;if((s=a.middlewareData.shift)!=null&&s.enabled.x&&(z=R),(o=a.middlewareData.shift)!=null&&o.enabled.y&&(_=D),k&&!v){const $=cr(x.left,0),q=cr(x.right,0),Z=cr(x.top,0),te=cr(x.bottom,0);w?z=S-2*($!==0||q!==0?$+q:cr(x.left,x.right)):_=C-2*(Z!==0||te!==0?Z+te:cr(x.top,x.bottom))}await f({...a,availableWidth:z,availableHeight:_});const F=await d.getDimensions(m.floating);return S!==F.width||C!==F.height?{reset:{rects:!0}}:{}}}};function wi(){return typeof window<"u"}function Ss(r){return Pg(r)?(r.nodeName||"").toLowerCase():"#document"}function ur(r){var a;return(r==null||(a=r.ownerDocument)==null?void 0:a.defaultView)||window}function Zr(r){var a;return(a=(Pg(r)?r.ownerDocument:r.document)||window.document)==null?void 0:a.documentElement}function Pg(r){return wi()?r instanceof Node||r instanceof ur(r).Node:!1}function Mr(r){return wi()?r instanceof Element||r instanceof ur(r).Element:!1}function Qr(r){return wi()?r instanceof HTMLElement||r instanceof ur(r).HTMLElement:!1}function pp(r){return!wi()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ur(r).ShadowRoot}function Ao(r){const{overflow:a,overflowX:s,overflowY:o,display:i}=Lr(r);return/auto|scroll|overlay|hidden|clip/.test(a+o+s)&&!["inline","contents"].includes(i)}function t2(r){return["table","td","th"].includes(Ss(r))}function ji(r){return[":popover-open",":modal"].some(a=>{try{return r.matches(a)}catch{return!1}})}function $u(r){const a=zu(),s=Mr(r)?Lr(r):r;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!a&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!a&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(s.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(s.contain||"").includes(o))}function r2(r){let a=la(r);for(;Qr(a)&&!vs(a);){if($u(a))return a;if(ji(a))return null;a=la(a)}return null}function zu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vs(r){return["html","body","#document"].includes(Ss(r))}function Lr(r){return ur(r).getComputedStyle(r)}function Ni(r){return Mr(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function la(r){if(Ss(r)==="html")return r;const a=r.assignedSlot||r.parentNode||pp(r)&&r.host||Zr(r);return pp(a)?a.host:a}function Tg(r){const a=la(r);return vs(a)?r.ownerDocument?r.ownerDocument.body:r.body:Qr(a)&&Ao(a)?a:Tg(a)}function ko(r,a,s){var o;a===void 0&&(a=[]),s===void 0&&(s=!0);const i=Tg(r),c=i===((o=r.ownerDocument)==null?void 0:o.body),d=ur(i);if(c){const m=eu(d);return a.concat(d,d.visualViewport||[],Ao(i)?i:[],m&&s?ko(m):[])}return a.concat(i,ko(i,[],s))}function eu(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Ag(r){const a=Lr(r);let s=parseFloat(a.width)||0,o=parseFloat(a.height)||0;const i=Qr(r),c=i?r.offsetWidth:s,d=i?r.offsetHeight:o,m=ci(s)!==c||ci(o)!==d;return m&&(s=c,o=d),{width:s,height:o,$:m}}function Vu(r){return Mr(r)?r:r.contextElement}function gs(r){const a=Vu(r);if(!Qr(a))return sa(1);const s=a.getBoundingClientRect(),{width:o,height:i,$:c}=Ag(a);let d=(c?ci(s.width):s.width)/o,m=(c?ci(s.height):s.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const n2=sa(0);function Mg(r){const a=ur(r);return!zu()||!a.visualViewport?n2:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function a2(r,a,s){return a===void 0&&(a=!1),!s||a&&s!==ur(r)?!1:a}function Aa(r,a,s,o){a===void 0&&(a=!1),s===void 0&&(s=!1);const i=r.getBoundingClientRect(),c=Vu(r);let d=sa(1);a&&(o?Mr(o)&&(d=gs(o)):d=gs(r));const m=a2(c,s,o)?Mg(c):sa(0);let f=(i.left+m.x)/d.x,h=(i.top+m.y)/d.y,x=i.width/d.x,b=i.height/d.y;if(c){const v=ur(c),w=o&&Mr(o)?ur(o):o;let S=v,C=eu(S);for(;C&&o&&w!==S;){const j=gs(C),N=C.getBoundingClientRect(),D=Lr(C),R=N.left+(C.clientLeft+parseFloat(D.paddingLeft))*j.x,M=N.top+(C.clientTop+parseFloat(D.paddingTop))*j.y;f*=j.x,h*=j.y,x*=j.x,b*=j.y,f+=R,h+=M,S=ur(C),C=eu(S)}}return ui({width:x,height:b,x:f,y:h})}function s2(r){let{elements:a,rect:s,offsetParent:o,strategy:i}=r;const c=i==="fixed",d=Zr(o),m=a?ji(a.floating):!1;if(o===d||m&&c)return s;let f={scrollLeft:0,scrollTop:0},h=sa(1);const x=sa(0),b=Qr(o);if((b||!b&&!c)&&((Ss(o)!=="body"||Ao(d))&&(f=Ni(o)),Qr(o))){const v=Aa(o);h=gs(o),x.x=v.x+o.clientLeft,x.y=v.y+o.clientTop}return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-f.scrollLeft*h.x+x.x,y:s.y*h.y-f.scrollTop*h.y+x.y}}function o2(r){return Array.from(r.getClientRects())}function tu(r,a){const s=Ni(r).scrollLeft;return a?a.left+s:Aa(Zr(r)).left+s}function l2(r){const a=Zr(r),s=Ni(r),o=r.ownerDocument.body,i=cr(a.scrollWidth,a.clientWidth,o.scrollWidth,o.clientWidth),c=cr(a.scrollHeight,a.clientHeight,o.scrollHeight,o.clientHeight);let d=-s.scrollLeft+tu(r);const m=-s.scrollTop;return Lr(o).direction==="rtl"&&(d+=cr(a.clientWidth,o.clientWidth)-i),{width:i,height:c,x:d,y:m}}function i2(r,a){const s=ur(r),o=Zr(r),i=s.visualViewport;let c=o.clientWidth,d=o.clientHeight,m=0,f=0;if(i){c=i.width,d=i.height;const h=zu();(!h||h&&a==="fixed")&&(m=i.offsetLeft,f=i.offsetTop)}return{width:c,height:d,x:m,y:f}}function c2(r,a){const s=Aa(r,!0,a==="fixed"),o=s.top+r.clientTop,i=s.left+r.clientLeft,c=Qr(r)?gs(r):sa(1),d=r.clientWidth*c.x,m=r.clientHeight*c.y,f=i*c.x,h=o*c.y;return{width:d,height:m,x:f,y:h}}function gp(r,a,s){let o;if(a==="viewport")o=i2(r,s);else if(a==="document")o=l2(Zr(r));else if(Mr(a))o=c2(a,s);else{const i=Mg(r);o={...a,x:a.x-i.x,y:a.y-i.y}}return ui(o)}function Lg(r,a){const s=la(r);return s===a||!Mr(s)||vs(s)?!1:Lr(s).position==="fixed"||Lg(s,a)}function d2(r,a){const s=a.get(r);if(s)return s;let o=ko(r,[],!1).filter(m=>Mr(m)&&Ss(m)!=="body"),i=null;const c=Lr(r).position==="fixed";let d=c?la(r):r;for(;Mr(d)&&!vs(d);){const m=Lr(d),f=$u(d);!f&&m.position==="fixed"&&(i=null),(c?!f&&!i:!f&&m.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ao(d)&&!f&&Lg(r,d))?o=o.filter(x=>x!==d):i=m,d=la(d)}return a.set(r,o),o}function u2(r){let{element:a,boundary:s,rootBoundary:o,strategy:i}=r;const d=[...s==="clippingAncestors"?ji(a)?[]:d2(a,this._c):[].concat(s),o],m=d[0],f=d.reduce((h,x)=>{const b=gp(a,x,i);return h.top=cr(b.top,h.top),h.right=aa(b.right,h.right),h.bottom=aa(b.bottom,h.bottom),h.left=cr(b.left,h.left),h},gp(a,m,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function m2(r){const{width:a,height:s}=Ag(r);return{width:a,height:s}}function f2(r,a,s){const o=Qr(a),i=Zr(a),c=s==="fixed",d=Aa(r,!0,c,a);let m={scrollLeft:0,scrollTop:0};const f=sa(0);if(o||!o&&!c)if((Ss(a)!=="body"||Ao(i))&&(m=Ni(a)),o){const w=Aa(a,!0,c,a);f.x=w.x+a.clientLeft,f.y=w.y+a.clientTop}else i&&(f.x=tu(i));let h=0,x=0;if(i&&!o&&!c){const w=i.getBoundingClientRect();x=w.top+m.scrollTop,h=w.left+m.scrollLeft-tu(i,w)}const b=d.left+m.scrollLeft-f.x-h,v=d.top+m.scrollTop-f.y-x;return{x:b,y:v,width:d.width,height:d.height}}function Pd(r){return Lr(r).position==="static"}function xp(r,a){if(!Qr(r)||Lr(r).position==="fixed")return null;if(a)return a(r);let s=r.offsetParent;return Zr(r)===s&&(s=s.ownerDocument.body),s}function Ig(r,a){const s=ur(r);if(ji(r))return s;if(!Qr(r)){let i=la(r);for(;i&&!vs(i);){if(Mr(i)&&!Pd(i))return i;i=la(i)}return s}let o=xp(r,a);for(;o&&t2(o)&&Pd(o);)o=xp(o,a);return o&&vs(o)&&Pd(o)&&!$u(o)?s:o||r2(r)||s}const h2=async function(r){const a=this.getOffsetParent||Ig,s=this.getDimensions,o=await s(r.floating);return{reference:f2(r.reference,await a(r.floating),r.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function p2(r){return Lr(r).direction==="rtl"}const g2={convertOffsetParentRelativeRectToViewportRelativeRect:s2,getDocumentElement:Zr,getClippingRect:u2,getOffsetParent:Ig,getElementRects:h2,getClientRects:o2,getDimensions:m2,getScale:gs,isElement:Mr,isRTL:p2};function x2(r,a){let s=null,o;const i=Zr(r);function c(){var m;clearTimeout(o),(m=s)==null||m.disconnect(),s=null}function d(m,f){m===void 0&&(m=!1),f===void 0&&(f=1),c();const{left:h,top:x,width:b,height:v}=r.getBoundingClientRect();if(m||a(),!b||!v)return;const w=Bl(x),S=Bl(i.clientWidth-(h+b)),C=Bl(i.clientHeight-(x+v)),j=Bl(h),D={rootMargin:-w+"px "+-S+"px "+-C+"px "+-j+"px",threshold:cr(0,aa(1,f))||1};let R=!0;function M(T){const k=T[0].intersectionRatio;if(k!==f){if(!R)return d();k?d(!1,k):o=setTimeout(()=>{d(!1,1e-7)},1e3)}R=!1}try{s=new IntersectionObserver(M,{...D,root:i.ownerDocument})}catch{s=new IntersectionObserver(M,D)}s.observe(r)}return d(!0),c}function y2(r,a,s,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,h=Vu(r),x=i||c?[...h?ko(h):[],...ko(a)]:[];x.forEach(N=>{i&&N.addEventListener("scroll",s,{passive:!0}),c&&N.addEventListener("resize",s)});const b=h&&m?x2(h,s):null;let v=-1,w=null;d&&(w=new ResizeObserver(N=>{let[D]=N;D&&D.target===h&&w&&(w.unobserve(a),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(a)})),s()}),h&&!f&&w.observe(h),w.observe(a));let S,C=f?Aa(r):null;f&&j();function j(){const N=Aa(r);C&&(N.x!==C.x||N.y!==C.y||N.width!==C.width||N.height!==C.height)&&s(),C=N,S=requestAnimationFrame(j)}return s(),()=>{var N;x.forEach(D=>{i&&D.removeEventListener("scroll",s),c&&D.removeEventListener("resize",s)}),b?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const v2=XN,b2=JN,w2=qN,j2=e2,N2=KN,yp=GN,C2=ZN,S2=(r,a,s)=>{const o=new Map,i={platform:g2,...s},c={...i.platform,_c:o};return YN(r,a,{...i,platform:c})};var ei=typeof document<"u"?g.useLayoutEffect:g.useEffect;function mi(r,a){if(r===a)return!0;if(typeof r!=typeof a)return!1;if(typeof r=="function"&&r.toString()===a.toString())return!0;let s,o,i;if(r&&a&&typeof r=="object"){if(Array.isArray(r)){if(s=r.length,s!==a.length)return!1;for(o=s;o--!==0;)if(!mi(r[o],a[o]))return!1;return!0}if(i=Object.keys(r),s=i.length,s!==Object.keys(a).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(a,i[o]))return!1;for(o=s;o--!==0;){const c=i[o];if(!(c==="_owner"&&r.$$typeof)&&!mi(r[c],a[c]))return!1}return!0}return r!==r&&a!==a}function Og(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function vp(r,a){const s=Og(r);return Math.round(a*s)/s}function Td(r){const a=g.useRef(r);return ei(()=>{a.current=r}),a}function E2(r){r===void 0&&(r={});const{placement:a="bottom",strategy:s="absolute",middleware:o=[],platform:i,elements:{reference:c,floating:d}={},transform:m=!0,whileElementsMounted:f,open:h}=r,[x,b]=g.useState({x:0,y:0,strategy:s,placement:a,middlewareData:{},isPositioned:!1}),[v,w]=g.useState(o);mi(v,o)||w(o);const[S,C]=g.useState(null),[j,N]=g.useState(null),D=g.useCallback(O=>{O!==k.current&&(k.current=O,C(O))},[]),R=g.useCallback(O=>{O!==_.current&&(_.current=O,N(O))},[]),M=c||S,T=d||j,k=g.useRef(null),_=g.useRef(null),z=g.useRef(x),F=f!=null,$=Td(f),q=Td(i),Z=Td(h),te=g.useCallback(()=>{if(!k.current||!_.current)return;const O={placement:a,strategy:s,middleware:v};q.current&&(O.platform=q.current),S2(k.current,_.current,O).then(J=>{const ee={...J,isPositioned:Z.current!==!1};re.current&&!mi(z.current,ee)&&(z.current=ee,ws.flushSync(()=>{b(ee)}))})},[v,a,s,q,Z]);ei(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,b(O=>({...O,isPositioned:!1})))},[h]);const re=g.useRef(!1);ei(()=>(re.current=!0,()=>{re.current=!1}),[]),ei(()=>{if(M&&(k.current=M),T&&(_.current=T),M&&T){if($.current)return $.current(M,T,te);te()}},[M,T,te,$,F]);const G=g.useMemo(()=>({reference:k,floating:_,setReference:D,setFloating:R}),[D,R]),X=g.useMemo(()=>({reference:M,floating:T}),[M,T]),ne=g.useMemo(()=>{const O={position:s,left:0,top:0};if(!X.floating)return O;const J=vp(X.floating,x.x),ee=vp(X.floating,x.y);return m?{...O,transform:"translate("+J+"px, "+ee+"px)",...Og(X.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:J,top:ee}},[s,m,X.floating,x.x,x.y]);return g.useMemo(()=>({...x,update:te,refs:G,elements:X,floatingStyles:ne}),[x,te,G,X,ne])}const k2=r=>{function a(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:r,fn(s){const{element:o,padding:i}=typeof r=="function"?r(s):r;return o&&a(o)?o.current!=null?yp({element:o.current,padding:i}).fn(s):{}:o?yp({element:o,padding:i}).fn(s):{}}}},D2=(r,a)=>({...v2(r),options:[r,a]}),R2=(r,a)=>({...b2(r),options:[r,a]}),_2=(r,a)=>({...C2(r),options:[r,a]}),P2=(r,a)=>({...w2(r),options:[r,a]}),T2=(r,a)=>({...j2(r),options:[r,a]}),A2=(r,a)=>({...N2(r),options:[r,a]}),M2=(r,a)=>({...k2(r),options:[r,a]});var L2="Arrow",Fg=g.forwardRef((r,a)=>{const{children:s,width:o=10,height:i=5,...c}=r;return t.jsx(vt.svg,{...c,ref:a,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fg.displayName=L2;var I2=Fg;function O2(r,a=[]){let s=[];function o(c,d){const m=g.createContext(d),f=s.length;s=[...s,d];function h(b){const{scope:v,children:w,...S}=b,C=v?.[r][f]||m,j=g.useMemo(()=>S,Object.values(S));return t.jsx(C.Provider,{value:j,children:w})}function x(b,v){const w=v?.[r][f]||m,S=g.useContext(w);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return h.displayName=c+"Provider",[h,x]}const i=()=>{const c=s.map(d=>g.createContext(d));return function(m){const f=m?.[r]||c;return g.useMemo(()=>({[`__scope${r}`]:{...m,[r]:f}}),[m,f])}};return i.scopeName=r,[o,F2(i,...a)]}function F2(...r){const a=r[0];if(r.length===1)return a;const s=()=>{const o=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const d=o.reduce((m,{useScope:f,scopeName:h})=>{const b=f(c)[`__scope${h}`];return{...m,...b}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return s.scopeName=a.scopeName,s}function $2(r){const[a,s]=g.useState(void 0);return Yt(()=>{if(r){s({width:r.offsetWidth,height:r.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let d,m;if("borderBoxSize"in c){const f=c.borderBoxSize,h=Array.isArray(f)?f[0]:f;d=h.inlineSize,m=h.blockSize}else d=r.offsetWidth,m=r.offsetHeight;s({width:d,height:m})});return o.observe(r,{box:"border-box"}),()=>o.unobserve(r)}else s(void 0)},[r]),a}var Uu="Popper",[$g,Ci]=O2(Uu),[z2,zg]=$g(Uu),Vg=r=>{const{__scopePopper:a,children:s}=r,[o,i]=g.useState(null);return t.jsx(z2,{scope:a,anchor:o,onAnchorChange:i,children:s})};Vg.displayName=Uu;var Ug="PopperAnchor",Bg=g.forwardRef((r,a)=>{const{__scopePopper:s,virtualRef:o,...i}=r,c=zg(Ug,s),d=g.useRef(null),m=jt(a,d);return g.useEffect(()=>{c.onAnchorChange(o?.current||d.current)}),o?null:t.jsx(vt.div,{...i,ref:m})});Bg.displayName=Ug;var Bu="PopperContent",[V2,U2]=$g(Bu),Wg=g.forwardRef((r,a)=>{const{__scopePopper:s,side:o="bottom",sideOffset:i=0,align:c="center",alignOffset:d=0,arrowPadding:m=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:S,...C}=r,j=zg(Bu,s),[N,D]=g.useState(null),R=jt(a,ie=>D(ie)),[M,T]=g.useState(null),k=$2(M),_=k?.width??0,z=k?.height??0,F=o+(c!=="center"?"-"+c:""),$=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},q=Array.isArray(h)?h:[h],Z=q.length>0,te={padding:$,boundary:q.filter(W2),altBoundary:Z},{refs:re,floatingStyles:G,placement:X,isPositioned:ne,middlewareData:O}=E2({strategy:"fixed",placement:F,whileElementsMounted:(...ie)=>y2(...ie,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[D2({mainAxis:i+z,alignmentAxis:d}),f&&R2({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?_2():void 0,...te}),f&&P2({...te}),T2({...te,apply:({elements:ie,rects:he,availableWidth:Ae,availableHeight:ge})=>{const{width:Ie,height:We}=he.reference,pt=ie.floating.style;pt.setProperty("--radix-popper-available-width",`${Ae}px`),pt.setProperty("--radix-popper-available-height",`${ge}px`),pt.setProperty("--radix-popper-anchor-width",`${Ie}px`),pt.setProperty("--radix-popper-anchor-height",`${We}px`)}}),M&&M2({element:M,padding:m}),H2({arrowWidth:_,arrowHeight:z}),v&&A2({strategy:"referenceHidden",...te})]}),[J,ee]=Gg(X),A=yn(S);Yt(()=>{ne&&A?.()},[ne,A]);const W=O.arrow?.x,ue=O.arrow?.y,me=O.arrow?.centerOffset!==0,[Ne,be]=g.useState();return Yt(()=>{N&&be(window.getComputedStyle(N).zIndex)},[N]),t.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ne?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:t.jsx(V2,{scope:s,placedSide:J,onArrowChange:T,arrowX:W,arrowY:ue,shouldHideArrow:me,children:t.jsx(vt.div,{"data-side":J,"data-align":ee,...C,ref:R,style:{...C.style,animation:ne?void 0:"none"}})})})});Wg.displayName=Bu;var Hg="PopperArrow",B2={top:"bottom",right:"left",bottom:"top",left:"right"},Yg=g.forwardRef(function(a,s){const{__scopePopper:o,...i}=a,c=U2(Hg,o),d=B2[c.placedSide];return t.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:t.jsx(I2,{...i,ref:s,style:{...i.style,display:"block"}})})});Yg.displayName=Hg;function W2(r){return r!==null}var H2=r=>({name:"transformOrigin",options:r,fn(a){const{placement:s,rects:o,middlewareData:i}=a,d=i.arrow?.centerOffset!==0,m=d?0:r.arrowWidth,f=d?0:r.arrowHeight,[h,x]=Gg(s),b={start:"0%",center:"50%",end:"100%"}[x],v=(i.arrow?.x??0)+m/2,w=(i.arrow?.y??0)+f/2;let S="",C="";return h==="bottom"?(S=d?b:`${v}px`,C=`${-f}px`):h==="top"?(S=d?b:`${v}px`,C=`${o.floating.height+f}px`):h==="right"?(S=`${-f}px`,C=d?b:`${w}px`):h==="left"&&(S=`${o.floating.width+f}px`,C=d?b:`${w}px`),{data:{x:S,y:C}}}});function Gg(r){const[a,s="center"]=r.split("-");return[a,s]}var qg=Vg,Kg=Bg,Qg=Wg,Xg=Yg,Y2="Portal",Jg=g.forwardRef((r,a)=>{const{container:s,...o}=r,[i,c]=g.useState(!1);Yt(()=>c(!0),[]);const d=s||i&&globalThis?.document?.body;return d?tw.createPortal(t.jsx(vt.div,{...o,ref:a}),d):null});Jg.displayName=Y2;function ru({prop:r,defaultProp:a,onChange:s=()=>{}}){const[o,i]=G2({defaultProp:a,onChange:s}),c=r!==void 0,d=c?r:o,m=yn(s),f=g.useCallback(h=>{if(c){const b=typeof h=="function"?h(r):h;b!==r&&m(b)}else i(h)},[c,r,i,m]);return[d,f]}function G2({defaultProp:r,onChange:a}){const s=g.useState(r),[o]=s,i=g.useRef(o),c=yn(a);return g.useEffect(()=>{i.current!==o&&(c(o),i.current=o)},[o,i,c]),s}function q2(r){const a=g.useRef({value:r,previous:r});return g.useMemo(()=>(a.current.value!==r&&(a.current.previous=a.current.value,a.current.value=r),a.current.previous),[r])}var K2="VisuallyHidden",Wu=g.forwardRef((r,a)=>t.jsx(vt.span,{...r,ref:a,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));Wu.displayName=K2;var Q2=Wu,X2=function(r){if(typeof document>"u")return null;var a=Array.isArray(r)?r[0]:r;return a.ownerDocument.body},cs=new WeakMap,Wl=new WeakMap,Hl={},Ad=0,Zg=function(r){return r&&(r.host||Zg(r.parentNode))},J2=function(r,a){return a.map(function(s){if(r.contains(s))return s;var o=Zg(s);return o&&r.contains(o)?o:(console.error("aria-hidden",s,"in not contained inside",r,". Doing nothing"),null)}).filter(function(s){return!!s})},Z2=function(r,a,s,o){var i=J2(a,Array.isArray(r)?r:[r]);Hl[s]||(Hl[s]=new WeakMap);var c=Hl[s],d=[],m=new Set,f=new Set(i),h=function(b){!b||m.has(b)||(m.add(b),h(b.parentNode))};i.forEach(h);var x=function(b){!b||f.has(b)||Array.prototype.forEach.call(b.children,function(v){if(m.has(v))x(v);else try{var w=v.getAttribute(o),S=w!==null&&w!=="false",C=(cs.get(v)||0)+1,j=(c.get(v)||0)+1;cs.set(v,C),c.set(v,j),d.push(v),C===1&&S&&Wl.set(v,!0),j===1&&v.setAttribute(s,"true"),S||v.setAttribute(o,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return x(a),m.clear(),Ad++,function(){d.forEach(function(b){var v=cs.get(b)-1,w=c.get(b)-1;cs.set(b,v),c.set(b,w),v||(Wl.has(b)||b.removeAttribute(o),Wl.delete(b)),w||b.removeAttribute(s)}),Ad--,Ad||(cs=new WeakMap,cs=new WeakMap,Wl=new WeakMap,Hl={})}},e1=function(r,a,s){s===void 0&&(s="data-aria-hidden");var o=Array.from(Array.isArray(r)?r:[r]),i=X2(r);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),Z2(o,i,s,"aria-hidden")):function(){return null}},qr=function(){return qr=Object.assign||function(a){for(var s,o=1,i=arguments.length;o<i;o++){s=arguments[o];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},qr.apply(this,arguments)};function e0(r,a){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)a.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(s[o[i]]=r[o[i]]);return s}function t1(r,a,s){if(s||arguments.length===2)for(var o=0,i=a.length,c;o<i;o++)(c||!(o in a))&&(c||(c=Array.prototype.slice.call(a,0,o)),c[o]=a[o]);return r.concat(c||Array.prototype.slice.call(a))}var ti="right-scroll-bar-position",ri="width-before-scroll-bar",r1="with-scroll-bars-hidden",n1="--removed-body-scroll-bar-size";function Md(r,a){return typeof r=="function"?r(a):r&&(r.current=a),r}function a1(r,a){var s=g.useState(function(){return{value:r,callback:a,facade:{get current(){return s.value},set current(o){var i=s.value;i!==o&&(s.value=o,s.callback(o,i))}}}})[0];return s.callback=a,s.facade}var s1=typeof window<"u"?g.useLayoutEffect:g.useEffect,bp=new WeakMap;function o1(r,a){var s=a1(null,function(o){return r.forEach(function(i){return Md(i,o)})});return s1(function(){var o=bp.get(s);if(o){var i=new Set(o),c=new Set(r),d=s.current;i.forEach(function(m){c.has(m)||Md(m,null)}),c.forEach(function(m){i.has(m)||Md(m,d)})}bp.set(s,r)},[r]),s}function l1(r){return r}function i1(r,a){a===void 0&&(a=l1);var s=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:r},useMedium:function(c){var d=a(c,o);return s.push(d),function(){s=s.filter(function(m){return m!==d})}},assignSyncMedium:function(c){for(o=!0;s.length;){var d=s;s=[],d.forEach(c)}s={push:function(m){return c(m)},filter:function(){return s}}},assignMedium:function(c){o=!0;var d=[];if(s.length){var m=s;s=[],m.forEach(c),d=s}var f=function(){var x=d;d=[],x.forEach(c)},h=function(){return Promise.resolve().then(f)};h(),s={push:function(x){d.push(x),h()},filter:function(x){return d=d.filter(x),s}}}};return i}function c1(r){r===void 0&&(r={});var a=i1(null);return a.options=qr({async:!0,ssr:!1},r),a}var t0=function(r){var a=r.sideCar,s=e0(r,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=a.read();if(!o)throw new Error("Sidecar medium not found");return g.createElement(o,qr({},s))};t0.isSideCarExport=!0;function d1(r,a){return r.useMedium(a),t0}var r0=c1(),Ld=function(){},Si=g.forwardRef(function(r,a){var s=g.useRef(null),o=g.useState({onScrollCapture:Ld,onWheelCapture:Ld,onTouchMoveCapture:Ld}),i=o[0],c=o[1],d=r.forwardProps,m=r.children,f=r.className,h=r.removeScrollBar,x=r.enabled,b=r.shards,v=r.sideCar,w=r.noIsolation,S=r.inert,C=r.allowPinchZoom,j=r.as,N=j===void 0?"div":j,D=r.gapMode,R=e0(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,T=o1([s,a]),k=qr(qr({},R),i);return g.createElement(g.Fragment,null,x&&g.createElement(M,{sideCar:r0,removeScrollBar:h,shards:b,noIsolation:w,inert:S,setCallbacks:c,allowPinchZoom:!!C,lockRef:s,gapMode:D}),d?g.cloneElement(g.Children.only(m),qr(qr({},k),{ref:T})):g.createElement(N,qr({},k,{className:f,ref:T}),m))});Si.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Si.classNames={fullWidth:ri,zeroRight:ti};var u1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m1(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var a=u1();return a&&r.setAttribute("nonce",a),r}function f1(r,a){r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a))}function h1(r){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(r)}var p1=function(){var r=0,a=null;return{add:function(s){r==0&&(a=m1())&&(f1(a,s),h1(a)),r++},remove:function(){r--,!r&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},g1=function(){var r=p1();return function(a,s){g.useEffect(function(){return r.add(a),function(){r.remove()}},[a&&s])}},n0=function(){var r=g1(),a=function(s){var o=s.styles,i=s.dynamic;return r(o,i),null};return a},x1={left:0,top:0,right:0,gap:0},Id=function(r){return parseInt(r||"",10)||0},y1=function(r){var a=window.getComputedStyle(document.body),s=a[r==="padding"?"paddingLeft":"marginLeft"],o=a[r==="padding"?"paddingTop":"marginTop"],i=a[r==="padding"?"paddingRight":"marginRight"];return[Id(s),Id(o),Id(i)]},v1=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return x1;var a=y1(r),s=document.documentElement.clientWidth,o=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,o-s+a[2]-a[0])}},b1=n0(),xs="data-scroll-locked",w1=function(r,a,s,o){var i=r.left,c=r.top,d=r.right,m=r.gap;return s===void 0&&(s="margin"),`
  .`.concat(r1,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(m,"px ").concat(o,`;
  }
  body[`).concat(xs,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(o,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(o,`;
    `),s==="padding"&&"padding-right: ".concat(m,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ti,` {
    right: `).concat(m,"px ").concat(o,`;
  }
  
  .`).concat(ri,` {
    margin-right: `).concat(m,"px ").concat(o,`;
  }
  
  .`).concat(ti," .").concat(ti,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ri," .").concat(ri,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(xs,`] {
    `).concat(n1,": ").concat(m,`px;
  }
`)},wp=function(){var r=parseInt(document.body.getAttribute(xs)||"0",10);return isFinite(r)?r:0},j1=function(){g.useEffect(function(){return document.body.setAttribute(xs,(wp()+1).toString()),function(){var r=wp()-1;r<=0?document.body.removeAttribute(xs):document.body.setAttribute(xs,r.toString())}},[])},N1=function(r){var a=r.noRelative,s=r.noImportant,o=r.gapMode,i=o===void 0?"margin":o;j1();var c=g.useMemo(function(){return v1(i)},[i]);return g.createElement(b1,{styles:w1(c,!a,i,s?"":"!important")})},nu=!1;if(typeof window<"u")try{var Yl=Object.defineProperty({},"passive",{get:function(){return nu=!0,!0}});window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{nu=!1}var ds=nu?{passive:!1}:!1,C1=function(r){return r.tagName==="TEXTAREA"},a0=function(r,a){if(!(r instanceof Element))return!1;var s=window.getComputedStyle(r);return s[a]!=="hidden"&&!(s.overflowY===s.overflowX&&!C1(r)&&s[a]==="visible")},S1=function(r){return a0(r,"overflowY")},E1=function(r){return a0(r,"overflowX")},jp=function(r,a){var s=a.ownerDocument,o=a;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=s0(r,o);if(i){var c=o0(r,o),d=c[1],m=c[2];if(d>m)return!0}o=o.parentNode}while(o&&o!==s.body);return!1},k1=function(r){var a=r.scrollTop,s=r.scrollHeight,o=r.clientHeight;return[a,s,o]},D1=function(r){var a=r.scrollLeft,s=r.scrollWidth,o=r.clientWidth;return[a,s,o]},s0=function(r,a){return r==="v"?S1(a):E1(a)},o0=function(r,a){return r==="v"?k1(a):D1(a)},R1=function(r,a){return r==="h"&&a==="rtl"?-1:1},_1=function(r,a,s,o,i){var c=R1(r,window.getComputedStyle(a).direction),d=c*o,m=s.target,f=a.contains(m),h=!1,x=d>0,b=0,v=0;do{var w=o0(r,m),S=w[0],C=w[1],j=w[2],N=C-j-c*S;(S||N)&&s0(r,m)&&(b+=N,v+=S),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!f&&m!==document.body||f&&(a.contains(m)||a===m));return(x&&Math.abs(b)<1||!x&&Math.abs(v)<1)&&(h=!0),h},Gl=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Np=function(r){return[r.deltaX,r.deltaY]},Cp=function(r){return r&&"current"in r?r.current:r},P1=function(r,a){return r[0]===a[0]&&r[1]===a[1]},T1=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},A1=0,us=[];function M1(r){var a=g.useRef([]),s=g.useRef([0,0]),o=g.useRef(),i=g.useState(A1++)[0],c=g.useState(n0)[0],d=g.useRef(r);g.useEffect(function(){d.current=r},[r]),g.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var C=t1([r.lockRef.current],(r.shards||[]).map(Cp),!0).filter(Boolean);return C.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var m=g.useCallback(function(C,j){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!d.current.allowPinchZoom;var N=Gl(C),D=s.current,R="deltaX"in C?C.deltaX:D[0]-N[0],M="deltaY"in C?C.deltaY:D[1]-N[1],T,k=C.target,_=Math.abs(R)>Math.abs(M)?"h":"v";if("touches"in C&&_==="h"&&k.type==="range")return!1;var z=jp(_,k);if(!z)return!0;if(z?T=_:(T=_==="v"?"h":"v",z=jp(_,k)),!z)return!1;if(!o.current&&"changedTouches"in C&&(R||M)&&(o.current=T),!T)return!0;var F=o.current||T;return _1(F,j,C,F==="h"?R:M)},[]),f=g.useCallback(function(C){var j=C;if(!(!us.length||us[us.length-1]!==c)){var N="deltaY"in j?Np(j):Gl(j),D=a.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&P1(T.delta,N)})[0];if(D&&D.should){j.cancelable&&j.preventDefault();return}if(!D){var R=(d.current.shards||[]).map(Cp).filter(Boolean).filter(function(T){return T.contains(j.target)}),M=R.length>0?m(j,R[0]):!d.current.noIsolation;M&&j.cancelable&&j.preventDefault()}}},[]),h=g.useCallback(function(C,j,N,D){var R={name:C,delta:j,target:N,should:D,shadowParent:L1(N)};a.current.push(R),setTimeout(function(){a.current=a.current.filter(function(M){return M!==R})},1)},[]),x=g.useCallback(function(C){s.current=Gl(C),o.current=void 0},[]),b=g.useCallback(function(C){h(C.type,Np(C),C.target,m(C,r.lockRef.current))},[]),v=g.useCallback(function(C){h(C.type,Gl(C),C.target,m(C,r.lockRef.current))},[]);g.useEffect(function(){return us.push(c),r.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ds),document.addEventListener("touchmove",f,ds),document.addEventListener("touchstart",x,ds),function(){us=us.filter(function(C){return C!==c}),document.removeEventListener("wheel",f,ds),document.removeEventListener("touchmove",f,ds),document.removeEventListener("touchstart",x,ds)}},[]);var w=r.removeScrollBar,S=r.inert;return g.createElement(g.Fragment,null,S?g.createElement(c,{styles:T1(i)}):null,w?g.createElement(N1,{gapMode:r.gapMode}):null)}function L1(r){for(var a=null;r!==null;)r instanceof ShadowRoot&&(a=r.host,r=r.host),r=r.parentNode;return a}const I1=d1(r0,M1);var l0=g.forwardRef(function(r,a){return g.createElement(Si,qr({},r,{ref:a,sideCar:I1}))});l0.classNames=Si.classNames;var O1=[" ","Enter","ArrowUp","ArrowDown"],F1=[" ","Enter"],Mo="Select",[Ei,ki,$1]=hN(Mo),[Es,sS]=Sg(Mo,[$1,Ci]),Di=Ci(),[z1,ia]=Es(Mo),[V1,U1]=Es(Mo),i0=r=>{const{__scopeSelect:a,children:s,open:o,defaultOpen:i,onOpenChange:c,value:d,defaultValue:m,onValueChange:f,dir:h,name:x,autoComplete:b,disabled:v,required:w,form:S}=r,C=Di(a),[j,N]=g.useState(null),[D,R]=g.useState(null),[M,T]=g.useState(!1),k=xN(h),[_=!1,z]=ru({prop:o,defaultProp:i,onChange:c}),[F,$]=ru({prop:d,defaultProp:m,onChange:f}),q=g.useRef(null),Z=j?S||!!j.closest("form"):!0,[te,re]=g.useState(new Set),G=Array.from(te).map(X=>X.props.value).join(";");return t.jsx(qg,{...C,children:t.jsxs(z1,{required:w,scope:a,trigger:j,onTriggerChange:N,valueNode:D,onValueNodeChange:R,valueNodeHasChildren:M,onValueNodeHasChildrenChange:T,contentId:bi(),value:F,onValueChange:$,open:_,onOpenChange:z,dir:k,triggerPointerDownPosRef:q,disabled:v,children:[t.jsx(Ei.Provider,{scope:a,children:t.jsx(V1,{scope:r.__scopeSelect,onNativeOptionAdd:g.useCallback(X=>{re(ne=>new Set(ne).add(X))},[]),onNativeOptionRemove:g.useCallback(X=>{re(ne=>{const O=new Set(ne);return O.delete(X),O})},[]),children:s})}),Z?t.jsxs(A0,{"aria-hidden":!0,required:w,tabIndex:-1,name:x,autoComplete:b,value:F,onChange:X=>$(X.target.value),disabled:v,form:S,children:[F===void 0?t.jsx("option",{value:""}):null,Array.from(te)]},G):null]})})};i0.displayName=Mo;var c0="SelectTrigger",d0=g.forwardRef((r,a)=>{const{__scopeSelect:s,disabled:o=!1,...i}=r,c=Di(s),d=ia(c0,s),m=d.disabled||o,f=jt(a,d.onTriggerChange),h=ki(s),x=g.useRef("touch"),[b,v,w]=M0(C=>{const j=h().filter(R=>!R.disabled),N=j.find(R=>R.value===d.value),D=L0(j,C,N);D!==void 0&&d.onValueChange(D.value)}),S=C=>{m||(d.onOpenChange(!0),w()),C&&(d.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return t.jsx(Kg,{asChild:!0,...c,children:t.jsx(vt.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":T0(d.value)?"":void 0,...i,ref:f,onClick:nt(i.onClick,C=>{C.currentTarget.focus(),x.current!=="mouse"&&S(C)}),onPointerDown:nt(i.onPointerDown,C=>{x.current=C.pointerType;const j=C.target;j.hasPointerCapture(C.pointerId)&&j.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(S(C),C.preventDefault())}),onKeyDown:nt(i.onKeyDown,C=>{const j=b.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&v(C.key),!(j&&C.key===" ")&&O1.includes(C.key)&&(S(),C.preventDefault())})})})});d0.displayName=c0;var u0="SelectValue",m0=g.forwardRef((r,a)=>{const{__scopeSelect:s,className:o,style:i,children:c,placeholder:d="",...m}=r,f=ia(u0,s),{onValueNodeHasChildrenChange:h}=f,x=c!==void 0,b=jt(a,f.onValueNodeChange);return Yt(()=>{h(x)},[h,x]),t.jsx(vt.span,{...m,ref:b,style:{pointerEvents:"none"},children:T0(f.value)?t.jsx(t.Fragment,{children:d}):c})});m0.displayName=u0;var B1="SelectIcon",f0=g.forwardRef((r,a)=>{const{__scopeSelect:s,children:o,...i}=r;return t.jsx(vt.span,{"aria-hidden":!0,...i,ref:a,children:o||"▼"})});f0.displayName=B1;var W1="SelectPortal",h0=r=>t.jsx(Jg,{asChild:!0,...r});h0.displayName=W1;var Ma="SelectContent",p0=g.forwardRef((r,a)=>{const s=ia(Ma,r.__scopeSelect),[o,i]=g.useState();if(Yt(()=>{i(new DocumentFragment)},[]),!s.open){const c=o;return c?ws.createPortal(t.jsx(g0,{scope:r.__scopeSelect,children:t.jsx(Ei.Slot,{scope:r.__scopeSelect,children:t.jsx("div",{children:r.children})})}),c):null}return t.jsx(x0,{...r,ref:a})});p0.displayName=Ma;var Tr=10,[g0,ca]=Es(Ma),H1="SelectContentImpl",x0=g.forwardRef((r,a)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:d,side:m,sideOffset:f,align:h,alignOffset:x,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:C,avoidCollisions:j,...N}=r,D=ia(Ma,s),[R,M]=g.useState(null),[T,k]=g.useState(null),_=jt(a,ie=>M(ie)),[z,F]=g.useState(null),[$,q]=g.useState(null),Z=ki(s),[te,re]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(R)return e1(R)},[R]),DN();const X=g.useCallback(ie=>{const[he,...Ae]=Z().map(We=>We.ref.current),[ge]=Ae.slice(-1),Ie=document.activeElement;for(const We of ie)if(We===Ie||(We?.scrollIntoView({block:"nearest"}),We===he&&T&&(T.scrollTop=0),We===ge&&T&&(T.scrollTop=T.scrollHeight),We?.focus(),document.activeElement!==Ie))return},[Z,T]),ne=g.useCallback(()=>X([z,R]),[X,z,R]);g.useEffect(()=>{te&&ne()},[te,ne]);const{onOpenChange:O,triggerPointerDownPosRef:J}=D;g.useEffect(()=>{if(R){let ie={x:0,y:0};const he=ge=>{ie={x:Math.abs(Math.round(ge.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(J.current?.y??0))}},Ae=ge=>{ie.x<=10&&ie.y<=10?ge.preventDefault():R.contains(ge.target)||O(!1),document.removeEventListener("pointermove",he),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[R,O,J]),g.useEffect(()=>{const ie=()=>O(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[O]);const[ee,A]=M0(ie=>{const he=Z().filter(Ie=>!Ie.disabled),Ae=he.find(Ie=>Ie.ref.current===document.activeElement),ge=L0(he,ie,Ae);ge&&setTimeout(()=>ge.ref.current.focus())}),W=g.useCallback((ie,he,Ae)=>{const ge=!G.current&&!Ae;(D.value!==void 0&&D.value===he||ge)&&(F(ie),ge&&(G.current=!0))},[D.value]),ue=g.useCallback(()=>R?.focus(),[R]),me=g.useCallback((ie,he,Ae)=>{const ge=!G.current&&!Ae;(D.value!==void 0&&D.value===he||ge)&&q(ie)},[D.value]),Ne=o==="popper"?au:y0,be=Ne===au?{side:m,sideOffset:f,align:h,alignOffset:x,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:C,avoidCollisions:j}:{};return t.jsx(g0,{scope:s,content:R,viewport:T,onViewportChange:k,itemRefCallback:W,selectedItem:z,onItemLeave:ue,itemTextRefCallback:me,focusSelectedItem:ne,selectedItemText:$,position:o,isPositioned:te,searchRef:ee,children:t.jsx(l0,{as:So,allowPinchZoom:!0,children:t.jsx(Dg,{asChild:!0,trapped:D.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:nt(i,ie=>{D.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:t.jsx(Lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:t.jsx(Ne,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:ie=>ie.preventDefault(),...N,...be,onPlaced:()=>re(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:nt(N.onKeyDown,ie=>{const he=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!he&&ie.key.length===1&&A(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let ge=Z().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Ie=ie.target,We=ge.indexOf(Ie);ge=ge.slice(We+1)}setTimeout(()=>X(ge)),ie.preventDefault()}})})})})})})});x0.displayName=H1;var Y1="SelectItemAlignedPosition",y0=g.forwardRef((r,a)=>{const{__scopeSelect:s,onPlaced:o,...i}=r,c=ia(Ma,s),d=ca(Ma,s),[m,f]=g.useState(null),[h,x]=g.useState(null),b=jt(a,_=>x(_)),v=ki(s),w=g.useRef(!1),S=g.useRef(!0),{viewport:C,selectedItem:j,selectedItemText:N,focusSelectedItem:D}=d,R=g.useCallback(()=>{if(c.trigger&&c.valueNode&&m&&h&&C&&j&&N){const _=c.trigger.getBoundingClientRect(),z=h.getBoundingClientRect(),F=c.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(c.dir!=="rtl"){const Ie=$.left-z.left,We=F.left-Ie,pt=_.left-We,gt=_.width+pt,Ir=Math.max(gt,z.width),Or=window.innerWidth-Tr,fr=ap(We,[Tr,Math.max(Tr,Or-Ir)]);m.style.minWidth=gt+"px",m.style.left=fr+"px"}else{const Ie=z.right-$.right,We=window.innerWidth-F.right-Ie,pt=window.innerWidth-_.right-We,gt=_.width+pt,Ir=Math.max(gt,z.width),Or=window.innerWidth-Tr,fr=ap(We,[Tr,Math.max(Tr,Or-Ir)]);m.style.minWidth=gt+"px",m.style.right=fr+"px"}const q=v(),Z=window.innerHeight-Tr*2,te=C.scrollHeight,re=window.getComputedStyle(h),G=parseInt(re.borderTopWidth,10),X=parseInt(re.paddingTop,10),ne=parseInt(re.borderBottomWidth,10),O=parseInt(re.paddingBottom,10),J=G+X+te+O+ne,ee=Math.min(j.offsetHeight*5,J),A=window.getComputedStyle(C),W=parseInt(A.paddingTop,10),ue=parseInt(A.paddingBottom,10),me=_.top+_.height/2-Tr,Ne=Z-me,be=j.offsetHeight/2,ie=j.offsetTop+be,he=G+X+ie,Ae=J-he;if(he<=me){const Ie=q.length>0&&j===q[q.length-1].ref.current;m.style.bottom="0px";const We=h.clientHeight-C.offsetTop-C.offsetHeight,pt=Math.max(Ne,be+(Ie?ue:0)+We+ne),gt=he+pt;m.style.height=gt+"px"}else{const Ie=q.length>0&&j===q[0].ref.current;m.style.top="0px";const pt=Math.max(me,G+C.offsetTop+(Ie?W:0)+be)+Ae;m.style.height=pt+"px",C.scrollTop=he-me+C.offsetTop}m.style.margin=`${Tr}px 0`,m.style.minHeight=ee+"px",m.style.maxHeight=Z+"px",o?.(),requestAnimationFrame(()=>w.current=!0)}},[v,c.trigger,c.valueNode,m,h,C,j,N,c.dir,o]);Yt(()=>R(),[R]);const[M,T]=g.useState();Yt(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const k=g.useCallback(_=>{_&&S.current===!0&&(R(),D?.(),S.current=!1)},[R,D]);return t.jsx(q1,{scope:s,contentWrapper:m,shouldExpandOnScrollRef:w,onScrollButtonChange:k,children:t.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:t.jsx(vt.div,{...i,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});y0.displayName=Y1;var G1="SelectPopperPosition",au=g.forwardRef((r,a)=>{const{__scopeSelect:s,align:o="start",collisionPadding:i=Tr,...c}=r,d=Di(s);return t.jsx(Qg,{...d,...c,ref:a,align:o,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});au.displayName=G1;var[q1,Hu]=Es(Ma,{}),su="SelectViewport",v0=g.forwardRef((r,a)=>{const{__scopeSelect:s,nonce:o,...i}=r,c=ca(su,s),d=Hu(su,s),m=jt(a,c.onViewportChange),f=g.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),t.jsx(Ei.Slot,{scope:s,children:t.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nt(i.onScroll,h=>{const x=h.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:v}=d;if(v?.current&&b){const w=Math.abs(f.current-x.scrollTop);if(w>0){const S=window.innerHeight-Tr*2,C=parseFloat(b.style.minHeight),j=parseFloat(b.style.height),N=Math.max(C,j);if(N<S){const D=N+w,R=Math.min(S,D),M=D-R;b.style.height=R+"px",b.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,b.style.justifyContent="flex-end")}}}f.current=x.scrollTop})})})]})});v0.displayName=su;var b0="SelectGroup",[K1,Q1]=Es(b0),X1=g.forwardRef((r,a)=>{const{__scopeSelect:s,...o}=r,i=bi();return t.jsx(K1,{scope:s,id:i,children:t.jsx(vt.div,{role:"group","aria-labelledby":i,...o,ref:a})})});X1.displayName=b0;var w0="SelectLabel",j0=g.forwardRef((r,a)=>{const{__scopeSelect:s,...o}=r,i=Q1(w0,s);return t.jsx(vt.div,{id:i.id,...o,ref:a})});j0.displayName=w0;var fi="SelectItem",[J1,N0]=Es(fi),C0=g.forwardRef((r,a)=>{const{__scopeSelect:s,value:o,disabled:i=!1,textValue:c,...d}=r,m=ia(fi,s),f=ca(fi,s),h=m.value===o,[x,b]=g.useState(c??""),[v,w]=g.useState(!1),S=jt(a,D=>f.itemRefCallback?.(D,o,i)),C=bi(),j=g.useRef("touch"),N=()=>{i||(m.onValueChange(o),m.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(J1,{scope:s,value:o,disabled:i,textId:C,isSelected:h,onItemTextChange:g.useCallback(D=>{b(R=>R||(D?.textContent??"").trim())},[]),children:t.jsx(Ei.ItemSlot,{scope:s,value:o,disabled:i,textValue:x,children:t.jsx(vt.div,{role:"option","aria-labelledby":C,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:S,onFocus:nt(d.onFocus,()=>w(!0)),onBlur:nt(d.onBlur,()=>w(!1)),onClick:nt(d.onClick,()=>{j.current!=="mouse"&&N()}),onPointerUp:nt(d.onPointerUp,()=>{j.current==="mouse"&&N()}),onPointerDown:nt(d.onPointerDown,D=>{j.current=D.pointerType}),onPointerMove:nt(d.onPointerMove,D=>{j.current=D.pointerType,i?f.onItemLeave?.():j.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(d.onPointerLeave,D=>{D.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:nt(d.onKeyDown,D=>{f.searchRef?.current!==""&&D.key===" "||(F1.includes(D.key)&&N(),D.key===" "&&D.preventDefault())})})})})});C0.displayName=fi;var xo="SelectItemText",S0=g.forwardRef((r,a)=>{const{__scopeSelect:s,className:o,style:i,...c}=r,d=ia(xo,s),m=ca(xo,s),f=N0(xo,s),h=U1(xo,s),[x,b]=g.useState(null),v=jt(a,N=>b(N),f.onItemTextChange,N=>m.itemTextRefCallback?.(N,f.value,f.disabled)),w=x?.textContent,S=g.useMemo(()=>t.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:C,onNativeOptionRemove:j}=h;return Yt(()=>(C(S),()=>j(S)),[C,j,S]),t.jsxs(t.Fragment,{children:[t.jsx(vt.span,{id:f.textId,...c,ref:v}),f.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ws.createPortal(c.children,d.valueNode):null]})});S0.displayName=xo;var E0="SelectItemIndicator",k0=g.forwardRef((r,a)=>{const{__scopeSelect:s,...o}=r;return N0(E0,s).isSelected?t.jsx(vt.span,{"aria-hidden":!0,...o,ref:a}):null});k0.displayName=E0;var ou="SelectScrollUpButton",D0=g.forwardRef((r,a)=>{const s=ca(ou,r.__scopeSelect),o=Hu(ou,r.__scopeSelect),[i,c]=g.useState(!1),d=jt(a,o.onScrollButtonChange);return Yt(()=>{if(s.viewport&&s.isPositioned){let m=function(){const h=f.scrollTop>0;c(h)};const f=s.viewport;return m(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,s.isPositioned]),i?t.jsx(_0,{...r,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:f}=s;m&&f&&(m.scrollTop=m.scrollTop-f.offsetHeight)}}):null});D0.displayName=ou;var lu="SelectScrollDownButton",R0=g.forwardRef((r,a)=>{const s=ca(lu,r.__scopeSelect),o=Hu(lu,r.__scopeSelect),[i,c]=g.useState(!1),d=jt(a,o.onScrollButtonChange);return Yt(()=>{if(s.viewport&&s.isPositioned){let m=function(){const h=f.scrollHeight-f.clientHeight,x=Math.ceil(f.scrollTop)<h;c(x)};const f=s.viewport;return m(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[s.viewport,s.isPositioned]),i?t.jsx(_0,{...r,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:f}=s;m&&f&&(m.scrollTop=m.scrollTop+f.offsetHeight)}}):null});R0.displayName=lu;var _0=g.forwardRef((r,a)=>{const{__scopeSelect:s,onAutoScroll:o,...i}=r,c=ca("SelectScrollButton",s),d=g.useRef(null),m=ki(s),f=g.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return g.useEffect(()=>()=>f(),[f]),Yt(()=>{m().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),t.jsx(vt.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:nt(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(o,50))}),onPointerMove:nt(i.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(o,50))}),onPointerLeave:nt(i.onPointerLeave,()=>{f()})})}),Z1="SelectSeparator",P0=g.forwardRef((r,a)=>{const{__scopeSelect:s,...o}=r;return t.jsx(vt.div,{"aria-hidden":!0,...o,ref:a})});P0.displayName=Z1;var iu="SelectArrow",eC=g.forwardRef((r,a)=>{const{__scopeSelect:s,...o}=r,i=Di(s),c=ia(iu,s),d=ca(iu,s);return c.open&&d.position==="popper"?t.jsx(Xg,{...i,...o,ref:a}):null});eC.displayName=iu;function T0(r){return r===""||r===void 0}var A0=g.forwardRef((r,a)=>{const{value:s,...o}=r,i=g.useRef(null),c=jt(a,i),d=q2(s);return g.useEffect(()=>{const m=i.current,f=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(f,"value").set;if(d!==s&&x){const b=new Event("change",{bubbles:!0});x.call(m,s),m.dispatchEvent(b)}},[d,s]),t.jsx(Wu,{asChild:!0,children:t.jsx("select",{...o,ref:c,defaultValue:s})})});A0.displayName="BubbleSelect";function M0(r){const a=yn(r),s=g.useRef(""),o=g.useRef(0),i=g.useCallback(d=>{const m=s.current+d;a(m),function f(h){s.current=h,window.clearTimeout(o.current),h!==""&&(o.current=window.setTimeout(()=>f(""),1e3))}(m)},[a]),c=g.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,i,c]}function L0(r,a,s){const i=a.length>1&&Array.from(a).every(h=>h===a[0])?a[0]:a,c=s?r.indexOf(s):-1;let d=tC(r,Math.max(c,0));i.length===1&&(d=d.filter(h=>h!==s));const f=d.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==s?f:void 0}function tC(r,a){return r.map((s,o)=>r[(a+o)%r.length])}var rC=i0,I0=d0,nC=m0,aC=f0,sC=h0,O0=p0,oC=v0,F0=j0,$0=C0,lC=S0,iC=k0,z0=D0,V0=R0,U0=P0;const Od=rC,Fd=nC,ni=g.forwardRef(({className:r,children:a,...s},o)=>t.jsxs(I0,{ref:o,className:ct("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...s,children:[a,t.jsx(aC,{asChild:!0,children:t.jsx(xi,{className:"h-4 w-4 opacity-50"})})]}));ni.displayName=I0.displayName;const B0=g.forwardRef(({className:r,...a},s)=>t.jsx(z0,{ref:s,className:ct("flex cursor-default items-center justify-center py-1",r),...a,children:t.jsx(gw,{className:"h-4 w-4"})}));B0.displayName=z0.displayName;const W0=g.forwardRef(({className:r,...a},s)=>t.jsx(V0,{ref:s,className:ct("flex cursor-default items-center justify-center py-1",r),...a,children:t.jsx(xi,{className:"h-4 w-4"})}));W0.displayName=V0.displayName;const ai=g.forwardRef(({className:r,children:a,position:s="popper",...o},i)=>t.jsx(sC,{children:t.jsxs(O0,{ref:i,className:ct("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...o,children:[t.jsx(B0,{}),t.jsx(oC,{className:ct("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(W0,{})]})}));ai.displayName=O0.displayName;const cC=g.forwardRef(({className:r,...a},s)=>t.jsx(F0,{ref:s,className:ct("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a}));cC.displayName=F0.displayName;const Ra=g.forwardRef(({className:r,children:a,...s},o)=>t.jsxs($0,{ref:o,className:ct("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(iC,{children:t.jsx(fw,{className:"h-4 w-4"})})}),t.jsx(lC,{children:a})]}));Ra.displayName=$0.displayName;const dC=g.forwardRef(({className:r,...a},s)=>t.jsx(U0,{ref:s,className:ct("-mx-1 my-1 h-px bg-muted",r),...a}));dC.displayName=U0.displayName;function uC({selectedEntity:r,setSelectedEntity:a,selectedYear:s,setSelectedYear:o,searchTerm:i,setSearchTerm:c,statusFilter:d,setStatusFilter:m,entities:f,years:h,availableYears:x,statuses:b}){return t.jsx(pn,{children:t.jsx(gn,{className:"p-4",children:t.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(jg,{placeholder:"Buscar empresa, entidad, mes...",value:i,onChange:v=>c(v.target.value),className:"pl-10"})]}),t.jsxs(Od,{value:r,onValueChange:a,children:[t.jsx(ni,{children:t.jsx(Fd,{placeholder:"Todas las entidades"})}),t.jsxs(ai,{children:[t.jsxs(Ra,{value:"all",children:["Todas las entidades (",f.length,")"]}),f.map(v=>t.jsx(Ra,{value:v,children:v},v))]})]}),t.jsxs(Od,{value:s.toString(),onValueChange:v=>o(v==="all"?"all":parseInt(v)),children:[t.jsx(ni,{children:t.jsx(Fd,{})}),t.jsxs(ai,{children:[t.jsxs(Ra,{value:"all",children:["Todos los años ",x&&x.length>0&&`(${x.length})`]}),h.map(v=>t.jsx(Ra,{value:v.toString(),children:v},v))]})]}),t.jsxs(Od,{value:d,onValueChange:v=>m(v),children:[t.jsx(ni,{children:t.jsx(Fd,{placeholder:"Todos los estados"})}),t.jsxs(ai,{children:[t.jsx(Ra,{value:"all",children:"Todos los estados"}),b.map(v=>t.jsx(Ra,{value:v,children:v},v))]})]})]})})})}function mC(r,a){return g.useReducer((s,o)=>a[s][o]??s,r)}var H0=r=>{const{present:a,children:s}=r,o=fC(a),i=typeof s=="function"?s({present:o.isPresent}):g.Children.only(s),c=jt(o.ref,hC(i));return typeof s=="function"||o.isPresent?g.cloneElement(i,{ref:c}):null};H0.displayName="Presence";function fC(r){const[a,s]=g.useState(),o=g.useRef({}),i=g.useRef(r),c=g.useRef("none"),d=r?"mounted":"unmounted",[m,f]=mC(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const h=ql(o.current);c.current=m==="mounted"?h:"none"},[m]),Yt(()=>{const h=o.current,x=i.current;if(x!==r){const v=c.current,w=ql(h);r?f("MOUNT"):w==="none"||h?.display==="none"?f("UNMOUNT"):f(x&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,f]),Yt(()=>{if(a){let h;const x=a.ownerDocument.defaultView??window,b=w=>{const C=ql(o.current).includes(w.animationName);if(w.target===a&&C&&(f("ANIMATION_END"),!i.current)){const j=a.style.animationFillMode;a.style.animationFillMode="forwards",h=x.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=j)})}},v=w=>{w.target===a&&(c.current=ql(o.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",b),a.addEventListener("animationend",b),()=>{x.clearTimeout(h),a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",b),a.removeEventListener("animationend",b)}}else f("ANIMATION_END")},[a,f]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:g.useCallback(h=>{h&&(o.current=getComputedStyle(h)),s(h)},[])}}function ql(r){return r?.animationName||"none"}function hC(r){let a=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?r.ref:(a=Object.getOwnPropertyDescriptor(r,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}var[Ri,oS]=Sg("Tooltip",[Ci]),_i=Ci(),Y0="TooltipProvider",pC=700,cu="tooltip.open",[gC,Yu]=Ri(Y0),G0=r=>{const{__scopeTooltip:a,delayDuration:s=pC,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:c}=r,[d,m]=g.useState(!0),f=g.useRef(!1),h=g.useRef(0);return g.useEffect(()=>{const x=h.current;return()=>window.clearTimeout(x)},[]),t.jsx(gC,{scope:a,isOpenDelayed:d,delayDuration:s,onOpen:g.useCallback(()=>{window.clearTimeout(h.current),m(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>m(!0),o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:g.useCallback(x=>{f.current=x},[]),disableHoverableContent:i,children:c})};G0.displayName=Y0;var Pi="Tooltip",[xC,Ti]=Ri(Pi),q0=r=>{const{__scopeTooltip:a,children:s,open:o,defaultOpen:i=!1,onOpenChange:c,disableHoverableContent:d,delayDuration:m}=r,f=Yu(Pi,r.__scopeTooltip),h=_i(a),[x,b]=g.useState(null),v=bi(),w=g.useRef(0),S=d??f.disableHoverableContent,C=m??f.delayDuration,j=g.useRef(!1),[N=!1,D]=ru({prop:o,defaultProp:i,onChange:_=>{_?(f.onOpen(),document.dispatchEvent(new CustomEvent(cu))):f.onClose(),c?.(_)}}),R=g.useMemo(()=>N?j.current?"delayed-open":"instant-open":"closed",[N]),M=g.useCallback(()=>{window.clearTimeout(w.current),j.current=!1,D(!0)},[D]),T=g.useCallback(()=>{window.clearTimeout(w.current),D(!1)},[D]),k=g.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{j.current=!0,D(!0)},C)},[C,D]);return g.useEffect(()=>()=>window.clearTimeout(w.current),[]),t.jsx(qg,{...h,children:t.jsx(xC,{scope:a,contentId:v,open:N,stateAttribute:R,trigger:x,onTriggerChange:b,onTriggerEnter:g.useCallback(()=>{f.isOpenDelayed?k():M()},[f.isOpenDelayed,k,M]),onTriggerLeave:g.useCallback(()=>{S?T():window.clearTimeout(w.current)},[T,S]),onOpen:M,onClose:T,disableHoverableContent:S,children:s})})};q0.displayName=Pi;var du="TooltipTrigger",K0=g.forwardRef((r,a)=>{const{__scopeTooltip:s,...o}=r,i=Ti(du,s),c=Yu(du,s),d=_i(s),m=g.useRef(null),f=jt(a,m,i.onTriggerChange),h=g.useRef(!1),x=g.useRef(!1),b=g.useCallback(()=>h.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),t.jsx(Kg,{asChild:!0,...d,children:t.jsx(vt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:f,onPointerMove:nt(r.onPointerMove,v=>{v.pointerType!=="touch"&&!x.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),x.current=!0)}),onPointerLeave:nt(r.onPointerLeave,()=>{i.onTriggerLeave(),x.current=!1}),onPointerDown:nt(r.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:nt(r.onFocus,()=>{h.current||i.onOpen()}),onBlur:nt(r.onBlur,i.onClose),onClick:nt(r.onClick,i.onClose)})})});K0.displayName=du;var yC="TooltipPortal",[lS,vC]=Ri(yC,{forceMount:void 0}),bs="TooltipContent",Q0=g.forwardRef((r,a)=>{const s=vC(bs,r.__scopeTooltip),{forceMount:o=s.forceMount,side:i="top",...c}=r,d=Ti(bs,r.__scopeTooltip);return t.jsx(H0,{present:o||d.open,children:d.disableHoverableContent?t.jsx(X0,{side:i,...c,ref:a}):t.jsx(bC,{side:i,...c,ref:a})})}),bC=g.forwardRef((r,a)=>{const s=Ti(bs,r.__scopeTooltip),o=Yu(bs,r.__scopeTooltip),i=g.useRef(null),c=jt(a,i),[d,m]=g.useState(null),{trigger:f,onClose:h}=s,x=i.current,{onPointerInTransitChange:b}=o,v=g.useCallback(()=>{m(null),b(!1)},[b]),w=g.useCallback((S,C)=>{const j=S.currentTarget,N={x:S.clientX,y:S.clientY},D=CC(N,j.getBoundingClientRect()),R=SC(N,D),M=EC(C.getBoundingClientRect()),T=DC([...R,...M]);m(T),b(!0)},[b]);return g.useEffect(()=>()=>v(),[v]),g.useEffect(()=>{if(f&&x){const S=j=>w(j,x),C=j=>w(j,f);return f.addEventListener("pointerleave",S),x.addEventListener("pointerleave",C),()=>{f.removeEventListener("pointerleave",S),x.removeEventListener("pointerleave",C)}}},[f,x,w,v]),g.useEffect(()=>{if(d){const S=C=>{const j=C.target,N={x:C.clientX,y:C.clientY},D=f?.contains(j)||x?.contains(j),R=!kC(N,d);D?v():R&&(v(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,x,d,h,v]),t.jsx(X0,{...r,ref:c})}),[wC,jC]=Ri(Pi,{isInside:!1}),X0=g.forwardRef((r,a)=>{const{__scopeTooltip:s,children:o,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:d,...m}=r,f=Ti(bs,s),h=_i(s),{onClose:x}=f;return g.useEffect(()=>(document.addEventListener(cu,x),()=>document.removeEventListener(cu,x)),[x]),g.useEffect(()=>{if(f.trigger){const b=v=>{v.target?.contains(f.trigger)&&x()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[f.trigger,x]),t.jsx(Lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:b=>b.preventDefault(),onDismiss:x,children:t.jsxs(Qg,{"data-state":f.stateAttribute,...h,...m,ref:a,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(Cg,{children:o}),t.jsx(wC,{scope:s,isInside:!0,children:t.jsx(Q2,{id:f.contentId,role:"tooltip",children:i||o})})]})})});Q0.displayName=bs;var J0="TooltipArrow",NC=g.forwardRef((r,a)=>{const{__scopeTooltip:s,...o}=r,i=_i(s);return jC(J0,s).isInside?null:t.jsx(Xg,{...i,...o,ref:a})});NC.displayName=J0;function CC(r,a){const s=Math.abs(a.top-r.y),o=Math.abs(a.bottom-r.y),i=Math.abs(a.right-r.x),c=Math.abs(a.left-r.x);switch(Math.min(s,o,i,c)){case c:return"left";case i:return"right";case s:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function SC(r,a,s=5){const o=[];switch(a){case"top":o.push({x:r.x-s,y:r.y+s},{x:r.x+s,y:r.y+s});break;case"bottom":o.push({x:r.x-s,y:r.y-s},{x:r.x+s,y:r.y-s});break;case"left":o.push({x:r.x+s,y:r.y-s},{x:r.x+s,y:r.y+s});break;case"right":o.push({x:r.x-s,y:r.y-s},{x:r.x-s,y:r.y+s});break}return o}function EC(r){const{top:a,right:s,bottom:o,left:i}=r;return[{x:i,y:a},{x:s,y:a},{x:s,y:o},{x:i,y:o}]}function kC(r,a){const{x:s,y:o}=r;let i=!1;for(let c=0,d=a.length-1;c<a.length;d=c++){const m=a[c].x,f=a[c].y,h=a[d].x,x=a[d].y;f>o!=x>o&&s<(h-m)*(o-f)/(x-f)+m&&(i=!i)}return i}function DC(r){const a=r.slice();return a.sort((s,o)=>s.x<o.x?-1:s.x>o.x?1:s.y<o.y?-1:s.y>o.y?1:0),RC(a)}function RC(r){if(r.length<=1)return r.slice();const a=[];for(let o=0;o<r.length;o++){const i=r[o];for(;a.length>=2;){const c=a[a.length-1],d=a[a.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}a.pop();const s=[];for(let o=r.length-1;o>=0;o--){const i=r[o];for(;s.length>=2;){const c=s[s.length-1],d=s[s.length-2];if((c.x-d.x)*(i.y-d.y)>=(c.y-d.y)*(i.x-d.x))s.pop();else break}s.push(i)}return s.pop(),a.length===1&&s.length===1&&a[0].x===s[0].x&&a[0].y===s[0].y?a:a.concat(s)}var _C=G0,PC=q0,TC=K0,Z0=Q0;const AC=_C,Sp=PC,Ep=TC,uu=g.forwardRef(({className:r,sideOffset:a=4,...s},o)=>t.jsx(Z0,{ref:o,sideOffset:a,className:ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s}));uu.displayName=Z0.displayName;function MC({groupedRequest:r}){const a=[...r.periods].sort((d,m)=>{const f=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return d.year!==m.year?d.year-m.year:f.indexOf(d.monthName)-f.indexOf(m.monthName)}),s=r.periods.some(d=>d.workItemId),o=mj(r.entityName),c=`/${a.length>0?a[0].year:2025}/${o}?search=${encodeURIComponent(r.companyName)}`;return t.jsx(AC,{children:t.jsxs(pn,{className:"hover:shadow-md transition-shadow",children:[t.jsx(Pa,{className:"pb-2",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[t.jsx(Wt,{to:c,className:"font-semibold text-sm leading-tight text-blue-600 hover:text-blue-800 hover:underline block",title:`Ver detalles de ${r.companyName}`,children:r.companyName}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx(ft,{className:"h-3 w-3 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:r.entityName})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs(bg,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 whitespace-nowrap",children:[r.pendingCount," período",r.pendingCount!==1?"s":""]}),s&&t.jsxs(Sp,{children:[t.jsx(Ep,{asChild:!0,children:t.jsx("div",{className:"p-1",children:t.jsx(Ia,{className:"h-3 w-3 text-blue-600"})})}),t.jsx(uu,{children:t.jsx("p",{children:"Contiene Work Items"})})]})]})]})}),t.jsx(gn,{className:"space-y-2 pt-0",children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[t.jsx(dt,{className:"h-3 w-3 text-gray-500"}),t.jsx("span",{children:"Períodos pendientes"})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:a.map(d=>{const m=na(d.estado),f=ys(d.estado),h=Tu[d.estado]||d.estado;return t.jsxs(Sp,{children:[t.jsx(Ep,{asChild:!0,children:t.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs ${m.bg} ${m.text} border cursor-default`,children:[t.jsx("span",{className:"text-xs",children:f}),t.jsx("span",{className:"font-medium",children:d.monthName}),t.jsx("span",{className:"text-xs opacity-75",children:d.year})]})}),t.jsx(uu,{children:t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"font-medium",children:[d.monthName," ",d.year]}),t.jsxs("p",{className:"text-xs",children:["Estado: ",h]})]})})]},`${d.year}-${d.monthName}`)})})]})})]})})}const LC=vg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mu=g.forwardRef(({className:r,variant:a,...s},o)=>t.jsx("div",{ref:o,role:"alert",className:ct(LC({variant:a}),r),...s}));mu.displayName="Alert";const IC=g.forwardRef(({className:r,...a},s)=>t.jsx("h5",{ref:s,className:ct("mb-1 font-medium leading-none tracking-tight",r),...a}));IC.displayName="AlertTitle";const fu=g.forwardRef(({className:r,...a},s)=>t.jsx("div",{ref:s,className:ct("text-sm [&_p]:leading-relaxed",r),...a}));fu.displayName="AlertDescription";function kp(){const{groupedRequests:r,stats:a,selectedEntity:s,setSelectedEntity:o,selectedYear:i,setSelectedYear:c,searchTerm:d,setSearchTerm:m,statusFilter:f,setStatusFilter:h,isLoading:x,error:b,entities:v,allEntities:w,years:S,availableYears:C,statuses:j}=rN();return b?t.jsx("div",{className:"p-6",children:t.jsxs(mu,{variant:"destructive",children:[t.jsx(Ht,{className:"h-4 w-4"}),t.jsxs(fu,{children:["Error al cargar los datos: ",b]})]})}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Solicitudes Pendientes"}),t.jsx("p",{className:"text-gray-600",children:"Vista consolidada de todas las solicitudes no cerradas"}),v.length<w.length&&t.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Mostrando datos de ",v.length," de ",w.length," entidades",i==="all"?` para ${C.length} años`:` para el año ${i}`]})]})}),!x&&v.length===0&&t.jsxs(mu,{children:[t.jsx(Ht,{className:"h-4 w-4"}),t.jsx(fu,{children:i==="all"?"No hay datos disponibles para ningún año. Verifica que existan archivos de datos para las entidades.":`No hay datos disponibles para el año ${i}. Intenta seleccionar un año diferente o verifica que existan archivos de datos para las entidades.`})]}),t.jsx(lN,{stats:a,isLoading:x}),t.jsx(uC,{selectedEntity:s,setSelectedEntity:o,selectedYear:i,setSelectedYear:c,searchTerm:d,setSearchTerm:m,statusFilter:f,setStatusFilter:h,entities:v,years:S,availableYears:C,statuses:j}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Empresas con Solicitudes Pendientes (",r.length,")"]})}),x?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(wg,{size:"lg"})}):r.length===0?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-500",children:"No se encontraron solicitudes pendientes con los filtros aplicados"})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(N=>t.jsx(MC,{groupedRequest:N},`${N.entityName}-${N.companyName}`))})]})]})}function OC(r){const[a,s]=g.useState({companyName:r,operations:[],billingHistory:[],statistics:{totalRequests:0,completedRequests:0,averageProcessingDays:0,entitiesCount:0,operatingYears:[],recentActivity:[],completionRate:0},loading:!0,error:null});return g.useEffect(()=>{if(!r)return;(async()=>{try{s(w=>({...w,loading:!0,error:null}));const i=[],c=[],d=new Set,m={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"};for(const w of Nr){const S=m[w];if(S)for(const C of["2017","2018","2019","2020","2021","2022","2023","2024","2025"])try{const D=(await To(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Y(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Y(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Y(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Y(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Y(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Y(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Y(()=>import("./2023-DrujBmiH.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Y(()=>import("./2024-C_HV7Ih5.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Y(()=>import("./2025-DPX86qph.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Y(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Y(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Y(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Y(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Y(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Y(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Y(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Y(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Y(()=>import("./2025-DbV08IcW.js"),[]),"../data/gobernacion-valle/2017.json":()=>Y(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Y(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Y(()=>import("./2019-KKyEHg-1.js"),[]),"../data/gobernacion-valle/2020.json":()=>Y(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Y(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Y(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Y(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Y(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Y(()=>import("./2025-GQlrFJAI.js"),[]),"../data/infibague/2023.json":()=>Y(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Y(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Y(()=>import("./2025-TA4I06BJ.js"),[])}),`../data/${S}/${C}.json`,4)).default[r];if(D){d.add(C);const R=D._metadata||{};i.push({entity:w,year:C,relationshipType:R.tipoEmpresa||"Desconocido",isIncumbent:R.esIncumbente||!1,userCount:R.usuariosCount});for(const M of Ke){const T=D[M];T&&c.push({entity:w,year:C,month:M,workItemId:T.workItemId,estado:T.estado||"Sin Solicitud",fechaRecibido:T.fechaRecibido,fechaCerrado:T.fechaCerrado,diasProcesamiento:T.diasProcesamiento,notas:T.notas||""})}}}catch{continue}}const f=c.filter(w=>w.estado==="Closed").length,h=c.filter(w=>w.diasProcesamiento),x=h.length>0?h.reduce((w,S)=>w+(S.diasProcesamiento||0),0)/h.length:0,b=c.filter(w=>w.fechaRecibido).sort((w,S)=>new Date(S.fechaRecibido).getTime()-new Date(w.fechaRecibido).getTime()).slice(0,10),v={totalRequests:c.length,completedRequests:f,averageProcessingDays:Math.round(x),entitiesCount:new Set(i.map(w=>w.entity)).size,operatingYears:Array.from(d).sort(),recentActivity:b,completionRate:c.length>0?f/c.length*100:0};s({companyName:r,operations:i,billingHistory:c,statistics:v,loading:!1,error:null})}catch(i){s(c=>({...c,loading:!1,error:i instanceof Error?i.message:"Error loading company data"}))}})()},[r]),a}function FC(){const{companyName:r}=ju(),a=r?decodeURIComponent(r):"",s=OC(a);if(s.loading)return t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-6",children:t.jsxs(Wt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando perfil de empresa..."})]})]});if(s.error||s.operations.length===0)return t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-6",children:t.jsxs(Wt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[t.jsx(dr,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Empresa no encontrada"}),t.jsxs("p",{className:"text-gray-600",children:['No se encontraron datos para la empresa "',a,'"']})]})]});const{statistics:o,operations:i}=s;return t.jsxs("div",{className:"p-6 w-full",children:[t.jsx("div",{className:"flex items-center gap-4 mb-8",children:t.jsxs(Wt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg p-8 mb-8",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(ft,{className:"h-8 w-8"}),t.jsx("h1",{className:"text-3xl font-bold",children:a})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-200 text-sm",children:"Entidades"}),t.jsx("p",{className:"text-2xl font-bold",children:o.entitiesCount})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-200 text-sm",children:"Años Activos"}),t.jsx("p",{className:"text-2xl font-bold",children:o.operatingYears.length})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-200 text-sm",children:"Solicitudes Totales"}),t.jsx("p",{className:"text-2xl font-bold",children:o.totalRequests})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-blue-200 text-sm",children:"Tasa de Completitud"}),t.jsxs("p",{className:"text-2xl font-bold",children:[o.completionRate.toFixed(1),"%"]})]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Mt,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Solicitudes Completadas"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:o.completedRequests})]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["de ",o.totalRequests," solicitudes totales"]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(mr,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Tiempo Promedio"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600",children:o.averageProcessingDays})]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"días de procesamiento"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(dt,{className:"h-8 w-8 text-purple-600"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Período de Operación"}),t.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[o.operatingYears[0]," - ",o.operatingYears[o.operatingYears.length-1]]})]})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[o.operatingYears.length," años activos"]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(og,{className:"h-6 w-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-semibold",children:"Operaciones por Entidad"})]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"grid gap-4",children:i.reduce((c,d)=>{const m=c.find(f=>f.entity===d.entity);return m?(m.years.push(d.year),d.relationshipType!=="Desconocido"&&(m.relationshipType=d.relationshipType),d.isIncumbent&&(m.isIncumbent=d.isIncumbent),d.userCount&&(m.userCount=d.userCount)):c.push({entity:d.entity,years:[d.year],relationshipType:d.relationshipType,isIncumbent:d.isIncumbent,userCount:d.userCount}),c},[]).map((c,d)=>t.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-semibold text-lg",children:c.entity}),t.jsxs("div",{className:"flex items-center gap-2",children:[c.isIncumbent&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:"Incumbente"}),t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:c.relationshipType})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[t.jsxs("span",{children:[t.jsx(dt,{className:"h-4 w-4 inline mr-1"}),"Años: ",c.years.sort().join(", ")]}),c.userCount&&t.jsxs("span",{children:[t.jsx(Po,{className:"h-4 w-4 inline mr-1"}),c.userCount.toLocaleString()," usuarios"]})]})]},d))})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Nn,{className:"h-6 w-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-semibold",children:"Actividad Reciente"})]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:o.recentActivity.slice(0,10).map((c,d)=>{const m=na(c.estado);return t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:[c.month," ",c.year]}),t.jsx("p",{className:"text-sm text-gray-600",children:c.entity})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m.bg} ${m.text}`,title:c.estado,children:Mu(c.estado)})]}),t.jsxs("div",{className:"text-right text-sm text-gray-600",children:[c.fechaRecibido&&t.jsxs("p",{children:["Recibido: ",new Date(c.fechaRecibido).toLocaleDateString()]}),c.diasProcesamiento&&t.jsxs("p",{children:["Procesado en ",c.diasProcesamiento," días"]}),c.workItemId&&t.jsxs("p",{className:"text-blue-600",children:["ID: ",c.workItemId]})]})]},d)})})})]})]})}class $C{cache=new Map;loadingPromises=new Map;TTL=5*60*1e3;async getData(a,s,o=!1){if(!o&&this.hasValidCache(a))return this.cache.get(a).data;if(this.loadingPromises.has(a)){const c=this.loadingPromises.get(a);if(Date.now()-c.timestamp<1e4)return c.promise;this.loadingPromises.delete(a)}const i=this.loadData(a,s);this.loadingPromises.set(a,{promise:i,timestamp:Date.now()});try{const c=await i;return this.loadingPromises.delete(a),c}catch(c){throw this.loadingPromises.delete(a),c}}async loadData(a,s){try{const o=await s();return this.cache.set(a,{data:o,timestamp:Date.now()}),o}catch(o){throw this.cache.delete(a),o}}hasValidCache(a){const s=this.cache.get(a);return s?Date.now()-s.timestamp>this.TTL?(this.cache.delete(a),!1):!0:!1}async getEntityYearData(a,s){const i={"alcaldia-palmira":"alcaldia-palmira","alcaldia-tulua":"alcaldia-tulua","gobernacion-valle":"gobernacion-valle",infibague:"infibague"}[a];if(!i)throw new Error(`Unknown entity: ${a}`);const c=`entity-${i}-${s}`;try{return await this.getData(c,async()=>{try{return(await To(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Y(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Y(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Y(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Y(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Y(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Y(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Y(()=>import("./2023-DrujBmiH.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Y(()=>import("./2024-C_HV7Ih5.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Y(()=>import("./2025-DPX86qph.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Y(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Y(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Y(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Y(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Y(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Y(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Y(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Y(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Y(()=>import("./2025-DbV08IcW.js"),[]),"../data/gobernacion-valle/2017.json":()=>Y(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Y(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Y(()=>import("./2019-KKyEHg-1.js"),[]),"../data/gobernacion-valle/2020.json":()=>Y(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Y(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Y(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Y(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Y(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Y(()=>import("./2025-GQlrFJAI.js"),[]),"../data/infibague/2023.json":()=>Y(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Y(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Y(()=>import("./2025-TA4I06BJ.js"),[])}),`../data/${i}/${s}.json`,4)).default}catch{return null}})}catch(d){return console.warn(`Failed to load ${a}/${s}:`,d),null}}async getEntityMultiYearData(a,s){const o=s.map(d=>this.getEntityYearData(a,d).then(m=>({year:d,data:m}))),i=await Promise.all(o),c=new Map;return i.forEach(({year:d,data:m})=>{m&&c.set(d,m)}),c}async getEntityAllYears(a){const s=["2017","2018","2019","2020","2021","2022","2023","2024","2025"];return this.getEntityMultiYearData(a,s)}async preloadRecentData(a){const s=["2023","2024","2025"];await this.getEntityMultiYearData(a,s)}clearCache(a){if(a)for(const s of this.cache.keys())s.includes(a)&&this.cache.delete(s);else this.cache.clear();this.loadingPromises.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),hitRate:0}}async getAllCompaniesData(){const a={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"},o=Object.keys(a).map(async d=>{const m=a[d],f=await this.getEntityAllYears(m);return{entity:d,yearData:f}}),i=await Promise.all(o),c=new Map;return i.forEach(({entity:d,yearData:m})=>{c.set(d,m)}),c}}const ex=new $C,Dp={"alcaldia-palmira":"alcaldia-palmira","alcaldia-tulua":"alcaldia-tulua","gobernacion-valle":"gobernacion-valle",infibague:"infibague"};function zC(r){const[a,s]=g.useState(null),[o,i]=g.useState([]),[c,d]=g.useState(new Map),[m,f]=g.useState(new Set),[h,x]=g.useState(!0),[b,v]=g.useState(null),w=g.useMemo(()=>({"alcaldia-palmira":"Alcaldía de Palmira","alcaldia-tulua":"Alcaldía de Tuluá","gobernacion-valle":"Gobernación del Valle del Cauca",infibague:"Infibagué"}),[]),S=g.useCallback(async R=>{if(!(!r||!Dp[r]))try{const M=await ex.getEntityMultiYearData(r,R);d(T=>{const k=new Map(T);return M.forEach((_,z)=>{k.set(z,_)}),k}),i(T=>{const k=R.filter(z=>M.has(z));return[...new Set([...T,...k])].sort()}),f(T=>{const k=new Set(T);return M.forEach(_=>{Object.keys(_).forEach(z=>k.add(z))}),k})}catch(M){console.error("Failed to load years data:",M)}},[r]);g.useEffect(()=>{if(!r||!Dp[r]){v("Entidad no encontrada"),x(!1);return}(async()=>{try{x(!0),v(null),await S(["2023","2024","2025"])}catch(M){v(M instanceof Error?M.message:"Error loading historical data")}finally{x(!1)}})()},[r,S]);const C=g.useCallback(async R=>{const M=R.filter(T=>!o.includes(T));M.length>0&&await S(M)},[o,S]),j=g.useMemo(()=>{if(o.length===0)return{historicalMatrix:[],missingReports:[],totalStatistics:{totalRequests:0,completedRequests:0,averageCompletionRate:0,yearsActive:0,companiesServed:0}};const R=[],M=[];let T=0,k=0;for(let z=0;z<Ke.length;z++){const F=[],$=Ke[z];for(const q of o){const Z=c.get(q),te=[];let re=0,G=0,X=0;Array.from(m).forEach(ne=>{const J=Z?.[ne]?.[$];if(J){const ee=J.estado||"Sin Solicitud",A=ee==="Closed";te.push({companyName:ne,estado:ee,workItemId:J.workItemId,fechaRecibido:J.fechaRecibido,fechaCerrado:J.fechaCerrado,diasProcesamiento:J.diasProcesamiento,isMissing:!1}),T++,A?(re++,k++):ee!=="Sin Solicitud"&&G++}else te.push({companyName:ne,estado:"Sin Solicitud",isMissing:!0}),X++}),X>te.length*.5?M.push({year:q,month:$,severity:"error",message:`Más del 50% de empresas sin reportar en ${$} ${q}`,companiesCount:X}):X>te.length*.2&&M.push({year:q,month:$,severity:"warning",message:`${X} empresas sin reportar en ${$} ${q}`,companiesCount:X}),F.push({year:q,month:$,companies:te,totalCompanies:te.length,completedCompanies:re,pendingCompanies:G,missingCompanies:X})}R.push(F)}const _=M.sort((z,F)=>z.severity==="error"&&F.severity!=="error"?-1:z.severity!=="error"&&F.severity==="error"?1:F.companiesCount-z.companiesCount);return{historicalMatrix:R,missingReports:_,totalStatistics:{totalRequests:T,completedRequests:k,averageCompletionRate:T>0?k/T*100:0,yearsActive:o.length,companiesServed:m.size}}},[o,c,m]),N=j.missingReports.filter(R=>R.severity==="error").length,D=j.missingReports.filter(R=>R.severity==="warning").length;return{entityName:w[r]||r,years:o,historicalMatrix:j.historicalMatrix,missingReports:j.missingReports,totalStatistics:j.totalStatistics,selectedPeriod:a,setSelectedPeriod:s,criticalAlertsCount:N,warningAlertsCount:D,loading:h,error:b,loadMoreYears:C,loadedYears:o}}function VC(){const{entitySlug:r}=ju(),a=zC(r||"");if(a.loading)return t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-6",children:t.jsxs(Wt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando datos históricos..."})]})]});if(a.error)return t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-6",children:t.jsxs(Wt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[t.jsx(dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar datos"}),t.jsx("p",{className:"text-gray-600",children:a.error})]})]});const{entityName:s,years:o,historicalMatrix:i,totalStatistics:c,selectedPeriod:d,setSelectedPeriod:m,criticalAlertsCount:f,warningAlertsCount:h}=a;return t.jsxs("div",{className:"p-6 max-w-full mx-auto",children:[t.jsx("div",{className:"flex items-center gap-4 mb-6",children:t.jsxs(Wt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),t.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6 mb-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dt,{className:"h-8 w-8"}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Histórico - ",s]}),t.jsx("div",{className:"flex items-center gap-6 mt-2 text-sm",children:t.jsxs("span",{children:[c.yearsActive," años • ",c.companiesServed," empresas • ",c.totalRequests," solicitudes"]})})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[f>0&&t.jsxs("div",{className:"flex items-center gap-2 bg-red-500/20 border border-red-300 rounded-full px-3 py-1",children:[t.jsx(Ht,{className:"h-4 w-4 text-red-200"}),t.jsxs("span",{className:"text-sm font-medium",children:[f," crítico",f!==1?"s":""]})]}),h>0&&t.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 border border-yellow-300 rounded-full px-3 py-1",children:[t.jsx(Ew,{className:"h-4 w-4 text-yellow-200"}),t.jsxs("span",{className:"text-sm font-medium",children:[h," alerta",h!==1?"s":""]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xl font-bold",children:[c.averageCompletionRate.toFixed(1),"%"]}),t.jsx("div",{className:"text-xs text-green-200",children:"completitud"})]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[t.jsx("div",{className:"xl:col-span-2",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Nn,{className:"h-5 w-5 text-blue-600"}),t.jsx("h2",{className:"text-lg font-semibold",children:"Matriz Histórica"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:d?"Click en otra celda para cambiar período":"Click en una celda para ver detalle"})]})}),t.jsx("div",{className:"p-4 overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-2 border-b font-semibold bg-gray-50 sticky left-0 text-sm",children:"Mes"}),o.map(x=>t.jsx("th",{className:"text-center p-2 border-b font-semibold bg-gray-50 min-w-[100px] text-sm",children:x},x))]})}),t.jsx("tbody",{children:i.map((x,b)=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"p-2 border-b font-medium sticky left-0 bg-white border-r text-sm",children:x[0]?.month||""}),x.map((v,w)=>{const S=v.totalCompanies>0?v.completedCompanies/v.totalCompanies*100:0;let C="bg-gray-100 hover:bg-gray-200";S>=80?C="bg-green-100 hover:bg-green-200":S>=60?C="bg-yellow-100 hover:bg-yellow-200":S>=40?C="bg-orange-100 hover:bg-orange-200":S>0&&(C="bg-red-100 hover:bg-red-200");const j=d?.year===o[w]&&d?.month===x[0]?.month;return t.jsx("td",{className:`p-2 border-b text-center cursor-pointer transition-colors ${C} ${j?"ring-2 ring-blue-500 ring-inset":""}`,onClick:()=>m({year:o[w],month:x[0]?.month||"",yearData:v}),children:t.jsxs("div",{className:"text-xs",children:[t.jsxs("div",{className:"font-semibold",children:[v.completedCompanies,"/",v.totalCompanies]}),t.jsxs("div",{className:"text-xs text-gray-600",children:[S.toFixed(0),"%"]}),v.missingCompanies>0&&t.jsx(dr,{className:"h-3 w-3 text-red-500 mx-auto mt-1"})]})},w)})]},b))})]})}),t.jsx("div",{className:"p-4 border-t bg-gray-50",children:t.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-green-100 border rounded"}),t.jsx("span",{children:"≥80%"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-yellow-100 border rounded"}),t.jsx("span",{children:"60-79%"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-orange-100 border rounded"}),t.jsx("span",{children:"40-59%"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-red-100 border rounded"}),t.jsx("span",{children:"<40%"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-gray-100 border rounded"}),t.jsx("span",{children:"Sin datos"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(dr,{className:"h-3 w-3 text-red-500"}),t.jsx("span",{children:"Alertas"})]})]})})]})}),t.jsx("div",{className:"xl:col-span-1",children:t.jsx("div",{className:"bg-white rounded-lg shadow-sm border h-fit",children:d?t.jsxs("div",{children:[t.jsxs("div",{className:"p-4 border-b",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(ft,{className:"h-5 w-5 text-blue-600"}),t.jsxs("h3",{className:"text-lg font-semibold",children:[d.month," ",d.year]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold text-green-600",children:d.yearData.completedCompanies}),t.jsx("div",{className:"text-gray-500",children:"Completadas"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold text-orange-600",children:d.yearData.pendingCompanies}),t.jsx("div",{className:"text-gray-500",children:"Pendientes"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold text-red-600",children:d.yearData.missingCompanies}),t.jsx("div",{className:"text-gray-500",children:"Sin reportar"})]})]})]}),t.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:t.jsx("div",{className:"space-y-2",children:d.yearData.companies.sort((x,b)=>x.isMissing&&!b.isMissing?1:!x.isMissing&&b.isMissing||x.estado==="Closed"&&b.estado!=="Closed"?-1:x.estado!=="Closed"&&b.estado==="Closed"?1:x.companyName.localeCompare(b.companyName)).map((x,b)=>{const v=na(x.estado);return t.jsxs("div",{className:"border rounded p-3 hover:bg-gray-50",children:[t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-medium text-sm truncate",title:x.companyName,children:x.companyName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.text}`,title:x.estado,children:Mu(x.estado)}),x.workItemId&&t.jsxs("span",{className:"text-xs text-gray-500",children:["#",x.workItemId]})]})]})}),x.fechaRecibido&&t.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[t.jsxs("div",{children:["Recibido: ",new Date(x.fechaRecibido).toLocaleDateString()]}),x.fechaCerrado&&t.jsxs("div",{children:["Cerrado: ",new Date(x.fechaCerrado).toLocaleDateString()]}),x.diasProcesamiento&&t.jsxs("div",{children:["Procesado en ",x.diasProcesamiento," días"]})]}),x.isMissing&&t.jsxs("div",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[t.jsx(dr,{className:"h-3 w-3"}),"Sin reportar"]})]},b)})})}),t.jsx("div",{className:"p-4 border-t bg-gray-50",children:t.jsx("button",{onClick:()=>m(null),className:"w-full text-sm text-gray-600 hover:text-gray-800",children:"Cerrar detalle"})})]}):t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un Período"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Haz click en cualquier celda de la matriz para ver el detalle de empresas para ese mes y año."})]})})})]})]})}function UC(){const[r,a]=g.useState([]),[s,o]=g.useState(""),[i,c]=g.useState(""),[d,m]=g.useState("name"),[f,h]=g.useState("asc"),[x,b]=g.useState(!0),[v,w]=g.useState(null),[S,C]=g.useState(0),[j,N]=g.useState(0),[D]=g.useState(Nr.length),R=g.useCallback(async()=>{try{b(!0),w(null),C(0),N(0);const k=new Map,_={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"};for(let F=0;F<Nr.length;F++){const $=Nr[F],q=_[$];if(q){try{const Z=q;(await ex.getEntityAllYears(Z)).forEach((re,G)=>{Object.entries(re).forEach(([X,ne])=>{k.has(X)||k.set(X,{entities:new Set,years:new Set,totalRequests:0,completedRequests:0,pendingRequests:0,processingDays:[],criticalAlerts:0,warningAlerts:0,isIncumbent:!1,entityOperations:new Map});const O=k.get(X);O.entities.add($),O.years.add(G),(ne._metadata||{}).esIncumbente&&(O.isIncumbent=!0),O.entityOperations.has($)||O.entityOperations.set($,{years:new Set,completed:0,total:0});const ee=O.entityOperations.get($);ee.years.add(G);let A=0,W=0,ue=0;Ke.forEach(be=>{const ie=ne[be];if(ie){O.totalRequests++,W++;const he=ie.estado||"Sin Solicitud";if(he==="Closed"?(O.completedRequests++,A++):he!=="Sin Solicitud"&&O.pendingRequests++,ie.diasProcesamiento&&O.processingDays.push(ie.diasProcesamiento),ie.fechaRecibido){const Ae=new Date(ie.fechaRecibido);(!O.lastActivity||Ae>new Date(O.lastActivity))&&(O.lastActivity=ie.fechaRecibido)}}else ue++}),ee.completed+=A,ee.total+=W;const me=Ke.length,Ne=ue/me*100;Ne>50?O.criticalAlerts++:Ne>20&&O.warningAlerts++})})}catch(Z){console.warn(`Failed to load entity ${$}:`,Z)}N(F+1),C((F+1)/Nr.length*100),await new Promise(Z=>setTimeout(Z,0))}}const z=Array.from(k.entries()).map(([F,$])=>{const q=$.totalRequests>0?$.completedRequests/$.totalRequests*100:0,Z=$.processingDays.length>0?$.processingDays.reduce((re,G)=>re+G,0)/$.processingDays.length:0,te=Array.from($.entityOperations.entries()).map(([re,G])=>{const X=G.total>0?G.completed/G.total*100:0;let ne="excellent";return X<40?ne="critical":X<60?ne="warning":X<80&&(ne="good"),{entity:re,years:Array.from(G.years).sort(),completionRate:X,status:ne}});return{name:F,entities:Array.from($.entities),years:Array.from($.years).sort(),totalRequests:$.totalRequests,completedRequests:$.completedRequests,completionRate:q,pendingRequests:$.pendingRequests,averageProcessingDays:Math.round(Z),criticalAlertsCount:$.criticalAlerts,warningAlertsCount:$.warningAlerts,lastActivity:$.lastActivity,isIncumbent:$.isIncumbent,entityOperations:te}});a(z)}catch(k){w(k instanceof Error?k.message:"Error loading companies data")}finally{b(!1),C(100)}},[]);g.useEffect(()=>{R()},[R]);const M=g.useMemo(()=>{let k=r;return s&&(k=k.filter(_=>_.name.toLowerCase().includes(s.toLowerCase()))),i&&(k=k.filter(_=>_.entities.includes(i))),k.sort((_,z)=>{let F,$;switch(d){case"completionRate":F=_.completionRate,$=z.completionRate;break;case"totalRequests":F=_.totalRequests,$=z.totalRequests;break;case"criticalAlerts":F=_.criticalAlertsCount,$=z.criticalAlertsCount;break;default:F=_.name.toLowerCase(),$=z.name.toLowerCase()}if(typeof F=="string"&&typeof $=="string")return f==="asc"?F.localeCompare($):$.localeCompare(F);{const q=F,Z=$;return f==="asc"?q-Z:Z-q}}),k},[r,s,i,d,f]),T=g.useMemo(()=>{const k=r.reduce(($,q)=>$+q.totalRequests,0),_=r.reduce(($,q)=>$+q.completedRequests,0),z=r.length>0?r.reduce(($,q)=>$+q.completionRate,0)/r.length:0,F=r.filter($=>$.criticalAlertsCount>0||$.warningAlertsCount>0).length;return{avgCompletionRate:z,totalRequests:k,totalCompletedRequests:_,companiesWithAlerts:F}},[r]);return{companies:r,filteredCompanies:M,searchTerm:s,setSearchTerm:o,selectedEntity:i,setSelectedEntity:c,sortBy:d,setSortBy:m,sortOrder:f,setSortOrder:h,totalCompanies:r.length,totalStatistics:T,loading:x,error:v,loadingProgress:S,loadedEntitiesCount:j,totalEntitiesCount:D}}function BC({company:r}){const a=o=>{switch(o){case"excellent":return t.jsx(ta,{className:"h-4 w-4 text-green-500"});case"good":return t.jsx(ta,{className:"h-4 w-4 text-blue-500"});case"warning":return t.jsx(dr,{className:"h-4 w-4 text-yellow-500"});case"critical":return t.jsx(Ht,{className:"h-4 w-4 text-red-500"});default:return null}},s=o=>{switch(o){case"excellent":return"text-green-600 bg-green-50 border-green-200";case"good":return"text-blue-600 bg-blue-50 border-blue-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return t.jsxs("div",{className:"bg-white rounded-lg border hover:shadow-md transition-shadow p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ft,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),t.jsx("h3",{className:"text-lg font-semibold truncate",title:r.name,children:r.name}),r.isIncumbent&&t.jsx(yi,{className:"h-4 w-4 text-yellow-500 flex-shrink-0",fill:"currentColor"})]}),t.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4",children:[t.jsxs("span",{children:[r.entities.length," entidad",r.entities.length!==1?"es":""]}),t.jsxs("span",{children:[r.years.length," año",r.years.length!==1?"s":""]}),t.jsxs("span",{children:[r.totalRequests," solicitudes"]})]})]}),t.jsxs(Wt,{to:`/empresa/${encodeURIComponent(r.name)}`,className:"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex-shrink-0",children:[t.jsx(No,{className:"h-4 w-4"}),"Ver Perfil"]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Tasa de Completitud"}),t.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[r.completionRate.toFixed(1),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(r.completionRate,100)}%`}})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Operaciones por Entidad"}),t.jsx("div",{className:"space-y-2",children:r.entityOperations.map((o,i)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a(o.status),t.jsx("span",{className:"truncate",children:o.entity})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border ${s(o.status)}`,children:[o.completionRate.toFixed(0),"%"]}),t.jsxs("span",{className:"text-gray-500 text-xs",children:[o.years.length," año",o.years.length!==1?"s":""]})]})]},i))})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 pt-3 border-t",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[r.criticalAlertsCount>0&&t.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[t.jsx(Ht,{className:"h-4 w-4"}),r.criticalAlertsCount," crítico",r.criticalAlertsCount!==1?"s":""]}),r.warningAlertsCount>0&&t.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[t.jsx(dr,{className:"h-4 w-4"}),r.warningAlertsCount," alerta",r.warningAlertsCount!==1?"s":""]}),r.criticalAlertsCount===0&&r.warningAlertsCount===0&&t.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(ta,{className:"h-4 w-4"}),"Sin alertas"]})]}),t.jsxs("div",{className:"text-right",children:[r.averageProcessingDays>0&&t.jsxs("div",{children:[r.averageProcessingDays," días promedio"]}),r.lastActivity&&t.jsxs("div",{className:"text-xs text-gray-400",children:["Última actividad: ",new Date(r.lastActivity).toLocaleDateString()]})]})]})]})}function WC(){const{filteredCompanies:r,searchTerm:a,setSearchTerm:s,selectedEntity:o,setSelectedEntity:i,sortBy:c,setSortBy:d,sortOrder:m,setSortOrder:f,totalCompanies:h,totalStatistics:x,loading:b,error:v,loadingProgress:w,loadedEntitiesCount:S,totalEntitiesCount:C}=UC(),j=N=>{c===N?f(m==="asc"?"desc":"asc"):(d(N),f("asc"))};return b?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando empresas de energía..."}),t.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[t.jsxs("span",{children:["Procesando entidades (",S,"/",C,")"]}),t.jsxs("span",{children:[Math.round(w),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})]})}):v?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[t.jsx(dr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar datos"}),t.jsx("p",{className:"text-gray-600",children:v})]})}):t.jsxs("div",{className:"p-6 w-full",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(ft,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Empresas de Energía"}),t.jsx("p",{className:"text-gray-600",children:"Directorio completo de empresas en el sistema"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsx("div",{className:"bg-white rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ft,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h}),t.jsx("div",{className:"text-sm text-gray-600",children:"Empresas totales"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Nn,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[x.avgCompletionRate.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Completitud promedio"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ta,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.totalCompletedRequests.toLocaleString()}),t.jsx("div",{className:"text-sm text-gray-600",children:"Solicitudes completadas"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dr,{className:"h-8 w-8 text-orange-600"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.companiesWithAlerts}),t.jsx("div",{className:"text-sm text-gray-600",children:"Con alertas"})]})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-6",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Buscar empresas...",value:a,onChange:N=>s(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(js,{className:"h-4 w-4 text-gray-400"}),t.jsxs("select",{value:o,onChange:N=>i(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Todas las entidades"}),Nr.map(N=>t.jsx("option",{value:N,children:N},N))]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),t.jsx("div",{className:"flex gap-1",children:[{key:"name",label:"Nombre"},{key:"completionRate",label:"Completitud"},{key:"totalRequests",label:"Solicitudes"},{key:"criticalAlerts",label:"Alertas"}].map(N=>t.jsxs("button",{onClick:()=>j(N.key),className:`px-3 py-2 text-sm rounded-lg border transition-colors flex items-center gap-1 ${c===N.key?"bg-blue-100 text-blue-700 border-blue-300":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[N.label,c===N.key&&(m==="asc"?t.jsx(iw,{className:"h-3 w-3"}):t.jsx(ow,{className:"h-3 w-3"}))]},N.key))})]})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t text-sm text-gray-600",children:["Mostrando ",r.length," de ",h," empresas",a&&t.jsxs("span",{className:"ml-2",children:['• Búsqueda: "',t.jsx("span",{className:"font-medium",children:a}),'"']}),o&&t.jsxs("span",{className:"ml-2",children:["• Entidad: ",t.jsx("span",{className:"font-medium",children:o})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map((N,D)=>t.jsx(BC,{company:N},D))}),r.length===0&&t.jsxs("div",{className:"bg-white rounded-lg border p-12 text-center",children:[t.jsx(ft,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron empresas"}),t.jsx("p",{className:"text-gray-600 mb-4",children:a||o?"Intenta ajustar los filtros de búsqueda.":"No hay empresas disponibles en el sistema."}),(a||o)&&t.jsx("button",{onClick:()=>{s(""),i("")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Limpiar filtros"})]})]})}class Rp{static async generateDemandMetrics(a){const s=await this.loadFilteredRequests(a),o=this.calculateDateRange(s,a),i=this.calculateDailyDistribution(s),c=this.calculateMonthlyDistribution(s),d=this.calculateWeekdayDistribution(s),m=this.findPeakDays(i),f=this.calculateTrends(s,o),h=this.calculateEntityBreakdown(s),x=this.calculateCompanyBreakdown(s),b=s.length,v=this.getDaysDifference(o.start,o.end)||1,w=b/v,S=b/Math.max(1,this.getMonthsDifference(o.start,o.end));return{totalRequests:b,dateRange:o,dailyAverage:w,monthlyAverage:S,dailyDistribution:i,monthlyDistribution:c,weekdayDistribution:d,peakDays:m,trends:f,entityBreakdown:h,companyBreakdown:x}}static async generateHeatMapData(a,s,o){const c=(await this.loadFilteredRequests(o)).filter(f=>{const h=new Date(f.receivedDate);return h.getFullYear()===a&&h.getMonth()===s-1}),d=this.generateCalendarCells(a,s,c),m=Math.max(...d.map(f=>f.count),1);return{year:a,month:s,cells:d,maxCount:m,totalRequests:c.length,averagePerDay:c.length/d.length}}static AVAILABLE_FILES=new Map([["Alcaldía de Palmira",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Alcaldía de Tuluá",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Gobernación del Valle del Cauca",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Infibagué",[2023,2024,2025]]]);static async loadFilteredRequests(a){const s=[],o=a.entities.length>0?a.entities:Nr,i=a.years.length>0?a.years:[2017,2018,2019,2020,2021,2022,2023,2024,2025];for(const c of o){const d=this.AVAILABLE_FILES.get(c)||[],m=i.filter(f=>d.includes(f));for(const f of m)try{const h=await Be.loadDataForEntityYear(c,f),x=this.extractRequestSummaries(h,c,f);s.push(...x)}catch(h){console.warn(`Failed to load ${c} ${f}:`,h)}}return this.applyFilters(s,a)}static extractRequestSummaries(a,s,o){const i=[];for(const[c,d]of Object.entries(a))for(const[m]of Object.entries(d)){if(m==="_metadata")continue;const f=Be.getMonthlyBillingData(d,m);!f||!f.fechaRecibido||f.fechaRecibido.trim()===""||i.push({company:c,month:m,year:o,entity:s,state:f.estado,receivedDate:f.fechaRecibido,closedDate:f.fechaCerrado||"",processingDays:f.diasProcesamiento||null,workItemId:f.workItemId})}return i}static applyFilters(a,s){return a.filter(o=>{if(s.companies.length>0&&!s.companies.includes(o.company))return!1;if(s.months.length>0){const i=new Date(o.receivedDate).getMonth()+1;if(!s.months.includes(i))return!1}return!(s.startDate&&o.receivedDate<s.startDate||s.endDate&&o.receivedDate>s.endDate||s.states.length>0&&!s.states.includes(o.state))})}static calculateDailyDistribution(a){const s=new Map;a.forEach(c=>{const d=c.receivedDate;s.has(d)||s.set(d,[]),s.get(d).push(c)});const o=[],i=Math.max(...Array.from(s.values()).map(c=>c.length),1);for(const[c,d]of s){const m=d.length,f=m<=i*.33?"low":m<=i*.66?"medium":"high";o.push({date:c,count:m,requests:d,intensity:f})}return o.sort((c,d)=>c.date.localeCompare(d.date))}static calculateMonthlyDistribution(a){const s=new Map;a.forEach(i=>{const c=new Date(i.receivedDate),d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;s.has(d)||s.set(d,[]),s.get(d).push(i)});const o=[];for(const[i,c]of s){const[d,m]=i.split("-").map(Number),f=new Date(d,m,0).getDate();o.push({year:d,month:m,monthName:Ke[m-1],count:c.length,requests:c,averagePerDay:c.length/f})}return o.sort((i,c)=>i.year!==c.year?i.year-c.year:i.month-c.month)}static calculateWeekdayDistribution(a){const s=new Map,o=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];a.forEach(d=>{const m=new Date(d.receivedDate).getDay();s.has(m)||s.set(m,[]),s.get(m).push(d)});const i=a.length,c=[];for(let d=0;d<7;d++){const f=(s.get(d)||[]).length;c.push({dayOfWeek:d,dayName:o[d],count:f,percentage:i>0?f/i*100:0,averagePerWeek:f/Math.max(1,this.getWeeksSpanned(a))})}return c}static findPeakDays(a){if(a.length===0)return[];const s=[...a].sort((d,m)=>m.count-d.count),o=[],i=s[0];i&&o.push({date:i.date,count:i.count,type:"highest",companies:[...new Set(i.requests.map(d=>d.company))],entities:[...new Set(i.requests.map(d=>d.entity))]});const c=s[s.length-1];return c&&c.count>0&&o.push({date:c.date,count:c.count,type:"lowest",companies:[...new Set(c.requests.map(d=>d.company))],entities:[...new Set(c.requests.map(d=>d.entity))]}),o}static calculateTrends(a,s){const o=this.getDaysDifference(s.start,s.end)||1,i=a.length/o;return{daily:{period:"Diario",current:i,previous:i*.9,change:i*.1,changePercent:10,direction:"up"},weekly:{period:"Semanal",current:i*7,previous:i*7*.95,change:i*7*.05,changePercent:5,direction:"up"},monthly:{period:"Mensual",current:i*30,previous:i*30*.85,change:i*30*.15,changePercent:15,direction:"up"}}}static calculateEntityBreakdown(a){const s=new Map;a.forEach(c=>{s.has(c.entity)||s.set(c.entity,[]),s.get(c.entity).push(c)});const o=a.length,i=[];for(const[c,d]of s){const m=d.length;i.push({entity:c,count:m,percentage:o>0?m/o*100:0,requests:d,trend:{period:"Entidad",current:m,previous:m*.9,change:m*.1,changePercent:10,direction:"up"}})}return i.sort((c,d)=>d.count-c.count)}static calculateCompanyBreakdown(a){const s=new Map;a.forEach(c=>{s.has(c.company)||s.set(c.company,[]),s.get(c.company).push(c)});const o=a.length,i=[];for(const[c,d]of s){const m=d.length,f=new Set(d.map(h=>`${h.year}-${h.month}`)).size;i.push({company:c,entity:d[0]?.entity||"",count:m,percentage:o>0?m/o*100:0,requests:d,averagePerMonth:m/Math.max(1,f)})}return i.sort((c,d)=>d.count-c.count)}static generateCalendarCells(a,s,o){const i=[],c=new Date(a,s,0).getDate(),d=new Date,m=new Map;o.forEach(h=>{const x=h.receivedDate;m.has(x)||m.set(x,[]),m.get(x).push(h)});const f=Math.max(...Array.from(m.values()).map(h=>h.length),1);for(let h=1;h<=c;h++){const x=`${a}-${String(s).padStart(2,"0")}-${String(h).padStart(2,"0")}`,b=m.get(x)||[],v=b.length,w=new Date(a,s-1,h);i.push({date:x,count:v,intensity:v/f,requests:b,isToday:w.toDateString()===d.toDateString(),isWeekend:w.getDay()===0||w.getDay()===6})}return i}static calculateDateRange(a,s){if(s.startDate&&s.endDate)return{start:s.startDate,end:s.endDate};if(a.length===0){const i=new Date().toISOString().split("T")[0];return{start:i,end:i}}const o=a.map(i=>i.receivedDate).sort();return{start:s.startDate||o[0],end:s.endDate||o[o.length-1]}}static getDaysDifference(a,s){const o=new Date(a),i=new Date(s);return Math.max(1,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24)))}static getMonthsDifference(a,s){const o=new Date(a),i=new Date(s);return Math.max(1,(i.getFullYear()-o.getFullYear())*12+(i.getMonth()-o.getMonth())+1)}static getWeeksSpanned(a){if(a.length===0)return 1;const s=a.map(c=>new Date(c.receivedDate)),o=new Date(Math.min(...s.map(c=>c.getTime()))),i=new Date(Math.max(...s.map(c=>c.getTime())));return Math.max(1,Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24*7)))}}function Gu(){const[r,a]=g.useState(null),[s,o]=g.useState(null),[i,c]=g.useState(!1),[d,m]=g.useState(null),f=g.useCallback(async b=>{c(!0),m(null);try{const v=await Rp.generateDemandMetrics(b);a(v)}catch(v){console.error("Error loading demand metrics:",v),m("Error al cargar las métricas de demanda. Por favor, intenta nuevamente.")}finally{c(!1)}},[]),h=g.useCallback(async(b,v,w)=>{try{const S=await Rp.generateHeatMapData(b,v,w);o(S)}catch(S){console.error("Error loading heat map data:",S)}},[]),x=g.useCallback((b,v)=>{try{const w=HC(b),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),j=URL.createObjectURL(S);C.setAttribute("href",j),C.setAttribute("download",`${v}-${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(j)}catch(w){console.error("Error exporting data:",w),m("Error al exportar los datos. Por favor, intenta nuevamente.")}},[]);return{demandMetrics:r,heatMapData:s,loading:i,error:d,loadDemandMetrics:f,loadHeatMapData:h,exportData:x}}function HC(r){const a=[];return a.push("Tipo,Fecha,Valor,Descripción"),a.push(`Resumen,${r.dateRange.start},${r.totalRequests},Total de solicitudes`),a.push(`Resumen,${r.dateRange.start},${r.dailyAverage.toFixed(2)},Promedio diario`),a.push(`Resumen,${r.dateRange.start},${r.monthlyAverage.toFixed(2)},Promedio mensual`),r.dailyDistribution.forEach(s=>{a.push(`Diario,${s.date},${s.count},Solicitudes del día`)}),r.monthlyDistribution.forEach(s=>{a.push(`Mensual,${s.year}-${String(s.month).padStart(2,"0")},${s.count},${s.monthName}`)}),r.weekdayDistribution.forEach(s=>{a.push(`Día de semana,${s.dayName},${s.count},${s.percentage.toFixed(1)}%`)}),r.entityBreakdown.forEach(s=>{a.push(`Entidad,${s.entity},${s.count},${s.percentage.toFixed(1)}%`)}),a.join(`
`)}function YC({metrics:r}){const a=(d,m="w-4 h-4")=>{const f=m;switch(d){case"up":return t.jsx(Nn,{className:`${f} text-green-600`});case"down":return t.jsx(_u,{className:`${f} text-red-600`});case"stable":return t.jsx(Du,{className:`${f} text-gray-600`})}},s=d=>{switch(d){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}},o=(d,m)=>{const f=new Date(d),h=new Date(m);return`${f.toLocaleDateString("es-ES",{day:"numeric",month:"short"})} - ${h.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}`},i=r.entityBreakdown[0],c=r.peakDays.find(d=>d.type==="highest");return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Resumen de Demanda"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Período: ",o(r.dateRange.start,r.dateRange.end)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.totalRequests}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total de solicitudes"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(dt,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Promedio Diario"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.dailyAverage.toFixed(1)})]})]}),r.trends.daily&&t.jsxs("div",{className:"flex items-center gap-1",children:[a(r.trends.daily.direction),t.jsxs("span",{className:`text-sm font-medium ${s(r.trends.daily.direction)}`,children:[r.trends.daily.changePercent>0?"+":"",r.trends.daily.changePercent.toFixed(1),"%"]})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(cw,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Promedio Mensual"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.monthlyAverage.toFixed(0)})]})]}),r.trends.monthly&&t.jsxs("div",{className:"flex items-center gap-1",children:[a(r.trends.monthly.direction),t.jsxs("span",{className:`text-sm font-medium ${s(r.trends.monthly.direction)}`,children:[r.trends.monthly.changePercent>0?"+":"",r.trends.monthly.changePercent.toFixed(1),"%"]})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(Zl,{className:"w-5 h-5 text-orange-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Día Pico"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c?c.count:0}),c&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(c.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(mr,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Principal Entidad"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 truncate",title:i?.entity,children:[i?i.percentage.toFixed(0):0,"%"]}),i&&t.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",title:i.entity,children:i.entity})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tendencias"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a(r.trends.daily.direction,"w-5 h-5"),t.jsx("span",{className:"font-medium text-gray-900",children:"Diaria"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-lg font-bold ${s(r.trends.daily.direction)}`,children:[r.trends.daily.changePercent>0?"+":"",r.trends.daily.changePercent.toFixed(1),"%"]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[r.trends.daily.current," vs ",r.trends.daily.previous]})]})]}),r.trends.weekly&&t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a(r.trends.weekly.direction,"w-5 h-5"),t.jsx("span",{className:"font-medium text-gray-900",children:"Semanal"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-lg font-bold ${s(r.trends.weekly.direction)}`,children:[r.trends.weekly.changePercent>0?"+":"",r.trends.weekly.changePercent.toFixed(1),"%"]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[r.trends.weekly.current," vs ",r.trends.weekly.previous]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a(r.trends.monthly.direction,"w-5 h-5"),t.jsx("span",{className:"font-medium text-gray-900",children:"Mensual"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-lg font-bold ${s(r.trends.monthly.direction)}`,children:[r.trends.monthly.changePercent>0?"+":"",r.trends.monthly.changePercent.toFixed(1),"%"]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[r.trends.monthly.current," vs ",r.trends.monthly.previous]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rendimiento Semanal"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[t.jsx("span",{className:"font-medium text-green-800",children:"Día más activo"}),t.jsx("div",{className:"text-right",children:(()=>{const m=r.weekdayDistribution.filter(f=>f.dayOfWeek>=1&&f.dayOfWeek<=5).reduce((f,h)=>h.count>f.count?h:f);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-bold text-green-600",children:m.dayName}),t.jsxs("div",{className:"text-sm text-green-600",children:[m.count," solicitudes"]})]})})()})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[t.jsx("span",{className:"font-medium text-blue-800",children:"Día menos activo (laborable)"}),t.jsx("div",{className:"text-right",children:(()=>{const m=r.weekdayDistribution.filter(f=>f.dayOfWeek>=1&&f.dayOfWeek<=5).reduce((f,h)=>h.count<f.count?h:f);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"font-bold text-blue-600",children:m.dayName}),t.jsxs("div",{className:"text-sm text-blue-600",children:[m.count," solicitudes"]})]})})()})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribución por Entidad"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total de entidades"}),t.jsx("span",{className:"font-bold text-gray-900",children:r.entityBreakdown.length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Concentración top 3"}),t.jsxs("span",{className:"font-bold text-gray-900",children:[r.entityBreakdown.slice(0,3).reduce((d,m)=>d+m.percentage,0).toFixed(1),"%"]})]}),t.jsx("div",{className:"pt-2 space-y-2",children:r.entityBreakdown.slice(0,3).map((d,m)=>t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("span",{className:"text-gray-600 truncate pr-2",title:d.entity,children:["#",m+1," ",d.entity]}),t.jsxs("span",{className:"font-medium text-gray-900 flex-shrink-0",children:[d.percentage.toFixed(1),"%"]})]},d.entity))})]})]})]})]})}function tx({heatMapData:r,selectedDate:a,onDateChange:s,loading:o=!1}){const[i,c]=g.useState(null),d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],f=v=>{const w=new Date(a);v==="prev"?w.setMonth(w.getMonth()-1):w.setMonth(w.getMonth()+1),s(w)},h=g.useMemo(()=>{if(!r)return[];const v=r.year,w=r.month-1,S=new Date(v,w,1),C=new Date(v,w+1,0),j=S.getDay(),N=C.getDate(),D=[];for(let R=0;R<j;R++)D.push(null);for(let R=1;R<=N;R++){const M=`${v}-${String(w+1).padStart(2,"0")}-${String(R).padStart(2,"0")}`,T=r.cells.find(k=>k.date===M);T?D.push(T):D.push({date:M,count:0,intensity:0,requests:[],isToday:!1,isWeekend:new Date(v,w,R).getDay()===0||new Date(v,w,R).getDay()===6})}return D},[r]),x=(v,w)=>w===0?"bg-gray-100 border-gray-200":v<=.2?"bg-green-100 border-green-200":v<=.4?"bg-green-200 border-green-300":v<=.6?"bg-yellow-200 border-yellow-300":v<=.8?"bg-orange-200 border-orange-300":"bg-red-200 border-red-300",b=(v,w)=>w===0?"text-gray-500":v<=.4?"text-green-800":v<=.6?"text-yellow-800":v<=.8?"text-orange-800":"text-red-800";return o?t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(dt,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Calor"})]}),t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-600",children:"Generando mapa de calor..."})]})})]}):t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dt,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Calor"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>f("prev"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Mes anterior",children:t.jsx(hw,{className:"w-4 h-4 text-gray-600"})}),t.jsxs("span",{className:"font-medium text-gray-900 min-w-32 text-center",children:[d[a.getMonth()]," ",a.getFullYear()]}),t.jsx("button",{onClick:()=>f("next"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Mes siguiente",children:t.jsx(pw,{className:"w-4 h-4 text-gray-600"})})]})]}),r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:m.map(v=>t.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:v},v))}),t.jsx("div",{className:"grid grid-cols-7 gap-1",children:h.map((v,w)=>t.jsx("div",{className:"aspect-square",children:v?t.jsx("button",{onClick:()=>c(i?.date===v.date?null:v),className:`
                        w-full h-full border rounded-lg text-xs font-medium transition-all duration-200
                        hover:scale-105 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500
                        ${x(v.intensity,v.count)}
                        ${b(v.intensity,v.count)}
                        ${v.isToday?"ring-2 ring-blue-400":""}
                        ${i?.date===v.date?"ring-2 ring-purple-400":""}
                      `,title:`${new Date(v.date).getDate()} - ${v.count} solicitudes`,children:t.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[t.jsx("span",{className:"font-semibold",children:new Date(v.date).getDate()}),v.count>0&&t.jsx("span",{className:"text-xs opacity-75",children:v.count})]})}):t.jsx("div",{className:"w-full h-full"})},w))})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx("span",{children:"Menos"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-200 rounded-sm"}),t.jsx("div",{className:"w-3 h-3 bg-green-100 border border-green-200 rounded-sm"}),t.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-300 rounded-sm"}),t.jsx("div",{className:"w-3 h-3 bg-yellow-200 border border-yellow-300 rounded-sm"}),t.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-300 rounded-sm"}),t.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-300 rounded-sm"})]}),t.jsx("span",{children:"Más"})]}),r&&t.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",t.jsx("span",{className:"font-medium",children:r.totalRequests})," solicitudes",r.averagePerDay>0&&t.jsxs("span",{className:"ml-3",children:["Promedio: ",t.jsx("span",{className:"font-medium",children:r.averagePerDay.toFixed(1)}),"/día"]})]})]})}),i&&i.count>0&&t.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:new Date(i.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),t.jsxs("p",{className:"text-sm text-blue-800 mb-3",children:[t.jsx("span",{className:"font-medium",children:i.count})," solicitud(es) recibida(s)"]}),i.requests.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Empresas:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(new Set(i.requests.map(v=>v.company))).map(v=>t.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-blue-200 rounded text-xs text-blue-800",children:v},v))})]})]})]}):t.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx(sg,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-600",children:"No hay datos disponibles para este mes"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ajusta los filtros o selecciona otro período"})]})})]})}function _p({metrics:r,compact:a=!1}){const s=c=>{switch(c){case"up":return t.jsx(Nn,{className:"w-4 h-4 text-green-600"});case"down":return t.jsx(_u,{className:"w-4 h-4 text-red-600"});case"stable":return t.jsx(Du,{className:"w-4 h-4 text-gray-600"})}},o=c=>{switch(c){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}},i=c=>Math.max(...c.map(d=>d.count));return a?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Ar,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Distribución Semanal"})]}),t.jsx("div",{className:"space-y-3",children:r.weekdayDistribution.map(c=>{const d=i(r.weekdayDistribution),m=d>0?c.count/d*100:0;return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 text-xs font-medium text-gray-600 text-right",children:c.dayName.slice(0,3)}),t.jsxs("div",{className:"flex-1 bg-gray-100 rounded-full h-6 relative overflow-hidden",children:[t.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-500",style:{width:`${m}%`}}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-medium text-gray-700",children:c.count})})]}),t.jsxs("div",{className:"w-10 text-xs text-gray-500 text-right",children:[c.percentage.toFixed(0),"%"]})]},c.dayOfWeek)})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Ar,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Principales Entidades"})]}),t.jsx("div",{className:"space-y-2",children:r.entityBreakdown.slice(0,5).map((c,d)=>{const m=i(r.entityBreakdown),f=m>0?c.count/m*100:0;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 text-xs font-bold text-gray-500 text-center",children:d+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:c.entity}),t.jsx("span",{className:"text-xs text-gray-500 ml-2",children:c.count})]}),t.jsx("div",{className:"bg-gray-100 rounded-full h-2",children:t.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-500",style:{width:`${f}%`}})})]})]},c.entity)})})]})]}):t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ar,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendencia Mensual"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s(r.trends.monthly.direction),t.jsxs("span",{className:`font-medium ${o(r.trends.monthly.direction)}`,children:[r.trends.monthly.changePercent>0?"+":"",r.trends.monthly.changePercent.toFixed(1),"%"]})]})]}),t.jsx("div",{className:"h-64 flex items-end gap-2 mb-4",children:r.monthlyDistribution.map(c=>{const d=i(r.monthlyDistribution),m=d>0?c.count/d*100:0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsx("div",{className:"w-full flex flex-col justify-end h-48",children:t.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t cursor-pointer relative group",style:{height:`${m}%`,minHeight:c.count>0?"8px":"2px"},title:`${c.monthName} ${c.year}: ${c.count} solicitudes`,children:t.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:c.count})})}),t.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[t.jsx("div",{className:"font-medium",children:c.monthName.slice(0,3)}),t.jsx("div",{className:"text-gray-500",children:c.year})]})]},`${c.year}-${c.month}`)})}),t.jsxs("div",{className:"text-center text-sm text-gray-600",children:[t.jsx("span",{children:"Promedio mensual: "}),t.jsx("span",{className:"font-medium",children:r.monthlyAverage.toFixed(1)}),t.jsx("span",{children:" solicitudes"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Ar,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución por Día"})]}),t.jsx("div",{className:"space-y-4",children:r.weekdayDistribution.map(c=>{const d=i(r.weekdayDistribution),m=d>0?c.count/d*100:0;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:c.dayName}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:c.count}),t.jsxs("span",{children:["(",c.percentage.toFixed(1),"%)"]})]})]}),t.jsx("div",{className:"bg-gray-100 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-700",style:{width:`${m}%`}})})]},c.dayOfWeek)})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Ar,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución por Entidad"})]}),t.jsxs("div",{className:"space-y-4",children:[r.entityBreakdown.slice(0,6).map(c=>{const d=i(r.entityBreakdown),m=d>0?c.count/d*100:0;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700 truncate pr-2",children:c.entity}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 flex-shrink-0",children:[t.jsx("span",{className:"font-medium",children:c.count}),t.jsxs("span",{children:["(",c.percentage.toFixed(1),"%)"]})]})]}),t.jsx("div",{className:"bg-gray-100 rounded-full h-3 overflow-hidden",children:t.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-700",style:{width:`${m}%`}})})]},c.entity)}),r.entityBreakdown.length>6&&t.jsx("div",{className:"text-center pt-2",children:t.jsxs("span",{className:"text-sm text-gray-500",children:["+",r.entityBreakdown.length-6," entidades más"]})})]})]})]}),r.peakDays.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(Ar,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Días Destacados"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.peakDays.map(c=>t.jsxs("div",{className:`p-4 rounded-lg border-2 ${c.type==="highest"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:`text-sm font-medium ${c.type==="highest"?"text-green-800":"text-blue-800"}`,children:c.type==="highest"?"Día con más solicitudes":"Día con menos solicitudes"}),t.jsx("span",{className:`text-lg font-bold ${c.type==="highest"?"text-green-600":"text-blue-600"}`,children:c.count})]}),t.jsx("p",{className:`text-sm ${c.type==="highest"?"text-green-700":"text-blue-700"} mb-2`,children:new Date(c.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),c.entities.length>0&&t.jsxs("div",{className:"text-xs text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Entidades: "}),c.entities.slice(0,2).join(", "),c.entities.length>2&&` +${c.entities.length-2} más`]})]},`${c.date}-${c.type}`))})]})]})}function GC({filters:r,onFiltersChange:a,onClose:s}){const[o,i]=g.useState(r),c=new Date().getFullYear(),d=Array.from({length:10},(D,R)=>c-R+2),m=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],f=["New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production","Closed","Removed"],h=["Generadora","Comercializadora","Ambas"],x=D=>{const R=o.entities.includes(D)?o.entities.filter(M=>M!==D):[...o.entities,D];i({...o,entities:R})},b=D=>{const R=o.years.includes(D)?o.years.filter(M=>M!==D):[...o.years,D];i({...o,years:R})},v=D=>{const R=o.months.includes(D)?o.months.filter(M=>M!==D):[...o.months,D];i({...o,months:R})},w=D=>{const R=o.states.includes(D)?o.states.filter(M=>M!==D):[...o.states,D];i({...o,states:R})},S=D=>{const R=o.companyTypes.includes(D)?o.companyTypes.filter(M=>M!==D):[...o.companyTypes,D];i({...o,companyTypes:R})},C=()=>{a(o),s()},j=()=>{const D={entities:[],companies:[],years:[2024,2025],months:[],states:[],companyTypes:[]};i(D),a(D)},N=()=>Object.values(o).filter(D=>Array.isArray(D)?D.length>0:!!D).length;return t.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(js,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Análisis"}),N()>0&&t.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2 py-1 rounded-full",children:[N()," activos"]})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(Lt,{className:"w-5 h-5 text-gray-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(og,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:"Entidades"}),o.entities.length>0&&t.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:o.entities.length})]}),t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Nr.map(D=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[t.jsx("input",{type:"checkbox",checked:o.entities.includes(D),onChange:()=>x(D),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-gray-700 flex-1",children:D}),o.entities.includes(D)&&t.jsx(Mt,{className:"w-4 h-4 text-blue-600"})]},D))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(dt,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:"Años"}),o.years.length>0&&t.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:o.years.length})]}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(D=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:o.years.includes(D),onChange:()=>b(D),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:D})]},D))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(dt,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:"Meses"}),o.months.length>0&&t.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:o.months.length})]}),t.jsx("div",{className:"grid grid-cols-2 gap-1",children:m.map((D,R)=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[t.jsx("input",{type:"checkbox",checked:o.months.includes(R+1),onChange:()=>v(R+1),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-xs text-gray-700",children:D.slice(0,3)})]},D))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(Mt,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:"Estados"}),o.states.length>0&&t.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:o.states.length})]}),t.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:f.map(D=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[t.jsx("input",{type:"checkbox",checked:o.states.includes(D),onChange:()=>w(D),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-xs text-gray-700",children:Tu[D]||D})]},D))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(dw,{className:"w-4 h-4 text-gray-600"}),t.jsx("h4",{className:"font-medium text-gray-900",children:"Tipos de Empresa"}),o.companyTypes.length>0&&t.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:o.companyTypes.length})]}),t.jsx("div",{className:"space-y-2",children:h.map(D=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:o.companyTypes.includes(D),onChange:()=>S(D),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:D}),o.companyTypes.includes(D)&&t.jsx(Mt,{className:"w-4 h-4 text-blue-600"})]},D))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Rango de Fechas"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Inicio"}),t.jsx("input",{type:"date",value:o.startDate||"",onChange:D=>i({...o,startDate:D.target.value||void 0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Fin"}),t.jsx("input",{type:"date",value:o.endDate||"",onChange:D=>i({...o,endDate:D.target.value||void 0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[t.jsx("button",{onClick:j,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Limpiar Filtros"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Cancelar"}),t.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Aplicar Filtros"})]})]})]})}function rx({title:r="Solicitudes por Mes",filters:a={},compact:s=!1,showTrends:o=!0}){const{demandMetrics:i,loading:c,error:d,loadDemandMetrics:m}=Gu(),f=g.useMemo(()=>({entities:[],companies:[],years:[2017,2018,2019,2020,2021,2022,2023,2024,2025],months:[],states:[],companyTypes:[],...a}),[a]);g.useEffect(()=>{(async()=>{try{await m(f)}catch(w){console.warn("Failed to load demand metrics for MonthlyRequestsChart:",w)}})()},[f]);const h=v=>{switch(v){case"up":return t.jsx(Nn,{className:"w-4 h-4 text-green-600"});case"down":return t.jsx(_u,{className:"w-4 h-4 text-red-600"});case"stable":return t.jsx(Du,{className:"w-4 h-4 text-gray-600"})}},x=v=>{switch(v){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}};if(c)return t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(d||!i)return t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"Error al cargar los datos del gráfico"})});const b=v=>Math.max(...v.map(w=>w.count));return t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ar,{className:"w-5 h-5 text-blue-600"}),t.jsx("h3",{className:`${s?"text-base":"text-lg"} font-semibold text-gray-900`,children:r})]}),o&&i.trends?.monthly&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h(i.trends.monthly.direction),t.jsxs("span",{className:`font-medium ${x(i.trends.monthly.direction)}`,children:[i.trends.monthly.changePercent>0?"+":"",i.trends.monthly.changePercent.toFixed(1),"%"]})]})]}),t.jsx("div",{className:`${s?"h-48":"h-64"} flex items-end gap-2 mb-4`,children:i.monthlyDistribution.map(v=>{const w=b(i.monthlyDistribution),S=w>0?v.count/w*100:0;return t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsx("div",{className:"w-full flex flex-col justify-end",style:{height:s?"12rem":"16rem"},children:t.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t cursor-pointer relative group",style:{height:`${S}%`,minHeight:v.count>0?"8px":"2px"},title:`${v.monthName} ${v.year}: ${v.count} solicitudes`,children:t.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:v.count})})}),t.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[t.jsx("div",{className:"font-medium",children:v.monthName.slice(0,3)}),t.jsx("div",{className:"text-gray-500",children:v.year})]})]},`${v.year}-${v.month}`)})}),t.jsxs("div",{className:"text-center text-sm text-gray-600",children:[t.jsx("span",{children:"Total: "}),t.jsx("span",{className:"font-medium",children:i.totalRequests}),t.jsx("span",{children:" solicitudes • Promedio mensual: "}),t.jsx("span",{className:"font-medium",children:i.monthlyAverage.toFixed(1)})]})]})}function qC(){const[r,a]=g.useState(!1),[s,o]=g.useState(new Date),[i,c]=g.useState({entities:[],companies:[],years:[2024,2025],months:[],states:[],companyTypes:[]}),{demandMetrics:d,heatMapData:m,loading:f,error:h,loadDemandMetrics:x,loadHeatMapData:b,exportData:v}=Gu();g.useEffect(()=>{x(i),b(s.getFullYear(),s.getMonth()+1,i)},[i,s,x,b]);const w=g.useCallback(j=>{c(j)},[]),S=g.useCallback(j=>{o(j)},[]),C=g.useCallback(()=>{d&&v(d,"demand-analytics")},[d,v]);return f&&!d?t.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Analizando patrones de demanda..."})]})}):h?t.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[t.jsx("h3",{className:"font-bold",children:"Error en el análisis"}),t.jsx("p",{children:h})]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:t.jsxs("div",{className:"w-full px-2 sm:px-4",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(Wt,{to:"/",className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",children:[t.jsx(xn,{className:"w-5 h-5"}),t.jsx("span",{children:"Volver al Dashboard"})]}),t.jsx("div",{className:"border-l border-gray-300 h-6 mx-4"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Nn,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Análisis de Demanda"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Patrones temporales de solicitudes de facturación"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>a(!r),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${r||Object.values(i).some(j=>Array.isArray(j)?j.length>0:!!j)?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:[t.jsx(js,{className:"w-4 h-4"}),t.jsx("span",{children:"Filtros"}),Object.values(i).some(j=>Array.isArray(j)?j.length>0:!!j)&&t.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Object.values(i).filter(j=>Array.isArray(j)?j.length>0:!!j).length})]}),d&&t.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(ku,{className:"w-4 h-4"}),t.jsx("span",{children:"Exportar"})]})]})]}),r&&t.jsx("div",{className:"mt-6",children:t.jsx(GC,{filters:i,onFiltersChange:w,onClose:()=>a(!1)})})]}),d&&t.jsxs("div",{className:"space-y-8",children:[t.jsx(YC,{metrics:d}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[t.jsx("div",{className:"xl:col-span-1",children:t.jsx(tx,{heatMapData:m,selectedDate:s,onDateChange:S,loading:f})}),t.jsx("div",{className:"xl:col-span-2",children:t.jsx(_p,{metrics:d,compact:!0})})]}),t.jsx("div",{className:"mt-8",children:t.jsx(rx,{title:"Solicitudes por Mes",filters:i,compact:!1,showTrends:!0})}),t.jsx("div",{className:"mt-8",children:t.jsx(_p,{metrics:d,compact:!1})})]}),!d&&!f&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(dt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configura los filtros para comenzar"}),t.jsx("p",{className:"text-gray-600",children:"Selecciona los parámetros de análisis para generar insights sobre los patrones de demanda."})]})]})})}class KC{static getDeadlinesForReport(a,s){const o=[];Ke.forEach(d=>{const m=Ze.getCompaniesDeadlineInfo(a,d);o.push(...m)});const i=o.filter(d=>Ze.shouldShowDeadline(d.estado)),c=this.filterByDaysRange(i,s);if(s.selectedEntities.length>0){const d=new Set(s.selectedEntities);return c.filter(m=>{const f=a[m.company][m.month];return d.has(f?.entidad||"")})}return c}static filterByDaysRange(a,s){return a.filter(o=>{const i=o.daysUntilSLADeadline;if(i===null)return!1;const c=i<0,d=i>=0&&i<=s.daysRange;return!!(s.showOverdue&&c||s.showUpcoming&&d)})}static groupByEntity(a,s){const o=new Map;a.forEach(c=>{const m=s[c.company][c.month]?.entidad||"Sin Entidad";o.has(m)||o.set(m,[]),o.get(m).push(c)});const i=[];return o.forEach((c,d)=>{const m=this.groupByMonth(c);let f=0,h=0;c.forEach(x=>{const b=x.daysUntilSLADeadline??0;b<0?f++:b<=20&&h++}),i.push({entityName:d,deadlinesByMonth:m,totalCount:c.length,overdueCount:f,upcomingCount:h})}),i.sort((c,d)=>d.overdueCount-c.overdueCount)}static groupByMonth(a){const s={};return a.forEach(o=>{s[o.month]||(s[o.month]=[]),s[o.month].push(o)}),Object.keys(s).forEach(o=>{s[o].sort((i,c)=>{const d=i.daysUntilSLADeadline??Number.MAX_VALUE,m=c.daysUntilSLADeadline??Number.MAX_VALUE;return d-m})}),s}static generateReport(a,s){const o=this.getDeadlinesForReport(a,s),i=this.groupByEntity(o,a);let c=0,d=0,m=0;return o.forEach(f=>{const h=f.daysUntilSLADeadline??0;h<0?c++:h<=20?d++:m++}),{entitiesData:i,globalMetrics:{totalDeadlines:o.length,overdueCount:c,upcomingCount:d,normalCount:m}}}static getOverdueDeadlines(a){return a.filter(s=>(s.daysUntilSLADeadline??0)<0)}static getUpcomingDeadlines(a,s){return a.filter(o=>{const i=o.daysUntilSLADeadline??Number.MAX_VALUE;return i>=0&&i<=s})}}function QC({billingData:r}){const[a,s]=g.useState(!0),[o,i]=g.useState(!0),[c]=g.useState(20),[d,m]=g.useState([]),[f,h]=g.useState(!1),x=g.useMemo(()=>({showOverdue:a,showUpcoming:o,daysRange:c,selectedEntities:d}),[a,o,c,d]),b=g.useMemo(()=>KC.generateReport(r,x),[r,x]),v=()=>s(D=>!D),w=()=>i(D=>!D),S=()=>h(D=>!D),C=D=>{m(R=>R.includes(D)?R.filter(M=>M!==D):[...R,D])},j=()=>m([]),N=b.globalMetrics.totalDeadlines>0;return{reportData:b,hasData:N,showOverdue:a,showUpcoming:o,daysRange:c,selectedEntities:d,captureMode:f,toggleOverdue:v,toggleUpcoming:w,toggleCaptureMode:S,selectEntity:C,clearEntityFilters:j}}function XC({showOverdue:r,showUpcoming:a,daysRange:s,captureMode:o,onToggleOverdue:i,onToggleUpcoming:c,onToggleCaptureMode:d}){return o?null:t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(js,{className:"w-4 h-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtros:"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:r,onChange:i,className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Vencidos (días < 0)"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:c,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),t.jsxs("span",{className:"text-sm text-gray-700",children:["Próximos ",s," días"]})]})]}),t.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg transition-colors font-medium text-sm",children:[t.jsx(mw,{className:"w-4 h-4"}),t.jsx("span",{children:"Activar Modo Captura"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("p",{className:"text-xs text-gray-500",children:[t.jsx("strong",{children:"Modo Captura:"})," Oculta controles y optimiza el diseño para tomar screenshots limpios por entidad."]})})]})}function JC({entityName:r,deadlinesByMonth:a,totalCount:s,overdueCount:o,upcomingCount:i}){const c=Ke.filter(d=>a[d]);return s===0?null:t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden mb-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ft,{className:"w-6 h-6 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r}),t.jsxs("p",{className:"text-sm text-gray-600",children:[s," ",s===1?"deadline":"deadlines"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[o>0&&t.jsxs("div",{className:"flex items-center gap-2 bg-red-100 text-red-800 px-3 py-1.5 rounded-full",children:[t.jsx(Ht,{className:"w-4 h-4"}),t.jsxs("span",{className:"font-medium text-sm",children:[o," vencidos"]})]}),i>0&&t.jsxs("div",{className:"flex items-center gap-2 bg-yellow-100 text-yellow-800 px-3 py-1.5 rounded-full",children:[t.jsx(mr,{className:"w-4 h-4"}),t.jsxs("span",{className:"font-medium text-sm",children:[i," próximos"]})]})]})]})}),t.jsx("div",{className:"divide-y divide-gray-200",children:c.map(d=>{const m=a[d];return!m||m.length===0?null:t.jsxs("div",{className:"px-6 py-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),t.jsx("h4",{className:"font-semibold text-gray-900",children:d}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",m.length," ",m.length===1?"empresa":"empresas",")"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[t.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:"Empresa"}),t.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:"Estado"}),t.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:"Deadline SLA"}),t.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:"Días"})]})}),t.jsx("tbody",{children:m.map((f,h)=>{const x=f.daysUntilSLADeadline,b=Ze.getUrgencyLevel(x),v=Ze.getUrgencyIcon(b),w=Ze.formatDaysRemaining(x);return t.jsxs("tr",{className:`border-b border-gray-100 last:border-b-0 ${b==="critical"?"bg-red-50/50":""}`,children:[t.jsx("td",{className:"py-3 px-3 font-medium text-gray-900",children:f.company}),t.jsx("td",{className:"py-3 px-3",children:t.jsx("span",{className:"text-gray-700 text-xs bg-gray-100 px-2 py-1 rounded",children:f.estado})}),t.jsx("td",{className:"py-3 px-3 text-gray-700",children:f.deadlines?.fechaLimiteSLA||"-"}),t.jsx("td",{className:"py-3 px-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",title:`Urgencia: ${b}`,children:v}),t.jsx("span",{className:`font-bold ${b==="critical"?"text-red-700":b==="warning"?"text-yellow-700":"text-green-700"}`,children:w})]})})]},`${f.company}-${h}`)})})]})})]},d)})})]})}function ZC(){const{billingData:r}=Pt(2025,"Alcaldía de Palmira"),a=QC({billingData:r}),s=new Date().toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"});return t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:`max-w-7xl mx-auto ${a.captureMode?"p-0":"p-4 lg:p-6"}`,children:[!a.captureMode&&t.jsx("div",{className:"mb-6",children:t.jsxs(Wt,{to:"/",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 transition-colors mb-4",children:[t.jsx(xn,{className:"w-4 h-4"}),"Volver al Dashboard"]})}),t.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${a.captureMode?"p-6":"p-6 mb-6"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reporte de Vencimientos"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Empresas de Energía - Facturación"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[t.jsx(dt,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:s})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(Ht,{className:"w-5 h-5 text-red-700"}),t.jsx("span",{className:"text-xs font-medium text-red-700 uppercase tracking-wide",children:"Vencidos"})]}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-3xl font-bold text-red-800",children:a.reportData.globalMetrics.overdueCount}),t.jsx("span",{className:"text-sm text-red-600",children:"deadlines"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(mr,{className:"w-5 h-5 text-yellow-700"}),t.jsxs("span",{className:"text-xs font-medium text-yellow-700 uppercase tracking-wide",children:["Próximos ",a.daysRange," días"]})]}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-3xl font-bold text-yellow-800",children:a.reportData.globalMetrics.upcomingCount}),t.jsx("span",{className:"text-sm text-yellow-600",children:"deadlines"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(Mt,{className:"w-5 h-5 text-blue-700"}),t.jsx("span",{className:"text-xs font-medium text-blue-700 uppercase tracking-wide",children:"Total"})]}),t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-3xl font-bold text-blue-800",children:a.reportData.globalMetrics.totalDeadlines}),t.jsx("span",{className:"text-sm text-blue-600",children:"deadlines"})]})]})]}),a.captureMode&&t.jsxs("div",{className:"mt-4 bg-purple-100 border border-purple-200 rounded-lg p-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-purple-700",children:[t.jsx(Ht,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Modo Captura Activo - Optimizado para Screenshots"})]}),t.jsxs("button",{onClick:a.toggleCaptureMode,className:"flex items-center gap-1 text-purple-700 hover:text-purple-800 transition-colors",children:[t.jsx(Lt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Desactivar"})]})]})]}),t.jsx(XC,{showOverdue:a.showOverdue,showUpcoming:a.showUpcoming,daysRange:a.daysRange,captureMode:a.captureMode,onToggleOverdue:a.toggleOverdue,onToggleUpcoming:a.toggleUpcoming,onToggleCaptureMode:a.toggleCaptureMode}),a.hasData?t.jsx("div",{className:"space-y-6",children:a.reportData.entitiesData.map(o=>t.jsx(JC,{entityName:o.entityName,deadlinesByMonth:o.deadlinesByMonth,totalCount:o.totalCount,overdueCount:o.overdueCount,upcomingCount:o.upcomingCount},o.entityName))}):t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-12 text-center",children:[t.jsx(Mt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay vencimientos que mostrar"}),t.jsx("p",{className:"text-gray-500",children:!a.showOverdue&&!a.showUpcoming?"Activa al menos un filtro para ver los deadlines.":"No hay deadlines que cumplan con los filtros seleccionados."})]}),!a.captureMode&&a.hasData&&t.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-800",children:t.jsxs("p",{children:[t.jsx("strong",{children:"💡 Tip:"}),' Activa el "Modo Captura" para ocultar controles y tomar screenshots limpios de cada entidad. Ideal para enviar reportes a Tributaria.']})})]})})}class $d{static normalizeEntityName(a){return{"Gobernación del Valle":"Gobernación del Valle del Cauca","Gobernación del Valle del Cauca":"Gobernación del Valle del Cauca","Alcaldía de Palmira":"Alcaldía de Palmira","Alcaldía de Tuluá":"Alcaldía de Tuluá",Infibagué:"Infibagué"}[a]||a}static async generateReportData(a,s="month"){const o=[];for(const b of Nr)for(const v of[2017,2018,2019,2020,2021,2022,2023,2024,2025])try{const w=await Be.loadDataForEntityYear(b,v),S=this.extractRequestSummaries(w,b,v);o.push(...S)}catch{console.warn(`No data found for ${b} ${v}`)}const i=this.filterByDateRange(o,a),c=i.length,d=this.calculateStateStatistics(i),m=this.calculateEntityStatistics(i),f=this.calculateEntityStatisticsWithProgress(i),h=this.calculateAverageResolutionTime(i),x=this.generateTimeSeriesData(i,s,a);return{totalRequests:c,stateStatistics:d,entityStatistics:m,entityStatisticsWithProgress:f,averageResolutionTime:h,timeSeriesData:x,requestSummaries:i}}static extractRequestSummaries(a,s,o){const i=[];for(const[c,d]of Object.entries(a))for(const[m]of Object.entries(d)){if(m==="_metadata")continue;const f=Be.getMonthlyBillingData(d,m);f&&(!f.fechaRecibido||f.fechaRecibido.trim()===""||i.push({company:c,month:m,year:o,entity:this.normalizeEntityName(f.entidad||s),state:f.estado,receivedDate:f.fechaRecibido,closedDate:f.fechaCerrado||"",processingDays:f.diasProcesamiento||null,workItemId:f.workItemId||null}))}return i}static filterByDateRange(a,s){const o=new Date(s.startDate),i=new Date(s.endDate);return a.filter(c=>{if(!c.receivedDate)return!1;const d=new Date(c.receivedDate);return d>=o&&d<=i})}static calculateStateStatistics(a){const s={};return a.forEach(o=>{const i=o.state;s[i]=(s[i]||0)+1}),s}static calculateEntityStatistics(a){const s={};return a.forEach(o=>{s[o.entity]=(s[o.entity]||0)+1}),s}static calculateEntityStatisticsWithProgress(a){const s={};return a.forEach(o=>{const i=o.entity,c=o.state;s[i]||(s[i]={total:0,completed:0,inProgress:0,ready:0,blocked:0,removed:0,completionPercentage:0,progressPercentage:0}),s[i].total+=1,c==="Closed"?s[i].completed+=1:c==="Ready"?s[i].ready+=1:c==="Paused"||c==="Impediment"?s[i].blocked+=1:c==="Removed"?s[i].removed+=1:s[i].inProgress+=1}),Object.keys(s).forEach(o=>{const i=s[o];i.total>0?(i.completionPercentage=Math.round(i.completed/i.total*100),i.progressPercentage=Math.round((i.completed+i.inProgress)/i.total*100)):(i.completionPercentage=0,i.progressPercentage=0)}),s}static calculateAverageResolutionTime(a){const s=a.filter(i=>i.closedDate&&i.closedDate.trim()!==""&&i.processingDays!==null);if(s.length===0)return 0;const o=s.reduce((i,c)=>i+(c.processingDays||0),0);return Math.round(o/s.length*100)/100}static generateTimeSeriesData(a,s,o){const i=new Map,c=new Date(o.startDate),d=new Date(o.endDate),m=new Date(c);for(;m<=d;){const f=this.formatDateForPeriod(m,s);switch(i.set(f,0),s){case"day":m.setDate(m.getDate()+1);break;case"week":m.setDate(m.getDate()+7);break;case"month":m.setMonth(m.getMonth()+1);break}}return a.forEach(f=>{if(!f.receivedDate)return;const h=new Date(f.receivedDate),x=this.formatDateForPeriod(h,s);i.has(x)&&i.set(x,(i.get(x)||0)+1)}),Array.from(i.entries()).map(([f,h])=>({date:f,count:h})).sort((f,h)=>f.date.localeCompare(h.date))}static formatDateForPeriod(a,s){const o=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");switch(s){case"day":return`${o}-${i}-${c}`;case"week":const d=new Date(a);d.setDate(a.getDate()-a.getDay()+1);const m=String(d.getMonth()+1).padStart(2,"0"),f=String(d.getDate()).padStart(2,"0");return`${d.getFullYear()}-${m}-${f}`;case"month":return`${o}-${i}`;default:return`${o}-${i}`}}static exportToCSV(a){const s=["empresa","vigencia","periodo","entidad","estado","fecha_recibido","fecha_cerrado","dias_procesamiento","id_azure"],o=a.requestSummaries.map(c=>[c.company,c.year.toString(),c.month,c.entity,c.state,c.receivedDate,c.closedDate,c.processingDays?.toString()||"",c.workItemId?.toString()||""]);return[s,...o].map(c=>c.map(d=>`"${d}"`).join(",")).join(`
`)}static downloadCSV(a,s="reporte-solicitudes.csv"){const o=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const c=URL.createObjectURL(o);i.setAttribute("href",c),i.setAttribute("download",s),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}function eS(){const[r,a]=g.useState(null),[s,o]=g.useState(!1),[i,c]=g.useState(null),[d,m]=g.useState(()=>{const S=new Date,C=new Date(S.getFullYear(),S.getMonth(),1),j=new Date(S.getFullYear(),S.getMonth()+1,0);return{startDate:C.toISOString().split("T")[0],endDate:j.toISOString().split("T")[0]}}),[f,h]=g.useState("month"),x=g.useCallback(async()=>{o(!0),c(null);try{const S=await $d.generateReportData(d,f);a(S)}catch(S){console.error("Error generating report:",S),c("Error al generar el reporte. Por favor, intenta nuevamente.")}finally{o(!1)}},[d,f]),b=g.useCallback(S=>{m(S)},[]),v=g.useCallback(S=>{h(S)},[]),w=g.useCallback(()=>{if(r)try{const S=$d.exportToCSV(r),j=`reporte-solicitudes-${new Date().toISOString().split("T")[0]}.csv`;$d.downloadCSV(S,j)}catch(S){console.error("Error exporting CSV:",S),c("Error al exportar los datos. Por favor, intenta nuevamente.")}},[r]);return g.useEffect(()=>{x()},[x]),{reportData:r,loading:s,error:i,dateRange:d,period:f,updateDateRange:b,updatePeriod:v,generateReport:x,exportToCSV:w}}function tS({dateRange:r,onDateRangeChange:a,period:s,onPeriodChange:o,onExport:i,loading:c=!1}){const d=h=>{a({...r,startDate:h})},m=h=>{a({...r,endDate:h})},f=h=>{const x=new Date,b=new Date;b.setDate(x.getDate()-h),a({startDate:b.toISOString().split("T")[0],endDate:x.toISOString().split("T")[0]})};return t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(js,{className:"w-5 h-5 text-gray-600"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Reporte"})]}),t.jsxs("button",{onClick:i,disabled:c,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg hover:bg-green-100 transition-colors border border-green-200 disabled:opacity-50",children:[t.jsx(ku,{className:"w-4 h-4"}),"Exportar CSV"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.jsx(dt,{className:"w-4 h-4 inline mr-1"}),"Fecha Inicio"]}),t.jsx("input",{type:"date",value:r.startDate,onChange:h=>d(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.jsx(dt,{className:"w-4 h-4 inline mr-1"}),"Fecha Fin"]}),t.jsx("input",{type:"date",value:r.endDate,onChange:h=>m(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agrupación"}),t.jsxs("select",{value:s,onChange:h=>o(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"day",children:"Por Día"}),t.jsx("option",{value:"week",children:"Por Semana"}),t.jsx("option",{value:"month",children:"Por Mes"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rangos Rápidos"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>f(30),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"30 días"}),t.jsx("button",{onClick:()=>f(90),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"90 días"}),t.jsx("button",{onClick:()=>f(365),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"1 año"})]})]})]})]})}function rS({totalRequests:r,stateStatistics:a,entityStatisticsWithProgress:s,averageResolutionTime:o}){return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ar,{className:"w-6 h-6 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resumen General"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Total de Solicitudes:"}),t.jsx("span",{className:"text-2xl font-bold text-blue-600",children:r})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Tiempo Promedio de Resolución:"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(mr,{className:"w-4 h-4 text-orange-500"}),t.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[o," días"]})]})]}),t.jsx("div",{className:"pt-2 border-t border-gray-100",children:t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Solicitudes Cerradas:"}),t.jsxs("span",{className:"font-medium text-green-600",children:[a.Closed||0," (",Math.round((a.Closed||0)/r*100),"%)"]})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Mt,{className:"w-6 h-6 text-green-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estados de Solicitudes"})]}),t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(a).sort(([,i],[,c])=>c-i).map(([i,c])=>{const d=Math.round(c/r*100),f=na(i).bg.replace("bg-","").replace("-100","-600");return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:ys(i)}),t.jsx("span",{className:"text-sm font-medium text-gray-700 truncate max-w-32",title:i,children:i})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:c}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",d,"%)"]})]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`bg-${f} h-2 rounded-full transition-all duration-300`,style:{width:`${d}%`}})})]},i)})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(ft,{className:"w-6 h-6 text-purple-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Solicitudes por Entidad"})]}),t.jsx("div",{className:"space-y-4",children:Object.entries(s).sort(([,i],[,c])=>c.total-i.total).map(([i,c])=>{const d=Math.round(c.total/r*100);return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",title:i,children:i}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[c.completed," completadas"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-sm font-bold text-gray-900",children:c.total}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",d,"%)"]})]})]})]}),t.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 relative overflow-hidden",children:(()=>{const m=c.completed/c.total*100,f=c.inProgress/c.total*100,h=c.ready/c.total*100,x=c.blocked/c.total*100,b=c.removed/c.total*100,w=m+f,S=w+h,C=S+x,j=C+b;return t.jsxs(t.Fragment,{children:[c.completed>0&&t.jsx("div",{className:"bg-green-600 h-full absolute top-0 left-0 transition-all duration-500",style:{width:`${m}%`,borderRadius:"9999px 0 0 9999px"},title:`${c.completed} completadas`}),c.inProgress>0&&t.jsx("div",{className:"bg-blue-500 h-full absolute top-0 transition-all duration-500",style:{left:`${m}%`,width:`${f}%`},title:`${c.inProgress} en progreso`}),c.ready>0&&t.jsx("div",{className:"bg-gray-300 h-full absolute top-0 transition-all duration-500",style:{left:`${w}%`,width:`${h}%`},title:`${c.ready} por iniciar`}),c.blocked>0&&t.jsx("div",{className:"bg-red-500 h-full absolute top-0 transition-all duration-500",style:{left:`${S}%`,width:`${x}%`},title:`${c.blocked} pausadas/bloqueadas`}),c.removed>0&&t.jsx("div",{className:"bg-gray-600 h-full absolute top-0 transition-all duration-500",style:{left:`${C}%`,width:`${b}%`,borderRadius:j>=99.9?"0 9999px 9999px 0":"0"},title:`${c.removed} removidas`})]})})()}),t.jsxs("div",{className:"text-xs text-gray-600",children:[c.completed>0&&t.jsxs("span",{className:"text-green-600 font-medium",children:[c.completed," completadas"]}),c.inProgress>0&&t.jsxs("span",{children:[c.completed>0?", ":"",t.jsxs("span",{className:"text-blue-600 font-medium",children:[c.inProgress," en progreso"]})]}),c.ready>0&&t.jsxs("span",{children:[c.completed>0||c.inProgress>0?", ":"",t.jsxs("span",{className:"text-gray-600 font-medium",children:[c.ready," por iniciar"]})]}),c.blocked>0&&t.jsxs("span",{children:[c.completed>0||c.inProgress>0||c.ready>0?", ":"",t.jsxs("span",{className:"text-red-600 font-medium",children:[c.blocked," pausadas"]})]}),c.removed>0&&t.jsxs("span",{children:[c.completed>0||c.inProgress>0||c.ready>0||c.blocked>0?", ":"",t.jsxs("span",{className:"text-gray-600 font-medium",children:[c.removed," removidas"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsx("span",{children:"Progreso por categorías"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),t.jsx("span",{children:"Completadas"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),t.jsx("span",{children:"En progreso"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),t.jsx("span",{children:"Por iniciar"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),t.jsx("span",{children:"Pausadas"})]})]})]})]},i)})})]})]})}function nS(){const[r,a]=g.useState(new Date),{reportData:s,loading:o,error:i,dateRange:c,period:d,updateDateRange:m,updatePeriod:f,exportToCSV:h}=eS(),{heatMapData:x,loading:b,loadHeatMapData:v}=Gu();return g.useEffect(()=>{const w={entities:[],companies:[],years:[2025],months:[],states:[],companyTypes:[]};v(r.getFullYear(),r.getMonth()+1,w)},[r,v]),o&&!s?t.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Generando reporte..."})]})}):i?t.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[t.jsx("h3",{className:"font-bold",children:"Error al generar reporte"}),t.jsx("p",{children:i})]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.jsxs(Wt,{to:"/",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition-colors",children:[t.jsx(xn,{className:"w-4 h-4"}),"Volver al Dashboard"]})}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ar,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reportes de Solicitudes"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis y estadísticas de las solicitudes de facturación"})]})]})]}),t.jsx(tS,{dateRange:c,onDateRangeChange:m,period:d,onPeriodChange:f,onExport:h,loading:o}),s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-6",children:t.jsx(rS,{totalRequests:s.totalRequests,stateStatistics:s.stateStatistics,entityStatisticsWithProgress:s.entityStatisticsWithProgress,averageResolutionTime:s.averageResolutionTime})}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[t.jsx("div",{className:"xl:col-span-1",children:t.jsx(tx,{heatMapData:x,selectedDate:r,onDateChange:a,loading:b})}),t.jsx("div",{className:"xl:col-span-2",children:t.jsx(rx,{title:"Solicitudes por Mes - 2025",filters:{entities:[],companies:[],years:[2025],months:[],states:[],companyTypes:[]},compact:!1,showTrends:!0})})]}),s.requestSummaries.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Detalle de Solicitudes (",s.requestSummaries.length,")"]}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Empresa"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Mes"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Año"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Entidad"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Estado"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha Recibido"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha Cerrado"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Días Proc."})]})}),t.jsx("tbody",{children:s.requestSummaries.sort((w,S)=>!w.receivedDate&&!S.receivedDate?0:w.receivedDate?S.receivedDate?S.receivedDate.localeCompare(w.receivedDate):-1:1).slice(0,100).map((w,S)=>t.jsxs("tr",{className:S%2===0?"bg-gray-50":"bg-white",children:[t.jsx("td",{className:"py-3 px-4 text-gray-900 font-medium",children:w.company}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.month}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.year}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.entity}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("span",{className:`px-2 py-1 text-xs rounded-full max-w-32 truncate inline-flex items-center gap-1 ${na(w.state).bg} ${na(w.state).text}`,title:w.state,children:[t.jsx("span",{className:"text-xs",children:ys(w.state)}),t.jsx("span",{className:"truncate",children:w.state})]})}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.receivedDate?new Date(w.receivedDate).toLocaleDateString("es-ES"):"-"}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.closedDate?new Date(w.closedDate).toLocaleDateString("es-ES"):"-"}),t.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.processingDays!==null?`${w.processingDays} días`:"-"})]},`${w.company}-${w.month}-${w.year}-${w.entity}-${w.workItemId||S}`))})]}),s.requestSummaries.length>100&&t.jsxs("div",{className:"mt-4 text-center text-gray-500 text-sm",children:["Mostrando las primeras 100 solicitudes de ",s.requestSummaries.length," total. Exporta el CSV para ver todos los datos."]})]})]}),s.totalRequests===0&&t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[t.jsx(Ar,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay solicitudes en el período seleccionado"}),t.jsx("p",{className:"text-gray-500",children:"Intenta ajustar el rango de fechas para ver más datos."})]})]}):null,o&&s&&t.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg border p-4 flex items-center gap-3",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Actualizando reporte..."})]})]})})}const aS=Bb([{path:"/",element:t.jsx(Gr,{children:t.jsx(tp,{})})},{path:"/pendientes",element:t.jsx(Gr,{children:t.jsx(kp,{})})},{path:"/resumen",element:t.jsx(Gr,{children:t.jsx(kp,{})})},{path:"/reportes",element:t.jsx(Gr,{children:t.jsx(nS,{})})},{path:"/reportes/vencimientos",element:t.jsx(Gr,{children:t.jsx(ZC,{})})},{path:"/empresas",element:t.jsx(Gr,{children:t.jsx(WC,{})})},{path:"/empresa/:companyName",element:t.jsx(Gr,{children:t.jsx(FC,{})})},{path:"/analisis-demanda",element:t.jsx(Gr,{children:t.jsx(qC,{})})},{path:"/entidad/:entitySlug/historico",element:t.jsx(Gr,{children:t.jsx(VC,{})})},{path:"/:year/:entity",element:t.jsx(Gr,{children:t.jsx(tp,{})})}]);Qy.createRoot(document.getElementById("root")).render(t.jsxs(hn.StrictMode,{children:[t.jsx(ij,{}),t.jsx(rw,{router:aS})]}));
