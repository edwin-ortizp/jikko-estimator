function Iy(t,s){for(var a=0;a<s.length;a++){const l=s[a];if(typeof l!="string"&&!Array.isArray(l)){for(const i in l)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(l,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>l[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function a(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=a(i);fetch(i.href,c)}})();function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dd={exports:{}},oo={},ud={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function _y(){if(hh)return Oe;hh=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function C(_,q,de){this.props=_,this.context=q,this.refs=N,this.updater=de||w}C.prototype.isReactComponent={},C.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function j(){}j.prototype=C.prototype;function k(_,q,de){this.props=_,this.context=q,this.refs=N,this.updater=de||w}var P=k.prototype=new j;P.constructor=k,S(P,C.prototype),P.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function V(_,q,de){var fe,Se={},we=null,le=null;if(q!=null)for(fe in q.ref!==void 0&&(le=q.ref),q.key!==void 0&&(we=""+q.key),q)M.call(q,fe)&&!D.hasOwnProperty(fe)&&(Se[fe]=q[fe]);var me=arguments.length-2;if(me===1)Se.children=de;else if(1<me){for(var Me=Array(me),pe=0;pe<me;pe++)Me[pe]=arguments[pe+2];Se.children=Me}if(_&&_.defaultProps)for(fe in me=_.defaultProps,me)Se[fe]===void 0&&(Se[fe]=me[fe]);return{$$typeof:t,type:_,key:we,ref:le,props:Se,_owner:R.current}}function T(_,q){return{$$typeof:t,type:_.type,key:q,ref:_.ref,props:_.props,_owner:_._owner}}function O(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function Q(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(de){return q[de]})}var J=/\/+/g;function Z(_,q){return typeof _=="object"&&_!==null&&_.key!=null?Q(""+_.key):q.toString(36)}function te(_,q,de,fe,Se){var we=typeof _;(we==="undefined"||we==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(we){case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case t:case s:le=!0}}if(le)return le=_,Se=Se(le),_=fe===""?"."+Z(le,0):fe,I(Se)?(de="",_!=null&&(de=_.replace(J,"$&/")+"/"),te(Se,q,de,"",function(pe){return pe})):Se!=null&&(O(Se)&&(Se=T(Se,de+(!Se.key||le&&le.key===Se.key?"":(""+Se.key).replace(J,"$&/")+"/")+_)),q.push(Se)),1;if(le=0,fe=fe===""?".":fe+":",I(_))for(var me=0;me<_.length;me++){we=_[me];var Me=fe+Z(we,me);le+=te(we,q,de,Me,Se)}else if(Me=v(_),typeof Me=="function")for(_=Me.call(_),me=0;!(we=_.next()).done;)we=we.value,Me=fe+Z(we,me++),le+=te(we,q,de,Me,Se);else if(we==="object")throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return le}function re(_,q,de){if(_==null)return _;var fe=[],Se=0;return te(_,fe,"","",function(we){return q.call(de,we,Se++)}),fe}function X(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(de){(_._status===0||_._status===-1)&&(_._status=1,_._result=de)},function(de){(_._status===0||_._status===-1)&&(_._status=2,_._result=de)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var se={current:null},$={transition:null},K={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:$,ReactCurrentOwner:R};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:re,forEach:function(_,q,de){re(_,function(){q.apply(this,arguments)},de)},count:function(_){var q=0;return re(_,function(){q++}),q},toArray:function(_){return re(_,function(q){return q})||[]},only:function(_){if(!O(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Oe.Component=C,Oe.Fragment=a,Oe.Profiler=i,Oe.PureComponent=k,Oe.StrictMode=l,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Oe.act=Y,Oe.cloneElement=function(_,q,de){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var fe=S({},_.props),Se=_.key,we=_.ref,le=_._owner;if(q!=null){if(q.ref!==void 0&&(we=q.ref,le=R.current),q.key!==void 0&&(Se=""+q.key),_.type&&_.type.defaultProps)var me=_.type.defaultProps;for(Me in q)M.call(q,Me)&&!D.hasOwnProperty(Me)&&(fe[Me]=q[Me]===void 0&&me!==void 0?me[Me]:q[Me])}var Me=arguments.length-2;if(Me===1)fe.children=de;else if(1<Me){me=Array(Me);for(var pe=0;pe<Me;pe++)me[pe]=arguments[pe+2];fe.children=me}return{$$typeof:t,type:_.type,key:Se,ref:we,props:fe,_owner:le}},Oe.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:c,_context:_},_.Consumer=_},Oe.createElement=V,Oe.createFactory=function(_){var q=V.bind(null,_);return q.type=_,q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(_){return{$$typeof:f,render:_}},Oe.isValidElement=O,Oe.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:X}},Oe.memo=function(_,q){return{$$typeof:p,type:_,compare:q===void 0?null:q}},Oe.startTransition=function(_){var q=$.transition;$.transition={};try{_()}finally{$.transition=q}},Oe.unstable_act=Y,Oe.useCallback=function(_,q){return se.current.useCallback(_,q)},Oe.useContext=function(_){return se.current.useContext(_)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(_){return se.current.useDeferredValue(_)},Oe.useEffect=function(_,q){return se.current.useEffect(_,q)},Oe.useId=function(){return se.current.useId()},Oe.useImperativeHandle=function(_,q,de){return se.current.useImperativeHandle(_,q,de)},Oe.useInsertionEffect=function(_,q){return se.current.useInsertionEffect(_,q)},Oe.useLayoutEffect=function(_,q){return se.current.useLayoutEffect(_,q)},Oe.useMemo=function(_,q){return se.current.useMemo(_,q)},Oe.useReducer=function(_,q,de){return se.current.useReducer(_,q,de)},Oe.useRef=function(_){return se.current.useRef(_)},Oe.useState=function(_){return se.current.useState(_)},Oe.useSyncExternalStore=function(_,q,de){return se.current.useSyncExternalStore(_,q,de)},Oe.useTransition=function(){return se.current.useTransition()},Oe.version="18.3.1",Oe}var ph;function uu(){return ph||(ph=1,ud.exports=_y()),ud.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function Ly(){if(gh)return oo;gh=1;var t=uu(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,p){var y,b={},v=null,w=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(w=m.ref);for(y in m)l.call(m,y)&&!c.hasOwnProperty(y)&&(b[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)b[y]===void 0&&(b[y]=m[y]);return{$$typeof:s,type:f,key:v,ref:w,props:b,_owner:i.current}}return oo.Fragment=a,oo.jsx=u,oo.jsxs=u,oo}var xh;function Oy(){return xh||(xh=1,dd.exports=Ly()),dd.exports}var r=Oy(),g=uu();const fn=du(g),Fy=Iy({__proto__:null,default:fn},[g]);var Fl={},fd={exports:{}},Kt={},md={exports:{}},hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function $y(){return yh||(yh=1,function(t){function s($,K){var Y=$.length;$.push(K);e:for(;0<Y;){var _=Y-1>>>1,q=$[_];if(0<i(q,K))$[_]=K,$[Y]=q,Y=_;else break e}}function a($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var K=$[0],Y=$.pop();if(Y!==K){$[0]=Y;e:for(var _=0,q=$.length,de=q>>>1;_<de;){var fe=2*(_+1)-1,Se=$[fe],we=fe+1,le=$[we];if(0>i(Se,Y))we<q&&0>i(le,Se)?($[_]=le,$[we]=Y,_=we):($[_]=Se,$[fe]=Y,_=fe);else if(we<q&&0>i(le,Y))$[_]=le,$[we]=Y,_=we;else break e}}return K}function i($,K){var Y=$.sortIndex-K.sortIndex;return Y!==0?Y:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,b=null,v=3,w=!1,S=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P($){for(var K=a(p);K!==null;){if(K.callback===null)l(p);else if(K.startTime<=$)l(p),K.sortIndex=K.expirationTime,s(m,K);else break;K=a(p)}}function I($){if(N=!1,P($),!S)if(a(m)!==null)S=!0,X(M);else{var K=a(p);K!==null&&se(I,K.startTime-$)}}function M($,K){S=!1,N&&(N=!1,j(V),V=-1),w=!0;var Y=v;try{for(P(K),b=a(m);b!==null&&(!(b.expirationTime>K)||$&&!Q());){var _=b.callback;if(typeof _=="function"){b.callback=null,v=b.priorityLevel;var q=_(b.expirationTime<=K);K=t.unstable_now(),typeof q=="function"?b.callback=q:b===a(m)&&l(m),P(K)}else l(m);b=a(m)}if(b!==null)var de=!0;else{var fe=a(p);fe!==null&&se(I,fe.startTime-K),de=!1}return de}finally{b=null,v=Y,w=!1}}var R=!1,D=null,V=-1,T=5,O=-1;function Q(){return!(t.unstable_now()-O<T)}function J(){if(D!==null){var $=t.unstable_now();O=$;var K=!0;try{K=D(!0,$)}finally{K?Z():(R=!1,D=null)}}else R=!1}var Z;if(typeof k=="function")Z=function(){k(J)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=J,Z=function(){re.postMessage(null)}}else Z=function(){C(J,0)};function X($){D=$,R||(R=!0,Z())}function se($,K){V=C(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,X(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return a(m)},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var Y=v;v=K;try{return $()}finally{v=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=v;v=$;try{return K()}finally{v=Y}},t.unstable_scheduleCallback=function($,K,Y){var _=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?_+Y:_):Y=_,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Y+q,$={id:y++,callback:K,priorityLevel:$,startTime:Y,expirationTime:q,sortIndex:-1},Y>_?($.sortIndex=Y,s(p,$),a(m)===null&&$===a(p)&&(N?(j(V),V=-1):N=!0,se(I,Y-_))):($.sortIndex=q,s(m,$),S||w||(S=!0,X(M))),$},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function($){var K=v;return function(){var Y=v;v=K;try{return $.apply(this,arguments)}finally{v=Y}}}}(hd)),hd}var vh;function zy(){return vh||(vh=1,md.exports=$y()),md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function Vy(){if(bh)return Kt;bh=1;var t=uu(),s=zy();function a(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function c(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(i[e]=n,e=0;e<n.length;e++)l.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function v(e){return m.call(b,e)?!0:m.call(y,e)?!1:p.test(e)?b[e]=!0:(y[e]=!0,!1)}function w(e,n,o,d){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,o,d){if(n===null||typeof n>"u"||w(e,n,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(e,n,o,d,h,x,E){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=x,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new N(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(j,k);C[n]=new N(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(j,k);C[n]=new N(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(j,k);C[n]=new N(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,n,o,d){var h=C.hasOwnProperty(n)?C[n]:null;(h!==null?h.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,o,h,d)&&(o=null),d||h===null?v(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):h.mustUseProperty?e[h.propertyName]=o===null?h.type===3?!1:"":o:(n=h.attributeName,d=h.attributeNamespace,o===null?e.removeAttribute(n):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,d?e.setAttributeNS(d,n,o):e.setAttribute(n,o))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),$=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,_;function q(e){if(_===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var de=!1;function fe(e,n){if(!e||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var d=H}Reflect.construct(e,[],n)}else{try{n.call()}catch(H){d=H}e.call(n.prototype)}else{try{throw Error()}catch(H){d=H}e()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var h=H.stack.split(`
`),x=d.stack.split(`
`),E=h.length-1,A=x.length-1;1<=E&&0<=A&&h[E]!==x[A];)A--;for(;1<=E&&0<=A;E--,A--)if(h[E]!==x[A]){if(E!==1||A!==1)do if(E--,A--,0>A||h[E]!==x[A]){var F=`
`+h[E].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=E&&0<=A);break}}}finally{de=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?q(e):""}function Se(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case R:return"Portal";case T:return"Profiler";case V:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}function le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Me(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pe(e){var n=Me(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,x=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){d=""+E,x.call(this,E)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _e(e){e._valueTracker||(e._valueTracker=pe(e))}function Ue(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),d="";return e&&(d=Me(e)?e.checked?"true":"false":e.value),e=d,e!==o?(n.setValue(e),!0):!1}function ft(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mt(e,n){var o=n.checked;return Y({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Tr(e,n){var o=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;o=me(n.value!=null?n.value:o),e._wrapperState={initialChecked:d,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Mr(e,n){n=n.checked,n!=null&&P(e,"checked",n,!1)}function ir(e,n){Mr(e,n);var o=me(n.value),d=n.type;if(o!=null)d==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ls(e,n.type,o):n.hasOwnProperty("defaultValue")&&ls(e,n.type,me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function _s(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ls(e,n,o){(n!=="number"||ft(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Qr=Array.isArray;function Ar(e,n,o,d){if(e=e.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=n.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&d&&(e[o].defaultSelected=!0)}else{for(o=""+me(o),n=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,d&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Jt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return Y({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ir(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(a(92));if(Qr(o)){if(1<o.length)throw Error(a(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:me(o)}}function is(e,n){var o=me(n.value),d=me(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),d!=null&&(e.defaultValue=""+d)}function wn(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Zt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xr,jn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,d,h){MSApp.execUnsafeLocalFunction(function(){return e(n,o,d,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Jr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ie=["Webkit","ms","Moz","O"];Object.keys(ve).forEach(function(e){Ie.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ve[n]=ve[e]})});function Ze(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||ve.hasOwnProperty(e)&&ve[e]?(""+n).trim():n+"px"}function et(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var d=o.indexOf("--")===0,h=Ze(o,n[o],d);o==="float"&&(o="cssFloat"),d?e.setProperty(o,h):e[o]=h}}var wt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(e,n){if(n){if(wt[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function At(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=null;function cs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ca=null,Zr=null,Nn=null;function Sa(e){if(e=Ha(e)){if(typeof Ca!="function")throw Error(a(280));var n=e.stateNode;n&&(n=Zo(n),Ca(e.stateNode,e.type,n))}}function ds(e){Zr?Nn?Nn.push(e):Nn=[e]:Zr=e}function us(){if(Zr){var e=Zr,n=Nn;if(Nn=Zr=null,Sa(e),n)for(e=0;e<n.length;e++)Sa(n[e])}}function Ao(e,n){return e(n)}function Io(){}var L=!1;function B(e,n,o){if(L)return e(n,o);L=!0;try{return Ao(e,n,o)}finally{L=!1,(Zr!==null||Nn!==null)&&(Io(),us())}}function G(e,n){var o=e.stateNode;if(o===null)return null;var d=Zo(o);if(d===null)return null;o=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var oe=!1;if(f)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){oe=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{oe=!1}function Ce(e,n,o,d,h,x,E,A,F){var H=Array.prototype.slice.call(arguments,3);try{n.apply(o,H)}catch(ne){this.onError(ne)}}var be=!1,ge=null,Ne=!1,Pe=null,Ee={onError:function(e){be=!0,ge=e}};function ke(e,n,o,d,h,x,E,A,F){be=!1,ge=null,Ce.apply(Ee,arguments)}function $e(e,n,o,d,h,x,E,A,F){if(ke.apply(this,arguments),be){if(be){var H=ge;be=!1,ge=null}else throw Error(a(198));Ne||(Ne=!0,Pe=H)}}function He(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function jt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function St(e){if(He(e)!==e)throw Error(a(188))}function st(e){var n=e.alternate;if(!n){if(n=He(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,d=n;;){var h=o.return;if(h===null)break;var x=h.alternate;if(x===null){if(d=h.return,d!==null){o=d;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===o)return St(h),e;if(x===d)return St(h),n;x=x.sibling}throw Error(a(188))}if(o.return!==d.return)o=h,d=x;else{for(var E=!1,A=h.child;A;){if(A===o){E=!0,o=h,d=x;break}if(A===d){E=!0,d=h,o=x;break}A=A.sibling}if(!E){for(A=x.child;A;){if(A===o){E=!0,o=x,d=h;break}if(A===d){E=!0,d=x,o=h;break}A=A.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==d)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function Ke(e){return e=st(e),e!==null?Lr(e):null}function Lr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Lr(e);if(n!==null)return n;e=e.sibling}return null}var Cn=s.unstable_scheduleCallback,vr=s.unstable_cancelCallback,cr=s.unstable_shouldYield,Ea=s.unstable_requestPaint,Qe=s.unstable_now,en=s.unstable_getCurrentPriorityLevel,Sn=s.unstable_ImmediatePriority,fs=s.unstable_UserBlockingPriority,ze=s.unstable_NormalPriority,Et=s.unstable_LowPriority,ms=s.unstable_IdlePriority,Or=null,Ye=null;function Os(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Or,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:J0,Di=Math.log,X0=Math.LN2;function J0(e){return e>>>=0,e===0?32:31-(Di(e)/X0|0)|0}var _o=64,Lo=4194304;function ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oo(e,n){var o=e.pendingLanes;if(o===0)return 0;var d=0,h=e.suspendedLanes,x=e.pingedLanes,E=o&268435455;if(E!==0){var A=E&~h;A!==0?d=ka(A):(x&=E,x!==0&&(d=ka(x)))}else E=o&~h,E!==0?d=ka(E):x!==0&&(d=ka(x));if(d===0)return 0;if(n!==0&&n!==d&&(n&h)===0&&(h=d&-d,x=n&-n,h>=x||h===16&&(x&4194240)!==0))return n;if((d&4)!==0&&(d|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)o=31-Ut(n),h=1<<o,d|=e[o],n&=~h;return d}function Z0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ex(e,n){for(var o=e.suspendedLanes,d=e.pingedLanes,h=e.expirationTimes,x=e.pendingLanes;0<x;){var E=31-Ut(x),A=1<<E,F=h[E];F===-1?((A&o)===0||(A&d)!==0)&&(h[E]=Z0(A,n)):F<=n&&(e.expiredLanes|=A),x&=~A}}function Ti(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wu(){var e=_o;return _o<<=1,(_o&4194240)===0&&(_o=64),e}function Mi(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Ra(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ut(n),e[n]=o}function tx(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<o;){var h=31-Ut(o),x=1<<h;n[h]=0,d[h]=-1,e[h]=-1,o&=~x}}function Ai(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var d=31-Ut(o),h=1<<d;h&n|e[d]&n&&(e[d]|=n),o&=~h}}var qe=0;function Hu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Yu,Ii,Gu,qu,Ku,_i=!1,Fo=[],En=null,kn=null,Rn=null,Pa=new Map,Da=new Map,Pn=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(e,n){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Pa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(n.pointerId)}}function Ta(e,n,o,d,h,x){return e===null||e.nativeEvent!==x?(e={blockedOn:n,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[h]},n!==null&&(n=Ha(n),n!==null&&Ii(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function nx(e,n,o,d,h){switch(n){case"focusin":return En=Ta(En,e,n,o,d,h),!0;case"dragenter":return kn=Ta(kn,e,n,o,d,h),!0;case"mouseover":return Rn=Ta(Rn,e,n,o,d,h),!0;case"pointerover":var x=h.pointerId;return Pa.set(x,Ta(Pa.get(x)||null,e,n,o,d,h)),!0;case"gotpointercapture":return x=h.pointerId,Da.set(x,Ta(Da.get(x)||null,e,n,o,d,h)),!0}return!1}function Xu(e){var n=hs(e.target);if(n!==null){var o=He(n);if(o!==null){if(n=o.tag,n===13){if(n=jt(o),n!==null){e.blockedOn=n,Ku(e.priority,function(){Gu(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Oi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var d=new o.constructor(o.type,o);Ls=d,o.target.dispatchEvent(d),Ls=null}else return n=Ha(o),n!==null&&Ii(n),e.blockedOn=o,!1;n.shift()}return!0}function Ju(e,n,o){$o(e)&&o.delete(n)}function sx(){_i=!1,En!==null&&$o(En)&&(En=null),kn!==null&&$o(kn)&&(kn=null),Rn!==null&&$o(Rn)&&(Rn=null),Pa.forEach(Ju),Da.forEach(Ju)}function Ma(e,n){e.blockedOn===n&&(e.blockedOn=null,_i||(_i=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sx)))}function Aa(e){function n(h){return Ma(h,e)}if(0<Fo.length){Ma(Fo[0],e);for(var o=1;o<Fo.length;o++){var d=Fo[o];d.blockedOn===e&&(d.blockedOn=null)}}for(En!==null&&Ma(En,e),kn!==null&&Ma(kn,e),Rn!==null&&Ma(Rn,e),Pa.forEach(n),Da.forEach(n),o=0;o<Pn.length;o++)d=Pn[o],d.blockedOn===e&&(d.blockedOn=null);for(;0<Pn.length&&(o=Pn[0],o.blockedOn===null);)Xu(o),o.blockedOn===null&&Pn.shift()}var Fs=I.ReactCurrentBatchConfig,zo=!0;function ax(e,n,o,d){var h=qe,x=Fs.transition;Fs.transition=null;try{qe=1,Li(e,n,o,d)}finally{qe=h,Fs.transition=x}}function ox(e,n,o,d){var h=qe,x=Fs.transition;Fs.transition=null;try{qe=4,Li(e,n,o,d)}finally{qe=h,Fs.transition=x}}function Li(e,n,o,d){if(zo){var h=Oi(e,n,o,d);if(h===null)ec(e,n,d,Vo,o),Qu(e,d);else if(nx(h,e,n,o,d))d.stopPropagation();else if(Qu(e,d),n&4&&-1<rx.indexOf(e)){for(;h!==null;){var x=Ha(h);if(x!==null&&Yu(x),x=Oi(e,n,o,d),x===null&&ec(e,n,d,Vo,o),x===h)break;h=x}h!==null&&d.stopPropagation()}else ec(e,n,d,null,o)}}var Vo=null;function Oi(e,n,o,d){if(Vo=null,e=cs(d),e=hs(e),e!==null)if(n=He(e),n===null)e=null;else if(o=n.tag,o===13){if(e=jt(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Vo=e,null}function Zu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(en()){case Sn:return 1;case fs:return 4;case ze:case Et:return 16;case ms:return 536870912;default:return 16}default:return 16}}var Dn=null,Fi=null,Bo=null;function ef(){if(Bo)return Bo;var e,n=Fi,o=n.length,d,h="value"in Dn?Dn.value:Dn.textContent,x=h.length;for(e=0;e<o&&n[e]===h[e];e++);var E=o-e;for(d=1;d<=E&&n[o-d]===h[x-d];d++);return Bo=h.slice(e,1<d?1-d:void 0)}function Uo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wo(){return!0}function tf(){return!1}function er(e){function n(o,d,h,x,E){this._reactName=o,this._targetInst=h,this.type=d,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(o=e[A],this[A]=o?o(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Wo:tf,this.isPropagationStopped=tf,this}return Y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),n}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=er($s),Ia=Y({},$s,{view:0,detail:0}),lx=er(Ia),zi,Vi,_a,Ho=Y({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(zi=e.screenX-_a.screenX,Vi=e.screenY-_a.screenY):Vi=zi=0,_a=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Vi}}),rf=er(Ho),ix=Y({},Ho,{dataTransfer:0}),cx=er(ix),dx=Y({},Ia,{relatedTarget:0}),Bi=er(dx),ux=Y({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),fx=er(ux),mx=Y({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hx=er(mx),px=Y({},$s,{data:0}),nf=er(px),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yx[e])?!!n[e]:!1}function Ui(){return vx}var bx=Y({},Ia,{key:function(e){if(e.key){var n=gx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?Uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wx=er(bx),jx=Y({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=er(jx),Nx=Y({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),Cx=er(Nx),Sx=Y({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=er(Sx),kx=Y({},Ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rx=er(kx),Px=[9,13,27,32],Wi=f&&"CompositionEvent"in window,La=null;f&&"documentMode"in document&&(La=document.documentMode);var Dx=f&&"TextEvent"in window&&!La,af=f&&(!Wi||La&&8<La&&11>=La),of=" ",lf=!1;function cf(e,n){switch(e){case"keyup":return Px.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function Tx(e,n){switch(e){case"compositionend":return df(n);case"keypress":return n.which!==32?null:(lf=!0,of);case"textInput":return e=n.data,e===of&&lf?null:e;default:return null}}function Mx(e,n){if(zs)return e==="compositionend"||!Wi&&cf(e,n)?(e=ef(),Bo=Fi=Dn=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return af&&n.locale!=="ko"?null:n.data;default:return null}}var Ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ax[e.type]:n==="textarea"}function ff(e,n,o,d){ds(d),n=Qo(n,"onChange"),0<n.length&&(o=new $i("onChange","change",null,o,d),e.push({event:o,listeners:n}))}var Oa=null,Fa=null;function Ix(e){Df(e,0)}function Yo(e){var n=Hs(e);if(Ue(n))return e}function _x(e,n){if(e==="change")return n}var mf=!1;if(f){var Hi;if(f){var Yi="oninput"in document;if(!Yi){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Yi=typeof hf.oninput=="function"}Hi=Yi}else Hi=!1;mf=Hi&&(!document.documentMode||9<document.documentMode)}function pf(){Oa&&(Oa.detachEvent("onpropertychange",gf),Fa=Oa=null)}function gf(e){if(e.propertyName==="value"&&Yo(Fa)){var n=[];ff(n,Fa,e,cs(e)),B(Ix,n)}}function Lx(e,n,o){e==="focusin"?(pf(),Oa=n,Fa=o,Oa.attachEvent("onpropertychange",gf)):e==="focusout"&&pf()}function Ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(Fa)}function Fx(e,n){if(e==="click")return Yo(n)}function $x(e,n){if(e==="input"||e==="change")return Yo(n)}function zx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var br=typeof Object.is=="function"?Object.is:zx;function $a(e,n){if(br(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),d=Object.keys(n);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var h=o[d];if(!m.call(n,h)||!br(e[h],n[h]))return!1}return!0}function xf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yf(e,n){var o=xf(e);e=0;for(var d;o;){if(o.nodeType===3){if(d=e+o.textContent.length,e<=n&&d>=n)return{node:o,offset:n-e};e=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xf(o)}}function vf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bf(){for(var e=window,n=ft();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=ft(e.document)}return n}function Gi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Vx(e){var n=bf(),o=e.focusedElem,d=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&vf(o.ownerDocument.documentElement,o)){if(d!==null&&Gi(o)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=o.textContent.length,x=Math.min(d.start,h);d=d.end===void 0?x:Math.min(d.end,h),!e.extend&&x>d&&(h=d,d=x,x=h),h=yf(o,x);var E=yf(o,d);h&&E&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==E.node||e.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),x>d?(e.addRange(n),e.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bx=f&&"documentMode"in document&&11>=document.documentMode,Vs=null,qi=null,za=null,Ki=!1;function wf(e,n,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ki||Vs==null||Vs!==ft(d)||(d=Vs,"selectionStart"in d&&Gi(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),za&&$a(za,d)||(za=d,d=Qo(qi,"onSelect"),0<d.length&&(n=new $i("onSelect","select",null,n,o),e.push({event:n,listeners:d}),n.target=Vs)))}function Go(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Bs={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},Qi={},jf={};f&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function qo(e){if(Qi[e])return Qi[e];if(!Bs[e])return e;var n=Bs[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in jf)return Qi[e]=n[o];return e}var Nf=qo("animationend"),Cf=qo("animationiteration"),Sf=qo("animationstart"),Ef=qo("transitionend"),kf=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,n){kf.set(e,n),c(n,[e])}for(var Xi=0;Xi<Rf.length;Xi++){var Ji=Rf[Xi],Ux=Ji.toLowerCase(),Wx=Ji[0].toUpperCase()+Ji.slice(1);Tn(Ux,"on"+Wx)}Tn(Nf,"onAnimationEnd"),Tn(Cf,"onAnimationIteration"),Tn(Sf,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Ef,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function Pf(e,n,o){var d=e.type||"unknown-event";e.currentTarget=o,$e(d,n,void 0,e),e.currentTarget=null}function Df(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var d=e[o],h=d.event;d=d.listeners;e:{var x=void 0;if(n)for(var E=d.length-1;0<=E;E--){var A=d[E],F=A.instance,H=A.currentTarget;if(A=A.listener,F!==x&&h.isPropagationStopped())break e;Pf(h,A,H),x=F}else for(E=0;E<d.length;E++){if(A=d[E],F=A.instance,H=A.currentTarget,A=A.listener,F!==x&&h.isPropagationStopped())break e;Pf(h,A,H),x=F}}}if(Ne)throw e=Pe,Ne=!1,Pe=null,e}function tt(e,n){var o=n[oc];o===void 0&&(o=n[oc]=new Set);var d=e+"__bubble";o.has(d)||(Tf(n,e,2,!1),o.add(d))}function Zi(e,n,o){var d=0;n&&(d|=4),Tf(o,e,d,n)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Ko]){e[Ko]=!0,l.forEach(function(o){o!=="selectionchange"&&(Hx.has(o)||Zi(o,!1,e),Zi(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ko]||(n[Ko]=!0,Zi("selectionchange",!1,n))}}function Tf(e,n,o,d){switch(Zu(n)){case 1:var h=ax;break;case 4:h=ox;break;default:h=Li}o=h.bind(null,n,o,e),h=void 0,!oe||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),d?h!==void 0?e.addEventListener(n,o,{capture:!0,passive:h}):e.addEventListener(n,o,!0):h!==void 0?e.addEventListener(n,o,{passive:h}):e.addEventListener(n,o,!1)}function ec(e,n,o,d,h){var x=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(E===4)for(E=d.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===h||F.nodeType===8&&F.parentNode===h))return;E=E.return}for(;A!==null;){if(E=hs(A),E===null)return;if(F=E.tag,F===5||F===6){d=x=E;continue e}A=A.parentNode}}d=d.return}B(function(){var H=x,ne=cs(o),ae=[];e:{var ee=kf.get(e);if(ee!==void 0){var ue=$i,xe=e;switch(e){case"keypress":if(Uo(o)===0)break e;case"keydown":case"keyup":ue=wx;break;case"focusin":xe="focus",ue=Bi;break;case"focusout":xe="blur",ue=Bi;break;case"beforeblur":case"afterblur":ue=Bi;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Cx;break;case Nf:case Cf:case Sf:ue=fx;break;case Ef:ue=Ex;break;case"scroll":ue=lx;break;case"wheel":ue=Rx;break;case"copy":case"cut":case"paste":ue=hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=sf}var ye=(n&4)!==0,ht=!ye&&e==="scroll",U=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var z=H,W;z!==null;){W=z;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,U!==null&&(ie=G(z,U),ie!=null&&ye.push(Ua(z,ie,W)))),ht)break;z=z.return}0<ye.length&&(ee=new ue(ee,xe,null,o,ne),ae.push({event:ee,listeners:ye}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",ee&&o!==Ls&&(xe=o.relatedTarget||o.fromElement)&&(hs(xe)||xe[tn]))break e;if((ue||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(xe=o.relatedTarget||o.toElement,ue=H,xe=xe?hs(xe):null,xe!==null&&(ht=He(xe),xe!==ht||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ue=null,xe=H),ue!==xe)){if(ye=rf,ie="onMouseLeave",U="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ye=sf,ie="onPointerLeave",U="onPointerEnter",z="pointer"),ht=ue==null?ee:Hs(ue),W=xe==null?ee:Hs(xe),ee=new ye(ie,z+"leave",ue,o,ne),ee.target=ht,ee.relatedTarget=W,ie=null,hs(ne)===H&&(ye=new ye(U,z+"enter",xe,o,ne),ye.target=W,ye.relatedTarget=ht,ie=ye),ht=ie,ue&&xe)t:{for(ye=ue,U=xe,z=0,W=ye;W;W=Us(W))z++;for(W=0,ie=U;ie;ie=Us(ie))W++;for(;0<z-W;)ye=Us(ye),z--;for(;0<W-z;)U=Us(U),W--;for(;z--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=Us(ye),U=Us(U)}ye=null}else ye=null;ue!==null&&Mf(ae,ee,ue,ye,!1),xe!==null&&ht!==null&&Mf(ae,ht,xe,ye,!0)}}e:{if(ee=H?Hs(H):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var je=_x;else if(uf(ee))if(mf)je=$x;else{je=Ox;var De=Lx}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(je=Fx);if(je&&(je=je(e,H))){ff(ae,je,o,ne);break e}De&&De(e,ee,H),e==="focusout"&&(De=ee._wrapperState)&&De.controlled&&ee.type==="number"&&ls(ee,"number",ee.value)}switch(De=H?Hs(H):window,e){case"focusin":(uf(De)||De.contentEditable==="true")&&(Vs=De,qi=H,za=null);break;case"focusout":za=qi=Vs=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,wf(ae,o,ne);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":wf(ae,o,ne)}var Te;if(Wi)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else zs?cf(e,o)&&(Ae="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(af&&o.locale!=="ko"&&(zs||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&zs&&(Te=ef()):(Dn=ne,Fi="value"in Dn?Dn.value:Dn.textContent,zs=!0)),De=Qo(H,Ae),0<De.length&&(Ae=new nf(Ae,e,null,o,ne),ae.push({event:Ae,listeners:De}),Te?Ae.data=Te:(Te=df(o),Te!==null&&(Ae.data=Te)))),(Te=Dx?Tx(e,o):Mx(e,o))&&(H=Qo(H,"onBeforeInput"),0<H.length&&(ne=new nf("onBeforeInput","beforeinput",null,o,ne),ae.push({event:ne,listeners:H}),ne.data=Te))}Df(ae,n)})}function Ua(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Qo(e,n){for(var o=n+"Capture",d=[];e!==null;){var h=e,x=h.stateNode;h.tag===5&&x!==null&&(h=x,x=G(e,o),x!=null&&d.unshift(Ua(e,x,h)),x=G(e,n),x!=null&&d.push(Ua(e,x,h))),e=e.return}return d}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mf(e,n,o,d,h){for(var x=n._reactName,E=[];o!==null&&o!==d;){var A=o,F=A.alternate,H=A.stateNode;if(F!==null&&F===d)break;A.tag===5&&H!==null&&(A=H,h?(F=G(o,x),F!=null&&E.unshift(Ua(o,F,A))):h||(F=G(o,x),F!=null&&E.push(Ua(o,F,A)))),o=o.return}E.length!==0&&e.push({event:n,listeners:E})}var Yx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(Yx,`
`).replace(Gx,"")}function Xo(e,n,o){if(n=Af(n),Af(e)!==n&&o)throw Error(a(425))}function Jo(){}var tc=null,rc=null;function nc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(e){return If.resolve(null).then(e).catch(Qx)}:sc;function Qx(e){setTimeout(function(){throw e})}function ac(e,n){var o=n,d=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(d===0){e.removeChild(h),Aa(n);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=h}while(o);Aa(n)}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function _f(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ws,Wa="__reactProps$"+Ws,tn="__reactContainer$"+Ws,oc="__reactEvents$"+Ws,Xx="__reactListeners$"+Ws,Jx="__reactHandles$"+Ws;function hs(e){var n=e[Fr];if(n)return n;for(var o=e.parentNode;o;){if(n=o[tn]||o[Fr]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=_f(e);e!==null;){if(o=e[Fr])return o;e=_f(e)}return n}e=o,o=e.parentNode}return null}function Ha(e){return e=e[Fr]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Zo(e){return e[Wa]||null}var lc=[],Ys=-1;function An(e){return{current:e}}function rt(e){0>Ys||(e.current=lc[Ys],lc[Ys]=null,Ys--)}function Xe(e,n){Ys++,lc[Ys]=e.current,e.current=n}var In={},It=An(In),Wt=An(!1),ps=In;function Gs(e,n){var o=e.type.contextTypes;if(!o)return In;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var h={},x;for(x in o)h[x]=n[x];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(e){return e=e.childContextTypes,e!=null}function el(){rt(Wt),rt(It)}function Lf(e,n,o){if(It.current!==In)throw Error(a(168));Xe(It,n),Xe(Wt,o)}function Of(e,n,o){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var h in d)if(!(h in n))throw Error(a(108,le(e)||"Unknown",h));return Y({},o,d)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,ps=It.current,Xe(It,e),Xe(Wt,Wt.current),!0}function Ff(e,n,o){var d=e.stateNode;if(!d)throw Error(a(169));o?(e=Of(e,n,ps),d.__reactInternalMemoizedMergedChildContext=e,rt(Wt),rt(It),Xe(It,e)):rt(Wt),Xe(Wt,o)}var rn=null,rl=!1,ic=!1;function $f(e){rn===null?rn=[e]:rn.push(e)}function Zx(e){rl=!0,$f(e)}function _n(){if(!ic&&rn!==null){ic=!0;var e=0,n=qe;try{var o=rn;for(qe=1;e<o.length;e++){var d=o[e];do d=d(!0);while(d!==null)}rn=null,rl=!1}catch(h){throw rn!==null&&(rn=rn.slice(e+1)),Cn(Sn,_n),h}finally{qe=n,ic=!1}}return null}var qs=[],Ks=0,nl=null,sl=0,dr=[],ur=0,gs=null,nn=1,sn="";function xs(e,n){qs[Ks++]=sl,qs[Ks++]=nl,nl=e,sl=n}function zf(e,n,o){dr[ur++]=nn,dr[ur++]=sn,dr[ur++]=gs,gs=e;var d=nn;e=sn;var h=32-Ut(d)-1;d&=~(1<<h),o+=1;var x=32-Ut(n)+h;if(30<x){var E=h-h%5;x=(d&(1<<E)-1).toString(32),d>>=E,h-=E,nn=1<<32-Ut(n)+h|o<<h|d,sn=x+e}else nn=1<<x|o<<h|d,sn=e}function cc(e){e.return!==null&&(xs(e,1),zf(e,1,0))}function dc(e){for(;e===nl;)nl=qs[--Ks],qs[Ks]=null,sl=qs[--Ks],qs[Ks]=null;for(;e===gs;)gs=dr[--ur],dr[ur]=null,sn=dr[--ur],dr[ur]=null,nn=dr[--ur],dr[ur]=null}var tr=null,rr=null,at=!1,wr=null;function Vf(e,n){var o=pr(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Bf(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tr=e,rr=Mn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tr=e,rr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=gs!==null?{id:nn,overflow:sn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=pr(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,tr=e,rr=null,!0):!1;default:return!1}}function uc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fc(e){if(at){var n=rr;if(n){var o=n;if(!Bf(e,n)){if(uc(e))throw Error(a(418));n=Mn(o.nextSibling);var d=tr;n&&Bf(e,n)?Vf(d,o):(e.flags=e.flags&-4097|2,at=!1,tr=e)}}else{if(uc(e))throw Error(a(418));e.flags=e.flags&-4097|2,at=!1,tr=e}}}function Uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function al(e){if(e!==tr)return!1;if(!at)return Uf(e),at=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!nc(e.type,e.memoizedProps)),n&&(n=rr)){if(uc(e))throw Wf(),Error(a(418));for(;n;)Vf(e,n),n=Mn(n.nextSibling)}if(Uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){rr=Mn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}rr=null}}else rr=tr?Mn(e.stateNode.nextSibling):null;return!0}function Wf(){for(var e=rr;e;)e=Mn(e.nextSibling)}function Qs(){rr=tr=null,at=!1}function mc(e){wr===null?wr=[e]:wr.push(e)}var ey=I.ReactCurrentBatchConfig;function Ya(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(a(309));var d=o.stateNode}if(!d)throw Error(a(147,e));var h=d,x=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===x?n.ref:(n=function(E){var A=h.refs;E===null?delete A[x]:A[x]=E},n._stringRef=x,n)}if(typeof e!="string")throw Error(a(284));if(!o._owner)throw Error(a(290,e))}return e}function ol(e,n){throw e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Hf(e){var n=e._init;return n(e._payload)}function Yf(e){function n(U,z){if(e){var W=U.deletions;W===null?(U.deletions=[z],U.flags|=16):W.push(z)}}function o(U,z){if(!e)return null;for(;z!==null;)n(U,z),z=z.sibling;return null}function d(U,z){for(U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(U,z){return U=Un(U,z),U.index=0,U.sibling=null,U}function x(U,z,W){return U.index=W,e?(W=U.alternate,W!==null?(W=W.index,W<z?(U.flags|=2,z):W):(U.flags|=2,z)):(U.flags|=1048576,z)}function E(U){return e&&U.alternate===null&&(U.flags|=2),U}function A(U,z,W,ie){return z===null||z.tag!==6?(z=sd(W,U.mode,ie),z.return=U,z):(z=h(z,W),z.return=U,z)}function F(U,z,W,ie){var je=W.type;return je===D?ne(U,z,W.props.children,ie,W.key):z!==null&&(z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===X&&Hf(je)===z.type)?(ie=h(z,W.props),ie.ref=Ya(U,z,W),ie.return=U,ie):(ie=Dl(W.type,W.key,W.props,null,U.mode,ie),ie.ref=Ya(U,z,W),ie.return=U,ie)}function H(U,z,W,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=ad(W,U.mode,ie),z.return=U,z):(z=h(z,W.children||[]),z.return=U,z)}function ne(U,z,W,ie,je){return z===null||z.tag!==7?(z=Ss(W,U.mode,ie,je),z.return=U,z):(z=h(z,W),z.return=U,z)}function ae(U,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=sd(""+z,U.mode,W),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return W=Dl(z.type,z.key,z.props,null,U.mode,W),W.ref=Ya(U,null,z),W.return=U,W;case R:return z=ad(z,U.mode,W),z.return=U,z;case X:var ie=z._init;return ae(U,ie(z._payload),W)}if(Qr(z)||K(z))return z=Ss(z,U.mode,W,null),z.return=U,z;ol(U,z)}return null}function ee(U,z,W,ie){var je=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return je!==null?null:A(U,z,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return W.key===je?F(U,z,W,ie):null;case R:return W.key===je?H(U,z,W,ie):null;case X:return je=W._init,ee(U,z,je(W._payload),ie)}if(Qr(W)||K(W))return je!==null?null:ne(U,z,W,ie,null);ol(U,W)}return null}function ue(U,z,W,ie,je){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return U=U.get(W)||null,A(z,U,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case M:return U=U.get(ie.key===null?W:ie.key)||null,F(z,U,ie,je);case R:return U=U.get(ie.key===null?W:ie.key)||null,H(z,U,ie,je);case X:var De=ie._init;return ue(U,z,W,De(ie._payload),je)}if(Qr(ie)||K(ie))return U=U.get(W)||null,ne(z,U,ie,je,null);ol(z,ie)}return null}function xe(U,z,W,ie){for(var je=null,De=null,Te=z,Ae=z=0,Pt=null;Te!==null&&Ae<W.length;Ae++){Te.index>Ae?(Pt=Te,Te=null):Pt=Te.sibling;var We=ee(U,Te,W[Ae],ie);if(We===null){Te===null&&(Te=Pt);break}e&&Te&&We.alternate===null&&n(U,Te),z=x(We,z,Ae),De===null?je=We:De.sibling=We,De=We,Te=Pt}if(Ae===W.length)return o(U,Te),at&&xs(U,Ae),je;if(Te===null){for(;Ae<W.length;Ae++)Te=ae(U,W[Ae],ie),Te!==null&&(z=x(Te,z,Ae),De===null?je=Te:De.sibling=Te,De=Te);return at&&xs(U,Ae),je}for(Te=d(U,Te);Ae<W.length;Ae++)Pt=ue(Te,U,Ae,W[Ae],ie),Pt!==null&&(e&&Pt.alternate!==null&&Te.delete(Pt.key===null?Ae:Pt.key),z=x(Pt,z,Ae),De===null?je=Pt:De.sibling=Pt,De=Pt);return e&&Te.forEach(function(Wn){return n(U,Wn)}),at&&xs(U,Ae),je}function ye(U,z,W,ie){var je=K(W);if(typeof je!="function")throw Error(a(150));if(W=je.call(W),W==null)throw Error(a(151));for(var De=je=null,Te=z,Ae=z=0,Pt=null,We=W.next();Te!==null&&!We.done;Ae++,We=W.next()){Te.index>Ae?(Pt=Te,Te=null):Pt=Te.sibling;var Wn=ee(U,Te,We.value,ie);if(Wn===null){Te===null&&(Te=Pt);break}e&&Te&&Wn.alternate===null&&n(U,Te),z=x(Wn,z,Ae),De===null?je=Wn:De.sibling=Wn,De=Wn,Te=Pt}if(We.done)return o(U,Te),at&&xs(U,Ae),je;if(Te===null){for(;!We.done;Ae++,We=W.next())We=ae(U,We.value,ie),We!==null&&(z=x(We,z,Ae),De===null?je=We:De.sibling=We,De=We);return at&&xs(U,Ae),je}for(Te=d(U,Te);!We.done;Ae++,We=W.next())We=ue(Te,U,Ae,We.value,ie),We!==null&&(e&&We.alternate!==null&&Te.delete(We.key===null?Ae:We.key),z=x(We,z,Ae),De===null?je=We:De.sibling=We,De=We);return e&&Te.forEach(function(Ay){return n(U,Ay)}),at&&xs(U,Ae),je}function ht(U,z,W,ie){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case M:e:{for(var je=W.key,De=z;De!==null;){if(De.key===je){if(je=W.type,je===D){if(De.tag===7){o(U,De.sibling),z=h(De,W.props.children),z.return=U,U=z;break e}}else if(De.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===X&&Hf(je)===De.type){o(U,De.sibling),z=h(De,W.props),z.ref=Ya(U,De,W),z.return=U,U=z;break e}o(U,De);break}else n(U,De);De=De.sibling}W.type===D?(z=Ss(W.props.children,U.mode,ie,W.key),z.return=U,U=z):(ie=Dl(W.type,W.key,W.props,null,U.mode,ie),ie.ref=Ya(U,z,W),ie.return=U,U=ie)}return E(U);case R:e:{for(De=W.key;z!==null;){if(z.key===De)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){o(U,z.sibling),z=h(z,W.children||[]),z.return=U,U=z;break e}else{o(U,z);break}else n(U,z);z=z.sibling}z=ad(W,U.mode,ie),z.return=U,U=z}return E(U);case X:return De=W._init,ht(U,z,De(W._payload),ie)}if(Qr(W))return xe(U,z,W,ie);if(K(W))return ye(U,z,W,ie);ol(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(o(U,z.sibling),z=h(z,W),z.return=U,U=z):(o(U,z),z=sd(W,U.mode,ie),z.return=U,U=z),E(U)):o(U,z)}return ht}var Xs=Yf(!0),Gf=Yf(!1),ll=An(null),il=null,Js=null,hc=null;function pc(){hc=Js=il=null}function gc(e){var n=ll.current;rt(ll),e._currentValue=n}function xc(e,n,o){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===o)break;e=e.return}}function Zs(e,n){il=e,hc=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Yt=!0),e.firstContext=null)}function fr(e){var n=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:n,next:null},Js===null){if(il===null)throw Error(a(308));Js=e,il.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return n}var ys=null;function yc(e){ys===null?ys=[e]:ys.push(e)}function qf(e,n,o,d){var h=n.interleaved;return h===null?(o.next=o,yc(n)):(o.next=h.next,h.next=o),n.interleaved=o,an(e,d)}function an(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Ln=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function On(e,n,o){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var h=d.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),d.pending=n,an(e,o)}return h=d.interleaved,h===null?(n.next=n,yc(d)):(n.next=h.next,h.next=n),d.interleaved=n,an(e,o)}function cl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Ai(e,o)}}function Qf(e,n){var o=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var h=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var E={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};x===null?h=x=E:x=x.next=E,o=o.next}while(o!==null);x===null?h=x=n:x=x.next=n}else h=x=n;o={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:d.shared,effects:d.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function dl(e,n,o,d){var h=e.updateQueue;Ln=!1;var x=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var F=A,H=F.next;F.next=null,E===null?x=H:E.next=H,E=F;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==E&&(A===null?ne.firstBaseUpdate=H:A.next=H,ne.lastBaseUpdate=F))}if(x!==null){var ae=h.baseState;E=0,ne=H=F=null,A=x;do{var ee=A.lane,ue=A.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var xe=e,ye=A;switch(ee=n,ue=o,ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){ae=xe.call(ue,ae,ee);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,ee=typeof xe=="function"?xe.call(ue,ae,ee):xe,ee==null)break e;ae=Y({},ae,ee);break e;case 2:Ln=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,ee=h.effects,ee===null?h.effects=[A]:ee.push(A))}else ue={eventTime:ue,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(H=ne=ue,F=ae):ne=ne.next=ue,E|=ee;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);if(ne===null&&(F=ae),h.baseState=F,h.firstBaseUpdate=H,h.lastBaseUpdate=ne,n=h.shared.interleaved,n!==null){h=n;do E|=h.lane,h=h.next;while(h!==n)}else x===null&&(h.shared.lanes=0);ws|=E,e.lanes=E,e.memoizedState=ae}}function Xf(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],h=d.callback;if(h!==null){if(d.callback=null,d=o,typeof h!="function")throw Error(a(191,h));h.call(d)}}}var Ga={},$r=An(Ga),qa=An(Ga),Ka=An(Ga);function vs(e){if(e===Ga)throw Error(a(174));return e}function bc(e,n){switch(Xe(Ka,n),Xe(qa,e),Xe($r,Ga),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ft(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ft(n,e)}rt($r),Xe($r,n)}function ea(){rt($r),rt(qa),rt(Ka)}function Jf(e){vs(Ka.current);var n=vs($r.current),o=Ft(n,e.type);n!==o&&(Xe(qa,e),Xe($r,o))}function wc(e){qa.current===e&&(rt($r),rt(qa))}var lt=An(0);function ul(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jc=[];function Nc(){for(var e=0;e<jc.length;e++)jc[e]._workInProgressVersionPrimary=null;jc.length=0}var fl=I.ReactCurrentDispatcher,Cc=I.ReactCurrentBatchConfig,bs=0,it=null,Nt=null,kt=null,ml=!1,Qa=!1,Xa=0,ty=0;function _t(){throw Error(a(321))}function Sc(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!br(e[o],n[o]))return!1;return!0}function Ec(e,n,o,d,h,x){if(bs=x,it=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,fl.current=e===null||e.memoizedState===null?ay:oy,e=o(d,h),Qa){x=0;do{if(Qa=!1,Xa=0,25<=x)throw Error(a(301));x+=1,kt=Nt=null,n.updateQueue=null,fl.current=ly,e=o(d,h)}while(Qa)}if(fl.current=gl,n=Nt!==null&&Nt.next!==null,bs=0,kt=Nt=it=null,ml=!1,n)throw Error(a(300));return e}function kc(){var e=Xa!==0;return Xa=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=e:kt=kt.next=e,kt}function mr(){if(Nt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var n=kt===null?it.memoizedState:kt.next;if(n!==null)kt=n,Nt=e;else{if(e===null)throw Error(a(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},kt===null?it.memoizedState=kt=e:kt=kt.next=e}return kt}function Ja(e,n){return typeof n=="function"?n(e):n}function Rc(e){var n=mr(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var d=Nt,h=d.baseQueue,x=o.pending;if(x!==null){if(h!==null){var E=h.next;h.next=x.next,x.next=E}d.baseQueue=h=x,o.pending=null}if(h!==null){x=h.next,d=d.baseState;var A=E=null,F=null,H=x;do{var ne=H.lane;if((bs&ne)===ne)F!==null&&(F=F.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:e(d,H.action);else{var ae={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};F===null?(A=F=ae,E=d):F=F.next=ae,it.lanes|=ne,ws|=ne}H=H.next}while(H!==null&&H!==x);F===null?E=d:F.next=A,br(d,n.memoizedState)||(Yt=!0),n.memoizedState=d,n.baseState=E,n.baseQueue=F,o.lastRenderedState=d}if(e=o.interleaved,e!==null){h=e;do x=h.lane,it.lanes|=x,ws|=x,h=h.next;while(h!==e)}else h===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Pc(e){var n=mr(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var d=o.dispatch,h=o.pending,x=n.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do x=e(x,E.action),E=E.next;while(E!==h);br(x,n.memoizedState)||(Yt=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),o.lastRenderedState=x}return[x,d]}function Zf(){}function em(e,n){var o=it,d=mr(),h=n(),x=!br(d.memoizedState,h);if(x&&(d.memoizedState=h,Yt=!0),d=d.queue,Dc(nm.bind(null,o,d,e),[e]),d.getSnapshot!==n||x||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,Za(9,rm.bind(null,o,d,h,n),void 0,null),Rt===null)throw Error(a(349));(bs&30)!==0||tm(o,n,h)}return h}function tm(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function rm(e,n,o,d){n.value=o,n.getSnapshot=d,sm(n)&&am(e)}function nm(e,n,o){return o(function(){sm(n)&&am(e)})}function sm(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!br(e,o)}catch{return!0}}function am(e){var n=an(e,1);n!==null&&Sr(n,e,1,-1)}function om(e){var n=zr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e},n.queue=e,e=e.dispatch=sy.bind(null,it,e),[n.memoizedState,e]}function Za(e,n,o,d){return e={tag:e,create:n,destroy:o,deps:d,next:null},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(d=o.next,o.next=e,e.next=d,n.lastEffect=e)),e}function lm(){return mr().memoizedState}function hl(e,n,o,d){var h=zr();it.flags|=e,h.memoizedState=Za(1|n,o,void 0,d===void 0?null:d)}function pl(e,n,o,d){var h=mr();d=d===void 0?null:d;var x=void 0;if(Nt!==null){var E=Nt.memoizedState;if(x=E.destroy,d!==null&&Sc(d,E.deps)){h.memoizedState=Za(n,o,x,d);return}}it.flags|=e,h.memoizedState=Za(1|n,o,x,d)}function im(e,n){return hl(8390656,8,e,n)}function Dc(e,n){return pl(2048,8,e,n)}function cm(e,n){return pl(4,2,e,n)}function dm(e,n){return pl(4,4,e,n)}function um(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fm(e,n,o){return o=o!=null?o.concat([e]):null,pl(4,4,um.bind(null,n,e),o)}function Tc(){}function mm(e,n){var o=mr();n=n===void 0?null:n;var d=o.memoizedState;return d!==null&&n!==null&&Sc(n,d[1])?d[0]:(o.memoizedState=[e,n],e)}function hm(e,n){var o=mr();n=n===void 0?null:n;var d=o.memoizedState;return d!==null&&n!==null&&Sc(n,d[1])?d[0]:(e=e(),o.memoizedState=[e,n],e)}function pm(e,n,o){return(bs&21)===0?(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=o):(br(o,n)||(o=Wu(),it.lanes|=o,ws|=o,e.baseState=!0),n)}function ry(e,n){var o=qe;qe=o!==0&&4>o?o:4,e(!0);var d=Cc.transition;Cc.transition={};try{e(!1),n()}finally{qe=o,Cc.transition=d}}function gm(){return mr().memoizedState}function ny(e,n,o){var d=Vn(e);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},xm(e))ym(n,o);else if(o=qf(e,n,o,d),o!==null){var h=zt();Sr(o,e,d,h),vm(o,n,d)}}function sy(e,n,o){var d=Vn(e),h={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(xm(e))ym(n,h);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var E=n.lastRenderedState,A=x(E,o);if(h.hasEagerState=!0,h.eagerState=A,br(A,E)){var F=n.interleaved;F===null?(h.next=h,yc(n)):(h.next=F.next,F.next=h),n.interleaved=h;return}}catch{}finally{}o=qf(e,n,h,d),o!==null&&(h=zt(),Sr(o,e,d,h),vm(o,n,d))}}function xm(e){var n=e.alternate;return e===it||n!==null&&n===it}function ym(e,n){Qa=ml=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function vm(e,n,o){if((o&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Ai(e,o)}}var gl={readContext:fr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},ay={readContext:fr,useCallback:function(e,n){return zr().memoizedState=[e,n===void 0?null:n],e},useContext:fr,useEffect:im,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,hl(4194308,4,um.bind(null,n,e),o)},useLayoutEffect:function(e,n){return hl(4194308,4,e,n)},useInsertionEffect:function(e,n){return hl(4,2,e,n)},useMemo:function(e,n){var o=zr();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var d=zr();return n=o!==void 0?o(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=ny.bind(null,it,e),[d.memoizedState,e]},useRef:function(e){var n=zr();return e={current:e},n.memoizedState=e},useState:om,useDebugValue:Tc,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=om(!1),n=e[0];return e=ry.bind(null,e[1]),zr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var d=it,h=zr();if(at){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Rt===null)throw Error(a(349));(bs&30)!==0||tm(d,n,o)}h.memoizedState=o;var x={value:o,getSnapshot:n};return h.queue=x,im(nm.bind(null,d,x,e),[e]),d.flags|=2048,Za(9,rm.bind(null,d,x,o,n),void 0,null),o},useId:function(){var e=zr(),n=Rt.identifierPrefix;if(at){var o=sn,d=nn;o=(d&~(1<<32-Ut(d)-1)).toString(32)+o,n=":"+n+"R"+o,o=Xa++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=ty++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},oy={readContext:fr,useCallback:mm,useContext:fr,useEffect:Dc,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:dm,useMemo:hm,useReducer:Rc,useRef:lm,useState:function(){return Rc(Ja)},useDebugValue:Tc,useDeferredValue:function(e){var n=mr();return pm(n,Nt.memoizedState,e)},useTransition:function(){var e=Rc(Ja)[0],n=mr().memoizedState;return[e,n]},useMutableSource:Zf,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1},ly={readContext:fr,useCallback:mm,useContext:fr,useEffect:Dc,useImperativeHandle:fm,useInsertionEffect:cm,useLayoutEffect:dm,useMemo:hm,useReducer:Pc,useRef:lm,useState:function(){return Pc(Ja)},useDebugValue:Tc,useDeferredValue:function(e){var n=mr();return Nt===null?n.memoizedState=e:pm(n,Nt.memoizedState,e)},useTransition:function(){var e=Pc(Ja)[0],n=mr().memoizedState;return[e,n]},useMutableSource:Zf,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1};function jr(e,n){if(e&&e.defaultProps){n=Y({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Mc(e,n,o,d){n=e.memoizedState,o=o(d,n),o=o==null?n:Y({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var xl={isMounted:function(e){return(e=e._reactInternals)?He(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var d=zt(),h=Vn(e),x=on(d,h);x.payload=n,o!=null&&(x.callback=o),n=On(e,x,h),n!==null&&(Sr(n,e,h,d),cl(n,e,h))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var d=zt(),h=Vn(e),x=on(d,h);x.tag=1,x.payload=n,o!=null&&(x.callback=o),n=On(e,x,h),n!==null&&(Sr(n,e,h,d),cl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=zt(),d=Vn(e),h=on(o,d);h.tag=2,n!=null&&(h.callback=n),n=On(e,h,d),n!==null&&(Sr(n,e,d,o),cl(n,e,d))}};function bm(e,n,o,d,h,x,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,x,E):n.prototype&&n.prototype.isPureReactComponent?!$a(o,d)||!$a(h,x):!0}function wm(e,n,o){var d=!1,h=In,x=n.contextType;return typeof x=="object"&&x!==null?x=fr(x):(h=Ht(n)?ps:It.current,d=n.contextTypes,x=(d=d!=null)?Gs(e,h):In),n=new n(o,x),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=xl,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=x),n}function jm(e,n,o,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,d),n.state!==e&&xl.enqueueReplaceState(n,n.state,null)}function Ac(e,n,o,d){var h=e.stateNode;h.props=o,h.state=e.memoizedState,h.refs={},vc(e);var x=n.contextType;typeof x=="object"&&x!==null?h.context=fr(x):(x=Ht(n)?ps:It.current,h.context=Gs(e,x)),h.state=e.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Mc(e,n,x,o),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&xl.enqueueReplaceState(h,h.state,null),dl(e,o,h,d),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ta(e,n){try{var o="",d=n;do o+=Se(d),d=d.return;while(d);var h=o}catch(x){h=`
Error generating stack: `+x.message+`
`+x.stack}return{value:e,source:n,stack:h,digest:null}}function Ic(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function _c(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var iy=typeof WeakMap=="function"?WeakMap:Map;function Nm(e,n,o){o=on(-1,o),o.tag=3,o.payload={element:null};var d=n.value;return o.callback=function(){Cl||(Cl=!0,Qc=d),_c(e,n)},o}function Cm(e,n,o){o=on(-1,o),o.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var h=n.value;o.payload=function(){return d(h)},o.callback=function(){_c(e,n)}}var x=e.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){_c(e,n),typeof d!="function"&&($n===null?$n=new Set([this]):$n.add(this));var E=n.stack;this.componentDidCatch(n.value,{componentStack:E!==null?E:""})}),o}function Sm(e,n,o){var d=e.pingCache;if(d===null){d=e.pingCache=new iy;var h=new Set;d.set(n,h)}else h=d.get(n),h===void 0&&(h=new Set,d.set(n,h));h.has(o)||(h.add(o),e=jy.bind(null,e,n,o),n.then(e,e))}function Em(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function km(e,n,o,d,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=on(-1,1),n.tag=2,On(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var cy=I.ReactCurrentOwner,Yt=!1;function $t(e,n,o,d){n.child=e===null?Gf(n,null,o,d):Xs(n,e.child,o,d)}function Rm(e,n,o,d,h){o=o.render;var x=n.ref;return Zs(n,h),d=Ec(e,n,o,d,x,h),o=kc(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ln(e,n,h)):(at&&o&&cc(n),n.flags|=1,$t(e,n,d,h),n.child)}function Pm(e,n,o,d,h){if(e===null){var x=o.type;return typeof x=="function"&&!nd(x)&&x.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=x,Dm(e,n,x,d,h)):(e=Dl(o.type,null,d,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(x=e.child,(e.lanes&h)===0){var E=x.memoizedProps;if(o=o.compare,o=o!==null?o:$a,o(E,d)&&e.ref===n.ref)return ln(e,n,h)}return n.flags|=1,e=Un(x,d),e.ref=n.ref,e.return=n,n.child=e}function Dm(e,n,o,d,h){if(e!==null){var x=e.memoizedProps;if($a(x,d)&&e.ref===n.ref)if(Yt=!1,n.pendingProps=d=x,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Yt=!0);else return n.lanes=e.lanes,ln(e,n,h)}return Lc(e,n,o,d,h)}function Tm(e,n,o){var d=n.pendingProps,h=d.children,x=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(na,nr),nr|=o;else{if((o&1073741824)===0)return e=x!==null?x.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Xe(na,nr),nr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:o,Xe(na,nr),nr|=d}else x!==null?(d=x.baseLanes|o,n.memoizedState=null):d=o,Xe(na,nr),nr|=d;return $t(e,n,h,o),n.child}function Mm(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Lc(e,n,o,d,h){var x=Ht(o)?ps:It.current;return x=Gs(n,x),Zs(n,h),o=Ec(e,n,o,d,x,h),d=kc(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ln(e,n,h)):(at&&d&&cc(n),n.flags|=1,$t(e,n,o,h),n.child)}function Am(e,n,o,d,h){if(Ht(o)){var x=!0;tl(n)}else x=!1;if(Zs(n,h),n.stateNode===null)vl(e,n),wm(n,o,d),Ac(n,o,d,h),d=!0;else if(e===null){var E=n.stateNode,A=n.memoizedProps;E.props=A;var F=E.context,H=o.contextType;typeof H=="object"&&H!==null?H=fr(H):(H=Ht(o)?ps:It.current,H=Gs(n,H));var ne=o.getDerivedStateFromProps,ae=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||F!==H)&&jm(n,E,d,H),Ln=!1;var ee=n.memoizedState;E.state=ee,dl(n,d,E,h),F=n.memoizedState,A!==d||ee!==F||Wt.current||Ln?(typeof ne=="function"&&(Mc(n,o,ne,d),F=n.memoizedState),(A=Ln||bm(n,o,A,d,ee,F,H))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=F),E.props=d,E.state=F,E.context=H,d=A):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{E=n.stateNode,Kf(e,n),A=n.memoizedProps,H=n.type===n.elementType?A:jr(n.type,A),E.props=H,ae=n.pendingProps,ee=E.context,F=o.contextType,typeof F=="object"&&F!==null?F=fr(F):(F=Ht(o)?ps:It.current,F=Gs(n,F));var ue=o.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==ae||ee!==F)&&jm(n,E,d,F),Ln=!1,ee=n.memoizedState,E.state=ee,dl(n,d,E,h);var xe=n.memoizedState;A!==ae||ee!==xe||Wt.current||Ln?(typeof ue=="function"&&(Mc(n,o,ue,d),xe=n.memoizedState),(H=Ln||bm(n,o,H,d,ee,xe,F)||!1)?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,xe,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,xe,F)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=xe),E.props=d,E.state=xe,E.context=F,d=H):(typeof E.componentDidUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),d=!1)}return Oc(e,n,o,d,x,h)}function Oc(e,n,o,d,h,x){Mm(e,n);var E=(n.flags&128)!==0;if(!d&&!E)return h&&Ff(n,o,!1),ln(e,n,x);d=n.stateNode,cy.current=n;var A=E&&typeof o.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&E?(n.child=Xs(n,e.child,null,x),n.child=Xs(n,null,A,x)):$t(e,n,A,x),n.memoizedState=d.state,h&&Ff(n,o,!0),n.child}function Im(e){var n=e.stateNode;n.pendingContext?Lf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Lf(e,n.context,!1),bc(e,n.containerInfo)}function _m(e,n,o,d,h){return Qs(),mc(h),n.flags|=256,$t(e,n,o,d),n.child}var Fc={dehydrated:null,treeContext:null,retryLane:0};function $c(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lm(e,n,o){var d=n.pendingProps,h=lt.current,x=!1,E=(n.flags&128)!==0,A;if((A=E)||(A=e!==null&&e.memoizedState===null?!1:(h&2)!==0),A?(x=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Xe(lt,h&1),e===null)return fc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(E=d.children,e=d.fallback,x?(d=n.mode,x=n.child,E={mode:"hidden",children:E},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=Tl(E,d,0,null),e=Ss(e,d,o,null),x.return=n,e.return=n,x.sibling=e,n.child=x,n.child.memoizedState=$c(o),n.memoizedState=Fc,e):zc(n,E));if(h=e.memoizedState,h!==null&&(A=h.dehydrated,A!==null))return dy(e,n,E,d,A,h,o);if(x){x=d.fallback,E=n.mode,h=e.child,A=h.sibling;var F={mode:"hidden",children:d.children};return(E&1)===0&&n.child!==h?(d=n.child,d.childLanes=0,d.pendingProps=F,n.deletions=null):(d=Un(h,F),d.subtreeFlags=h.subtreeFlags&14680064),A!==null?x=Un(A,x):(x=Ss(x,E,o,null),x.flags|=2),x.return=n,d.return=n,d.sibling=x,n.child=d,d=x,x=n.child,E=e.child.memoizedState,E=E===null?$c(o):{baseLanes:E.baseLanes|o,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=e.childLanes&~o,n.memoizedState=Fc,d}return x=e.child,e=x.sibling,d=Un(x,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=o),d.return=n,d.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=d,n.memoizedState=null,d}function zc(e,n){return n=Tl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function yl(e,n,o,d){return d!==null&&mc(d),Xs(n,e.child,null,o),e=zc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,o,d,h,x,E){if(o)return n.flags&256?(n.flags&=-257,d=Ic(Error(a(422))),yl(e,n,E,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(x=d.fallback,h=n.mode,d=Tl({mode:"visible",children:d.children},h,0,null),x=Ss(x,h,E,null),x.flags|=2,d.return=n,x.return=n,d.sibling=x,n.child=d,(n.mode&1)!==0&&Xs(n,e.child,null,E),n.child.memoizedState=$c(E),n.memoizedState=Fc,x);if((n.mode&1)===0)return yl(e,n,E,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var A=d.dgst;return d=A,x=Error(a(419)),d=Ic(x,d,void 0),yl(e,n,E,d)}if(A=(E&e.childLanes)!==0,Yt||A){if(d=Rt,d!==null){switch(E&-E){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|E))!==0?0:h,h!==0&&h!==x.retryLane&&(x.retryLane=h,an(e,h),Sr(d,e,h,-1))}return rd(),d=Ic(Error(a(421))),yl(e,n,E,d)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Ny.bind(null,e),h._reactRetry=n,null):(e=x.treeContext,rr=Mn(h.nextSibling),tr=n,at=!0,wr=null,e!==null&&(dr[ur++]=nn,dr[ur++]=sn,dr[ur++]=gs,nn=e.id,sn=e.overflow,gs=n),n=zc(n,d.children),n.flags|=4096,n)}function Om(e,n,o){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),xc(e.return,n,o)}function Vc(e,n,o,d,h){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:h}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=o,x.tailMode=h)}function Fm(e,n,o){var d=n.pendingProps,h=d.revealOrder,x=d.tail;if($t(e,n,d.children,o),d=lt.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Om(e,o,n);else if(e.tag===19)Om(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(Xe(lt,d),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(o=n.child,h=null;o!==null;)e=o.alternate,e!==null&&ul(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),Vc(n,!1,h,o,x);break;case"backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ul(e)===null){n.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Vc(n,!0,o,null,x);break;case"together":Vc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ln(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Un(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Un(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function uy(e,n,o){switch(n.tag){case 3:Im(n),Qs();break;case 5:Jf(n);break;case 1:Ht(n.type)&&tl(n);break;case 4:bc(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,h=n.memoizedProps.value;Xe(ll,d._currentValue),d._currentValue=h;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(Xe(lt,lt.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Lm(e,n,o):(Xe(lt,lt.current&1),e=ln(e,n,o),e!==null?e.sibling:null);Xe(lt,lt.current&1);break;case 19:if(d=(o&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Fm(e,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Xe(lt,lt.current),d)break;return null;case 22:case 23:return n.lanes=0,Tm(e,n,o)}return ln(e,n,o)}var $m,Bc,zm,Vm;$m=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Bc=function(){},zm=function(e,n,o,d){var h=e.memoizedProps;if(h!==d){e=n.stateNode,vs($r.current);var x=null;switch(o){case"input":h=mt(e,h),d=mt(e,d),x=[];break;case"select":h=Y({},h,{value:void 0}),d=Y({},d,{value:void 0}),x=[];break;case"textarea":h=Jt(e,h),d=Jt(e,d),x=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Jo)}_r(o,d);var E;o=null;for(H in h)if(!d.hasOwnProperty(H)&&h.hasOwnProperty(H)&&h[H]!=null)if(H==="style"){var A=h[H];for(E in A)A.hasOwnProperty(E)&&(o||(o={}),o[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?x||(x=[]):(x=x||[]).push(H,null));for(H in d){var F=d[H];if(A=h?.[H],d.hasOwnProperty(H)&&F!==A&&(F!=null||A!=null))if(H==="style")if(A){for(E in A)!A.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(o||(o={}),o[E]="");for(E in F)F.hasOwnProperty(E)&&A[E]!==F[E]&&(o||(o={}),o[E]=F[E])}else o||(x||(x=[]),x.push(H,o)),o=F;else H==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,A=A?A.__html:void 0,F!=null&&A!==F&&(x=x||[]).push(H,F)):H==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(H,""+F):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?(F!=null&&H==="onScroll"&&tt("scroll",e),x||A===F||(x=[])):(x=x||[]).push(H,F))}o&&(x=x||[]).push("style",o);var H=x;(n.updateQueue=H)&&(n.flags|=4)}},Vm=function(e,n,o,d){o!==d&&(n.flags|=4)};function eo(e,n){if(!at)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,d=0;if(n)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=d,e.childLanes=o,n}function fy(e,n,o){var d=n.pendingProps;switch(dc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Ht(n.type)&&el(),Lt(n),null;case 3:return d=n.stateNode,ea(),rt(Wt),rt(It),Nc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(al(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wr!==null&&(Zc(wr),wr=null))),Bc(e,n),Lt(n),null;case 5:wc(n);var h=vs(Ka.current);if(o=n.type,e!==null&&n.stateNode!=null)zm(e,n,o,d,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(a(166));return Lt(n),null}if(e=vs($r.current),al(n)){d=n.stateNode,o=n.type;var x=n.memoizedProps;switch(d[Fr]=n,d[Wa]=x,e=(n.mode&1)!==0,o){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(h=0;h<Va.length;h++)tt(Va[h],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":Tr(d,x),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},tt("invalid",d);break;case"textarea":Ir(d,x),tt("invalid",d)}_r(o,x),h=null;for(var E in x)if(x.hasOwnProperty(E)){var A=x[E];E==="children"?typeof A=="string"?d.textContent!==A&&(x.suppressHydrationWarning!==!0&&Xo(d.textContent,A,e),h=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(x.suppressHydrationWarning!==!0&&Xo(d.textContent,A,e),h=["children",""+A]):i.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&tt("scroll",d)}switch(o){case"input":_e(d),_s(d,x,!0);break;case"textarea":_e(d),wn(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Jo)}d=h,n.updateQueue=d,d!==null&&(n.flags|=4)}else{E=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zt(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=E.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=E.createElement(o,{is:d.is}):(e=E.createElement(o),o==="select"&&(E=e,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):e=E.createElementNS(e,o),e[Fr]=n,e[Wa]=d,$m(e,n,!1,!1),n.stateNode=e;e:{switch(E=At(o,d),o){case"dialog":tt("cancel",e),tt("close",e),h=d;break;case"iframe":case"object":case"embed":tt("load",e),h=d;break;case"video":case"audio":for(h=0;h<Va.length;h++)tt(Va[h],e);h=d;break;case"source":tt("error",e),h=d;break;case"img":case"image":case"link":tt("error",e),tt("load",e),h=d;break;case"details":tt("toggle",e),h=d;break;case"input":Tr(e,d),h=mt(e,d),tt("invalid",e);break;case"option":h=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},h=Y({},d,{value:void 0}),tt("invalid",e);break;case"textarea":Ir(e,d),h=Jt(e,d),tt("invalid",e);break;default:h=d}_r(o,h),A=h;for(x in A)if(A.hasOwnProperty(x)){var F=A[x];x==="style"?et(e,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jn(e,F)):x==="children"?typeof F=="string"?(o!=="textarea"||F!=="")&&Jr(e,F):typeof F=="number"&&Jr(e,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?F!=null&&x==="onScroll"&&tt("scroll",e):F!=null&&P(e,x,F,E))}switch(o){case"input":_e(e),_s(e,d,!1);break;case"textarea":_e(e),wn(e);break;case"option":d.value!=null&&e.setAttribute("value",""+me(d.value));break;case"select":e.multiple=!!d.multiple,x=d.value,x!=null?Ar(e,!!d.multiple,x,!1):d.defaultValue!=null&&Ar(e,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Jo)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Lt(n),null;case 6:if(e&&n.stateNode!=null)Vm(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(a(166));if(o=vs(Ka.current),vs($r.current),al(n)){if(d=n.stateNode,o=n.memoizedProps,d[Fr]=n,(x=d.nodeValue!==o)&&(e=tr,e!==null))switch(e.tag){case 3:Xo(d.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xo(d.nodeValue,o,(e.mode&1)!==0)}x&&(n.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Fr]=n,n.stateNode=d}return Lt(n),null;case 13:if(rt(lt),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&rr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Wf(),Qs(),n.flags|=98560,x=!1;else if(x=al(n),d!==null&&d.dehydrated!==null){if(e===null){if(!x)throw Error(a(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));x[Fr]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),x=!1}else wr!==null&&(Zc(wr),wr=null),x=!0;if(!x)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(lt.current&1)!==0?Ct===0&&(Ct=3):rd())),n.updateQueue!==null&&(n.flags|=4),Lt(n),null);case 4:return ea(),Bc(e,n),e===null&&Ba(n.stateNode.containerInfo),Lt(n),null;case 10:return gc(n.type._context),Lt(n),null;case 17:return Ht(n.type)&&el(),Lt(n),null;case 19:if(rt(lt),x=n.memoizedState,x===null)return Lt(n),null;if(d=(n.flags&128)!==0,E=x.rendering,E===null)if(d)eo(x,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=ul(e),E!==null){for(n.flags|=128,eo(x,!1),d=E.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=o,o=n.child;o!==null;)x=o,e=d,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=e,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,e=E.dependencies,x.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Xe(lt,lt.current&1|2),n.child}e=e.sibling}x.tail!==null&&Qe()>sa&&(n.flags|=128,d=!0,eo(x,!1),n.lanes=4194304)}else{if(!d)if(e=ul(E),e!==null){if(n.flags|=128,d=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),eo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!at)return Lt(n),null}else 2*Qe()-x.renderingStartTime>sa&&o!==1073741824&&(n.flags|=128,d=!0,eo(x,!1),n.lanes=4194304);x.isBackwards?(E.sibling=n.child,n.child=E):(o=x.last,o!==null?o.sibling=E:n.child=E,x.last=E)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=Qe(),n.sibling=null,o=lt.current,Xe(lt,d?o&1|2:o&1),n):(Lt(n),null);case 22:case 23:return td(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(nr&1073741824)!==0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function my(e,n){switch(dc(n),n.tag){case 1:return Ht(n.type)&&el(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ea(),rt(Wt),rt(It),Nc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return wc(n),null;case 13:if(rt(lt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(lt),null;case 4:return ea(),null;case 10:return gc(n.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var bl=!1,Ot=!1,hy=typeof WeakSet=="function"?WeakSet:Set,he=null;function ra(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){ct(e,n,d)}else o.current=null}function Uc(e,n,o){try{o()}catch(d){ct(e,n,d)}}var Bm=!1;function py(e,n){if(tc=zo,e=bf(),Gi(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var h=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var E=0,A=-1,F=-1,H=0,ne=0,ae=e,ee=null;t:for(;;){for(var ue;ae!==o||h!==0&&ae.nodeType!==3||(A=E+h),ae!==x||d!==0&&ae.nodeType!==3||(F=E+d),ae.nodeType===3&&(E+=ae.nodeValue.length),(ue=ae.firstChild)!==null;)ee=ae,ae=ue;for(;;){if(ae===e)break t;if(ee===o&&++H===h&&(A=E),ee===x&&++ne===d&&(F=E),(ue=ae.nextSibling)!==null)break;ae=ee,ee=ae.parentNode}ae=ue}o=A===-1||F===-1?null:{start:A,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(rc={focusedElem:e,selectionRange:o},zo=!1,he=n;he!==null;)if(n=he,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,he=e;else for(;he!==null;){n=he;try{var xe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var ye=xe.memoizedProps,ht=xe.memoizedState,U=n.stateNode,z=U.getSnapshotBeforeUpdate(n.elementType===n.type?ye:jr(n.type,ye),ht);U.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=n.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ie){ct(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,he=e;break}he=n.return}return xe=Bm,Bm=!1,xe}function to(e,n,o){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&e)===e){var x=h.destroy;h.destroy=void 0,x!==void 0&&Uc(n,o,x)}h=h.next}while(h!==d)}}function wl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var d=o.create;o.destroy=d()}o=o.next}while(o!==n)}}function Wc(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function Um(e){var n=e.alternate;n!==null&&(e.alternate=null,Um(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Fr],delete n[Wa],delete n[oc],delete n[Xx],delete n[Jx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wm(e){return e.tag===5||e.tag===3||e.tag===4}function Hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Jo));else if(d!==4&&(e=e.child,e!==null))for(Hc(e,n,o),e=e.sibling;e!==null;)Hc(e,n,o),e=e.sibling}function Yc(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Yc(e,n,o),e=e.sibling;e!==null;)Yc(e,n,o),e=e.sibling}var Dt=null,Nr=!1;function Fn(e,n,o){for(o=o.child;o!==null;)Ym(e,n,o),o=o.sibling}function Ym(e,n,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Or,o)}catch{}switch(o.tag){case 5:Ot||ra(o,n);case 6:var d=Dt,h=Nr;Dt=null,Fn(e,n,o),Dt=d,Nr=h,Dt!==null&&(Nr?(e=Dt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Dt.removeChild(o.stateNode));break;case 18:Dt!==null&&(Nr?(e=Dt,o=o.stateNode,e.nodeType===8?ac(e.parentNode,o):e.nodeType===1&&ac(e,o),Aa(e)):ac(Dt,o.stateNode));break;case 4:d=Dt,h=Nr,Dt=o.stateNode.containerInfo,Nr=!0,Fn(e,n,o),Dt=d,Nr=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var x=h,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&Uc(o,n,E),h=h.next}while(h!==d)}Fn(e,n,o);break;case 1:if(!Ot&&(ra(o,n),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(A){ct(o,n,A)}Fn(e,n,o);break;case 21:Fn(e,n,o);break;case 22:o.mode&1?(Ot=(d=Ot)||o.memoizedState!==null,Fn(e,n,o),Ot=d):Fn(e,n,o);break;default:Fn(e,n,o)}}function Gm(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new hy),n.forEach(function(d){var h=Cy.bind(null,e,d);o.has(d)||(o.add(d),d.then(h,h))})}}function Cr(e,n){var o=n.deletions;if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];try{var x=e,E=n,A=E;e:for(;A!==null;){switch(A.tag){case 5:Dt=A.stateNode,Nr=!1;break e;case 3:Dt=A.stateNode.containerInfo,Nr=!0;break e;case 4:Dt=A.stateNode.containerInfo,Nr=!0;break e}A=A.return}if(Dt===null)throw Error(a(160));Ym(x,E,h),Dt=null,Nr=!1;var F=h.alternate;F!==null&&(F.return=null),h.return=null}catch(H){ct(h,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)qm(n,e),n=n.sibling}function qm(e,n){var o=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(n,e),Vr(e),d&4){try{to(3,e,e.return),wl(3,e)}catch(ye){ct(e,e.return,ye)}try{to(5,e,e.return)}catch(ye){ct(e,e.return,ye)}}break;case 1:Cr(n,e),Vr(e),d&512&&o!==null&&ra(o,o.return);break;case 5:if(Cr(n,e),Vr(e),d&512&&o!==null&&ra(o,o.return),e.flags&32){var h=e.stateNode;try{Jr(h,"")}catch(ye){ct(e,e.return,ye)}}if(d&4&&(h=e.stateNode,h!=null)){var x=e.memoizedProps,E=o!==null?o.memoizedProps:x,A=e.type,F=e.updateQueue;if(e.updateQueue=null,F!==null)try{A==="input"&&x.type==="radio"&&x.name!=null&&Mr(h,x),At(A,E);var H=At(A,x);for(E=0;E<F.length;E+=2){var ne=F[E],ae=F[E+1];ne==="style"?et(h,ae):ne==="dangerouslySetInnerHTML"?jn(h,ae):ne==="children"?Jr(h,ae):P(h,ne,ae,H)}switch(A){case"input":ir(h,x);break;case"textarea":is(h,x);break;case"select":var ee=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?Ar(h,!!x.multiple,ue,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Ar(h,!!x.multiple,x.defaultValue,!0):Ar(h,!!x.multiple,x.multiple?[]:"",!1))}h[Wa]=x}catch(ye){ct(e,e.return,ye)}}break;case 6:if(Cr(n,e),Vr(e),d&4){if(e.stateNode===null)throw Error(a(162));h=e.stateNode,x=e.memoizedProps;try{h.nodeValue=x}catch(ye){ct(e,e.return,ye)}}break;case 3:if(Cr(n,e),Vr(e),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Aa(n.containerInfo)}catch(ye){ct(e,e.return,ye)}break;case 4:Cr(n,e),Vr(e);break;case 13:Cr(n,e),Vr(e),h=e.child,h.flags&8192&&(x=h.memoizedState!==null,h.stateNode.isHidden=x,!x||h.alternate!==null&&h.alternate.memoizedState!==null||(Kc=Qe())),d&4&&Gm(e);break;case 22:if(ne=o!==null&&o.memoizedState!==null,e.mode&1?(Ot=(H=Ot)||ne,Cr(n,e),Ot=H):Cr(n,e),Vr(e),d&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!ne&&(e.mode&1)!==0)for(he=e,ne=e.child;ne!==null;){for(ae=he=ne;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:to(4,ee,ee.return);break;case 1:ra(ee,ee.return);var xe=ee.stateNode;if(typeof xe.componentWillUnmount=="function"){d=ee,o=ee.return;try{n=d,xe.props=n.memoizedProps,xe.state=n.memoizedState,xe.componentWillUnmount()}catch(ye){ct(d,o,ye)}}break;case 5:ra(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Xm(ae);continue}}ue!==null?(ue.return=ee,he=ue):Xm(ae)}ne=ne.sibling}e:for(ne=null,ae=e;;){if(ae.tag===5){if(ne===null){ne=ae;try{h=ae.stateNode,H?(x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(A=ae.stateNode,F=ae.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,A.style.display=Ze("display",E))}catch(ye){ct(e,e.return,ye)}}}else if(ae.tag===6){if(ne===null)try{ae.stateNode.nodeValue=H?"":ae.memoizedProps}catch(ye){ct(e,e.return,ye)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;ne===ae&&(ne=null),ae=ae.return}ne===ae&&(ne=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Cr(n,e),Vr(e),d&4&&Gm(e);break;case 21:break;default:Cr(n,e),Vr(e)}}function Vr(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Wm(o)){var d=o;break e}o=o.return}throw Error(a(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Jr(h,""),d.flags&=-33);var x=Hm(e);Yc(e,x,h);break;case 3:case 4:var E=d.stateNode.containerInfo,A=Hm(e);Hc(e,A,E);break;default:throw Error(a(161))}}catch(F){ct(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e,n,o){he=e,Km(e)}function Km(e,n,o){for(var d=(e.mode&1)!==0;he!==null;){var h=he,x=h.child;if(h.tag===22&&d){var E=h.memoizedState!==null||bl;if(!E){var A=h.alternate,F=A!==null&&A.memoizedState!==null||Ot;A=bl;var H=Ot;if(bl=E,(Ot=F)&&!H)for(he=h;he!==null;)E=he,F=E.child,E.tag===22&&E.memoizedState!==null?Jm(h):F!==null?(F.return=E,he=F):Jm(h);for(;x!==null;)he=x,Km(x),x=x.sibling;he=h,bl=A,Ot=H}Qm(e)}else(h.subtreeFlags&8772)!==0&&x!==null?(x.return=h,he=x):Qm(e)}}function Qm(e){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ot||wl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Ot)if(o===null)d.componentDidMount();else{var h=n.elementType===n.type?o.memoizedProps:jr(n.type,o.memoizedProps);d.componentDidUpdate(h,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=n.updateQueue;x!==null&&Xf(n,x,d);break;case 3:var E=n.updateQueue;if(E!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Xf(n,E,o)}break;case 5:var A=n.stateNode;if(o===null&&n.flags&4){o=A;var F=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&o.focus();break;case"img":F.src&&(o.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var H=n.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var ae=ne.dehydrated;ae!==null&&Aa(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ot||n.flags&512&&Wc(n)}catch(ee){ct(n,n.return,ee)}}if(n===e){he=null;break}if(o=n.sibling,o!==null){o.return=n.return,he=o;break}he=n.return}}function Xm(e){for(;he!==null;){var n=he;if(n===e){he=null;break}var o=n.sibling;if(o!==null){o.return=n.return,he=o;break}he=n.return}}function Jm(e){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{wl(4,n)}catch(F){ct(n,o,F)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var h=n.return;try{d.componentDidMount()}catch(F){ct(n,h,F)}}var x=n.return;try{Wc(n)}catch(F){ct(n,x,F)}break;case 5:var E=n.return;try{Wc(n)}catch(F){ct(n,E,F)}}}catch(F){ct(n,n.return,F)}if(n===e){he=null;break}var A=n.sibling;if(A!==null){A.return=n.return,he=A;break}he=n.return}}var xy=Math.ceil,jl=I.ReactCurrentDispatcher,Gc=I.ReactCurrentOwner,hr=I.ReactCurrentBatchConfig,Ve=0,Rt=null,gt=null,Tt=0,nr=0,na=An(0),Ct=0,ro=null,ws=0,Nl=0,qc=0,no=null,Gt=null,Kc=0,sa=1/0,cn=null,Cl=!1,Qc=null,$n=null,Sl=!1,zn=null,El=0,so=0,Xc=null,kl=-1,Rl=0;function zt(){return(Ve&6)!==0?Qe():kl!==-1?kl:kl=Qe()}function Vn(e){return(e.mode&1)===0?1:(Ve&2)!==0&&Tt!==0?Tt&-Tt:ey.transition!==null?(Rl===0&&(Rl=Wu()),Rl):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Zu(e.type)),e)}function Sr(e,n,o,d){if(50<so)throw so=0,Xc=null,Error(a(185));Ra(e,o,d),((Ve&2)===0||e!==Rt)&&(e===Rt&&((Ve&2)===0&&(Nl|=o),Ct===4&&Bn(e,Tt)),qt(e,d),o===1&&Ve===0&&(n.mode&1)===0&&(sa=Qe()+500,rl&&_n()))}function qt(e,n){var o=e.callbackNode;ex(e,n);var d=Oo(e,e===Rt?Tt:0);if(d===0)o!==null&&vr(o),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(o!=null&&vr(o),n===1)e.tag===0?Zx(eh.bind(null,e)):$f(eh.bind(null,e)),Kx(function(){(Ve&6)===0&&_n()}),o=null;else{switch(Hu(d)){case 1:o=Sn;break;case 4:o=fs;break;case 16:o=ze;break;case 536870912:o=ms;break;default:o=ze}o=ih(o,Zm.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function Zm(e,n){if(kl=-1,Rl=0,(Ve&6)!==0)throw Error(a(327));var o=e.callbackNode;if(aa()&&e.callbackNode!==o)return null;var d=Oo(e,e===Rt?Tt:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=Pl(e,d);else{n=d;var h=Ve;Ve|=2;var x=rh();(Rt!==e||Tt!==n)&&(cn=null,sa=Qe()+500,Ns(e,n));do try{by();break}catch(A){th(e,A)}while(!0);pc(),jl.current=x,Ve=h,gt!==null?n=0:(Rt=null,Tt=0,n=Ct)}if(n!==0){if(n===2&&(h=Ti(e),h!==0&&(d=h,n=Jc(e,h))),n===1)throw o=ro,Ns(e,0),Bn(e,d),qt(e,Qe()),o;if(n===6)Bn(e,d);else{if(h=e.current.alternate,(d&30)===0&&!yy(h)&&(n=Pl(e,d),n===2&&(x=Ti(e),x!==0&&(d=x,n=Jc(e,x))),n===1))throw o=ro,Ns(e,0),Bn(e,d),qt(e,Qe()),o;switch(e.finishedWork=h,e.finishedLanes=d,n){case 0:case 1:throw Error(a(345));case 2:Cs(e,Gt,cn);break;case 3:if(Bn(e,d),(d&130023424)===d&&(n=Kc+500-Qe(),10<n)){if(Oo(e,0)!==0)break;if(h=e.suspendedLanes,(h&d)!==d){zt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=sc(Cs.bind(null,e,Gt,cn),n);break}Cs(e,Gt,cn);break;case 4:if(Bn(e,d),(d&4194240)===d)break;for(n=e.eventTimes,h=-1;0<d;){var E=31-Ut(d);x=1<<E,E=n[E],E>h&&(h=E),d&=~x}if(d=h,d=Qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*xy(d/1960))-d,10<d){e.timeoutHandle=sc(Cs.bind(null,e,Gt,cn),d);break}Cs(e,Gt,cn);break;case 5:Cs(e,Gt,cn);break;default:throw Error(a(329))}}}return qt(e,Qe()),e.callbackNode===o?Zm.bind(null,e):null}function Jc(e,n){var o=no;return e.current.memoizedState.isDehydrated&&(Ns(e,n).flags|=256),e=Pl(e,n),e!==2&&(n=Gt,Gt=o,n!==null&&Zc(n)),e}function Zc(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function yy(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var h=o[d],x=h.getSnapshot;h=h.value;try{if(!br(x(),h))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n){for(n&=~qc,n&=~Nl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Ut(n),d=1<<o;e[o]=-1,n&=~d}}function eh(e){if((Ve&6)!==0)throw Error(a(327));aa();var n=Oo(e,0);if((n&1)===0)return qt(e,Qe()),null;var o=Pl(e,n);if(e.tag!==0&&o===2){var d=Ti(e);d!==0&&(n=d,o=Jc(e,d))}if(o===1)throw o=ro,Ns(e,0),Bn(e,n),qt(e,Qe()),o;if(o===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Cs(e,Gt,cn),qt(e,Qe()),null}function ed(e,n){var o=Ve;Ve|=1;try{return e(n)}finally{Ve=o,Ve===0&&(sa=Qe()+500,rl&&_n())}}function js(e){zn!==null&&zn.tag===0&&(Ve&6)===0&&aa();var n=Ve;Ve|=1;var o=hr.transition,d=qe;try{if(hr.transition=null,qe=1,e)return e()}finally{qe=d,hr.transition=o,Ve=n,(Ve&6)===0&&_n()}}function td(){nr=na.current,rt(na)}function Ns(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,qx(o)),gt!==null)for(o=gt.return;o!==null;){var d=o;switch(dc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&el();break;case 3:ea(),rt(Wt),rt(It),Nc();break;case 5:wc(d);break;case 4:ea();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:gc(d.type._context);break;case 22:case 23:td()}o=o.return}if(Rt=e,gt=e=Un(e.current,null),Tt=nr=n,Ct=0,ro=null,qc=Nl=ws=0,Gt=no=null,ys!==null){for(n=0;n<ys.length;n++)if(o=ys[n],d=o.interleaved,d!==null){o.interleaved=null;var h=d.next,x=o.pending;if(x!==null){var E=x.next;x.next=h,d.next=E}o.pending=d}ys=null}return e}function th(e,n){do{var o=gt;try{if(pc(),fl.current=gl,ml){for(var d=it.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}ml=!1}if(bs=0,kt=Nt=it=null,Qa=!1,Xa=0,Gc.current=null,o===null||o.return===null){Ct=1,ro=n,gt=null;break}e:{var x=e,E=o.return,A=o,F=n;if(n=Tt,A.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=F,ne=A,ae=ne.tag;if((ne.mode&1)===0&&(ae===0||ae===11||ae===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Em(E);if(ue!==null){ue.flags&=-257,km(ue,E,A,x,n),ue.mode&1&&Sm(x,H,n),n=ue,F=H;var xe=n.updateQueue;if(xe===null){var ye=new Set;ye.add(F),n.updateQueue=ye}else xe.add(F);break e}else{if((n&1)===0){Sm(x,H,n),rd();break e}F=Error(a(426))}}else if(at&&A.mode&1){var ht=Em(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),km(ht,E,A,x,n),mc(ta(F,A));break e}}x=F=ta(F,A),Ct!==4&&(Ct=2),no===null?no=[x]:no.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,n&=-n,x.lanes|=n;var U=Nm(x,F,n);Qf(x,U);break e;case 1:A=F;var z=x.type,W=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&($n===null||!$n.has(W)))){x.flags|=65536,n&=-n,x.lanes|=n;var ie=Cm(x,A,n);Qf(x,ie);break e}}x=x.return}while(x!==null)}sh(o)}catch(je){n=je,gt===o&&o!==null&&(gt=o=o.return);continue}break}while(!0)}function rh(){var e=jl.current;return jl.current=gl,e===null?gl:e}function rd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Rt===null||(ws&268435455)===0&&(Nl&268435455)===0||Bn(Rt,Tt)}function Pl(e,n){var o=Ve;Ve|=2;var d=rh();(Rt!==e||Tt!==n)&&(cn=null,Ns(e,n));do try{vy();break}catch(h){th(e,h)}while(!0);if(pc(),Ve=o,jl.current=d,gt!==null)throw Error(a(261));return Rt=null,Tt=0,Ct}function vy(){for(;gt!==null;)nh(gt)}function by(){for(;gt!==null&&!cr();)nh(gt)}function nh(e){var n=lh(e.alternate,e,nr);e.memoizedProps=e.pendingProps,n===null?sh(e):gt=n,Gc.current=null}function sh(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=fy(o,n,nr),o!==null){gt=o;return}}else{if(o=my(o,n),o!==null){o.flags&=32767,gt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,gt=null;return}}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);Ct===0&&(Ct=5)}function Cs(e,n,o){var d=qe,h=hr.transition;try{hr.transition=null,qe=1,wy(e,n,o,d)}finally{hr.transition=h,qe=d}return null}function wy(e,n,o,d){do aa();while(zn!==null);if((Ve&6)!==0)throw Error(a(327));o=e.finishedWork;var h=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var x=o.lanes|o.childLanes;if(tx(e,x),e===Rt&&(gt=Rt=null,Tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Sl||(Sl=!0,ih(ze,function(){return aa(),null})),x=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||x){x=hr.transition,hr.transition=null;var E=qe;qe=1;var A=Ve;Ve|=4,Gc.current=null,py(e,o),qm(o,e),Vx(rc),zo=!!tc,rc=tc=null,e.current=o,gy(o),Ea(),Ve=A,qe=E,hr.transition=x}else e.current=o;if(Sl&&(Sl=!1,zn=e,El=h),x=e.pendingLanes,x===0&&($n=null),Os(o.stateNode),qt(e,Qe()),n!==null)for(d=e.onRecoverableError,o=0;o<n.length;o++)h=n[o],d(h.value,{componentStack:h.stack,digest:h.digest});if(Cl)throw Cl=!1,e=Qc,Qc=null,e;return(El&1)!==0&&e.tag!==0&&aa(),x=e.pendingLanes,(x&1)!==0?e===Xc?so++:(so=0,Xc=e):so=0,_n(),null}function aa(){if(zn!==null){var e=Hu(El),n=hr.transition,o=qe;try{if(hr.transition=null,qe=16>e?16:e,zn===null)var d=!1;else{if(e=zn,zn=null,El=0,(Ve&6)!==0)throw Error(a(331));var h=Ve;for(Ve|=4,he=e.current;he!==null;){var x=he,E=x.child;if((he.flags&16)!==0){var A=x.deletions;if(A!==null){for(var F=0;F<A.length;F++){var H=A[F];for(he=H;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:to(8,ne,x)}var ae=ne.child;if(ae!==null)ae.return=ne,he=ae;else for(;he!==null;){ne=he;var ee=ne.sibling,ue=ne.return;if(Um(ne),ne===H){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var xe=x.alternate;if(xe!==null){var ye=xe.child;if(ye!==null){xe.child=null;do{var ht=ye.sibling;ye.sibling=null,ye=ht}while(ye!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,he=E;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:to(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,he=U;break e}he=x.return}}var z=e.current;for(he=z;he!==null;){E=he;var W=E.child;if((E.subtreeFlags&2064)!==0&&W!==null)W.return=E,he=W;else e:for(E=z;he!==null;){if(A=he,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:wl(9,A)}}catch(je){ct(A,A.return,je)}if(A===E){he=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,he=ie;break e}he=A.return}}if(Ve=h,_n(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Or,e)}catch{}d=!0}return d}finally{qe=o,hr.transition=n}}return!1}function ah(e,n,o){n=ta(o,n),n=Nm(e,n,1),e=On(e,n,1),n=zt(),e!==null&&(Ra(e,1,n),qt(e,n))}function ct(e,n,o){if(e.tag===3)ah(e,e,o);else for(;n!==null;){if(n.tag===3){ah(n,e,o);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($n===null||!$n.has(d))){e=ta(o,e),e=Cm(n,e,1),n=On(n,e,1),e=zt(),n!==null&&(Ra(n,1,e),qt(n,e));break}}n=n.return}}function jy(e,n,o){var d=e.pingCache;d!==null&&d.delete(n),n=zt(),e.pingedLanes|=e.suspendedLanes&o,Rt===e&&(Tt&o)===o&&(Ct===4||Ct===3&&(Tt&130023424)===Tt&&500>Qe()-Kc?Ns(e,0):qc|=o),qt(e,n)}function oh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Lo,Lo<<=1,(Lo&130023424)===0&&(Lo=4194304)));var o=zt();e=an(e,n),e!==null&&(Ra(e,n,o),qt(e,o))}function Ny(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),oh(e,o)}function Cy(e,n){var o=0;switch(e.tag){case 13:var d=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(a(314))}d!==null&&d.delete(n),oh(e,o)}var lh;lh=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Wt.current)Yt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return Yt=!1,uy(e,n,o);Yt=(e.flags&131072)!==0}else Yt=!1,at&&(n.flags&1048576)!==0&&zf(n,sl,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;vl(e,n),e=n.pendingProps;var h=Gs(n,It.current);Zs(n,o),h=Ec(null,n,d,e,h,o);var x=kc();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ht(d)?(x=!0,tl(n)):x=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,vc(n),h.updater=xl,n.stateNode=h,h._reactInternals=n,Ac(n,d,e,o),n=Oc(null,n,d,!0,x,o)):(n.tag=0,at&&x&&cc(n),$t(null,n,h,o),n=n.child),n;case 16:d=n.elementType;e:{switch(vl(e,n),e=n.pendingProps,h=d._init,d=h(d._payload),n.type=d,h=n.tag=Ey(d),e=jr(d,e),h){case 0:n=Lc(null,n,d,e,o);break e;case 1:n=Am(null,n,d,e,o);break e;case 11:n=Rm(null,n,d,e,o);break e;case 14:n=Pm(null,n,d,jr(d.type,e),o);break e}throw Error(a(306,d,""))}return n;case 0:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),Lc(e,n,d,h,o);case 1:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),Am(e,n,d,h,o);case 3:e:{if(Im(n),e===null)throw Error(a(387));d=n.pendingProps,x=n.memoizedState,h=x.element,Kf(e,n),dl(n,d,null,o);var E=n.memoizedState;if(d=E.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){h=ta(Error(a(423)),n),n=_m(e,n,d,o,h);break e}else if(d!==h){h=ta(Error(a(424)),n),n=_m(e,n,d,o,h);break e}else for(rr=Mn(n.stateNode.containerInfo.firstChild),tr=n,at=!0,wr=null,o=Gf(n,null,d,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qs(),d===h){n=ln(e,n,o);break e}$t(e,n,d,o)}n=n.child}return n;case 5:return Jf(n),e===null&&fc(n),d=n.type,h=n.pendingProps,x=e!==null?e.memoizedProps:null,E=h.children,nc(d,h)?E=null:x!==null&&nc(d,x)&&(n.flags|=32),Mm(e,n),$t(e,n,E,o),n.child;case 6:return e===null&&fc(n),null;case 13:return Lm(e,n,o);case 4:return bc(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Xs(n,null,d,o):$t(e,n,d,o),n.child;case 11:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),Rm(e,n,d,h,o);case 7:return $t(e,n,n.pendingProps,o),n.child;case 8:return $t(e,n,n.pendingProps.children,o),n.child;case 12:return $t(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(d=n.type._context,h=n.pendingProps,x=n.memoizedProps,E=h.value,Xe(ll,d._currentValue),d._currentValue=E,x!==null)if(br(x.value,E)){if(x.children===h.children&&!Wt.current){n=ln(e,n,o);break e}}else for(x=n.child,x!==null&&(x.return=n);x!==null;){var A=x.dependencies;if(A!==null){E=x.child;for(var F=A.firstContext;F!==null;){if(F.context===d){if(x.tag===1){F=on(-1,o&-o),F.tag=2;var H=x.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),H.pending=F}}x.lanes|=o,F=x.alternate,F!==null&&(F.lanes|=o),xc(x.return,o,n),A.lanes|=o;break}F=F.next}}else if(x.tag===10)E=x.type===n.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(a(341));E.lanes|=o,A=E.alternate,A!==null&&(A.lanes|=o),xc(E,o,n),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===n){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}$t(e,n,h.children,o),n=n.child}return n;case 9:return h=n.type,d=n.pendingProps.children,Zs(n,o),h=fr(h),d=d(h),n.flags|=1,$t(e,n,d,o),n.child;case 14:return d=n.type,h=jr(d,n.pendingProps),h=jr(d.type,h),Pm(e,n,d,h,o);case 15:return Dm(e,n,n.type,n.pendingProps,o);case 17:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),vl(e,n),n.tag=1,Ht(d)?(e=!0,tl(n)):e=!1,Zs(n,o),wm(n,d,h),Ac(n,d,h,o),Oc(null,n,d,!0,e,o);case 19:return Fm(e,n,o);case 22:return Tm(e,n,o)}throw Error(a(156,n.tag))};function ih(e,n){return Cn(e,n)}function Sy(e,n,o,d){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,n,o,d){return new Sy(e,n,o,d)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ey(e){if(typeof e=="function")return nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===re)return 14}return 2}function Un(e,n){var o=e.alternate;return o===null?(o=pr(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Dl(e,n,o,d,h,x){var E=2;if(d=e,typeof e=="function")nd(e)&&(E=1);else if(typeof e=="string")E=5;else e:switch(e){case D:return Ss(o.children,h,x,n);case V:E=8,h|=8;break;case T:return e=pr(12,o,n,h|2),e.elementType=T,e.lanes=x,e;case Z:return e=pr(13,o,n,h),e.elementType=Z,e.lanes=x,e;case te:return e=pr(19,o,n,h),e.elementType=te,e.lanes=x,e;case se:return Tl(o,h,x,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:E=10;break e;case Q:E=9;break e;case J:E=11;break e;case re:E=14;break e;case X:E=16,d=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return n=pr(E,o,n,h),n.elementType=e,n.type=d,n.lanes=x,n}function Ss(e,n,o,d){return e=pr(7,e,d,n),e.lanes=o,e}function Tl(e,n,o,d){return e=pr(22,e,d,n),e.elementType=se,e.lanes=o,e.stateNode={isHidden:!1},e}function sd(e,n,o){return e=pr(6,e,null,n),e.lanes=o,e}function ad(e,n,o){return n=pr(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ky(e,n,o,d,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function od(e,n,o,d,h,x,E,A,F){return e=new ky(e,n,o,A,F),n===1?(n=1,x===!0&&(n|=8)):n=0,x=pr(3,null,null,n),e.current=x,x.stateNode=e,x.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(x),e}function Ry(e,n,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:d==null?null:""+d,children:e,containerInfo:n,implementation:o}}function ch(e){if(!e)return In;e=e._reactInternals;e:{if(He(e)!==e||e.tag!==1)throw Error(a(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(e.tag===1){var o=e.type;if(Ht(o))return Of(e,o,n)}return n}function dh(e,n,o,d,h,x,E,A,F){return e=od(o,d,!0,e,h,x,E,A,F),e.context=ch(null),o=e.current,d=zt(),h=Vn(o),x=on(d,h),x.callback=n??null,On(o,x,h),e.current.lanes=h,Ra(e,h,d),qt(e,d),e}function Ml(e,n,o,d){var h=n.current,x=zt(),E=Vn(h);return o=ch(o),n.context===null?n.context=o:n.pendingContext=o,n=on(x,E),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=On(h,n,E),e!==null&&(Sr(e,h,E,x),cl(e,h,E)),E}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function ld(e,n){uh(e,n),(e=e.alternate)&&uh(e,n)}function Py(){return null}var fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}Il.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));Ml(e,n,null,null)},Il.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;js(function(){Ml(null,e,null,null)}),n[tn]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var n=qu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Pn.length&&n!==0&&n<Pn[o].priority;o++);Pn.splice(o,0,e),o===0&&Xu(e)}};function cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mh(){}function Dy(e,n,o,d,h){if(h){if(typeof d=="function"){var x=d;d=function(){var H=Al(E);x.call(H)}}var E=dh(n,d,e,0,null,!1,!1,"",mh);return e._reactRootContainer=E,e[tn]=E.current,Ba(e.nodeType===8?e.parentNode:e),js(),E}for(;h=e.lastChild;)e.removeChild(h);if(typeof d=="function"){var A=d;d=function(){var H=Al(F);A.call(H)}}var F=od(e,0,!1,null,null,!1,!1,"",mh);return e._reactRootContainer=F,e[tn]=F.current,Ba(e.nodeType===8?e.parentNode:e),js(function(){Ml(n,F,o,d)}),F}function Ll(e,n,o,d,h){var x=o._reactRootContainer;if(x){var E=x;if(typeof h=="function"){var A=h;h=function(){var F=Al(E);A.call(F)}}Ml(n,E,e,h)}else E=Dy(o,n,e,h,d);return Al(E)}Yu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=ka(n.pendingLanes);o!==0&&(Ai(n,o|1),qt(n,Qe()),(Ve&6)===0&&(sa=Qe()+500,_n()))}break;case 13:js(function(){var d=an(e,1);if(d!==null){var h=zt();Sr(d,e,1,h)}}),ld(e,1)}},Ii=function(e){if(e.tag===13){var n=an(e,134217728);if(n!==null){var o=zt();Sr(n,e,134217728,o)}ld(e,134217728)}},Gu=function(e){if(e.tag===13){var n=Vn(e),o=an(e,n);if(o!==null){var d=zt();Sr(o,e,n,d)}ld(e,n)}},qu=function(){return qe},Ku=function(e,n){var o=qe;try{return qe=e,n()}finally{qe=o}},Ca=function(e,n,o){switch(n){case"input":if(ir(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var d=o[n];if(d!==e&&d.form===e.form){var h=Zo(d);if(!h)throw Error(a(90));Ue(d),ir(d,h)}}}break;case"textarea":is(e,o);break;case"select":n=o.value,n!=null&&Ar(e,!!o.multiple,n,!1)}},Ao=ed,Io=js;var Ty={usingClientEntryPoint:!1,Events:[Ha,Hs,Zo,ds,us,ed]},ao={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},My={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ke(e),e===null?null:e.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Or=Ol.inject(My),Ye=Ol}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty,Kt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(n))throw Error(a(200));return Ry(e,n,null,o)},Kt.createRoot=function(e,n){if(!cd(e))throw Error(a(299));var o=!1,d="",h=fh;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=od(e,1,!1,null,null,o,!1,d,h),e[tn]=n.current,Ba(e.nodeType===8?e.parentNode:e),new id(n)},Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Ke(n),e=e===null?null:e.stateNode,e},Kt.flushSync=function(e){return js(e)},Kt.hydrate=function(e,n,o){if(!_l(n))throw Error(a(200));return Ll(null,e,n,!0,o)},Kt.hydrateRoot=function(e,n,o){if(!cd(e))throw Error(a(405));var d=o!=null&&o.hydratedSources||null,h=!1,x="",E=fh;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),n=dh(n,null,e,1,o??null,h,!1,x,E),e[tn]=n.current,Ba(e),d)for(e=0;e<d.length;e++)o=d[e],h=o._getVersion,h=h(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,h]:n.mutableSourceEagerHydrationData.push(o,h);return new Il(n)},Kt.render=function(e,n,o){if(!_l(n))throw Error(a(200));return Ll(null,e,n,!1,o)},Kt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(a(40));return e._reactRootContainer?(js(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1},Kt.unstable_batchedUpdates=ed,Kt.unstable_renderSubtreeIntoContainer=function(e,n,o,d){if(!_l(o))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Ll(e,n,o,!1,d)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var wh;function Ep(){if(wh)return fd.exports;wh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),fd.exports=Vy(),fd.exports}var jh;function By(){if(jh)return Fl;jh=1;var t=Ep();return Fl.createRoot=t.createRoot,Fl.hydrateRoot=t.hydrateRoot,Fl}var Uy=By();const Wy=du(Uy);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kp=t=>{throw TypeError(t)},Hy=(t,s,a)=>s.has(t)||kp("Cannot "+a),pd=(t,s,a)=>(Hy(t,s,"read from private field"),a?a.call(t):s.get(t)),Yy=(t,s,a)=>s.has(t)?kp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),Nh="popstate";function Gy(t={}){function s(l,i){let{pathname:c,search:u,hash:f}=l.location;return yo("",{pathname:c,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(l,i){return typeof i=="string"?i:Jn(i)}return Ky(s,a,null,t)}function Fe(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function yt(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function qy(){return Math.random().toString(36).substring(2,10)}function Ch(t,s){return{usr:t.state,key:t.key,idx:s}}function yo(t,s,a=null,l){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?ss(s):s,state:a,key:s&&s.key||l||qy()}}function Jn({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ss(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let l=t.indexOf("?");l>=0&&(s.search=t.substring(l),t=t.substring(0,l)),t&&(s.pathname=t)}return s}function Ky(t,s,a,l={}){let{window:i=document.defaultView,v5Compat:c=!1}=l,u=i.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){f="POP";let C=y(),j=C==null?null:C-p;p=C,m&&m({action:f,location:N.location,delta:j})}function v(C,j){f="PUSH";let k=yo(N.location,C,j);p=y()+1;let P=Ch(k,p),I=N.createHref(k);try{u.pushState(P,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(I)}c&&m&&m({action:f,location:N.location,delta:1})}function w(C,j){f="REPLACE";let k=yo(N.location,C,j);p=y();let P=Ch(k,p),I=N.createHref(k);u.replaceState(P,"",I),c&&m&&m({action:f,location:N.location,delta:0})}function S(C){return Rp(C)}let N={get action(){return f},get location(){return t(i,u)},listen(C){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(Nh,b),m=C,()=>{i.removeEventListener(Nh,b),m=null}},createHref(C){return s(i,C)},createURL:S,encodeLocation(C){let j=S(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:w,go(C){return u.go(C)}};return N}function Rp(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(a,"No window.location.(origin|href) available to create URL");let l=typeof t=="string"?t:Jn(t);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=a+l),new URL(l,a)}var mo,Sh=class{constructor(t){if(Yy(this,mo,new Map),t)for(let[s,a]of t)this.set(s,a)}get(t){if(pd(this,mo).has(t))return pd(this,mo).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,s){pd(this,mo).set(t,s)}};mo=new WeakMap;var Qy=new Set(["lazy","caseSensitive","path","id","index","children"]);function Xy(t){return Qy.has(t)}var Jy=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Zy(t){return Jy.has(t)}function ev(t){return t.index===!0}function vo(t,s,a=[],l={},i=!1){return t.map((c,u)=>{let f=[...a,String(u)],m=typeof c.id=="string"?c.id:f.join("-");if(Fe(c.index!==!0||!c.children,"Cannot specify children on an index route"),Fe(i||!l[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),ev(c)){let p={...c,...s(c),id:m};return l[m]=p,p}else{let p={...c,...s(c),id:m,children:void 0};return l[m]=p,c.children&&(p.children=vo(c.children,s,f,l,i)),p}})}function Qn(t,s,a="/"){return Gl(t,s,a,!1)}function Gl(t,s,a,l){let i=typeof s=="string"?ss(s):s,c=yr(i.pathname||"/",a);if(c==null)return null;let u=Pp(t);rv(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=mv(c);f=uv(u[m],p,l)}return f}function tv(t,s){let{route:a,pathname:l,params:i}=t;return{id:a.id,pathname:l,params:i,data:s[a.id],handle:a.handle}}function Pp(t,s=[],a=[],l=""){let i=(c,u,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(Fe(m.relativePath.startsWith(l),`Absolute route path "${m.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(l.length));let p=Wr([l,m.relativePath]),y=a.concat(m);c.children&&c.children.length>0&&(Fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Pp(c.children,s,y,p)),!(c.path==null&&!c.index)&&s.push({path:p,score:cv(p,c.index),routesMeta:y})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))i(c,u);else for(let f of Dp(c.path))i(c,u,f)}),s}function Dp(t){let s=t.split("/");if(s.length===0)return[];let[a,...l]=s,i=a.endsWith("?"),c=a.replace(/\?$/,"");if(l.length===0)return i?[c,""]:[c];let u=Dp(l.join("/")),f=[];return f.push(...u.map(m=>m===""?c:[c,m].join("/"))),i&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function rv(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:dv(s.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}var nv=/^:[\w-]+$/,sv=3,av=2,ov=1,lv=10,iv=-2,Eh=t=>t==="*";function cv(t,s){let a=t.split("/"),l=a.length;return a.some(Eh)&&(l+=iv),s&&(l+=av),a.filter(i=>!Eh(i)).reduce((i,c)=>i+(nv.test(c)?sv:c===""?ov:lv),l)}function dv(t,s){return t.length===s.length&&t.slice(0,-1).every((l,i)=>l===s[i])?t[t.length-1]-s[s.length-1]:0}function uv(t,s,a=!1){let{routesMeta:l}=t,i={},c="/",u=[];for(let f=0;f<l.length;++f){let m=l[f],p=f===l.length-1,y=c==="/"?s:s.slice(c.length)||"/",b=ni({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),v=m.route;if(!b&&p&&a&&!l[l.length-1].route.index&&(b=ni({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:Wr([c,b.pathname]),pathnameBase:xv(Wr([c,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(c=Wr([c,b.pathnameBase]))}return u}function ni(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,l]=fv(t.path,t.caseSensitive,t.end),i=s.match(a);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:l.reduce((p,{paramName:y,isOptional:b},v)=>{if(y==="*"){let S=f[v]||"";u=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[v];return b&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:t}}function fv(t,s=!1,a=!0){yt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let l=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(l.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(l.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,s?void 0:"i"),l]}function mv(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return yt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function yr(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,l=t.charAt(a);return l&&l!=="/"?null:t.slice(a)||"/"}function hv({basename:t,pathname:s}){return s==="/"?t:Wr([t,s])}function pv(t,s="/"){let{pathname:a,search:l="",hash:i=""}=typeof t=="string"?ss(t):t;return{pathname:a?a.startsWith("/")?a:gv(a,s):s,search:yv(l),hash:vv(i)}}function gv(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function gd(t,s,a,l){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tp(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function fu(t){let s=Tp(t);return s.map((a,l)=>l===s.length-1?a.pathname:a.pathnameBase)}function mu(t,s,a,l=!1){let i;typeof t=="string"?i=ss(t):(i={...t},Fe(!i.pathname||!i.pathname.includes("?"),gd("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),gd("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),gd("#","search","hash",i)));let c=t===""||i.pathname==="",u=c?"/":i.pathname,f;if(u==null)f=a;else{let b=s.length-1;if(!l&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}f=b>=0?s[b]:"/"}let m=pv(i,f),p=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Wr=t=>t.join("/").replace(/\/\/+/g,"/"),xv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,si=class{constructor(t,s,a,l=!1){this.status=t,this.statusText=s||"",this.internal=l,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function bo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Mp=["POST","PUT","PATCH","DELETE"],bv=new Set(Mp),wv=["GET",...Mp],jv=new Set(wv),Nv=new Set([301,302,303,307,308]),Cv=new Set([307,308]),xd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hu=t=>Ev.test(t),kv=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Ap="remix-router-transitions",Ip=Symbol("ResetLoaderData");function Rv(t){const s=t.window?t.window:typeof window<"u"?window:void 0,a=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u";Fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=t.hydrationRouteProperties||[],i=t.mapRouteProperties||kv,c={},u=vo(t.routes,i,void 0,c),f,m=t.basename||"/",p=t.dataStrategy||Av,y={unstable_middleware:!1,...t.future},b=null,v=new Set,w=null,S=null,N=null,C=t.hydrationData!=null,j=Qn(u,t.history.location,m),k=!1,P=null,I;if(j==null&&!t.patchRoutesOnNavigation){let L=gr(404,{pathname:t.history.location.pathname}),{matches:B,route:G}=Fh(u);I=!0,j=B,P={[G.id]:L}}else if(j&&!t.hydrationData&&ds(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(L=>L.route.lazy))I=!1;else if(!j.some(L=>L.route.loader))I=!0;else{let L=t.hydrationData?t.hydrationData.loaderData:null,B=t.hydrationData?t.hydrationData.errors:null;if(B){let G=j.findIndex(oe=>B[oe.route.id]!==void 0);I=j.slice(0,G+1).every(oe=>!Od(oe.route,L,B))}else I=j.every(G=>!Od(G.route,L,B))}else{I=!1,j=[];let L=ds(null,u,t.history.location.pathname);L.active&&L.matches&&(k=!0,j=L.matches)}let M,R={historyAction:t.history.action,location:t.history.location,matches:j,initialized:I,navigation:xd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},D="POP",V=!1,T,O=!1,Q=new Map,J=null,Z=!1,te=!1,re=new Set,X=new Map,se=0,$=-1,K=new Map,Y=new Set,_=new Map,q=new Map,de=new Set,fe=new Map,Se,we=null;function le(){if(b=t.history.listen(({action:L,location:B,delta:G})=>{if(Se){Se(),Se=void 0;return}yt(fe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Ls({currentLocation:R.location,nextLocation:B,historyAction:L});if(oe&&G!=null){let ce=new Promise(Ce=>{Se=Ce});t.history.go(G*-1),At(oe,{state:"blocked",location:B,proceed(){At(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ce.then(()=>t.history.go(G))},reset(){let Ce=new Map(R.blockers);Ce.set(oe,lo),pe({blockers:Ce})}});return}return mt(L,B)}),a){Wv(s,Q);let L=()=>Hv(s,Q);s.addEventListener("pagehide",L),J=()=>s.removeEventListener("pagehide",L)}return R.initialized||mt("POP",R.location,{initialHydration:!0}),M}function me(){b&&b(),J&&J(),v.clear(),T&&T.abort(),R.fetchers.forEach((L,B)=>jn(B)),R.blockers.forEach((L,B)=>_r(B))}function Me(L){return v.add(L),()=>v.delete(L)}function pe(L,B={}){L.matches&&(L.matches=L.matches.map(ce=>{let Ce=c[ce.route.id],be=ce.route;return be.element!==Ce.element||be.errorElement!==Ce.errorElement||be.hydrateFallbackElement!==Ce.hydrateFallbackElement?{...ce,route:Ce}:ce})),R={...R,...L};let G=[],oe=[];R.fetchers.forEach((ce,Ce)=>{ce.state==="idle"&&(de.has(Ce)?G.push(Ce):oe.push(Ce))}),de.forEach(ce=>{!R.fetchers.has(ce)&&!X.has(ce)&&G.push(ce)}),[...v].forEach(ce=>ce(R,{deletedFetchers:G,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),G.forEach(ce=>jn(ce)),oe.forEach(ce=>R.fetchers.delete(ce))}function _e(L,B,{flushSync:G}={}){let oe=R.actionData!=null&&R.navigation.formMethod!=null&&Qt(R.navigation.formMethod)&&R.navigation.state==="loading"&&L.state?._isRedirect!==!0,ce;B.actionData?Object.keys(B.actionData).length>0?ce=B.actionData:ce=null:oe?ce=R.actionData:ce=null;let Ce=B.loaderData?Lh(R.loaderData,B.loaderData,B.matches||[],B.errors):R.loaderData,be=R.blockers;be.size>0&&(be=new Map(be),be.forEach((Ee,ke)=>be.set(ke,lo)));let ge=Z?!1:Sa(L,B.matches||R.matches),Ne=V===!0||R.navigation.formMethod!=null&&Qt(R.navigation.formMethod)&&L.state?._isRedirect!==!0;f&&(u=f,f=void 0),Z||D==="POP"||(D==="PUSH"?t.history.push(L,L.state):D==="REPLACE"&&t.history.replace(L,L.state));let Pe;if(D==="POP"){let Ee=Q.get(R.location.pathname);Ee&&Ee.has(L.pathname)?Pe={currentLocation:R.location,nextLocation:L}:Q.has(L.pathname)&&(Pe={currentLocation:L,nextLocation:R.location})}else if(O){let Ee=Q.get(R.location.pathname);Ee?Ee.add(L.pathname):(Ee=new Set([L.pathname]),Q.set(R.location.pathname,Ee)),Pe={currentLocation:R.location,nextLocation:L}}pe({...B,actionData:ce,loaderData:Ce,historyAction:D,location:L,initialized:!0,navigation:xd,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:Ne,blockers:be},{viewTransitionOpts:Pe,flushSync:G===!0}),D="POP",V=!1,O=!1,Z=!1,te=!1,we?.resolve(),we=null}async function Ue(L,B){if(typeof L=="number"){t.history.go(L);return}let G=Ld(R.location,R.matches,m,L,B?.fromRouteId,B?.relative),{path:oe,submission:ce,error:Ce}=kh(!1,G,B),be=R.location,ge=yo(R.location,oe,B&&B.state);ge={...ge,...t.history.encodeLocation(ge)};let Ne=B&&B.replace!=null?B.replace:void 0,Pe="PUSH";Ne===!0?Pe="REPLACE":Ne===!1||ce!=null&&Qt(ce.formMethod)&&ce.formAction===R.location.pathname+R.location.search&&(Pe="REPLACE");let Ee=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,ke=(B&&B.flushSync)===!0,$e=Ls({currentLocation:be,nextLocation:ge,historyAction:Pe});if($e){At($e,{state:"blocked",location:ge,proceed(){At($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Ue(L,B)},reset(){let He=new Map(R.blockers);He.set($e,lo),pe({blockers:He})}});return}await mt(Pe,ge,{submission:ce,pendingError:Ce,preventScrollReset:Ee,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:ke})}function ft(){we||(we=Yv()),wn(),pe({revalidation:"loading"});let L=we.promise;return R.navigation.state==="submitting"?L:R.navigation.state==="idle"?(mt(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),L):(mt(D||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:O===!0}),L)}async function mt(L,B,G){T&&T.abort(),T=null,D=L,Z=(G&&G.startUninterruptedRevalidation)===!0,Nn(R.location,R.matches),V=(G&&G.preventScrollReset)===!0,O=(G&&G.enableViewTransition)===!0;let oe=f||u,ce=G&&G.overrideNavigation,Ce=G?.initialHydration&&R.matches&&R.matches.length>0&&!k?R.matches:Qn(oe,B,m),be=(G&&G.flushSync)===!0;if(Ce&&R.initialized&&!te&&$v(R.location,B)&&!(G&&G.submission&&Qt(G.submission.formMethod))){_e(B,{matches:Ce},{flushSync:be});return}let ge=ds(Ce,oe,B.pathname);if(ge.active&&ge.matches&&(Ce=ge.matches),!Ce){let{error:St,notFoundMatches:st,route:Ke}=cs(B.pathname);_e(B,{matches:st,loaderData:{},errors:{[Ke.id]:St}},{flushSync:be});return}T=new AbortController;let Ne=da(t.history,B,T.signal,G&&G.submission),Pe=new Sh(t.unstable_getContext?await t.unstable_getContext():void 0),Ee;if(G&&G.pendingError)Ee=[ks(Ce).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Qt(G.submission.formMethod)){let St=await Tr(Ne,B,G.submission,Ce,Pe,ge.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:be});if(St.shortCircuited)return;if(St.pendingActionResult){let[st,Ke]=St.pendingActionResult;if(sr(Ke)&&bo(Ke.error)&&Ke.error.status===404){T=null,_e(B,{matches:St.matches,loaderData:{},errors:{[st]:Ke.error}});return}}Ce=St.matches||Ce,Ee=St.pendingActionResult,ce=yd(B,G.submission),be=!1,ge.active=!1,Ne=da(t.history,Ne.url,Ne.signal)}let{shortCircuited:ke,matches:$e,loaderData:He,errors:jt}=await Mr(Ne,B,Ce,Pe,ge.active,ce,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,be,Ee);ke||(T=null,_e(B,{matches:$e||Ce,...Oh(Ee),loaderData:He,errors:jt}))}async function Tr(L,B,G,oe,ce,Ce,be,ge={}){wn();let Ne=Bv(B,G);if(pe({navigation:Ne},{flushSync:ge.flushSync===!0}),Ce){let ke=await us(oe,B.pathname,L.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let $e=ks(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[$e,{type:"error",error:ke.error}]}}else if(ke.matches)oe=ke.matches;else{let{notFoundMatches:$e,error:He,route:jt}=cs(B.pathname);return{matches:$e,pendingActionResult:[jt.id,{type:"error",error:He}]}}}let Pe,Ee=ql(oe,B);if(!Ee.route.action&&!Ee.route.lazy)Pe={type:"error",error:gr(405,{method:L.method,pathname:B.pathname,routeId:Ee.route.id})};else{let ke=fa(i,c,L,oe,Ee,be?[]:l,ce),$e=await Ir(L,ke,ce,null);if(Pe=$e[Ee.route.id],!Pe){for(let He of oe)if($e[He.route.id]){Pe=$e[He.route.id];break}}if(L.signal.aborted)return{shortCircuited:!0}}if(Ps(Pe)){let ke;return ge&&ge.replace!=null?ke=ge.replace:ke=Ah(Pe.response.headers.get("Location"),new URL(L.url),m)===R.location.pathname+R.location.search,await Jt(L,Pe,!0,{submission:G,replace:ke}),{shortCircuited:!0}}if(sr(Pe)){let ke=ks(oe,Ee.route.id);return(ge&&ge.replace)!==!0&&(D="PUSH"),{matches:oe,pendingActionResult:[ke.route.id,Pe,Ee.route.id]}}return{matches:oe,pendingActionResult:[Ee.route.id,Pe]}}async function Mr(L,B,G,oe,ce,Ce,be,ge,Ne,Pe,Ee,ke){let $e=Ce||yd(B,be),He=be||ge||zh($e),jt=!Z&&!Pe;if(ce){if(jt){let Et=ir(ke);pe({navigation:$e,...Et!==void 0?{actionData:Et}:{}},{flushSync:Ee})}let ze=await us(G,B.pathname,L.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Et=ks(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Et]:ze.error}}}else if(ze.matches)G=ze.matches;else{let{error:Et,notFoundMatches:ms,route:Or}=cs(B.pathname);return{matches:ms,loaderData:{},errors:{[Or.id]:Et}}}}let St=f||u,{dsMatches:st,revalidatingFetchers:Ke}=Rh(L,oe,i,c,t.history,R,G,He,B,Pe?[]:l,Pe===!0,te,re,de,_,Y,St,m,t.patchRoutesOnNavigation!=null,ke);if($=++se,!t.dataStrategy&&!st.some(ze=>ze.shouldLoad)&&Ke.length===0){let ze=Ze();return _e(B,{matches:G,loaderData:{},errors:ke&&sr(ke[1])?{[ke[0]]:ke[1].error}:null,...Oh(ke),...ze?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(jt){let ze={};if(!ce){ze.navigation=$e;let Et=ir(ke);Et!==void 0&&(ze.actionData=Et)}Ke.length>0&&(ze.fetchers=_s(Ke)),pe(ze,{flushSync:Ee})}Ke.forEach(ze=>{ve(ze.key),ze.controller&&X.set(ze.key,ze.controller)});let Lr=()=>Ke.forEach(ze=>ve(ze.key));T&&T.signal.addEventListener("abort",Lr);let{loaderResults:Cn,fetcherResults:vr}=await is(st,Ke,L,oe);if(L.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Lr),Ke.forEach(ze=>X.delete(ze.key));let cr=$l(Cn);if(cr)return await Jt(L,cr.result,!0,{replace:Ne}),{shortCircuited:!0};if(cr=$l(vr),cr)return Y.add(cr.key),await Jt(L,cr.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Ea,errors:Qe}=_h(R,G,Cn,ke,Ke,vr);Pe&&R.errors&&(Qe={...R.errors,...Qe});let en=Ze(),Sn=et($),fs=en||Sn||Ke.length>0;return{matches:G,loaderData:Ea,errors:Qe,...fs?{fetchers:new Map(R.fetchers)}:{}}}function ir(L){if(L&&!sr(L[1]))return{[L[0]]:L[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function _s(L){return L.forEach(B=>{let G=R.fetchers.get(B.key),oe=io(void 0,G?G.data:void 0);R.fetchers.set(B.key,oe)}),new Map(R.fetchers)}async function ls(L,B,G,oe){ve(L);let ce=(oe&&oe.flushSync)===!0,Ce=f||u,be=Ld(R.location,R.matches,m,G,B,oe?.relative),ge=Qn(Ce,be,m),Ne=ds(ge,Ce,be);if(Ne.active&&Ne.matches&&(ge=Ne.matches),!ge){Ft(L,B,gr(404,{pathname:be}),{flushSync:ce});return}let{path:Pe,submission:Ee,error:ke}=kh(!0,be,oe);if(ke){Ft(L,B,ke,{flushSync:ce});return}let $e=new Sh(t.unstable_getContext?await t.unstable_getContext():void 0),He=(oe&&oe.preventScrollReset)===!0;if(Ee&&Qt(Ee.formMethod)){await Qr(L,B,Pe,ge,$e,Ne.active,ce,He,Ee);return}_.set(L,{routeId:B,path:Pe}),await Ar(L,B,Pe,ge,$e,Ne.active,ce,He,Ee)}async function Qr(L,B,G,oe,ce,Ce,be,ge,Ne){wn(),_.delete(L);let Pe=R.fetchers.get(L);Zt(L,Uv(Ne,Pe),{flushSync:be});let Ee=new AbortController,ke=da(t.history,G,Ee.signal,Ne);if(Ce){let Ye=await us(oe,new URL(ke.url).pathname,ke.signal,L);if(Ye.type==="aborted")return;if(Ye.type==="error"){Ft(L,B,Ye.error,{flushSync:be});return}else if(Ye.matches)oe=Ye.matches;else{Ft(L,B,gr(404,{pathname:G}),{flushSync:be});return}}let $e=ql(oe,G);if(!$e.route.action&&!$e.route.lazy){let Ye=gr(405,{method:Ne.formMethod,pathname:G,routeId:B});Ft(L,B,Ye,{flushSync:be});return}X.set(L,Ee);let He=se,jt=fa(i,c,ke,oe,$e,l,ce),st=(await Ir(ke,jt,ce,L))[$e.route.id];if(ke.signal.aborted){X.get(L)===Ee&&X.delete(L);return}if(de.has(L)){if(Ps(st)||sr(st)){Zt(L,Gn(void 0));return}}else{if(Ps(st))if(X.delete(L),$>He){Zt(L,Gn(void 0));return}else return Y.add(L),Zt(L,io(Ne)),Jt(ke,st,!1,{fetcherSubmission:Ne,preventScrollReset:ge});if(sr(st)){Ft(L,B,st.error);return}}let Ke=R.navigation.location||R.location,Lr=da(t.history,Ke,Ee.signal),Cn=f||u,vr=R.navigation.state!=="idle"?Qn(Cn,R.navigation.location,m):R.matches;Fe(vr,"Didn't find any matches after fetcher action");let cr=++se;K.set(L,cr);let Ea=io(Ne,st.data);R.fetchers.set(L,Ea);let{dsMatches:Qe,revalidatingFetchers:en}=Rh(Lr,ce,i,c,t.history,R,vr,Ne,Ke,l,!1,te,re,de,_,Y,Cn,m,t.patchRoutesOnNavigation!=null,[$e.route.id,st]);en.filter(Ye=>Ye.key!==L).forEach(Ye=>{let Os=Ye.key,Ut=R.fetchers.get(Os),Di=io(void 0,Ut?Ut.data:void 0);R.fetchers.set(Os,Di),ve(Os),Ye.controller&&X.set(Os,Ye.controller)}),pe({fetchers:new Map(R.fetchers)});let Sn=()=>en.forEach(Ye=>ve(Ye.key));Ee.signal.addEventListener("abort",Sn);let{loaderResults:fs,fetcherResults:ze}=await is(Qe,en,Lr,ce);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",Sn),K.delete(L),X.delete(L),en.forEach(Ye=>X.delete(Ye.key)),R.fetchers.has(L)){let Ye=Gn(st.data);R.fetchers.set(L,Ye)}let Et=$l(fs);if(Et)return Jt(Lr,Et.result,!1,{preventScrollReset:ge});if(Et=$l(ze),Et)return Y.add(Et.key),Jt(Lr,Et.result,!1,{preventScrollReset:ge});let{loaderData:ms,errors:Or}=_h(R,vr,fs,void 0,en,ze);et(cr),R.navigation.state==="loading"&&cr>$?(Fe(D,"Expected pending action"),T&&T.abort(),_e(R.navigation.location,{matches:vr,loaderData:ms,errors:Or,fetchers:new Map(R.fetchers)})):(pe({errors:Or,loaderData:Lh(R.loaderData,ms,vr,Or),fetchers:new Map(R.fetchers)}),te=!1)}async function Ar(L,B,G,oe,ce,Ce,be,ge,Ne){let Pe=R.fetchers.get(L);Zt(L,io(Ne,Pe?Pe.data:void 0),{flushSync:be});let Ee=new AbortController,ke=da(t.history,G,Ee.signal);if(Ce){let Ke=await us(oe,new URL(ke.url).pathname,ke.signal,L);if(Ke.type==="aborted")return;if(Ke.type==="error"){Ft(L,B,Ke.error,{flushSync:be});return}else if(Ke.matches)oe=Ke.matches;else{Ft(L,B,gr(404,{pathname:G}),{flushSync:be});return}}let $e=ql(oe,G);X.set(L,Ee);let He=se,jt=fa(i,c,ke,oe,$e,l,ce),st=(await Ir(ke,jt,ce,L))[$e.route.id];if(X.get(L)===Ee&&X.delete(L),!ke.signal.aborted){if(de.has(L)){Zt(L,Gn(void 0));return}if(Ps(st))if($>He){Zt(L,Gn(void 0));return}else{Y.add(L),await Jt(ke,st,!1,{preventScrollReset:ge});return}if(sr(st)){Ft(L,B,st.error);return}Zt(L,Gn(st.data))}}async function Jt(L,B,G,{submission:oe,fetcherSubmission:ce,preventScrollReset:Ce,replace:be}={}){B.response.headers.has("X-Remix-Revalidate")&&(te=!0);let ge=B.response.headers.get("Location");Fe(ge,"Expected a Location header on the redirect Response"),ge=Ah(ge,new URL(L.url),m);let Ne=yo(R.location,ge,{_isRedirect:!0});if(a){let jt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))jt=!0;else if(hu(ge)){const St=Rp(ge,!0);jt=St.origin!==s.location.origin||yr(St.pathname,m)==null}if(jt){be?s.location.replace(ge):s.location.assign(ge);return}}T=null;let Pe=be===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ee,formAction:ke,formEncType:$e}=R.navigation;!oe&&!ce&&Ee&&ke&&$e&&(oe=zh(R.navigation));let He=oe||ce;if(Cv.has(B.response.status)&&He&&Qt(He.formMethod))await mt(Pe,Ne,{submission:{...He,formAction:ge},preventScrollReset:Ce||V,enableViewTransition:G?O:void 0});else{let jt=yd(Ne,oe);await mt(Pe,Ne,{overrideNavigation:jt,fetcherSubmission:ce,preventScrollReset:Ce||V,enableViewTransition:G?O:void 0})}}async function Ir(L,B,G,oe){let ce,Ce={};try{ce=await Iv(p,L,B,oe,G,!1)}catch(be){return B.filter(ge=>ge.shouldLoad).forEach(ge=>{Ce[ge.route.id]={type:"error",error:be}}),Ce}if(L.signal.aborted)return Ce;for(let[be,ge]of Object.entries(ce))if(zv(ge)){let Ne=ge.result;Ce[be]={type:"redirect",response:Ov(Ne,L,be,B,m)}}else Ce[be]=await Lv(ge);return Ce}async function is(L,B,G,oe){let ce=Ir(G,L,oe,null),Ce=Promise.all(B.map(async Ne=>{if(Ne.matches&&Ne.match&&Ne.request&&Ne.controller){let Ee=(await Ir(Ne.request,Ne.matches,oe,Ne.key))[Ne.match.route.id];return{[Ne.key]:Ee}}else return Promise.resolve({[Ne.key]:{type:"error",error:gr(404,{pathname:Ne.path})}})})),be=await ce,ge=(await Ce).reduce((Ne,Pe)=>Object.assign(Ne,Pe),{});return{loaderResults:be,fetcherResults:ge}}function wn(){te=!0,_.forEach((L,B)=>{X.has(B)&&re.add(B),ve(B)})}function Zt(L,B,G={}){R.fetchers.set(L,B),pe({fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Ft(L,B,G,oe={}){let ce=ks(R.matches,B);jn(L),pe({errors:{[ce.route.id]:G},fetchers:new Map(R.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Xr(L){return q.set(L,(q.get(L)||0)+1),de.has(L)&&de.delete(L),R.fetchers.get(L)||Sv}function jn(L){let B=R.fetchers.get(L);X.has(L)&&!(B&&B.state==="loading"&&K.has(L))&&ve(L),_.delete(L),K.delete(L),Y.delete(L),de.delete(L),re.delete(L),R.fetchers.delete(L)}function Jr(L){let B=(q.get(L)||0)-1;B<=0?(q.delete(L),de.add(L)):q.set(L,B),pe({fetchers:new Map(R.fetchers)})}function ve(L){let B=X.get(L);B&&(B.abort(),X.delete(L))}function Ie(L){for(let B of L){let G=Xr(B),oe=Gn(G.data);R.fetchers.set(B,oe)}}function Ze(){let L=[],B=!1;for(let G of Y){let oe=R.fetchers.get(G);Fe(oe,`Expected fetcher: ${G}`),oe.state==="loading"&&(Y.delete(G),L.push(G),B=!0)}return Ie(L),B}function et(L){let B=[];for(let[G,oe]of K)if(oe<L){let ce=R.fetchers.get(G);Fe(ce,`Expected fetcher: ${G}`),ce.state==="loading"&&(ve(G),K.delete(G),B.push(G))}return Ie(B),B.length>0}function wt(L,B){let G=R.blockers.get(L)||lo;return fe.get(L)!==B&&fe.set(L,B),G}function _r(L){R.blockers.delete(L),fe.delete(L)}function At(L,B){let G=R.blockers.get(L)||lo;Fe(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${B.state}`);let oe=new Map(R.blockers);oe.set(L,B),pe({blockers:oe})}function Ls({currentLocation:L,nextLocation:B,historyAction:G}){if(fe.size===0)return;fe.size>1&&yt(!1,"A router only supports one blocker at a time");let oe=Array.from(fe.entries()),[ce,Ce]=oe[oe.length-1],be=R.blockers.get(ce);if(!(be&&be.state==="proceeding")&&Ce({currentLocation:L,nextLocation:B,historyAction:G}))return ce}function cs(L){let B=gr(404,{pathname:L}),G=f||u,{matches:oe,route:ce}=Fh(G);return{notFoundMatches:oe,route:ce,error:B}}function Ca(L,B,G){if(w=L,N=B,S=G||null,!C&&R.navigation===xd){C=!0;let oe=Sa(R.location,R.matches);oe!=null&&pe({restoreScrollPosition:oe})}return()=>{w=null,N=null,S=null}}function Zr(L,B){return S&&S(L,B.map(oe=>tv(oe,R.loaderData)))||L.key}function Nn(L,B){if(w&&N){let G=Zr(L,B);w[G]=N()}}function Sa(L,B){if(w){let G=Zr(L,B),oe=w[G];if(typeof oe=="number")return oe}return null}function ds(L,B,G){if(t.patchRoutesOnNavigation)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Gl(B,G,m,!0)}}else return{active:!0,matches:Gl(B,G,m,!0)||[]};return{active:!1,matches:null}}async function us(L,B,G,oe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:L};let ce=L;for(;;){let Ce=f==null,be=f||u,ge=c;try{await t.patchRoutesOnNavigation({signal:G,path:B,matches:ce,fetcherKey:oe,patch:(Ee,ke)=>{G.aborted||Ph(Ee,ke,be,ge,i,!1)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:ce}}finally{Ce&&!G.aborted&&(u=[...u])}if(G.aborted)return{type:"aborted"};let Ne=Qn(be,B,m);if(Ne)return{type:"success",matches:Ne};let Pe=Gl(be,B,m,!0);if(!Pe||ce.length===Pe.length&&ce.every((Ee,ke)=>Ee.route.id===Pe[ke].route.id))return{type:"success",matches:null};ce=Pe}}function Ao(L){c={},f=vo(L,i,void 0,c)}function Io(L,B,G=!1){let oe=f==null;Ph(L,B,f||u,c,i,G),oe&&(u=[...u],pe({}))}return M={get basename(){return m},get future(){return y},get state(){return R},get routes(){return u},get window(){return s},initialize:le,subscribe:Me,enableScrollRestoration:Ca,navigate:Ue,fetch:ls,revalidate:ft,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Xr,deleteFetcher:Jr,dispose:me,getBlocker:wt,deleteBlocker:_r,patchRoutes:Io,_internalFetchControllers:X,_internalSetRoutes:Ao,_internalSetStateDoNotUseOrYouWillBreakYourApp(L){pe(L)}},M}function Pv(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ld(t,s,a,l,i,c){let u,f;if(i){u=[];for(let p of s)if(u.push(p),p.route.id===i){f=p;break}}else u=s,f=s[s.length-1];let m=mu(l||".",fu(u),yr(t.pathname,a)||t.pathname,c==="path");if(l==null&&(m.search=t.search,m.hash=t.hash),(l==null||l===""||l===".")&&f){let p=pu(m.search);if(f.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let y=new URLSearchParams(m.search),b=y.getAll("index");y.delete("index"),b.filter(w=>w).forEach(w=>y.append("index",w));let v=y.toString();m.search=v?`?${v}`:""}}return a!=="/"&&(m.pathname=hv({basename:a,pathname:m.pathname})),Jn(m)}function kh(t,s,a){if(!a||!Pv(a))return{path:s};if(a.formMethod&&!Vv(a.formMethod))return{path:s,error:gr(405,{method:a.formMethod})};let l=()=>({path:s,error:gr(400,{type:"invalid-body"})}),c=(a.formMethod||"get").toUpperCase(),u=zp(s);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Qt(c))return l();let b=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((v,[w,S])=>`${v}${w}=${S}
`,""):String(a.body);return{path:s,submission:{formMethod:c,formAction:u,formEncType:a.formEncType,formData:void 0,json:void 0,text:b}}}else if(a.formEncType==="application/json"){if(!Qt(c))return l();try{let b=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:s,submission:{formMethod:c,formAction:u,formEncType:a.formEncType,formData:void 0,json:b,text:void 0}}}catch{return l()}}}Fe(typeof FormData=="function","FormData is not available in this environment");let f,m;if(a.formData)f=$d(a.formData),m=a.formData;else if(a.body instanceof FormData)f=$d(a.body),m=a.body;else if(a.body instanceof URLSearchParams)f=a.body,m=Ih(f);else if(a.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(a.body),m=Ih(f)}catch{return l()}let p={formMethod:c,formAction:u,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Qt(p.formMethod))return{path:s,submission:p};let y=ss(s);return t&&y.search&&pu(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Jn(y),submission:p}}function Rh(t,s,a,l,i,c,u,f,m,p,y,b,v,w,S,N,C,j,k,P){let I=P?sr(P[1])?P[1].error:P[1].data:void 0,M=i.createURL(c.location),R=i.createURL(m),D;if(y&&c.errors){let Z=Object.keys(c.errors)[0];D=u.findIndex(te=>te.route.id===Z)}else if(P&&sr(P[1])){let Z=P[0];D=u.findIndex(te=>te.route.id===Z)-1}let V=P?P[1].statusCode:void 0,T=V&&V>=400,O={currentUrl:M,currentParams:c.matches[0]?.params||{},nextUrl:R,nextParams:u[0].params,...f,actionResult:I,actionStatus:V},Q=u.map((Z,te)=>{let{route:re}=Z,X=null;if(D!=null&&te>D?X=!1:re.lazy?X=!0:re.loader==null?X=!1:y?X=Od(re,c.loaderData,c.errors):Dv(c.loaderData,c.matches[te],Z)&&(X=!0),X!==null)return Fd(a,l,t,Z,p,s,X);let se=T?!1:b||M.pathname+M.search===R.pathname+R.search||M.search!==R.search||Tv(c.matches[te],Z),$={...O,defaultShouldRevalidate:se},K=ai(Z,$);return Fd(a,l,t,Z,p,s,K,$)}),J=[];return S.forEach((Z,te)=>{if(y||!u.some(q=>q.route.id===Z.routeId)||w.has(te))return;let re=c.fetchers.get(te),X=re&&re.state!=="idle"&&re.data===void 0,se=Qn(C,Z.path,j);if(!se){if(k&&X)return;J.push({key:te,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(N.has(te))return;let $=ql(se,Z.path),K=new AbortController,Y=da(i,Z.path,K.signal),_=null;if(v.has(te))v.delete(te),_=fa(a,l,Y,se,$,p,s);else if(X)b&&(_=fa(a,l,Y,se,$,p,s));else{let q={...O,defaultShouldRevalidate:T?!1:b};ai($,q)&&(_=fa(a,l,Y,se,$,p,s,q))}_&&J.push({key:te,routeId:Z.routeId,path:Z.path,matches:_,match:$,request:Y,controller:K})}),{dsMatches:Q,revalidatingFetchers:J}}function Od(t,s,a){if(t.lazy)return!0;if(!t.loader)return!1;let l=s!=null&&t.id in s,i=a!=null&&a[t.id]!==void 0;return!l&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!l&&!i}function Dv(t,s,a){let l=!s||a.route.id!==s.route.id,i=!t.hasOwnProperty(a.route.id);return l||i}function Tv(t,s){let a=t.route.path;return t.pathname!==s.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==s.params["*"]}function ai(t,s){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(s);if(typeof a=="boolean")return a}return s.defaultShouldRevalidate}function Ph(t,s,a,l,i,c){let u;if(t){let p=l[t];Fe(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),u=p.children}else u=a;let f=[],m=[];if(s.forEach(p=>{let y=u.find(b=>_p(p,b));y?m.push({existingRoute:y,newRoute:p}):f.push(p)}),f.length>0){let p=vo(f,i,[t||"_","patch",String(u?.length||"0")],l);u.push(...p)}if(c&&m.length>0)for(let p=0;p<m.length;p++){let{existingRoute:y,newRoute:b}=m[p],v=y,[w]=vo([b],i,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function _p(t,s){return"id"in t&&"id"in s&&t.id===s.id?!0:t.index===s.index&&t.path===s.path&&t.caseSensitive===s.caseSensitive?(!t.children||t.children.length===0)&&(!s.children||s.children.length===0)?!0:t.children.every((a,l)=>s.children?.some(i=>_p(a,i))):!1}var Dh=new WeakMap,Lp=({key:t,route:s,manifest:a,mapRouteProperties:l})=>{let i=a[s.id];if(Fe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let c=i.lazy[t];if(!c)return;let u=Dh.get(i);u||(u={},Dh.set(i,u));let f=u[t];if(f)return f;let m=(async()=>{let p=Xy(t),b=i[t]!==void 0&&t!=="hasErrorBoundary";if(p)yt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(b)yt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await c();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,l(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return u[t]=m,m},Th=new WeakMap;function Mv(t,s,a,l,i){let c=a[t.id];if(Fe(c,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=Th.get(c);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{Fe(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),w={};for(let S in v){let N=v[S];if(N===void 0)continue;let C=Zy(S),k=c[S]!==void 0&&S!=="hasErrorBoundary";C?yt(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?yt(!k,`Route "${c.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=N}Object.assign(c,w),Object.assign(c,{...l(c),lazy:void 0})})();return Th.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(t.lazy),f=[],m;for(let y of u){if(i&&i.includes(y))continue;let b=Lp({key:y,route:t,manifest:a,mapRouteProperties:l});b&&(f.push(b),y===s&&(m=b))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function Mh(t){let s=t.matches.filter(i=>i.shouldLoad),a={};return(await Promise.all(s.map(i=>i.resolve()))).forEach((i,c)=>{a[s[c].route.id]=i}),a}async function Av(t){return t.matches.some(s=>s.route.unstable_middleware)?Op(t,!1,()=>Mh(t),(s,a)=>({[a]:{type:"error",result:s}})):Mh(t)}async function Op(t,s,a,l){let{matches:i,request:c,params:u,context:f}=t,m={handlerResult:void 0};try{let p=i.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(v=>[b.route.id,v]):[]),y=await Fp({request:c,params:u,context:f},p,s,m,a);return s?y:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let y=await l(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,y):y}}async function Fp(t,s,a,l,i,c=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=s[c];if(!f)return l.handlerResult=await i(),l.handlerResult;let[m,p]=f,y=!1,b,v=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await Fp(t,s,a,l,i,c+1)};try{let w=await p({request:t.request,params:t.params,context:t.context},v);return y?w===void 0?b:w:v()}catch(w){throw l.middlewareError?l.middlewareError.error!==w&&(l.middlewareError={routeId:m,error:w}):l.middlewareError={routeId:m,error:w},w}}function $p(t,s,a,l,i){let c=Lp({key:"unstable_middleware",route:l.route,manifest:s,mapRouteProperties:t}),u=Mv(l.route,Qt(a.method)?"action":"loader",s,t,i);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Fd(t,s,a,l,i,c,u,f=null){let m=!1,p=$p(t,s,a,l,i);return{...l,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return m=!0,f?typeof y=="boolean"?ai(l,{...f,defaultShouldRevalidate:y}):ai(l,f):u},resolve(y){return m||u||y&&!Qt(a.method)&&(l.route.lazy||l.route.loader)?_v({request:a,match:l,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:y,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function fa(t,s,a,l,i,c,u,f=null){return l.map(m=>m.route.id!==i.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:$p(t,s,a,m,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Fd(t,s,a,m,c,u,!0,f))}async function Iv(t,s,a,l,i,c){a.some(p=>p._lazyPromises?.middleware)&&await Promise.all(a.map(p=>p._lazyPromises?.middleware));let u={request:s,params:a[0].params,context:i,matches:a},m=await t({...u,fetcherKey:l,unstable_runClientMiddleware:p=>{let y=u;return Op(y,!1,()=>p({...y,fetcherKey:l,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,v)=>({[v]:{type:"error",result:b}}))}});try{await Promise.all(a.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function _v({request:t,match:s,lazyHandlerPromise:a,lazyRoutePromise:l,handlerOverride:i,scopedContext:c}){let u,f,m=Qt(t.method),p=m?"action":"loader",y=b=>{let v,w=new Promise((C,j)=>v=j);f=()=>v(),t.signal.addEventListener("abort",f);let S=C=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${s.route.id}]`)):b({request:t,params:s.params,context:c},...C!==void 0?[C]:[]),N=(async()=>{try{return{type:"data",result:await(i?i(j=>S(j)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([N,w])};try{let b=m?s.route.action:s.route.loader;if(a||l)if(b){let v,[w]=await Promise.all([y(b).catch(S=>{v=S}),a,l]);if(v!==void 0)throw v;u=w}else{await a;let v=m?s.route.action:s.route.loader;if(v)[u]=await Promise.all([y(v),l]);else if(p==="action"){let w=new URL(t.url),S=w.pathname+w.search;throw gr(405,{method:t.method,pathname:S,routeId:s.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let v=new URL(t.url),w=v.pathname+v.search;throw gr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function Lv(t){let{result:s,type:a}=t;if(Vp(s)){let l;try{let i=s.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?s.body==null?l=null:l=await s.json():l=await s.text()}catch(i){return{type:"error",error:i}}return a==="error"?{type:"error",error:new si(s.status,s.statusText,l),statusCode:s.status,headers:s.headers}:{type:"data",data:l,statusCode:s.status,headers:s.headers}}return a==="error"?$h(s)?s.data instanceof Error?{type:"error",error:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:new si(s.init?.status||500,void 0,s.data),statusCode:bo(s)?s.status:void 0,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"error",error:s,statusCode:bo(s)?s.status:void 0}:$h(s)?{type:"data",data:s.data,statusCode:s.init?.status,headers:s.init?.headers?new Headers(s.init.headers):void 0}:{type:"data",data:s}}function Ov(t,s,a,l,i){let c=t.headers.get("Location");if(Fe(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!hu(c)){let u=l.slice(0,l.findIndex(f=>f.route.id===a)+1);c=Ld(new URL(s.url),u,i,c),t.headers.set("Location",c)}return t}function Ah(t,s,a){if(hu(t)){let l=t,i=l.startsWith("//")?new URL(s.protocol+l):new URL(l),c=yr(i.pathname,a)!=null;if(i.origin===s.origin&&c)return i.pathname+i.search+i.hash}return t}function da(t,s,a,l){let i=t.createURL(zp(s)).toString(),c={signal:a};if(l&&Qt(l.formMethod)){let{formMethod:u,formEncType:f}=l;c.method=u.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(l.json)):f==="text/plain"?c.body=l.text:f==="application/x-www-form-urlencoded"&&l.formData?c.body=$d(l.formData):c.body=l.formData}return new Request(i,c)}function $d(t){let s=new URLSearchParams;for(let[a,l]of t.entries())s.append(a,typeof l=="string"?l:l.name);return s}function Ih(t){let s=new FormData;for(let[a,l]of t.entries())s.append(a,l);return s}function Fv(t,s,a,l=!1,i=!1){let c={},u=null,f,m=!1,p={},y=a&&sr(a[1])?a[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in s))return;let v=b.route.id,w=s[v];if(Fe(!Ps(w),"Cannot handle redirect results in processLoaderData"),sr(w)){let S=w.error;if(y!==void 0&&(S=y,y=void 0),u=u||{},i)u[v]=S;else{let N=ks(t,v);u[N.route.id]==null&&(u[N.route.id]=S)}l||(c[v]=Ip),m||(m=!0,f=bo(w.error)?w.error.status:500),w.headers&&(p[v]=w.headers)}else c[v]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(f=w.statusCode),w.headers&&(p[v]=w.headers)}),y!==void 0&&a&&(u={[a[0]]:y},a[2]&&(c[a[2]]=void 0)),{loaderData:c,errors:u,statusCode:f||200,loaderHeaders:p}}function _h(t,s,a,l,i,c){let{loaderData:u,errors:f}=Fv(s,a,l);return i.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:y,controller:b}=m,v=c[p];if(Fe(v,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(sr(v)){let w=ks(t.matches,y?.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:v.error}),t.fetchers.delete(p)}else if(Ps(v))Fe(!1,"Unhandled fetcher revalidation redirect");else{let w=Gn(v.data);t.fetchers.set(p,w)}}),{loaderData:u,errors:f}}function Lh(t,s,a,l){let i=Object.entries(s).filter(([,c])=>c!==Ip).reduce((c,[u,f])=>(c[u]=f,c),{});for(let c of a){let u=c.route.id;if(!s.hasOwnProperty(u)&&t.hasOwnProperty(u)&&c.route.loader&&(i[u]=t[u]),l&&l.hasOwnProperty(u))break}return i}function Oh(t){return t?sr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ks(t,s){return(s?t.slice(0,t.findIndex(l=>l.route.id===s)+1):[...t]).reverse().find(l=>l.route.hasErrorBoundary===!0)||t[0]}function Fh(t){let s=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function gr(t,{pathname:s,routeId:a,method:l,type:i,message:c}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",l&&s&&a?f=`You made a ${l} request to "${s}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${a}" does not match URL "${s}"`):t===404?(u="Not Found",f=`No route matches URL "${s}"`):t===405&&(u="Method Not Allowed",l&&s&&a?f=`You made a ${l.toUpperCase()} request to "${s}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:l&&(f=`Invalid request method "${l.toUpperCase()}"`)),new si(t||500,u,new Error(f),!0)}function $l(t){let s=Object.entries(t);for(let a=s.length-1;a>=0;a--){let[l,i]=s[a];if(Ps(i))return{key:l,result:i}}}function zp(t){let s=typeof t=="string"?ss(t):t;return Jn({...s,hash:""})}function $v(t,s){return t.pathname!==s.pathname||t.search!==s.search?!1:t.hash===""?s.hash!=="":t.hash===s.hash?!0:s.hash!==""}function zv(t){return Vp(t.result)&&Nv.has(t.result.status)}function sr(t){return t.type==="error"}function Ps(t){return(t&&t.type)==="redirect"}function $h(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Vp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Vv(t){return jv.has(t.toUpperCase())}function Qt(t){return bv.has(t.toUpperCase())}function pu(t){return new URLSearchParams(t).getAll("index").some(s=>s==="")}function ql(t,s){let a=typeof s=="string"?ss(s).search:s.search;if(t[t.length-1].route.index&&pu(a||""))return t[t.length-1];let l=Tp(t);return l[l.length-1]}function zh(t){let{formMethod:s,formAction:a,formEncType:l,text:i,formData:c,json:u}=t;if(!(!s||!a||!l)){if(i!=null)return{formMethod:s,formAction:a,formEncType:l,formData:void 0,json:void 0,text:i};if(c!=null)return{formMethod:s,formAction:a,formEncType:l,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:s,formAction:a,formEncType:l,formData:void 0,json:u,text:void 0}}}function yd(t,s){return s?{state:"loading",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Bv(t,s){return{state:"submitting",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function io(t,s){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function Uv(t,s){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s?s.data:void 0}}function Gn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Wv(t,s){try{let a=t.sessionStorage.getItem(Ap);if(a){let l=JSON.parse(a);for(let[i,c]of Object.entries(l||{}))c&&Array.isArray(c)&&s.set(i,new Set(c||[]))}}catch{}}function Hv(t,s){if(s.size>0){let a={};for(let[l,i]of s)a[l]=[...i];try{t.sessionStorage.setItem(Ap,JSON.stringify(a))}catch(l){yt(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function Yv(){let t,s,a=new Promise((l,i)=>{t=async c=>{l(c);try{await a}catch{}},s=async c=>{i(c);try{await a}catch{}}});return{promise:a,resolve:t,reject:s}}var As=g.createContext(null);As.displayName="DataRouter";var Eo=g.createContext(null);Eo.displayName="DataRouterState";g.createContext(!1);var gu=g.createContext({isTransitioning:!1});gu.displayName="ViewTransition";var Bp=g.createContext(new Map);Bp.displayName="Fetchers";var Gv=g.createContext(null);Gv.displayName="Await";var Gr=g.createContext(null);Gr.displayName="Navigation";var fi=g.createContext(null);fi.displayName="Location";var qr=g.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var xu=g.createContext(null);xu.displayName="RouteError";function qv(t,{relative:s}={}){Fe(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:l}=g.useContext(Gr),{hash:i,pathname:c,search:u}=Ro(t,{relative:s}),f=c;return a!=="/"&&(f=c==="/"?a:Wr([a,c])),l.createHref({pathname:f,search:u,hash:i})}function ko(){return g.useContext(fi)!=null}function vn(){return Fe(ko(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(fi).location}var Up="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wp(t){g.useContext(Gr).static||g.useLayoutEffect(t)}function Hp(){let{isDataRoute:t}=g.useContext(qr);return t?lb():Kv()}function Kv(){Fe(ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(As),{basename:s,navigator:a}=g.useContext(Gr),{matches:l}=g.useContext(qr),{pathname:i}=vn(),c=JSON.stringify(fu(l)),u=g.useRef(!1);return Wp(()=>{u.current=!0}),g.useCallback((m,p={})=>{if(yt(u.current,Up),!u.current)return;if(typeof m=="number"){a.go(m);return}let y=mu(m,JSON.parse(c),i,p.relative==="path");t==null&&s!=="/"&&(y.pathname=y.pathname==="/"?s:Wr([s,y.pathname])),(p.replace?a.replace:a.push)(y,p.state,p)},[s,a,c,i,t])}g.createContext(null);function yu(){let{matches:t}=g.useContext(qr),s=t[t.length-1];return s?s.params:{}}function Ro(t,{relative:s}={}){let{matches:a}=g.useContext(qr),{pathname:l}=vn(),i=JSON.stringify(fu(a));return g.useMemo(()=>mu(t,JSON.parse(i),l,s==="path"),[t,i,l,s])}function Qv(t,s,a,l){Fe(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(Gr),{matches:c}=g.useContext(qr),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";Yp(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=vn(),v;v=b;let w=v.pathname||"/",S=w;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Qn(t,{pathname:S});return yt(y||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),yt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),tb(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Wr([p,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Wr([p,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,a,l)}function Xv(){let t=ob(),s=bo(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,l="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:c},"ErrorBoundary")," or"," ",g.createElement("code",{style:c},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},s),a?g.createElement("pre",{style:i},a):null,u)}var Jv=g.createElement(Xv,null),Zv=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(qr.Provider,{value:this.props.routeContext},g.createElement(xu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eb({routeContext:t,match:s,children:a}){let l=g.useContext(As);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(qr.Provider,{value:t},a)}function tb(t,s=[],a=null,l=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,c=a?.errors;if(c!=null){let m=i.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);Fe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,f=-1;if(a)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:b}=a,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){u=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((m,p,y)=>{let b,v=!1,w=null,S=null;a&&(b=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||Jv,u&&(f<0&&y===0?(Yp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):f===y&&(v=!0,S=p.route.hydrateFallbackElement||null)));let N=s.concat(i.slice(0,y+1)),C=()=>{let j;return b?j=w:v?j=S:p.route.Component?j=g.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,g.createElement(eb,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:a!=null},children:j})};return a&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?g.createElement(Zv,{location:a.location,revalidation:a.revalidation,component:w,error:b,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function vu(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(t){let s=g.useContext(As);return Fe(s,vu(t)),s}function nb(t){let s=g.useContext(Eo);return Fe(s,vu(t)),s}function sb(t){let s=g.useContext(qr);return Fe(s,vu(t)),s}function bu(t){let s=sb(t),a=s.matches[s.matches.length-1];return Fe(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function ab(){return bu("useRouteId")}function ob(){let t=g.useContext(xu),s=nb("useRouteError"),a=bu("useRouteError");return t!==void 0?t:s.errors?.[a]}function lb(){let{router:t}=rb("useNavigate"),s=bu("useNavigate"),a=g.useRef(!1);return Wp(()=>{a.current=!0}),g.useCallback(async(i,c={})=>{yt(a.current,Up),a.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:s,...c}))},[t,s])}var Vh={};function Yp(t,s,a){!s&&!Vh[t]&&(Vh[t]=!0,yt(!1,a))}var Bh={};function Uh(t,s){!t&&!Bh[s]&&(Bh[s]=!0,console.warn(s))}function ib(t){let s={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&yt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(s,{element:g.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&yt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(s,{hydrateFallbackElement:g.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&yt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(s,{errorElement:g.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),s}var cb=["HydrateFallback","hydrateFallbackElement"],db=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",s(a))}})}};function ub({router:t,flushSync:s}){let[a,l]=g.useState(t.state),[i,c]=g.useState(),[u,f]=g.useState({isTransitioning:!1}),[m,p]=g.useState(),[y,b]=g.useState(),[v,w]=g.useState(),S=g.useRef(new Map),N=g.useCallback((P,{deletedFetchers:I,flushSync:M,viewTransitionOpts:R})=>{P.fetchers.forEach((V,T)=>{V.data!==void 0&&S.current.set(T,V.data)}),I.forEach(V=>S.current.delete(V)),Uh(M===!1||s!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Uh(R==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!D){s&&M?s(()=>l(P)):g.startTransition(()=>l(P));return}if(s&&M){s(()=>{y&&(m&&m.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let V=t.window.document.startViewTransition(()=>{s(()=>l(P))});V.finished.finally(()=>{s(()=>{p(void 0),b(void 0),c(void 0),f({isTransitioning:!1})})}),s(()=>b(V));return}y?(m&&m.resolve(),y.skipTransition(),w({state:P,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(P),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[t.window,s,y,m]);g.useLayoutEffect(()=>t.subscribe(N),[t,N]),g.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new db)},[u]),g.useEffect(()=>{if(m&&i&&t.window){let P=i,I=m.promise,M=t.window.document.startViewTransition(async()=>{g.startTransition(()=>l(P)),await I});M.finished.finally(()=>{p(void 0),b(void 0),c(void 0),f({isTransitioning:!1})}),b(M)}},[i,m,t.window]),g.useEffect(()=>{m&&i&&a.location.key===i.location.key&&m.resolve()},[m,y,a.location,i]),g.useEffect(()=>{!u.isTransitioning&&v&&(c(v.state),f({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[u.isTransitioning,v]);let C=g.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,I,M)=>t.navigate(P,{state:I,preventScrollReset:M?.preventScrollReset}),replace:(P,I,M)=>t.navigate(P,{replace:!0,state:I,preventScrollReset:M?.preventScrollReset})}),[t]),j=t.basename||"/",k=g.useMemo(()=>({router:t,navigator:C,static:!1,basename:j}),[t,C,j]);return g.createElement(g.Fragment,null,g.createElement(As.Provider,{value:k},g.createElement(Eo.Provider,{value:a},g.createElement(Bp.Provider,{value:S.current},g.createElement(gu.Provider,{value:u},g.createElement(hb,{basename:j,location:a.location,navigationType:a.historyAction,navigator:C},g.createElement(fb,{routes:t.routes,future:t.future,state:a})))))),null)}var fb=g.memo(mb);function mb({routes:t,future:s,state:a}){return Qv(t,void 0,a,s)}function hb({basename:t="/",children:s=null,location:a,navigationType:l="POP",navigator:i,static:c=!1}){Fe(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=g.useMemo(()=>({basename:u,navigator:i,static:c,future:{}}),[u,i,c]);typeof a=="string"&&(a=ss(a));let{pathname:m="/",search:p="",hash:y="",state:b=null,key:v="default"}=a,w=g.useMemo(()=>{let S=yr(m,u);return S==null?null:{location:{pathname:S,search:p,hash:y,state:b,key:v},navigationType:l}},[u,m,p,y,b,v,l]);return yt(w!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:g.createElement(Gr.Provider,{value:f},g.createElement(fi.Provider,{children:s,value:w}))}var Kl="get",Ql="application/x-www-form-urlencoded";function mi(t){return t!=null&&typeof t.tagName=="string"}function pb(t){return mi(t)&&t.tagName.toLowerCase()==="button"}function gb(t){return mi(t)&&t.tagName.toLowerCase()==="form"}function xb(t){return mi(t)&&t.tagName.toLowerCase()==="input"}function yb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vb(t,s){return t.button===0&&(!s||s==="_self")&&!yb(t)}var zl=null;function bb(){if(zl===null)try{new FormData(document.createElement("form"),0),zl=!1}catch{zl=!0}return zl}var wb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vd(t){return t!=null&&!wb.has(t)?(yt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ql}"`),null):t}function jb(t,s){let a,l,i,c,u;if(gb(t)){let f=t.getAttribute("action");l=f?yr(f,s):null,a=t.getAttribute("method")||Kl,i=vd(t.getAttribute("enctype"))||Ql,c=new FormData(t)}else if(pb(t)||xb(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(l=m?yr(m,s):null,a=t.getAttribute("formmethod")||f.getAttribute("method")||Kl,i=vd(t.getAttribute("formenctype"))||vd(f.getAttribute("enctype"))||Ql,c=new FormData(f,t),!bb()){let{name:p,type:y,value:b}=t;if(y==="image"){let v=p?`${p}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else p&&c.append(p,b)}}else{if(mi(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Kl,l=null,i=Ql,u=t}return c&&i==="text/plain"&&(u=c,c=void 0),{action:l,method:a.toLowerCase(),encType:i,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wu(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Nb(t,s,a){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l.pathname==="/"?l.pathname=`_root.${a}`:s&&yr(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function Cb(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Eb(t,s,a){let l=await Promise.all(t.map(async i=>{let c=s.routes[i.route.id];if(c){let u=await Cb(c,a);return u.links?u.links():[]}return[]}));return Db(l.flat(1).filter(Sb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Wh(t,s,a,l,i,c){let u=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,f=(m,p)=>a[p].pathname!==m.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==m.params["*"];return c==="assets"?s.filter((m,p)=>u(m,p)||f(m,p)):c==="data"?s.filter((m,p)=>{let y=l.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kb(t,s,{includeHydrateFallback:a}={}){return Rb(t.map(l=>{let i=s.routes[l.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),a&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function Rb(t){return[...new Set(t)]}function Pb(t){let s={},a=Object.keys(t).sort();for(let l of a)s[l]=t[l];return s}function Db(t,s){let a=new Set;return new Set(s),t.reduce((l,i)=>{let c=JSON.stringify(Pb(i));return a.has(c)||(a.add(c),l.push({key:c,link:i})),l},[])}function Gp(){let t=g.useContext(As);return wu(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Tb(){let t=g.useContext(Eo);return wu(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ju=g.createContext(void 0);ju.displayName="FrameworkContext";function qp(){let t=g.useContext(ju);return wu(t,"You must render this element inside a <HydratedRouter> element"),t}function Mb(t,s){let a=g.useContext(ju),[l,i]=g.useState(!1),[c,u]=g.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=s,v=g.useRef(null);g.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=j=>{j.forEach(k=>{u(k.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),g.useEffect(()=>{if(l){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[l]);let w=()=>{i(!0)},S=()=>{i(!1),u(!1)};return a?t!=="intent"?[c,v,{}]:[c,v,{onFocus:co(f,w),onBlur:co(m,S),onMouseEnter:co(p,w),onMouseLeave:co(y,S),onTouchStart:co(b,w)}]:[!1,v,{}]}function co(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function Ab({page:t,...s}){let{router:a}=Gp(),l=g.useMemo(()=>Qn(a.routes,t,a.basename),[a.routes,t,a.basename]);return l?g.createElement(_b,{page:t,matches:l,...s}):null}function Ib(t){let{manifest:s,routeModules:a}=qp(),[l,i]=g.useState([]);return g.useEffect(()=>{let c=!1;return Eb(t,s,a).then(u=>{c||i(u)}),()=>{c=!0}},[t,s,a]),l}function _b({page:t,matches:s,...a}){let l=vn(),{manifest:i,routeModules:c}=qp(),{basename:u}=Gp(),{loaderData:f,matches:m}=Tb(),p=g.useMemo(()=>Wh(t,s,m,i,l,"data"),[t,s,m,i,l]),y=g.useMemo(()=>Wh(t,s,m,i,l,"assets"),[t,s,m,i,l]),b=g.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let S=new Set,N=!1;if(s.forEach(j=>{let k=i.routes[j.route.id];!k||!k.hasLoader||(!p.some(P=>P.route.id===j.route.id)&&j.route.id in f&&c[j.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:S.add(j.route.id))}),S.size===0)return[];let C=Nb(t,u,"data");return N&&S.size>0&&C.searchParams.set("_routes",s.filter(j=>S.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[u,f,l,i,p,s,t,c]),v=g.useMemo(()=>kb(y,i),[y,i]),w=Ib(y);return g.createElement(g.Fragment,null,b.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),v.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),w.map(({key:S,link:N})=>g.createElement("link",{key:S,...N})))}function Lb(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var Kp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kp&&(window.__reactRouterVersion="7.7.0")}catch{}function Ob(t,s){return Rv({basename:s?.basename,unstable_getContext:s?.unstable_getContext,future:s?.future,history:Gy({window:s?.window}),hydrationData:s?.hydrationData||Fb(),routes:t,mapRouteProperties:ib,hydrationRouteProperties:cb,dataStrategy:s?.dataStrategy,patchRoutesOnNavigation:s?.patchRoutesOnNavigation,window:s?.window}).initialize()}function Fb(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:$b(t.errors)}),t}function $b(t){if(!t)return null;let s=Object.entries(t),a={};for(let[l,i]of s)if(i&&i.__type==="RouteErrorResponse")a[l]=new si(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let c=window[i.__subType];if(typeof c=="function")try{let u=new c(i.message);u.stack="",a[l]=u}catch{}}if(a[l]==null){let c=new Error(i.message);c.stack="",a[l]=c}}else a[l]=i;return a}var Qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=g.forwardRef(function({onClick:s,discover:a="render",prefetch:l="none",relative:i,reloadDocument:c,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:b,...v},w){let{basename:S}=g.useContext(Gr),N=typeof p=="string"&&Qp.test(p),C,j=!1;if(typeof p=="string"&&N&&(C=p,Kp))try{let T=new URL(window.location.href),O=p.startsWith("//")?new URL(T.protocol+p):new URL(p),Q=yr(O.pathname,S);O.origin===T.origin&&Q!=null?p=Q+O.search+O.hash:j=!0}catch{yt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=qv(p,{relative:i}),[P,I,M]=Mb(l,v),R=Ub(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:i,viewTransition:b});function D(T){s&&s(T),T.defaultPrevented||R(T)}let V=g.createElement("a",{...v,...M,href:C||k,onClick:j||c?s:D,ref:Lb(w,I),target:m,"data-discover":!N&&a==="render"?"true":void 0});return P&&!N?g.createElement(g.Fragment,null,V,g.createElement(Ab,{page:k})):V});Xt.displayName="Link";var zb=g.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:l="",end:i=!1,style:c,to:u,viewTransition:f,children:m,...p},y){let b=Ro(u,{relative:p.relative}),v=vn(),w=g.useContext(Eo),{navigator:S,basename:N}=g.useContext(Gr),C=w!=null&&qb(b)&&f===!0,j=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,k=v.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(k=k.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&N&&(P=yr(P,N)||P);const I=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=k===j||!i&&k.startsWith(j)&&k.charAt(I)==="/",R=P!=null&&(P===j||!i&&P.startsWith(j)&&P.charAt(j.length)==="/"),D={isActive:M,isPending:R,isTransitioning:C},V=M?s:void 0,T;typeof l=="function"?T=l(D):T=[l,M?"active":null,R?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(D):c;return g.createElement(Xt,{...p,"aria-current":V,className:T,ref:y,style:O,to:u,viewTransition:f},typeof m=="function"?m(D):m)});zb.displayName="NavLink";var Vb=g.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:l,replace:i,state:c,method:u=Kl,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,...v},w)=>{let S=Yb(),N=Gb(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&Qp.test(f),k=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,M=I?.getAttribute("formmethod")||u;S(I||P.currentTarget,{fetcherKey:s,method:M,navigate:a,replace:i,state:c,relative:p,preventScrollReset:y,viewTransition:b})};return g.createElement("form",{ref:w,method:C,action:N,onSubmit:l?m:k,...v,"data-discover":!j&&t==="render"?"true":void 0})});Vb.displayName="Form";function Bb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xp(t){let s=g.useContext(As);return Fe(s,Bb(t)),s}function Ub(t,{target:s,replace:a,state:l,preventScrollReset:i,relative:c,viewTransition:u}={}){let f=Hp(),m=vn(),p=Ro(t,{relative:c});return g.useCallback(y=>{if(vb(y,s)){y.preventDefault();let b=a!==void 0?a:Jn(m)===Jn(p);f(t,{replace:b,state:l,preventScrollReset:i,relative:c,viewTransition:u})}},[m,f,p,a,l,s,t,i,c,u])}var Wb=0,Hb=()=>`__${String(++Wb)}__`;function Yb(){let{router:t}=Xp("useSubmit"),{basename:s}=g.useContext(Gr),a=ab();return g.useCallback(async(l,i={})=>{let{action:c,method:u,encType:f,formData:m,body:p}=jb(l,s);if(i.navigate===!1){let y=i.fetcherKey||Hb();await t.fetch(y,a,i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:a,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,s,a])}function Gb(t,{relative:s}={}){let{basename:a}=g.useContext(Gr),l=g.useContext(qr);Fe(l,"useFormAction must be used inside a RouteContext");let[i]=l.matches.slice(-1),c={...Ro(t||".",{relative:s})},u=vn();if(t==null){c.search=u.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();c.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Wr([a,c.pathname])),Jn(c)}function qb(t,s={}){let a=g.useContext(gu);Fe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Xp("useViewTransitionState"),i=Ro(t,{relative:s.relative});if(!a.isTransitioning)return!1;let c=yr(a.currentLocation.pathname,l)||a.currentLocation.pathname,u=yr(a.nextLocation.pathname,l)||a.nextLocation.pathname;return ni(i.pathname,u)!=null||ni(i.pathname,c)!=null}var va=Ep();const Kb=du(va);function Qb(t){return g.createElement(ub,{flushSync:va.flushSync,...t})}/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jp=(...t)=>t.filter((s,a,l)=>!!s&&l.indexOf(s)===a).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=g.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:u,...f},m)=>g.createElement("svg",{ref:m,...Jb,width:s,height:s,stroke:t,strokeWidth:l?Number(a)*24/Number(s):a,className:Jp("lucide",i),...f},[...u.map(([p,y])=>g.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,s)=>{const a=g.forwardRef(({className:l,...i},c)=>g.createElement(Zb,{ref:c,iconNode:s,className:Jp(`lucide-${Xb(t)}`,l),...i}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Re("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Re("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Re("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Re("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Re("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Re("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=Re("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ng(t){var s,a,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(s=0;s<i;s++)t[s]&&(a=ng(t[s]))&&(l&&(l+=" "),l+=a)}else for(a in t)t[a]&&(l&&(l+=" "),l+=a);return l}function vw(){for(var t,s,a=0,l="",i=arguments.length;a<i;a++)(t=arguments[a])&&(s=ng(t))&&(l&&(l+=" "),l+=s);return l}const ku="-",bw=t=>{const s=jw(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:l}=t;return{getClassGroupId:u=>{const f=u.split(ku);return f[0]===""&&f.length!==1&&f.shift(),sg(f,s)||ww(u)},getConflictingClassGroupIds:(u,f)=>{const m=a[u]||[];return f&&l[u]?[...m,...l[u]]:m}}},sg=(t,s)=>{if(t.length===0)return s.classGroupId;const a=t[0],l=s.nextPart.get(a),i=l?sg(t.slice(1),l):void 0;if(i)return i;if(s.validators.length===0)return;const c=t.join(ku);return s.validators.find(({validator:u})=>u(c))?.classGroupId},Yh=/^\[(.+)\]$/,ww=t=>{if(Yh.test(t)){const s=Yh.exec(t)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},jw=t=>{const{theme:s,prefix:a}=t,l={nextPart:new Map,validators:[]};return Cw(Object.entries(t.classGroups),a).forEach(([c,u])=>{Wd(u,l,c,s)}),l},Wd=(t,s,a,l)=>{t.forEach(i=>{if(typeof i=="string"){const c=i===""?s:Gh(s,i);c.classGroupId=a;return}if(typeof i=="function"){if(Nw(i)){Wd(i(l),s,a,l);return}s.validators.push({validator:i,classGroupId:a});return}Object.entries(i).forEach(([c,u])=>{Wd(u,Gh(s,c),a,l)})})},Gh=(t,s)=>{let a=t;return s.split(ku).forEach(l=>{a.nextPart.has(l)||a.nextPart.set(l,{nextPart:new Map,validators:[]}),a=a.nextPart.get(l)}),a},Nw=t=>t.isThemeGetter,Cw=(t,s)=>s?t.map(([a,l])=>{const i=l.map(c=>typeof c=="string"?s+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[s+u,f])):c);return[a,i]}):t,Sw=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,l=new Map;const i=(c,u)=>{a.set(c,u),s++,s>t&&(s=0,l=a,a=new Map)};return{get(c){let u=a.get(c);if(u!==void 0)return u;if((u=l.get(c))!==void 0)return i(c,u),u},set(c,u){a.has(c)?a.set(c,u):i(c,u)}}},ag="!",Ew=t=>{const{separator:s,experimentalParseClassName:a}=t,l=s.length===1,i=s[0],c=s.length,u=f=>{const m=[];let p=0,y=0,b;for(let C=0;C<f.length;C++){let j=f[C];if(p===0){if(j===i&&(l||f.slice(C,C+c)===s)){m.push(f.slice(y,C)),y=C+c;continue}if(j==="/"){b=C;continue}}j==="["?p++:j==="]"&&p--}const v=m.length===0?f:f.substring(y),w=v.startsWith(ag),S=w?v.substring(1):v,N=b&&b>y?b-y:void 0;return{modifiers:m,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:N}};return a?f=>a({className:f,parseClassName:u}):u},kw=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(l=>{l[0]==="["?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s},Rw=t=>({cache:Sw(t.cacheSize),parseClassName:Ew(t),...bw(t)}),Pw=/\s+/,Dw=(t,s)=>{const{parseClassName:a,getClassGroupId:l,getConflictingClassGroupIds:i}=s,c=[],u=t.trim().split(Pw);let f="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{modifiers:y,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:w}=a(p);let S=!!w,N=l(S?v.substring(0,w):v);if(!N){if(!S){f=p+(f.length>0?" "+f:f);continue}if(N=l(v),!N){f=p+(f.length>0?" "+f:f);continue}S=!1}const C=kw(y).join(":"),j=b?C+ag:C,k=j+N;if(c.includes(k))continue;c.push(k);const P=i(N,S);for(let I=0;I<P.length;++I){const M=P[I];c.push(j+M)}f=p+(f.length>0?" "+f:f)}return f};function Tw(){let t=0,s,a,l="";for(;t<arguments.length;)(s=arguments[t++])&&(a=og(s))&&(l&&(l+=" "),l+=a);return l}const og=t=>{if(typeof t=="string")return t;let s,a="";for(let l=0;l<t.length;l++)t[l]&&(s=og(t[l]))&&(a&&(a+=" "),a+=s);return a};function Mw(t,...s){let a,l,i,c=u;function u(m){const p=s.reduce((y,b)=>b(y),t());return a=Rw(p),l=a.cache.get,i=a.cache.set,c=f,f(m)}function f(m){const p=l(m);if(p)return p;const y=Dw(m,a);return i(m,y),y}return function(){return c(Tw.apply(null,arguments))}}const nt=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},lg=/^\[(?:([a-z-]+):)?(.+)\]$/i,Aw=/^\d+\/\d+$/,Iw=new Set(["px","full","screen"]),_w=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ow=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$w=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=t=>ma(t)||Iw.has(t)||Aw.test(t),Hn=t=>ba(t,"length",Gw),ma=t=>!!t&&!Number.isNaN(Number(t)),bd=t=>ba(t,"number",ma),uo=t=>!!t&&Number.isInteger(Number(t)),zw=t=>t.endsWith("%")&&ma(t.slice(0,-1)),Le=t=>lg.test(t),Yn=t=>_w.test(t),Vw=new Set(["length","size","percentage"]),Bw=t=>ba(t,Vw,ig),Uw=t=>ba(t,"position",ig),Ww=new Set(["image","url"]),Hw=t=>ba(t,Ww,Kw),Yw=t=>ba(t,"",qw),fo=()=>!0,ba=(t,s,a)=>{const l=lg.exec(t);return l?l[1]?typeof s=="string"?l[1]===s:s.has(l[1]):a(l[2]):!1},Gw=t=>Lw.test(t)&&!Ow.test(t),ig=()=>!1,qw=t=>Fw.test(t),Kw=t=>$w.test(t),Qw=()=>{const t=nt("colors"),s=nt("spacing"),a=nt("blur"),l=nt("brightness"),i=nt("borderColor"),c=nt("borderRadius"),u=nt("borderSpacing"),f=nt("borderWidth"),m=nt("contrast"),p=nt("grayscale"),y=nt("hueRotate"),b=nt("invert"),v=nt("gap"),w=nt("gradientColorStops"),S=nt("gradientColorStopPositions"),N=nt("inset"),C=nt("margin"),j=nt("opacity"),k=nt("padding"),P=nt("saturate"),I=nt("scale"),M=nt("sepia"),R=nt("skew"),D=nt("space"),V=nt("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Le,s],J=()=>[Le,s],Z=()=>["",dn,Hn],te=()=>["auto",ma,Le],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Le],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[ma,Le];return{cacheSize:500,separator:":",theme:{colors:[fo],spacing:[dn,Hn],blur:["none","",Yn,Le],brightness:_(),borderColor:[t],borderRadius:["none","","full",Yn,Le],borderSpacing:J(),borderWidth:Z(),contrast:_(),grayscale:K(),hueRotate:_(),invert:K(),gap:J(),gradientColorStops:[t],gradientColorStopPositions:[zw,Hn],inset:Q(),margin:Q(),opacity:_(),padding:J(),saturate:_(),scale:_(),sepia:K(),skew:_(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Le]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uo,Le]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",uo,Le]}],"grid-cols":[{"grid-cols":[fo]}],"col-start-end":[{col:["auto",{span:["full",uo,Le]},Le]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[fo]}],"row-start-end":[{row:["auto",{span:[uo,Le]},Le]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,s]}],"min-w":[{"min-w":[Le,s,"min","max","fit"]}],"max-w":[{"max-w":[Le,s,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[Le,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bd]}],"font-family":[{font:[fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",ma,bd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Hn]}],"underline-offset":[{"underline-offset":["auto",dn,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),Uw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hw]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[dn,Le]}],"outline-w":[{outline:[dn,Hn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[dn,Hn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yn,Yw]}],"shadow-color":[{shadow:[fo]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[l]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Yn,Le]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[b]}],saturate:[{saturate:[P]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[uo,Le]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dn,Hn,bd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Xw=Mw(Qw);function ot(...t){return Xw(vw(t))}const Jw=[{name:"Dashboard",href:"/",icon:fw,description:"Vista matriz de facturación"},{name:"Pendientes",href:"/pendientes",icon:cw,description:"Solicitudes pendientes"},{name:"Reportes",href:"/reportes",icon:kr,description:"Análisis y reportes"},{name:"Empresas",href:"/empresas",icon:ut,description:"Directorio de empresas de energía"},{name:"Análisis",href:"/analisis-demanda",icon:bn,description:"Análisis de demanda temporal"}],Zw=[{name:"Alcaldía de Palmira",slug:"alcaldia-palmira"},{name:"Alcaldía de Tuluá",slug:"alcaldia-tulua"},{name:"Gobernación del Valle",slug:"gobernacion-valle"},{name:"Infibagué",slug:"infibague"}];function un({children:t}){const s=vn(),[a,l]=g.useState(!1),i=g.useRef(null);return g.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&l(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg border-b border-blue-800",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:"Control de Facturación - Jikkosoft"}),r.jsx("span",{className:"ml-3 text-blue-200 text-sm hidden md:inline",children:"Gestión de solicitudes por empresa y mes"})]}),r.jsxs("nav",{className:"flex space-x-2",children:[Jw.map(c=>{const u=s.pathname===c.href,f=c.icon;return r.jsxs(Xt,{to:c.href,className:ot("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",u?"bg-white/20 text-white border border-white/30 shadow-sm":"text-blue-100 hover:text-white hover:bg-white/10 border border-transparent"),title:c.description,children:[r.jsx(f,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:c.name}),r.jsx("span",{className:"sm:hidden",children:c.name.charAt(0)})]},c.name)}),r.jsxs("div",{className:"relative",ref:i,children:[r.jsxs("button",{onClick:()=>l(!a),className:ot("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",a||s.pathname.includes("/entidad/")?"bg-white/20 text-white border border-white/30 shadow-sm":"text-blue-100 hover:text-white hover:bg-white/10 border border-transparent"),title:"Vistas históricas por entidad",children:[r.jsx(Hh,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Histórico"}),r.jsx("span",{className:"sm:hidden",children:"H"}),r.jsx(hi,{className:"h-3 w-3 ml-1"})]}),a&&r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[r.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-100",children:"Vistas Históricas"}),Zw.map(c=>{const u=s.pathname===`/entidad/${c.slug}/historico`;return r.jsx(Xt,{to:`/entidad/${c.slug}/historico`,className:ot("block px-4 py-3 text-sm transition-colors",u?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),onClick:()=>l(!1),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hh,{className:"h-4 w-4 mr-3 text-gray-400"}),c.name]})},c.slug)})]})]})]})]})})}),r.jsx("main",{className:"w-full px-2 sm:px-4 lg:px-6",children:t})]})}const ej="modulepreload",tj=function(t){return"/jikko-estimator/facturacion/"+t},qh={},Ge=function(s,a,l){let i=Promise.resolve();if(a&&a.length>0){let p=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var u=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");i=p(a.map(y=>{if(y=tj(y),y in qh)return;qh[y]=!0;const b=y.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":ej,b||(w.as="script"),w.crossOrigin="",w.href=y,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((S,N)=>{w.addEventListener("load",S),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return i.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return s().catch(c)})},rj=(t,s,a)=>{const l=t[s];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==a?". Note that variables only represent file names one level deep.":""))))})};class Be{static apiBaseUrl="http://localhost:3001/api";static async loadDataForEntityYear(s,a){try{const l=await this.loadDataFromJsonFiles(s,a.toString());if(l)return l}catch(l){console.warn(`JSON loading failed for ${s} ${a}:`,l);try{const i=await fetch(`${this.apiBaseUrl}/billing/${encodeURIComponent(s)}/${a}`);if(!i.ok)throw new Error(`La API no pudo cargar los datos: ${i.status}`);return await i.json()}catch{throw l}}throw new Error(`No se pudo cargar los datos para ${s} ${a}`)}static async loadDataFromJsonFiles(s,a){try{const i={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[s];if(!i)throw new Error(`Entidad "${s}" no está configurada en el sistema`);try{const u=(await rj(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Ge(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Ge(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Ge(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Ge(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Ge(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Ge(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Ge(()=>import("./2023-B57cv0hP.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Ge(()=>import("./2024-DEx_-YoA.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Ge(()=>import("./2025-0RSqV1mP.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Ge(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Ge(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Ge(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Ge(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Ge(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Ge(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Ge(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Ge(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Ge(()=>import("./2025-DPCpFIMP.js"),[]),"../data/gobernacion-valle/2017.json":()=>Ge(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Ge(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Ge(()=>import("./2019-C7J5zEwY.js"),[]),"../data/gobernacion-valle/2020.json":()=>Ge(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Ge(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Ge(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Ge(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Ge(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Ge(()=>import("./2025-CYNncVje.js"),[]),"../data/infibague/2023.json":()=>Ge(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Ge(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Ge(()=>import("./2025-CvEdKd5S.js"),[])}),`../data/${i}/${a}.json`,4)).default;return this.normalizeDataStructure(u)}catch(c){throw c.message?.includes("Unknown variable dynamic import")?new Error(`No existe el archivo JSON para ${s} del año ${a}`):c}}catch(l){throw console.error("Error loading data from JSON files:",l),l}}static async saveDataForEntityYear(s,a,l){try{const i=this.normalizeDataStructure(l),c=await fetch(`${this.apiBaseUrl}/billing/${encodeURIComponent(s)}/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!c.ok)throw new Error(`API request failed: ${c.status} ${c.statusText}`);const u=await c.json();console.log(`Data saved for ${s} ${a}:`,u.message)}catch(i){throw console.error(`Error saving data for ${s} ${a}:`,i),i}}static async getAvailableEntities(){try{const s=await fetch(`${this.apiBaseUrl}/entities`);if(!s.ok)throw new Error(`API request failed: ${s.status}`);return await s.json()}catch(s){return console.error("Error getting entities:",s),["Alcaldía de Palmira","Alcaldía de Tuluá","Gobernación del Valle del Cauca","Infibagué"]}}static async getAvailableYears(){try{const s=await fetch(`${this.apiBaseUrl}/years`);if(!s.ok)throw new Error(`API request failed: ${s.status}`);return await s.json()}catch(s){return console.error("Error getting years:",s),[2017,2018,2019,2020,2021,2022,2023,2024,2025]}}static normalizeDataStructure(s){const a={};for(const[l,i]of Object.entries(s))if(typeof i=="object"&&i!==null){const c={};for(const[u,f]of Object.entries(i))u==="_metadata"?c._metadata=f:typeof f=="object"&&f!==null&&(c[u]=f);c._metadata||(c._metadata={usuariosCount:null,esIncumbente:!1,tipoEmpresa:null,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}),a[l]=c}return a}static getCompanyMetadata(s){return s._metadata||{usuariosCount:null,esIncumbente:!1,tipoEmpresa:null,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}}static updateCompanyMetadata(s,a){return{...s,_metadata:a}}static getMonthlyBillingData(s,a){const l=s[a];return l&&typeof l=="object"?l:null}static validateCompanyData(s){try{return!(!s._metadata||typeof s._metadata.esIncumbente!="boolean")}catch(a){return console.error("Error validating company data:",a),!1}}static createDataBackup(s){return JSON.parse(JSON.stringify(s))}static validateCompanyRename(s,a,l){return s[a]?s[l]&&a!==l?{isValid:!1,error:`Ya existe una empresa con el nombre "${l}"`}:l.trim()?{isValid:!0}:{isValid:!1,error:"El nombre de la empresa no puede estar vacío"}:{isValid:!1,error:`La empresa "${a}" no existe`}}static loadDataFromLocalStorage(s,a){try{const l=`billing_${s}_${a}`,i=localStorage.getItem(l);return i?this.normalizeDataStructure(JSON.parse(i)):null}catch(l){return console.error(`Error loading from localStorage for ${s} ${a}:`,l),null}}}class xt{static MONTH_NAMES=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];static formatHumanDate(s){if(!s)return"Sin fecha";const a=s.split("-");if(a.length===3&&a[0].length===4){const f=parseInt(a[0]),m=parseInt(a[1])-1,p=parseInt(a[2]);if(!isNaN(f)&&!isNaN(m)&&!isNaN(p)&&m>=0&&m<=11&&p>=1&&p<=31){const y=new Date(f,m,p),b=y.getDate(),v=this.MONTH_NAMES[y.getMonth()],w=y.getFullYear();return`${v} ${b} de ${w}`}}const l=new Date(s),i=l.getDate(),c=this.MONTH_NAMES[l.getMonth()],u=l.getFullYear();return`${c} ${i} de ${u}`}static calculateElapsedDays(s){if(!s)return null;const a=s.split("-");if(a.length===3&&a[0].length===4){const u=parseInt(a[0]),f=parseInt(a[1])-1,m=parseInt(a[2]);if(!isNaN(u)&&!isNaN(f)&&!isNaN(m)&&f>=0&&f<=11&&m>=1&&m<=31){const p=new Date(u,f,m),b=new Date().getTime()-p.getTime();return Math.floor(b/(1e3*3600*24))}}const l=new Date(s),c=new Date().getTime()-l.getTime();return Math.floor(c/(1e3*3600*24))}static shouldShowElapsedDays(s){return s!=="Sin Solicitud"&&s!=="Closed"&&s!=="Removed"}static getElapsedDaysColor(s){return s>30?"text-red-600":s>15?"text-orange-600":"text-gray-600"}static calculateClosedDays(s,a,l){if(l!=null&&l>=0)return l;if(!s||!a)return null;const i=m=>{const p=m.split("-");if(p.length===3&&p[0].length===4){const y=parseInt(p[0]),b=parseInt(p[1])-1,v=parseInt(p[2]);if(!isNaN(y)&&!isNaN(b)&&!isNaN(v)&&b>=0&&b<=11&&v>=1&&v<=31)return new Date(y,b,v)}return null},c=i(s),u=i(a);if(!c||!u)try{const m=new Date(s),y=new Date(a).getTime()-m.getTime();return Math.floor(y/(1e3*3600*24))}catch{return null}const f=u.getTime()-c.getTime();return Math.floor(f/(1e3*3600*24))}static shouldShowClosedDays(s){return s==="Closed"}static getClosedDaysColor(){return"text-gray-600"}static calculateProcessingDaysForStorage(s,a){if(!s||!a)return null;const l=m=>{const p=m.split("-");if(p.length===3&&p[0].length===4){const y=parseInt(p[0]),b=parseInt(p[1])-1,v=parseInt(p[2]);if(!isNaN(y)&&!isNaN(b)&&!isNaN(v)&&b>=0&&b<=11&&v>=1&&v<=31)return new Date(y,b,v)}return null},i=l(s),c=l(a);if(!i||!c)try{const m=new Date(s),y=new Date(a).getTime()-m.getTime(),b=Math.floor(y/(1e3*3600*24));return b>=0?b:null}catch{return null}const u=c.getTime()-i.getTime(),f=Math.floor(u/(1e3*3600*24));return f>=0?f:null}static shouldCalculateAndStoreDays(s,a,l){return s==="Closed"&&!!a&&!!l}}const dt=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];async function nj(t,s){const l={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[t];if(!l)throw new Error(`Entity ${t} not found`);const i=await fetch(`/src/modules/billing/data/${l}/${s}.json`);if(!i.ok)throw new Error(`Failed to load data for ${t} ${s}`);const c=await i.json();return Object.keys(c)}const xr=["Alcaldía de Palmira","Alcaldía de Tuluá","Gobernación del Valle del Cauca","Infibagué"],Ru={"Sin Solicitud":"Sin Solicitud",New:"Nuevo",Refinement:"Refinamiento",Ready:"Listo",Active:"Activo","Validación y aprobación de Tributaria - Analítica":"Validación y Aprobación de Tributaria - Analítica","Cargue Archivo Staging":"Cargue Archivo Staging","Validación Tributaria Staging":"Validación Tributaria Staging","Cargue Archivo PROD":"Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD":"Validación y Aprobación de Tributaria - PROD","Facturación en PROD":"Facturación en PROD","Generar Reportes":"Generar Reportes","QA Certification":"Certificación QA","Gestion Tributaria":"Gestión Tributaria",Impediment:"Impedimento",Paused:"Pausado","Peer Review":"Revisión por Pares","Third Party":"Terceros",Staging:"Pre-producción",Production:"Producción",Closed:"Cerrado",Removed:"Removido"};function Zn(t){switch(t){case"Sin Solicitud":return{bg:"bg-gray-100",text:"text-gray-600"};case"New":return{bg:"bg-blue-100",text:"text-blue-800"};case"Refinement":return{bg:"bg-purple-100",text:"text-purple-800"};case"Ready":return{bg:"bg-blue-100",text:"text-blue-800"};case"Active":return{bg:"bg-blue-100",text:"text-blue-800"};case"QA Certification":return{bg:"bg-yellow-100",text:"text-yellow-800"};case"Gestion Tributaria":return{bg:"bg-orange-100",text:"text-orange-800"};case"Impediment":return{bg:"bg-red-100",text:"text-red-800"};case"Paused":return{bg:"bg-gray-100",text:"text-gray-800"};case"Peer Review":return{bg:"bg-indigo-100",text:"text-indigo-800"};case"Third Party":return{bg:"bg-pink-100",text:"text-pink-800"};case"Staging":return{bg:"bg-cyan-100",text:"text-cyan-800"};case"Production":return{bg:"bg-green-100",text:"text-green-800"};case"Closed":return{bg:"bg-green-100",text:"text-green-800"};case"Removed":return{bg:"bg-red-100",text:"text-red-800"};case"Validación y aprobación de Tributaria - Analítica":return{bg:"bg-blue-100",text:"text-gray-800"};case"Cargue Archivo Staging":return{bg:"bg-orange-100",text:"text-gray-800"};case"Validación Tributaria Staging":return{bg:"bg-orange-100",text:"text-gray-800"};case"Cargue Archivo PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Validación y Aprobación de Tributaria - PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Facturación en PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Validación Tributaria de Facturación":return{bg:"bg-green-100",text:"text-gray-800"};case"Dispersión en BD":return{bg:"bg-blue-100",text:"text-gray-800"};case"Generar Reportes":return{bg:"bg-green-100",text:"text-gray-800"};default:return{bg:"bg-gray-50",text:"text-gray-500"}}}function sj(t){return{"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[t]||""}function ga(t){switch(t){case"Sin Solicitud":return"📝";case"New":return"🆕";case"Refinement":return"🔍";case"Ready":return"🆕";case"Active":return"⚡";case"Limpieza y Transformación":return"🧹";case"Validación y aprobación de Tributaria - Analítica":return"🔍🧹";case"Cargue Archivo Staging":return"📤";case"Validación Tributaria Staging":return"🔍📤";case"Cargue Archivo PROD":return"📦";case"Validación y Aprobación de Tributaria - PROD":return"🔍📦";case"Facturación en PROD":return"💰";case"Validación Tributaria de Facturación":return"🔍💰";case"Dispersión en BD":return"📊💾";case"Generar Reportes":return"📊";case"QA Certification":return"🔍";case"Gestion Tributaria":return"💰";case"Impediment":return"🚫";case"Paused":return"⏸️";case"Peer Review":return"👥";case"Third Party":return"🤝";case"Staging":return"🎭";case"Production":return"🚀";case"Closed":return"✅";case"Removed":return"🗑️";default:return"❓"}}async function aj(t,s){const a={};try{(await nj(t,s)).forEach(i=>{a[i]={},dt.forEach(c=>{a[i][c]={estado:"Sin Solicitud",entidad:"",fechaRecibido:"",fechaCerrado:"",notas:"",workItemId:null}})})}catch(l){throw console.error("Error generating blank data:",l),new Error(`No se pudo generar datos para ${t} ${s}: ${l instanceof Error?l.message:"Error desconocido"}`)}return a}class xo{static renameCompany(s,a,l){if(a===l)return s;const i=Be.validateCompanyRename(s,a,l);if(!i.isValid)throw new Error(i.error);const c=Be.createDataBackup(s),u={};try{for(const[f,m]of Object.entries(s))f===a?(Be.validateCompanyData(m)||console.warn(`Company data validation failed for ${a}, proceeding anyway`),u[l]=m):u[f]=m;return u}catch(f){return console.error("Error during company rename, restoring backup:",f),c}}static addNewCompany(s,a,l){const i=a.trim();if(!i)throw new Error("El nombre de la empresa no puede estar vacío");if(s[i])throw new Error(`Ya existe una empresa con el nombre "${i}"`);const c={_metadata:l};if(!Be.validateCompanyData(c))throw new Error("Los datos de la nueva empresa no son válidos");return{...s,[i]:c}}static getCompanyNames(s){return Object.keys(s)}static validateCompanyName(s,a,l){const i=s.trim();return i?i!==l&&a.includes(i)?{isValid:!1,error:"Ya existe una empresa con este nombre"}:{isValid:!0}:{isValid:!1,error:"El nombre de la empresa es requerido"}}static hasAnyBillingData(s){for(const[a,l]of Object.entries(s))if(a!=="_metadata"&&l&&typeof l=="object")return!0;return!1}static sortCompanies(s,a,l=!1){return s.sort((i,c)=>{if(l){const u=this.hasAnyBillingData(a[i]||{}),f=this.hasAnyBillingData(a[c]||{});if(u&&!f)return-1;if(!u&&f)return 1}return i.localeCompare(c,"es")})}static async validateCompanyMultiYear(s,a,l,i){const c=s.trim(),u=[],f={};for(const v of a)try{const w=await Be.loadDataForEntityYear(l,v);f[v]=w}catch{f[v]={}}for(const v of a){const w=f[v];if(!!w[c])u.push({year:v,exists:!0,canCreate:!1,message:"Ya existe empresa con este nombre"});else{const N=this.calculateAlphabeticalPosition(c,Object.keys(w));u.push({year:v,exists:!1,canCreate:!0,message:`Se creará en posición alfabética #${N}`,position:N})}}const m=u.filter(v=>v.canCreate),p=u.filter(v=>!v.canCreate),y=[],b=m.length>0&&m[0].position||1;return{companyName:c,successYears:m,skippedYears:p,errors:y,alphabeticalPosition:b,totalChanges:m.length}}static async createCompanyMultiYear(s,a,l){const{companyName:i,successYears:c}=s;for(const u of c)try{let f;try{f=await Be.loadDataForEntityYear(l,u.year)}catch{f={}}const m={_metadata:a},p={...f,[i]:m},y=this.sortBillingDataAlphabetically(p);await Be.saveDataForEntityYear(l,u.year,y)}catch(f){throw console.error(`Error creating company in year ${u.year}:`,f),new Error(`Failed to create company in year ${u.year}: ${f}`)}}static calculateAlphabeticalPosition(s,a){return[...a,s].sort((i,c)=>i.localeCompare(c,"es")).indexOf(s)+1}static sortBillingDataAlphabetically(s){const a=Object.entries(s).sort(([l],[i])=>l.localeCompare(i,"es"));return Object.fromEntries(a)}static async checkCompanyExistsInYear(s,a,l){try{return!!(await Be.loadDataForEntityYear(l,a))[s.trim()]}catch{return!1}}}function Mt(t,s){const[a,l]=g.useState({}),[i,c]=g.useState(!0),[u,f]=g.useState(null),m=g.useRef(null);g.useEffect(()=>{if(!s)return;(async()=>{c(!0),f(null);try{const D=await Be.loadDataForEntityYear(s,t);l(D)}catch(D){console.error("Error loading data:",D),f(`No se pudo cargar los datos para ${s} ${t}`),l({})}finally{c(!1)}})()},[s,t]);const p=g.useCallback(async()=>{if(!(!s||i))try{return await Be.saveDataForEntityYear(s,t,a),console.log("Data saved successfully for",s,t),!0}catch(R){return console.error("Error saving data:",R),!1}},[s,t,a,i]),y=g.useCallback(R=>{!s||i||(m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{try{const D=R||a;await Be.saveDataForEntityYear(s,t,D),console.log("Data auto-saved after user change:",s,t)}catch(D){console.error("Error auto-saving after user change:",D)}},2e3))},[s,t,a,i]),b=g.useCallback((R,D,V,T)=>{l(O=>{const Q=O[R]?.[D],J={...Q,[V]:T};let Z=J;V==="estado"&&T==="Closed"?xt.shouldCalculateAndStoreDays("Closed",J.fechaRecibido,J.fechaCerrado)&&(Z={...J,diasProcesamiento:xt.calculateProcessingDaysForStorage(J.fechaRecibido,J.fechaCerrado)}):(V==="fechaRecibido"||V==="fechaCerrado")&&Q?.estado==="Closed"?xt.shouldCalculateAndStoreDays("Closed",V==="fechaRecibido"?T:J.fechaRecibido,V==="fechaCerrado"?T:J.fechaCerrado)&&(Z={...J,diasProcesamiento:xt.calculateProcessingDaysForStorage(V==="fechaRecibido"?T:J.fechaRecibido,V==="fechaCerrado"?T:J.fechaCerrado)}):V==="estado"&&T!=="Closed"&&Q?.diasProcesamiento!==void 0&&(Z={...J,diasProcesamiento:null});const te={...O,[R]:{...O[R],[D]:Z}};return y(te),te})},[y]),v=g.useCallback((R,D,V)=>{l(T=>{const O=T[R]?.[D];let Q={...O,estado:V};return V==="Closed"&&O?xt.shouldCalculateAndStoreDays("Closed",O.fechaRecibido,O.fechaCerrado)&&(Q={...Q,diasProcesamiento:xt.calculateProcessingDaysForStorage(O.fechaRecibido,O.fechaCerrado)}):V!=="Closed"&&O?.diasProcesamiento!==void 0&&(Q={...Q,diasProcesamiento:null}),{...T,[R]:{...T[R],[D]:Q}}})},[]),w=g.useCallback((R,D)=>{const V=a[R];return V?Be.getMonthlyBillingData(V,D):null},[a]),S=g.useCallback((R,D)=>{l(V=>{const T=V[R]||{},O=Be.updateCompanyMetadata(T,D);return{...V,[R]:O}})},[]),N=g.useCallback(R=>{const D=a[R];return Be.getCompanyMetadata(D||{})},[a]),C=g.useCallback((R,D)=>{l(V=>{try{return xo.renameCompany(V,R,D)}catch(T){throw console.error("Error renaming company:",T),T}})},[]),j=g.useCallback((R,D)=>{l(V=>{try{return xo.addNewCompany(V,R,D)}catch(T){throw console.error("Error adding new company:",T),T}})},[]),k=g.useCallback(()=>xo.getCompanyNames(a),[a]),P=g.useCallback(R=>{l(D=>{const V={...D};return R.forEach(T=>{delete V[T]}),V})},[]),I=g.useCallback(async()=>{try{l(await aj(s,t.toString())),f(null)}catch(R){console.error("Error regenerating data:",R),f(`No se pudo generar datos para ${s} ${t}`),l({})}},[s,t]),M=g.useCallback(async(R,D,V)=>{const T=[],O=new Map,Q=R.allYears?[2017,2018,2019,2020,2021,2022,2023,2024,2025]:[t],J=[s],Z={};let te=0;for(const X of Q)for(const se of J)try{const $=await Be.loadDataForEntityYear(se,X);Z[`${se}-${X}`]=$;const K=R.allCompanies?Object.keys($):R.companies.filter(Y=>$[Y]);for(const Y of K)for(const _ of dt){const q=$[Y]?.[_];if(q?.workItemId){const de={company:Y,month:_,year:X,entity:se},fe=O.get(q.workItemId)||[];O.set(q.workItemId,[...fe,de]),te++}}}catch($){console.warn(`Could not load data for ${se} ${X}:`,$)}if(O.size===0)throw new Error("No se encontraron work items para sincronizar");let re=0;try{const X=Array.from(O.keys()),se=await D.syncMultipleWorkItemsWithDates(X);for(const[$,K]of se){const Y=O.get($);if(Y)for(const _ of Y){re++,V?.(re,te,`${_.company} - ${_.month}`);const{company:q,month:de,year:fe,entity:Se}=_,we=Z[`${Se}-${fe}`][q]?.[de];if(we){const le=we.estado,me=K.state,Me=le!==me||we.fechaRecibido!==K.fechaRecibido||we.fechaCerrado!==K.fechaCerrado||we.workItemType!==K.workItemType;if(T.push({company:q,month:de,oldState:le,newState:me,fechaRecibido:K.fechaRecibido,fechaCerrado:K.fechaCerrado,success:!0,noChanges:!Me}),fe===t&&Se===s&&Me&&(v(q,de,me),b(q,de,"fechaRecibido",K.fechaRecibido),b(q,de,"fechaCerrado",K.fechaCerrado),b(q,de,"workItemType",K.workItemType)),fe!==t||Se!==s)try{const pe=K.fechaRecibido||we.fechaRecibido,_e=K.fechaCerrado||we.fechaCerrado;let Ue=we.diasProcesamiento;me==="Closed"&&xt.shouldCalculateAndStoreDays("Closed",pe,_e)?Ue=xt.calculateProcessingDaysForStorage(pe,_e):me!=="Closed"&&(Ue=null),Z[`${Se}-${fe}`][q][de]={...we,estado:me,fechaRecibido:pe,fechaCerrado:_e,diasProcesamiento:Ue,workItemType:K.workItemType},await Be.saveDataForEntityYear(Se,fe,Z[`${Se}-${fe}`])}catch(pe){console.error(`Error saving data for ${Se} ${fe}:`,pe)}}}}return T}catch(X){throw console.error("Error during advanced sync:",X),X}},[t,s,b,v]);return{billingData:a,isLoading:i,error:u,updateField:b,updateStatusFromAzure:v,getCellData:w,updateCompanyMetadata:S,getCompanyMetadata:N,renameCompany:C,addNewCompany:j,getCompanyNames:k,deleteCompanies:P,regenerateDataForEntityYear:I,performAdvancedSync:M,saveData:p}}function jo(t){const a={"Sin Solicitud":"Sin Solicitud",New:"New",Refinement:"Refinement",Ready:"Ready",Active:"Active","QA Certification":"QA Certification","Gestion Tributaria":"Gestion Tributaria",Impediment:"Impediment",Paused:"Paused","Peer Review":"Peer Review","Third Party":"Third Party",Staging:"Staging",Production:"Production",Closed:"Closed",Removed:"Removed","Validación y aprobación de Tributaria - Analítica":"Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging":"Cargue Archivo Staging","Validación Tributaria Staging":"Validación Tributaria Staging","Cargue Archivo PROD":"Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD":"Validación y Aprobación de Tributaria - PROD","Facturación en PROD":"Facturación en PROD","Validación Tributaria de Facturación":"Validación Tributaria de Facturación","Dispersión en BD":"Dispersión en BD","Generar Reportes":"Generar Reportes","Validación y Aprobación de Tributaria - BD":"Validación y aprobación de Tributaria - Analítica","Cargue del Archivo en BD":"Cargue Archivo Staging","Facturacion PROD":"Facturación en PROD","Validación Tributaria PROD":"Validación y Aprobación de Tributaria - PROD","En Validación":"Peer Review","Pendiente Aprobación":"Ready","En Proceso":"Active",Finalizado:"Closed",Cancelado:"Removed","Limpieza y Transformacion":"Active"}[t];return a||(["Sin Solicitud","New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production","Closed","Removed","Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging","Validación Tributaria Staging","Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD","Facturación en PROD","Validación Tributaria de Facturación","Dispersión en BD","Generar Reportes"].includes(t)?t:(console.warn(`[State Mapper] Unrecognized state value: "${t}". Mapping to 'Sin Solicitud'.`),"Sin Solicitud"))}const oj={FT01:{type:"FT01",name:"FT01 - Consumos",description:"Archivo de consumos de energía eléctrica"},FT03:{type:"FT03",name:"FT03 - Recaudos",description:"Archivo de recaudos reportados por comercializadora"},FT06:{type:"FT06",name:"FT06 - Excluidos",description:"Archivo de usuarios excluidos (pagan directo a alcaldía)"}};function lj(t){return`${t.ft01}${t.ft03}${t.ft06}`}function cg(t){const s={ft01:"-",ft03:"-",ft06:"-"};if(!t||t.length!==3)return s;const[a,l,i]=t.split(""),c=["P","N","-"];return!c.includes(a)||!c.includes(l)||!c.includes(i)?s:{ft01:a,ft03:l,ft06:i}}function ij(t){const s=[t.ft01,t.ft03,t.ft06],a=s.filter(c=>c==="P").length,l=s.filter(c=>c==="N").length;return s.filter(c=>c==="-").length===0?"complete":a>0||l>0?"partial":"pending"}function dg(t){const s=[t.ft01,t.ft03,t.ft06],a=s.filter(u=>u==="P").length,l=s.filter(u=>u==="N").length,i=s.filter(u=>u==="-").length;return{overallStatus:ij(t),processed:a,noApply:l,pending:i,details:t}}function Hd(t){const s=cg(t);return dg(s)}function wd(t){switch(t){case"complete":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"partial":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"pending":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}}function ug(t){switch(t){case"complete":return"Completo";case"partial":return"Parcial";case"pending":return"Pendiente";default:return"Desconocido"}}function cj(t){switch(t){case"P":return"Procesado";case"N":return"No Aplica";case"-":return"Pendiente";default:return"Desconocido"}}function Pu(t){switch(t){case"complete":return"✅";case"partial":return"🟡";case"pending":return"🔴";default:return"❓"}}function dj(t){switch(t){case"-":return"P";case"P":return"N";case"N":return"-";default:return"-"}}function uj(t){const[s,a]=g.useState(2025),[l,i]=g.useState(""),[c,u]=g.useState(""),[f,m]=g.useState([]),[p,y]=g.useState(null),b=g.useMemo(()=>Object.keys(t),[t]),v=g.useMemo(()=>b.filter(D=>{const V=D.toLowerCase().includes(l.toLowerCase()),T=c===""||dt.some(J=>Be.getMonthlyBillingData(t[D]||{},J)?.entidad===c);let O=!0;if(p&&(O=dt.some(J=>{const Z=Be.getMonthlyBillingData(t[D]||{},J);return Z?Hd(Z.ft).overallStatus===p:!1})),f.length===0)return V&&T&&O;const Q=dt.some(J=>{const Z=Be.getMonthlyBillingData(t[D]||{},J);if(!Z)return f.includes("Sin Solicitud");const te=jo(Z.estado);return f.includes(Z.estado)||f.includes(te)});return V&&T&&Q&&O}),[b,l,c,f,p,t]),w=g.useMemo(()=>{const D={"Sin Solicitud":0,New:0,Refinement:0,Ready:0,Active:0,"Validación y aprobación de Tributaria - Analítica":0,"Cargue Archivo Staging":0,"Validación Tributaria Staging":0,"Cargue Archivo PROD":0,"Validación y Aprobación de Tributaria - PROD":0,"Facturación en PROD":0,"Validación Tributaria de Facturación":0,"Dispersión en BD":0,"Generar Reportes":0,"QA Certification":0,"Gestion Tributaria":0,Impediment:0,Paused:0,"Peer Review":0,"Third Party":0,Staging:0,Production:0,Closed:0,Removed:0,conWorkItems:0};return v.forEach(V=>{dt.forEach(T=>{const O=Be.getMonthlyBillingData(t[V]||{},T);if(O){const Q=jo(O.estado);D[Q]++,O.workItemId&&D.conWorkItems++}})}),D},[v,t]),S=g.useMemo(()=>{const D={conWorkItems:0};return v.forEach(V=>{dt.forEach(T=>{const O=Be.getMonthlyBillingData(t[V]||{},T);if(O){const Q=O.estado;D[Q]?D[Q]++:D[Q]=1,O.workItemId&&D.conWorkItems++}})}),D},[v,t]),N=g.useCallback(D=>{m(V=>V.includes(D)?V.filter(T=>T!==D):[...V,D])},[]),C=g.useCallback(()=>{m([]),y(null)},[]),j=f.length>0||p!==null,k=g.useMemo(()=>({selectedStatuses:f,toggleStatus:N,clearFilters:C,isFilterActive:j}),[f,N,C,j]),P=g.useMemo(()=>{const D={complete:0,partial:0,pending:0,total:0};return v.forEach(V=>{dt.forEach(T=>{const O=Be.getMonthlyBillingData(t[V]||{},T);if(O&&O.estado!=="Sin Solicitud"){const Q=Hd(O.ft);D[Q.overallStatus]++,D.total++}})}),D},[v,t]),I=g.useCallback(D=>{i(D)},[]),M=g.useCallback(D=>{u(D)},[]),R=g.useCallback(D=>{y(D)},[]);return{selectedYear:s,setSelectedYear:a,searchTerm:l,setSearchTerm:I,selectedEntity:c,setSelectedEntity:M,filteredCompanies:v,statistics:w,realStateStatistics:S,statusFilters:k,selectedFTStatus:p,setSelectedFTStatus:R,ftStatistics:P}}class Kn{static convertAzureDate(s){if(!s)return"";try{return new Date(s).toISOString().split("T")[0]}catch(a){return console.error("Error converting Azure date:",a),""}}static calculateDuration(s,a){if(!s||!a)return null;try{const l=this.parseLocalDate(s),c=this.parseLocalDate(a).getTime()-l.getTime();return Math.ceil(c/(1e3*60*60*24))}catch(l){return console.error("Error calculating duration:",l),null}}static parseLocalDate(s){const a=s.split("-");if(a.length===3&&a[0].length===4){const l=parseInt(a[0]),i=parseInt(a[1])-1,c=parseInt(a[2]);if(!isNaN(l)&&!isNaN(i)&&!isNaN(c)&&i>=0&&i<=11&&c>=1&&c<=31)return new Date(l,i,c)}return new Date(s)}static calculateRequestDuration(s,a){return!s||!a?null:this.calculateDuration(s,a)}static calculateDaysSinceCreation(s){if(!s)return null;const a=new Date,l=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`;return this.calculateDuration(s,l)}static formatDisplayDate(s){if(!s)return"Sin fecha";try{return this.parseLocalDate(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}catch(a){return console.error("Error formatting date:",a),"Fecha inválida"}}static getDurationColor(s){return s>30?"text-red-600":s>15?"text-orange-600":s>7?"text-yellow-600":"text-green-600"}static formatDurationText(s){return s===null?"Sin calcular":s===0?"Mismo día":s===1?"1 día":`${s} días`}}class fj{config;constructor(s){this.config=s}updateConfig(s){this.config=s}isEnabled(){return this.config.enabled&&!!this.config.pat&&!!this.config.organization&&!!this.config.project}async getWorkItem(s){if(!this.isEnabled()||!s)return null;try{const a=`https://dev.azure.com/${this.config.organization}/${this.config.project}/_apis/wit/workitems/${s}?api-version=7.0`,l=await fetch(a,{headers:{Authorization:`Basic ${btoa(`:${this.config.pat}`)}`}});if(l.ok){const i=await l.json(),c=i.fields["System.BoardColumn"],u=i.fields["System.State"];let f;return c&&c.trim()!==""?f=c:f=u||"Sin Solicitud",{state:f,title:i.fields["System.Title"],url:i._links.html.href,createdDate:i.fields["System.CreatedDate"]||"",changedDate:i.fields["System.ChangedDate"]||"",closedDate:i.fields["Microsoft.VSTS.Common.ClosedDate"]||null,workItemType:i.fields["System.WorkItemType"]||"Unknown"}}}catch(a){console.error("Error fetching work item:",a)}return null}async createWorkItem(s,a,l,i){if(!this.isEnabled())return null;try{const c=`https://dev.azure.com/${this.config.organization}/${this.config.project}/_apis/wit/workitems/$Task?api-version=7.0`,u=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:`Basic ${btoa(`:${this.config.pat}`)}`},body:JSON.stringify([{op:"add",path:"/fields/System.Title",value:`Facturación ${s} - ${a} ${l}`},{op:"add",path:"/fields/System.Description",value:`Solicitud de facturación para ${s} correspondiente a ${a} ${l}. Entidad solicitante: ${i}`},{op:"add",path:"/fields/System.Tags",value:`Facturación; ${s}; ${a}; ${l}`}])});if(u.ok)return(await u.json()).id}catch(c){console.error("Error creating work item:",c)}return null}async syncFromAzure(s){const a=await this.getWorkItem(s);return a?a.state:null}async syncWorkItemData(s){const a=await this.getWorkItem(s);return a?{state:a.state,fechaRecibido:Kn.convertAzureDate(a.createdDate),fechaCerrado:a.closedDate?Kn.convertAzureDate(a.closedDate):"",workItemType:a.workItemType}:null}async syncMultipleWorkItems(s){const a=new Map;if(!this.isEnabled()||s.length===0)return a;const l=10;for(let i=0;i<s.length;i+=l){const u=s.slice(i,i+l).map(async f=>{try{const m=await this.syncFromAzure(f);m&&a.set(f,m)}catch(m){console.error(`Error syncing work item ${f}:`,m)}});await Promise.all(u),i+l<s.length&&await new Promise(f=>setTimeout(f,100))}return a}async syncMultipleWorkItemsWithDates(s){const a=new Map;if(!this.isEnabled()||s.length===0)return a;const l=10;for(let i=0;i<s.length;i+=l){const u=s.slice(i,i+l).map(async f=>{try{const m=await this.syncWorkItemData(f);m&&a.set(f,m)}catch(m){console.error(`Error syncing work item ${f}:`,m)}});await Promise.all(u),i+l<s.length&&await new Promise(f=>setTimeout(f,100))}return a}getWorkItemUrl(s){return`https://dev.azure.com/${this.config.organization}/${this.config.project}/_workitems/edit/${s}`}}const mj=()=>{try{const t=localStorage.getItem("azure-devops-config");if(t)return JSON.parse(t)}catch(t){console.warn("Error loading Azure DevOps config from localStorage:",t)}return{organization:"",project:"",pat:"",enabled:!1}},hj=t=>{try{localStorage.setItem("azure-devops-config",JSON.stringify(t))}catch(s){console.warn("Error saving Azure DevOps config to localStorage:",s)}};function pj(){const[t,s]=g.useState(mj),[a,l]=g.useState(!1),[i]=g.useState(()=>new fj(t)),c=g.useCallback(w=>{s(w),i.updateConfig(w),hj(w)},[i]),u=g.useCallback(async(w,S,N,C)=>{if(!i.isEnabled())return null;l(!0);try{return await i.createWorkItem(w,S,N,C)}finally{l(!1)}},[i]),f=g.useCallback(async w=>{if(!i.isEnabled()||!w)return null;l(!0);try{return await i.syncFromAzure(w)}finally{l(!1)}},[i]),m=g.useCallback(w=>i.getWorkItemUrl(w),[i]),p=g.useCallback(async w=>{if(!i.isEnabled()||w.length===0)return new Map;l(!0);try{return await i.syncMultipleWorkItems(w)}finally{l(!1)}},[i]),y=g.useCallback(async w=>{if(!i.isEnabled()||w.length===0)return new Map;l(!0);try{return await i.syncMultipleWorkItemsWithDates(w)}finally{l(!1)}},[i]),b=g.useCallback(async w=>{if(!i.isEnabled()||!w)return null;l(!0);try{return await i.syncWorkItemData(w)}finally{l(!1)}},[i]),v=g.useCallback(()=>i.isEnabled(),[i]);return{azureConfig:t,updateConfig:c,syncing:a,createWorkItem:u,syncFromAzure:f,syncMultipleWorkItems:p,syncMultipleWorkItemsWithDates:y,syncWorkItemData:b,getWorkItemUrl:m,isEnabled:v}}const gi={isProduction:()=>!0,isDevelopment:()=>!1,isFeatureEnabled:t=>{switch(t){case"actions":return!1;case"azure":return!1;case"protected":return!0;default:return!1}},getProtectionPassword:()=>"jikko",shouldProtectFeatures:()=>gi.isFeatureEnabled("protected")},gj=gi.isFeatureEnabled,xj=gi.getProtectionPassword,yj=gi.shouldProtectFeatures;function vj({children:t,featureName:s="esta función"}){const[a,l]=g.useState(!1),[i,c]=g.useState(""),[u,f]=g.useState(""),[m,p]=g.useState(!0),y=`protected_feature_auth_${s.replace(/\s+/g,"_")}`;g.useEffect(()=>{sessionStorage.getItem(y)==="true"&&l(!0),p(!1)},[y]);const b=v=>{v.preventDefault();const w=xj();i===w?(l(!0),sessionStorage.setItem(y,"true"),f("")):(f("Contraseña incorrecta"),c(""))};return m?null:a?r.jsx(r.Fragment,{children:t}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(mw,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:"Contenido Protegido"}),r.jsx("p",{className:"text-purple-100 text-sm",children:"Se requiere autenticación"})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("p",{className:"text-gray-700 mb-2",children:["El acceso a ",r.jsx("strong",{children:s})," está protegido."]}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Por favor, ingresa la contraseña para continuar."})]}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),r.jsx("input",{id:"password",type:"password",value:i,onChange:v=>c(v.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Ingresa la contraseña",autoFocus:!0})]}),u&&r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[r.jsx(Hr,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{children:u})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Acceder"})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-xs text-blue-800",children:[r.jsx("strong",{children:"Nota:"})," La autenticación se mantendrá activa durante esta sesión del navegador."]})})]})]})})}function Kh({feature:t,children:s,fallback:a=null,requirePassword:l=!1,featureName:i}){if(!gj(t))return r.jsx(r.Fragment,{children:a});if(l&&yj()){const u=i||bj(t);return r.jsx(vj,{featureName:u,children:s})}return r.jsx(r.Fragment,{children:s})}function bj(t){return{actions:"Acciones de Gestión",azure:"Configuración de Azure DevOps",protected:"Función Protegida"}[t]||"esta función"}function wj({selectedYear:t,onYearChange:s,searchTerm:a,onSearchChange:l,selectedEntity:i,onEntityChange:c,realStateStatistics:u,azureConfig:f,onConfigClick:m,onSyncClick:p,onCreateRequestClick:y,onNewCompanyClick:b,onNewCompanyMultiYearClick:v,onCompareCompaniesClick:w,onImportDataClick:S,onDeleteEmptyCompaniesClick:N,syncing:C,statusFilters:j,selectedFTStatus:k,onFTStatusChange:P,ftStatistics:I}){const[M,R]=g.useState(!1),D=T=>{switch(jo(T)){case"Sin Solicitud":return"bg-gray-100 text-gray-600 border-gray-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-100 text-red-800 border-red-200";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-100 text-green-800 border-green-200";case"Closed":return"bg-gray-100 text-gray-800 border-gray-200";case"Removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-50 text-gray-500 border-gray-100"}},V=T=>{const O=jo(T);return D(O)};return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-6 p-4 lg:p-6",children:[r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-6 h-6 text-blue-600"}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:i})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx("span",{children:"•"}),r.jsxs("span",{children:["Año ",t]})]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Dashboard de Control"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(Kh,{feature:"actions",fallback:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Acciones Principales"}),r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg text-center text-sm text-gray-600",children:"Acciones deshabilitadas en esta versión"})]}),children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Acciones Principales"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[r.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 bg-green-600 text-white px-3 py-2.5 rounded-lg hover:bg-green-700 transition-colors shadow-sm font-medium",children:[r.jsx(Vd,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nueva Solicitud"}),r.jsx("span",{className:"sm:hidden",children:"Solicitud"})]}),r.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-3 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nueva Empresa"}),r.jsx("span",{className:"sm:hidden",children:"Empresa"})]}),r.jsxs("button",{onClick:v,className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-3 py-2.5 rounded-lg hover:bg-purple-700 transition-colors shadow-sm font-medium",title:"Crear empresa en múltiples años",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsx(vt,{className:"w-3 h-3"}),r.jsx("span",{className:"hidden sm:inline",children:"Multi-Año"}),r.jsx("span",{className:"sm:hidden",children:"Multi"})]}),r.jsxs("button",{onClick:w,className:"flex items-center justify-center gap-2 bg-gray-600 text-white px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors shadow-sm font-medium",title:"Comparar empresas entre años",children:[r.jsx(Bd,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Comparar"}),r.jsx("span",{className:"sm:hidden",children:"Comp"})]}),r.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 bg-orange-600 text-white px-3 py-2.5 rounded-lg hover:bg-orange-700 transition-colors shadow-sm font-medium",title:"Importar datos desde JSON",children:[r.jsx(Ud,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Importar"}),r.jsx("span",{className:"sm:hidden",children:"Import"})]}),r.jsxs("button",{onClick:N,className:"flex items-center justify-center gap-2 bg-red-600 text-white px-3 py-2.5 rounded-lg hover:bg-red-700 transition-colors shadow-sm font-medium",title:"Eliminar empresas sin solicitudes",children:[r.jsx(rg,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Limpiar"}),r.jsx("span",{className:"sm:hidden",children:"Clean"})]})]})]})}),r.jsx(Kh,{feature:"azure",fallback:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Azure DevOps"}),r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg text-center text-sm text-gray-600",children:"Configuración no disponible"})]}),children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Azure DevOps"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:m,className:"relative flex items-center justify-center bg-purple-600 text-white w-10 h-10 rounded-lg hover:bg-purple-700 transition-colors shadow-sm",title:"Configurar Azure DevOps",children:[r.jsx(tg,{className:"w-4 h-4"}),f.enabled&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),f.enabled&&r.jsxs("button",{onClick:p,disabled:C,className:"flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm font-medium disabled:opacity-50 flex-1",title:"Sincronizar estados desde Azure DevOps",children:[r.jsx(go,{className:`w-4 h-4 ${C?"animate-spin":""}`}),r.jsx("span",{children:C?"Sincronizando...":"Sincronizar"})]}),!f.enabled&&r.jsx("div",{className:"flex-1 text-sm text-gray-600 bg-gray-100 px-3 py-2.5 rounded-lg border border-gray-200",children:r.jsx("span",{className:"text-gray-500",children:"No configurado"})})]})]})}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Filtros y Búsqueda"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 rounded-lg px-3 py-2 border border-blue-200 flex-1",children:[r.jsx(vt,{className:"w-4 h-4 text-blue-600"}),r.jsxs("select",{value:t,onChange:T=>s(parseInt(T.target.value)),className:"bg-transparent border-none outline-none font-medium text-blue-800 w-full",children:[r.jsx("option",{value:2017,children:"2017"}),r.jsx("option",{value:2018,children:"2018"}),r.jsx("option",{value:2019,children:"2019"}),r.jsx("option",{value:2020,children:"2020"}),r.jsx("option",{value:2021,children:"2021"}),r.jsx("option",{value:2022,children:"2022"}),r.jsx("option",{value:2023,children:"2023"}),r.jsx("option",{value:2024,children:"2024"}),r.jsx("option",{value:2025,children:"2025"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[r.jsx(ut,{className:"w-4 h-4 text-gray-600"}),r.jsx("select",{value:i,onChange:T=>c(T.target.value),className:"bg-transparent border-none outline-none font-medium text-gray-800 w-full text-sm",children:xr.map(T=>r.jsx("option",{value:T,children:T.length>20?T.substring(0,20)+"...":T},T))})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Su,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Buscar empresa...",value:a,onChange:T=>l(T.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>R(!M),className:`w-full flex items-center justify-center gap-2 px-3 py-2 border rounded-lg transition-colors ${j.isFilterActive?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:[r.jsx(Po,{className:"w-4 h-4"}),r.jsx("span",{children:"Filtros"}),j.isFilterActive&&r.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:j.selectedStatuses.length+(k?1:0)}),r.jsx(hi,{className:`w-4 h-4 transition-transform ${M?"rotate-180":""}`})]}),M&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-80 z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros Avanzados"}),j.isFilterActive&&r.jsxs("button",{onClick:j.clearFilters,className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[r.jsx(lr,{className:"w-3 h-3"}),"Limpiar Todo"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx(Zp,{className:"w-4 h-4 text-purple-600"}),"Estado de Archivos FT"]}),r.jsxs("div",{className:"space-y-2",children:[["complete","partial","pending"].map(T=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"radio",name:"ftStatus",checked:k===T,onChange:()=>P(k===T?null:T),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:Pu(T)}),r.jsx("span",{className:"text-sm font-medium",children:ug(T)}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",T==="complete"?I.complete:T==="partial"?I.partial:I.pending,")"]})]})]},T)),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"radio",name:"ftStatus",checked:k===null,onChange:()=>P(null),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Todos"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Filtrar por Estado"}),r.jsx("div",{className:"space-y-2",children:["Sin Solicitud","New","Ready","Active","Gestion Tributaria","Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging","Validación Tributaria Staging","Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD","Facturación en PROD","Validación Tributaria de Facturación","Dispersión en BD","Generar Reportes","QA Certification","Impediment","Paused","Closed"].map(T=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:j.selectedStatuses.includes(T),onChange:()=>j.toggleStatus(T),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:ga(T)}),r.jsx("span",{className:"text-sm font-medium",children:T})]})]},T))})]})]})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mt-6",children:[Object.entries(u).filter(([T])=>T!=="conWorkItems").filter(([,T])=>T>0).map(([T,O])=>r.jsx("div",{className:`p-3 rounded-lg border ${V(T)}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:ga(T)}),r.jsx("span",{className:"font-medium text-sm truncate",title:T,children:T.length>15?T.slice(-15):T})]}),r.jsx("span",{className:"text-lg font-bold",children:O})]})},T)),r.jsx("div",{className:"p-3 rounded-lg border bg-purple-100 text-purple-800 border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wo,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium text-sm",children:"Con Work Items"})]}),r.jsx("span",{className:"text-lg font-bold",children:u.conWorkItems})]})}),I.total>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-3 rounded-lg border bg-green-100 text-green-800 border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"✅"}),r.jsx("span",{className:"font-medium text-sm",children:"FT Completos"})]}),r.jsx("span",{className:"text-lg font-bold",children:I.complete})]})}),r.jsx("div",{className:"p-3 rounded-lg border bg-yellow-100 text-yellow-800 border-yellow-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"🟡"}),r.jsx("span",{className:"font-medium text-sm",children:"FT Parciales"})]}),r.jsx("span",{className:"text-lg font-bold",children:I.partial})]})}),r.jsx("div",{className:"p-3 rounded-lg border bg-red-100 text-red-800 border-red-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"🔴"}),r.jsx("span",{className:"font-medium text-sm",children:"FT Pendientes"})]}),r.jsx("span",{className:"text-lg font-bold",children:I.pending})]})})]})]})]})}function jj(t,s=20){return t.length<=s?t:"..."+t.slice(-s)}function Du(t){const s={"Sin Solicitud":"Sin Solicitud","Validación y aprobación de Tributaria - Analítica":"...Tributaria - Analítica","Limpieza y Transformación":"...Limpieza y Transformación","Cargue Archivo Staging":"...Cargue Archivo Staging","QA Certification":"QA Certification"};return s[t]?s[t]:jj(t,20)}function Nj({data:t,onCellClick:s}){const a=jo(t.estado),l=Hd(t.ft),i=Pu(l.overallStatus),c=m=>{switch(m){case"Sin Solicitud":return"bg-gray-100 text-gray-600 border-gray-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-200 text-red-900 border-red-300";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-200 text-green-900 border-green-300";case"Closed":return"bg-green-300 text-green-900 border-green-400";case"Removed":return"bg-red-200 text-red-900 border-red-300";default:return"bg-gray-50 text-gray-500 border-gray-100"}},u=xt.shouldShowElapsedDays(a)?xt.calculateElapsedDays(t.fechaRecibido):null,f=xt.shouldShowClosedDays(a)?xt.calculateClosedDays(t.fechaRecibido,t.fechaCerrado,t.diasProcesamiento):null;return r.jsx("button",{onClick:s,className:`w-full h-8 rounded border ${c(a)} 
        hover:shadow-sm transition-all duration-150 hover:brightness-95
        focus:outline-none focus:ring-1 focus:ring-blue-500 relative text-left`,children:r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 h-full relative",children:[r.jsx("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:r.jsx("span",{className:"text-xs font-medium truncate",title:t.estado,children:Du(t.estado)})}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u!==null&&r.jsxs("span",{className:`text-xs font-bold ${xt.getElapsedDaysColor(u)}`,children:[u,"d"]}),f!==null&&r.jsxs("span",{className:`text-xs font-bold ${xt.getClosedDaysColor()}`,children:[f,"d"]}),t.workItemId&&r.jsx("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),t.ft&&r.jsx("span",{className:"text-xs leading-none",title:`FT Status: Procesados ${l.processed}, No Aplican ${l.noApply}, Pendientes ${l.pending}`,children:i})]})]})})}function Cj({filteredCompanies:t,billingData:s,onCellClick:a,onCompanyClick:l}){return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-max",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-3 py-2 font-semibold text-gray-900 sticky left-0 bg-gray-50 z-10 min-w-48 text-sm",children:"Empresa de Energía"}),dt.map(i=>r.jsx("th",{className:"text-center px-2 py-2 font-semibold text-gray-900 min-w-24 text-sm",children:i},i))]})}),r.jsx("tbody",{children:t.map((i,c)=>{const u=s[i],f=Be.getCompanyMetadata(u||{});return r.jsxs("tr",{className:c%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100",children:[r.jsx("td",{className:"px-3 py-1 font-medium text-gray-900 sticky left-0 bg-inherit z-10 border-r border-gray-200",children:r.jsxs("button",{onClick:m=>l(i,m),className:"flex items-center gap-2 truncate max-w-44 hover:text-blue-600 transition-colors text-left text-sm",title:`${i} - Click para editar información, Ctrl+Click para ver perfil`,children:[r.jsx("span",{className:"truncate",children:i}),f.esIncumbente&&r.jsx(pi,{className:"w-3 h-3 text-yellow-500 flex-shrink-0",fill:"currentColor"})]})}),dt.map(m=>{const p=Be.getMonthlyBillingData(u||{},m);return p?r.jsx("td",{className:"p-1",children:r.jsx(Nj,{data:p,onCellClick:()=>a(i,m)})},m):r.jsx("td",{className:"p-1"},m)})]},i)})})]})})})}function oa(t){return t==null||isNaN(t)?"":new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function jd(t){if(!t||t.trim()==="")return null;const s=t.replace(/\./g,"").replace(/,/g,""),a=parseInt(s,10);return isNaN(a)?null:a}function Sj({selectedCell:t,currentData:s,selectedYear:a,azureConfig:l,syncing:i,onClose:c,onUpdateData:u,onCreateWorkItem:f,onSyncFromAzure:m,getWorkItemUrl:p}){const[y,b]=g.useState(null),v=cg(s?.ft),w=dg(v),S=C=>{const j=dj(v[C]),k={...v,[C]:j},P=lj(k);u(t.empresa,t.mes,"ft",P)};if(!t||!s)return null;const N=C=>{const j=Zn(C),k={"bg-gray-100":"border-gray-200","bg-blue-100":"border-blue-200","bg-purple-100":"border-purple-200","bg-green-100":"border-green-200","bg-yellow-100":"border-yellow-200","bg-orange-100":"border-orange-200","bg-red-100":"border-red-200","bg-indigo-100":"border-indigo-200","bg-pink-100":"border-pink-200","bg-cyan-100":"border-cyan-200","bg-gray-50":"border-gray-100"},P=j.bg.match(/bg-\w+-\d+/),I=P&&k[P[0]]||"border-gray-200";return`${j.bg} ${j.text} ${I}`};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:t.empresa}),r.jsxs("p",{className:"text-blue-100 text-sm",children:[t.mes," ",a]})]})]}),r.jsx("button",{onClick:c,className:"text-blue-100 hover:text-white transition-colors p-2 hover:bg-blue-800 rounded-lg",children:r.jsx(lr,{className:"w-6 h-6"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 p-6 max-h-[calc(95vh-120px)] overflow-y-auto",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ds,{className:"w-5 h-5 text-blue-600"}),"Estado y Progreso"]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado Actual"}),s.workItemId&&l.enabled&&r.jsxs("button",{onClick:()=>s.workItemId&&m(t.empresa,t.mes,s.workItemId),disabled:i,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 transition-colors text-xs disabled:opacity-50 bg-blue-50 px-2 py-1 rounded-lg",children:[r.jsx(go,{className:`w-3 h-3 ${i?"animate-spin":""}`}),"Sync Azure"]})]}),r.jsxs("div",{className:`inline-flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium ${N(s.estado)}`,children:[r.jsx("span",{className:"text-lg",children:ga(s.estado)}),r.jsx("span",{children:s.estado})]}),xt.shouldShowElapsedDays(s.estado)&&r.jsx("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg border border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{className:"w-4 h-4 text-amber-600"}),r.jsxs("span",{className:"text-sm text-amber-800",children:["Días transcurridos:",r.jsxs("span",{className:`ml-1 font-bold ${xt.getElapsedDaysColor(xt.calculateElapsedDays(s.fechaRecibido)||0)}`,children:[xt.calculateElapsedDays(s.fechaRecibido)||0," días"]})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(wo,{className:"w-4 h-4 text-purple-600"}),"Azure DevOps Work Item"]}),r.jsx("button",{onClick:()=>b(y==="workItemId"?null:"workItemId"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-50 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="workItemId"?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",value:s.workItemId||"",onChange:C=>u(t.empresa,t.mes,"workItemId",C.target.value?parseInt(C.target.value):null),placeholder:"ID del Work Item",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),r.jsx("button",{onClick:()=>b(null),className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r.jsx(gw,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:s.workItemId?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"font-medium",children:["#",s.workItemId]}),r.jsx("a",{href:p(s.workItemId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",children:r.jsx(wo,{className:"w-4 h-4"})})]}):r.jsx("span",{className:"text-gray-500 italic",children:"Sin Work Item"})}),l.enabled&&!s.workItemId&&r.jsx("button",{onClick:()=>f(t.empresa,t.mes,s.entidad),disabled:i,className:"bg-purple-600 text-white px-3 py-1 rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors text-sm font-medium",children:"Crear Work Item"})]})]})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-green-600"}),"Entidad Pública"]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Entidad Asignada"}),r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("span",{className:s.entidad?"text-gray-900 font-medium":"text-gray-500 italic",children:s.entidad||"Sin asignar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Is,{className:"w-4 h-4 text-green-600"}),"Notas y Comentarios"]}),r.jsx("button",{onClick:()=>b(y==="notas"?null:"notas"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="notas"?r.jsx("textarea",{value:s.notas,onChange:C=>u(t.empresa,t.mes,"notas",C.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none bg-white",rows:6,placeholder:"Agregar notas, observaciones o comentarios sobre esta solicitud...",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-32",children:r.jsx("span",{className:s.notas?"text-gray-900 whitespace-pre-wrap":"text-gray-500 italic",children:s.notas||"Sin notas o comentarios"})})]})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-purple-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Zp,{className:"w-5 h-5 text-purple-600"}),"Control de Archivos FT"]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estado General"}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${wd(w.overallStatus).bg} ${wd(w.overallStatus).text} ${wd(w.overallStatus).border}`,children:[Pu(w.overallStatus)," ",ug(w.overallStatus)]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Procesados: ",w.processed," • No Aplican: ",w.noApply," • Pendientes: ",w.pending]})]}),r.jsx("div",{className:"space-y-3",children:Object.entries(oj).map(([C,j])=>{const k=C.toLowerCase(),P=v[k],I=cj(P),M=R=>{switch(R){case"P":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"N":return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";case"-":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}};return r.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:j.name}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:j.description})]}),r.jsx("button",{onClick:()=>S(k),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-colors ${M(P)}`,title:`Click para cambiar estado. Actual: ${I}`,children:I})]})},k)})}),r.jsxs("div",{className:"mt-4 p-3 bg-purple-100 rounded-lg",children:[r.jsxs("div",{className:"text-xs text-purple-800",children:[r.jsx("strong",{children:"Estados:"})," Pendiente → Procesado → No Aplica → Pendiente"]}),r.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Haz click en cada botón para cambiar el estado del archivo FT correspondiente."})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(vt,{className:"w-5 h-5 text-blue-600"}),"Fechas Importantes"]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Recibido"}),r.jsx("button",{onClick:()=>b(y==="fechaRecibido"?null:"fechaRecibido"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="fechaRecibido"?r.jsx("input",{type:"date",value:s.fechaRecibido,onChange:C=>u(t.empresa,t.mes,"fechaRecibido",C.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("span",{className:s.fechaRecibido?"text-gray-900 font-medium":"text-gray-500 italic",children:xt.formatHumanDate(s.fechaRecibido)||"Sin fecha"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Cerrado"}),r.jsx("button",{onClick:()=>b(y==="fechaCerrado"?null:"fechaCerrado"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="fechaCerrado"?r.jsx("input",{type:"date",value:s.fechaCerrado,onChange:C=>u(t.empresa,t.mes,"fechaCerrado",C.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("span",{className:s.fechaCerrado?"text-gray-900 font-medium":"text-gray-500 italic",children:xt.formatHumanDate(s.fechaCerrado)||"Sin fecha"})})]})]}),(s.fechaRecibido||s.fechaCerrado)&&r.jsxs("div",{className:"bg-indigo-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(xw,{className:"w-5 h-5 text-indigo-600"}),"Duración y Métricas"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.fechaRecibido&&s.fechaCerrado&&r.jsxs("div",{className:"bg-white rounded-lg border border-indigo-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(pn,{className:"w-4 h-4 text-indigo-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duración Total"})]}),r.jsx("div",{className:"text-lg font-bold text-indigo-900",children:Kn.formatDurationText(Kn.calculateDuration(s.fechaRecibido,s.fechaCerrado))}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Desde recepción hasta cierre"})]}),s.fechaRecibido&&!s.fechaCerrado&&r.jsxs("div",{className:"bg-white rounded-lg border border-indigo-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(vt,{className:"w-4 h-4 text-indigo-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Días Transcurridos"})]}),r.jsx("div",{className:`text-lg font-bold ${Kn.getDurationColor(Kn.calculateDaysSinceCreation(s.fechaRecibido)||0)}`,children:Kn.formatDurationText(Kn.calculateDaysSinceCreation(s.fechaRecibido))}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Desde la recepción"})]})]})]})]}),r.jsx("div",{className:"xl:col-span-3 mt-6",children:r.jsxs("div",{className:"bg-green-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ho,{className:"w-5 h-5 text-green-600"}),"Datos de Facturación"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Cantidad de Facturas"]}),r.jsx("button",{onClick:()=>b(y==="cantidadFacturas"?null:"cantidadFacturas"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="cantidadFacturas"?r.jsx("input",{type:"number",value:s.cantidadFacturas||"",onChange:C=>u(t.empresa,t.mes,"cantidadFacturas",C.target.value?parseInt(C.target.value):null),onBlur:()=>b(null),placeholder:"Número de facturas generadas",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:s.cantidadFacturas?"text-gray-900 font-medium":"text-gray-500 italic",children:s.cantidadFacturas?s.cantidadFacturas.toLocaleString("es-CO"):"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Cantidad de Medidores"]}),r.jsx("button",{onClick:()=>b(y==="cantidadMedidores"?null:"cantidadMedidores"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="cantidadMedidores"?r.jsx("input",{type:"number",value:s.cantidadMedidores||"",onChange:C=>u(t.empresa,t.mes,"cantidadMedidores",C.target.value?parseInt(C.target.value):null),onBlur:()=>b(null),placeholder:"Número de medidores reportados",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:s.cantidadMedidores?"text-gray-900 font-medium":"text-gray-500 italic",children:s.cantidadMedidores?s.cantidadMedidores.toLocaleString("es-CO"):"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Cantidad de Excluidos"]}),r.jsx("button",{onClick:()=>b(y==="cantidadExcluidos"?null:"cantidadExcluidos"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="cantidadExcluidos"?r.jsx("input",{type:"number",value:s.cantidadExcluidos||"",onChange:C=>u(t.empresa,t.mes,"cantidadExcluidos",C.target.value?parseInt(C.target.value):null),onBlur:()=>b(null),placeholder:"Número de medidores excluidos",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:s.cantidadExcluidos?"text-gray-900 font-medium":"text-gray-500 italic",children:s.cantidadExcluidos?s.cantidadExcluidos.toLocaleString("es-CO"):"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Valor FT01 (Consumos kWh)"]}),r.jsx("button",{onClick:()=>b(y==="valorFT01"?null:"valorFT01"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="valorFT01"?r.jsx("input",{type:"text",value:s.valorFT01?oa(s.valorFT01):"",onChange:C=>{const j=jd(C.target.value);u(t.empresa,t.mes,"valorFT01",j)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:s.valorFT01?"text-gray-900 font-medium":"text-gray-500 italic",children:s.valorFT01?`$${oa(s.valorFT01)}`:"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Valor FT03 (Recaudado)"]}),r.jsx("button",{onClick:()=>b(y==="valorFT03"?null:"valorFT03"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="valorFT03"?r.jsx("input",{type:"text",value:s.valorFT03?oa(s.valorFT03):"",onChange:C=>{const j=jd(C.target.value);u(t.empresa,t.mes,"valorFT03",j)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:s.valorFT03?"text-gray-900 font-medium":"text-gray-500 italic",children:s.valorFT03?`$${oa(s.valorFT03)}`:"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Valor FT06 (Medidores Excluidos)"]}),r.jsx("button",{onClick:()=>b(y==="valorFT06"?null:"valorFT06"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="valorFT06"?r.jsx("input",{type:"text",value:s.valorFT06?oa(s.valorFT06):"",onChange:C=>{const j=jd(C.target.value);u(t.empresa,t.mes,"valorFT06",j)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:s.valorFT06?"text-gray-900 font-medium":"text-gray-500 italic",children:s.valorFT06?`$${oa(s.valorFT06)}`:"Sin especificar"})})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:[r.jsxs("div",{className:"text-xs text-green-800",children:[r.jsx("strong",{children:"Información de Facturación:"})," Complete estos campos cuando tenga datos disponibles."]}),r.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Los valores monetarios se formatean automáticamente con separador de miles."})]})]})})]}),r.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600",children:r.jsx("span",{children:"Última modificación automática guardada"})}),r.jsxs("button",{onClick:c,className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:[r.jsx(Ds,{className:"w-4 h-4"}),"Cerrar"]})]})})]})})}function Ej({isOpen:t,onClose:s,config:a,onUpdateConfig:l}){if(!t)return null;const i=()=>{s(),console.log("Azure DevOps configuration saved")};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(tg,{className:"w-5 h-5 text-purple-600"}),"Configuración Azure DevOps"]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organización"}),r.jsx("input",{type:"text",value:a.organization,onChange:c=>l({...a,organization:c.target.value}),placeholder:"nombre-organizacion",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proyecto"}),r.jsx("input",{type:"text",value:a.project,onChange:c=>l({...a,project:c.target.value}),placeholder:"nombre-proyecto",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Access Token (PAT)"}),r.jsx("input",{type:"password",value:a.pat,onChange:c=>l({...a,pat:c.target.value}),placeholder:"tu-personal-access-token",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Necesita permisos: Work Items (Read) + Work Items (Write para crear nuevos)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"enableAzure",checked:a.enabled,onChange:c=>l({...a,enabled:c.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("label",{htmlFor:"enableAzure",className:"text-sm font-medium text-gray-700",children:"Habilitar sincronización automática"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sincronización:"}),r.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[r.jsxs("div",{children:["• ",r.jsx("strong",{children:"Estados:"})," Solo lectura desde Azure DevOps"]}),r.jsxs("div",{children:["• ",r.jsx("strong",{children:"Work Items:"})," Se crean automáticamente"]}),r.jsxs("div",{children:["• ",r.jsx("strong",{children:"Mapeo:"})," New→Sin Solicitud, Active→En Progreso, Resolved→Con Impedimento, Closed→Terminado"]})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx("button",{onClick:s,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),r.jsx("button",{onClick:i,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Guardar"})]})]})})})}function kj({isOpen:t,onClose:s,billingData:a,selectedEntity:l,selectedYear:i,azureConfig:c,onCreateRequest:u}){const[f,m]=g.useState(""),[p,y]=g.useState([]),[b,v]=g.useState(""),[w,S]=g.useState(""),[N,C]=g.useState(!1),[j,k]=g.useState([]),P=Object.keys(a);g.useEffect(()=>{t&&(m(""),y([]),v(""),S(""),k([]))},[t]);const I=T=>{y(O=>O.includes(T)?O.filter(Q=>Q!==T):[...O,T])},M=()=>{const T=[];if(f||T.push("Debe seleccionar una empresa de energía"),p.length===0&&T.push("Debe seleccionar al menos un mes"),f&&p.length>0){const O=p.filter(Q=>{const J=a[f]?.[Q];return J&&J.estado!=="Sin Solicitud"});O.length>0&&T.push(`Los siguientes meses ya tienen solicitudes: ${O.join(", ")}`)}return k(T),T.length===0},R=async()=>{if(M()){C(!0);try{await u(f,p,b,w),s()}catch(T){console.error("Error creating request:",T),k(["Error al crear la solicitud. Por favor, inténtalo nuevamente."])}finally{C(!1)}}},D=T=>{if(!f)return"available";const O=a[f]?.[T];return!O||O.estado==="Sin Solicitud"?"available":O.estado},V=T=>{switch(T){case"available":return"bg-green-100 text-green-800 border-green-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-100 text-red-800 border-red-200";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-100 text-green-800 border-green-200";case"Closed":return"bg-gray-100 text-gray-800 border-gray-200";case"Removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(Vd,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Nueva Solicitud de Facturación"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[l," - ",i]})]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[j.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Hr,{className:"w-5 h-5 text-red-600"}),r.jsx("h3",{className:"font-medium text-red-800",children:"Errores de validación"})]}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-700",children:j.map((T,O)=>r.jsx("li",{children:T},O))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Empresa de Energía"})]}),r.jsxs("select",{value:f,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Seleccionar empresa..."}),P.map(T=>r.jsx("option",{value:T,children:T},T))]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Meses a solicitar"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:dt.map(T=>{const O=D(T),Q=O==="available",J=p.includes(T);return r.jsxs("button",{onClick:()=>Q&&I(T),disabled:!Q,className:`
                      p-3 rounded-md border text-sm font-medium transition-all
                      ${J?"bg-blue-600 text-white border-blue-600":Q?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":`${V(O)} cursor-not-allowed opacity-60`}
                    `,children:[r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("span",{children:T}),J&&r.jsx(Ds,{className:"w-4 h-4"})]}),!Q&&r.jsx("div",{className:"text-xs mt-1 opacity-75",children:O})]},T)})}),r.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona los meses para los cuales quieres crear solicitudes. Los meses en gris ya tienen solicitudes existentes."})]}),c.organization&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wo,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID del Work Item en Azure DevOps (opcional)"})]}),r.jsx("input",{type:"text",value:w,onChange:T=>S(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: 12345"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Si ya tienes un work item en Azure DevOps relacionado con esta solicitud, ingresa su ID aquí."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Is,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notas (opcional)"})]}),r.jsx("textarea",{value:b,onChange:T=>v(T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agregar notas sobre la solicitud..."})]}),c.organization&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Integración con Azure DevOps"})]}),r.jsx("p",{className:"text-sm text-blue-700",children:w?`Se asociará el work item #${w} con todas las solicitudes creadas. El estado actual del work item se sincronizará automáticamente.`:"Las solicitudes se crearán sin work item asociado. Puedes agregar uno más tarde."})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cancelar"}),r.jsx("button",{onClick:R,disabled:N||!f||p.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Creando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Vd,{className:"w-4 h-4"}),r.jsx("span",{children:"Crear Solicitud"})]})})]})]})}):null}function Rj({isOpen:t,onClose:s,azureConfig:a,filteredCompanies:l,selectedYear:i,onSync:c}){const[u,f]=g.useState("config"),[m,p]=g.useState(!1),[y,b]=g.useState(!0),[v,w]=g.useState([]),[S,N]=g.useState({current:0,total:0,currentItem:""}),[C,j]=g.useState(!1);if(!t)return null;const k=async()=>{f("syncing"),N({current:0,total:0,currentItem:"Iniciando sincronización..."});const D={allYears:m,allCompanies:y,companies:y?[]:l,years:m?[2017,2018,2019,2020,2021,2022,2023,2024,2025]:[i]};try{const V=await c(D);w(V),f("results")}catch(V){console.error("Sync failed:",V),f("config")}},P=()=>{const D=I();navigator.clipboard.writeText(D).then(()=>{j(!0),setTimeout(()=>j(!1),2e3)})},I=()=>{const D=v.filter(Q=>Q.success&&!Q.noChanges),V=v.filter(Q=>Q.noChanges),T=v.filter(Q=>!Q.success);let O=`=== RESUMEN DE SINCRONIZACIÓN AZURE DEVOPS ===

`;return O+=`Fecha: ${new Date().toLocaleString("es-ES")}
`,O+=`Alcance: ${m?"Todos los años":`Año ${i}`} | ${y?"Todos los clientes":"Clientes filtrados"}

`,O+=`📊 ESTADÍSTICAS:
`,O+=`✅ Actualizados: ${D.length}
`,O+=`➖ Sin cambios: ${V.length}
`,O+=`❌ Errores: ${T.length}

`,D.length>0&&(O+=`📋 CAMBIOS REALIZADOS:
`,D.forEach(Q=>{O+=`${Q.company} - ${Q.month}: "${Q.oldState}" → "${Q.newState}"
`}),O+=`
`),T.length>0&&(O+=`⚠️ ERRORES:
`,T.forEach(Q=>{O+=`${Q.company} - ${Q.month}: ${Q.error}
`})),O},M=()=>({updated:v.filter(D=>D.success&&!D.noChanges).length,noChanges:v.filter(D=>D.noChanges).length,errors:v.filter(D=>!D.success).length}),R=()=>{f("config"),w([]),N({current:0,total:0,currentItem:""}),j(!1),s()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(go,{className:"w-5 h-5 text-blue-600"}),"Sincronización con Azure DevOps"]}),r.jsx("button",{onClick:R,disabled:u==="syncing",className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(lr,{className:"w-5 h-5"})})]}),u==="config"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Hr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"¿Qué hará esta sincronización?"}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Esta opción actualizará los estados de las solicitudes desde Azure DevOps para los clientes y años seleccionados. Se sincronizarán los estados, fechas de recibido y fechas de cierre de todos los work items configurados."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Alcance Temporal"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:!m,onChange:()=>p(!1),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Solo año actual"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Sincronizar únicamente ",i]})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:m,onChange:()=>p(!0),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Todos los años"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Sincronizar desde 2017 hasta 2025"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Alcance de Clientes"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:y,onChange:()=>b(!0),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Todos los clientes"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Sincronizar todas las empresas"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:!y,onChange:()=>b(!1),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Solo clientes filtrados"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Sincronizar únicamente los ",l.length," clientes actualmente visibles"]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx("button",{onClick:R,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsxs("button",{onClick:k,disabled:!a.enabled,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(go,{className:"w-4 h-4"}),"Iniciar Sincronización"]})]})]}),u==="syncing"&&r.jsxs("div",{className:"text-center py-12 space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(go,{className:"w-12 h-12 text-blue-600 animate-spin"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sincronizando con Azure DevOps..."}),r.jsx("p",{className:"text-gray-600 mb-4",children:S.currentItem}),S.total>0&&r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[r.jsx("span",{children:"Progreso"}),r.jsxs("span",{children:[S.current," de ",S.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.current/S.total*100}%`}})})]})]})]}),u==="results"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-3 gap-4",children:(()=>{const D=M();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[r.jsx(Vt,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-800",children:D.updated}),r.jsx("div",{className:"text-sm text-green-700",children:"Actualizados"})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[r.jsx(pn,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:D.noChanges}),r.jsx("div",{className:"text-sm text-gray-700",children:"Sin cambios"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[r.jsx(zd,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-red-800",children:D.errors}),r.jsx("div",{className:"text-sm text-red-700",children:"Errores"})]})]})})()}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Detalle de Sincronización"}),r.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(dw,{className:"w-4 h-4"}),C?"¡Copiado!":"Copiar al portapapeles"]})]}),r.jsx("div",{className:"space-y-2",children:v.map((D,V)=>r.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${D.success?D.noChanges?"bg-gray-50 border border-gray-200":"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[r.jsx("div",{className:"flex-shrink-0",children:D.success?D.noChanges?r.jsx(pn,{className:"w-5 h-5 text-gray-600"}):r.jsx(Vt,{className:"w-5 h-5 text-green-600"}):r.jsx(zd,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:D.company}),r.jsx("span",{className:"text-gray-500",children:"—"}),r.jsx("span",{className:"font-medium",children:D.month})]}),D.success?D.noChanges?r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Sin cambios detectados"}):r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:['"',D.oldState,'" → "',D.newState,'"']}):r.jsx("div",{className:"text-sm text-red-700 mt-1",children:D.error})]})]},V))})]}),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:r.jsx("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})})]})]})})})}function Pj({isOpen:t,onClose:s,companyName:a,currentMetadata:l,existingCompanies:i,isNewCompany:c=!1,onSave:u}){const[f,m]=g.useState(a),[p,y]=g.useState(null),[b,v]=g.useState(!1),[w,S]=g.useState(null),[N,C]=g.useState(null),[j,k]=g.useState(null),[P,I]=g.useState(!1),[M,R]=g.useState(!1),[D,V]=g.useState(!1),[T,O]=g.useState(null);g.useEffect(()=>{t&&(m(a),O(null),l?(y(l.usuariosCount),v(l.esIncumbente),S(l.tipoEmpresa),C(l.email||null),k(l.nit||null),I(l.esAutoconsumidora||!1),R(l.esOperadorRed||!1),V(l.recauda||!1)):(y(null),v(!1),S(null),C(null),k(null),I(!1),R(!1),V(!1)))},[l,t,a]);const Q=re=>re.trim()?re.trim()!==a&&i.includes(re.trim())?"Ya existe una empresa con este nombre":null:"El nombre de la empresa es requerido",J=re=>{m(re),O(Q(re))},Z=()=>{const re=f.trim(),X=Q(re);if(X){O(X);return}u({usuariosCount:p,esIncumbente:b,tipoEmpresa:w,email:N,nit:j,esAutoconsumidora:P,esOperadorRed:M,recauda:D},re!==a?re:void 0),s()},te=re=>{const X=parseInt(re);y(isNaN(X)?null:X)};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-blue-600"}),c?"Nueva Empresa":"Información de Empresa"]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Empresa"}),r.jsx("input",{type:"text",value:f,onChange:re=>J(re.target.value),placeholder:"Ingrese el nombre de la empresa",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T?"border-red-500":"border-gray-300"}`}),T&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:T})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Cantidad de Usuarios"]}),r.jsx("input",{type:"number",value:p||"",onChange:re=>te(re.target.value),placeholder:"Ingrese el número de usuarios",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(oi,{className:"w-4 h-4 inline mr-1"}),"Tipo de Empresa"]}),r.jsxs("select",{value:w||"",onChange:re=>S(re.target.value||null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Seleccione un tipo"}),r.jsx("option",{value:"Generadora",children:"Generadora"}),r.jsx("option",{value:"Comercializadora",children:"Comercializadora"}),r.jsx("option",{value:"Ambas",children:"Ambas"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(hw,{className:"w-4 h-4 inline mr-1"}),"Email de la Empresa"]}),r.jsx("input",{type:"email",value:N||"",onChange:re=>C(re.target.value||null),placeholder:"ejemplo@empresa.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Is,{className:"w-4 h-4 inline mr-1"}),"NIT (incluye dígito de verificación)"]}),r.jsx("input",{type:"text",value:j||"",onChange:re=>k(re.target.value||null),placeholder:"900123456-7",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:re=>v(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(pi,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es empresa incumbente del municipio"})]})}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Propiedades Adicionales"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:P,onChange:re=>I(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(oi,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Autoconsumidora"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:re=>R(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(pw,{className:"w-4 h-4 text-orange-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Operador de Red"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D,onChange:re=>V(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(ho,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recauda"})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:Z,disabled:!!T||!f.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:c?"Crear Empresa":"Guardar"})]})]})}):null}class Nd{static BASE_PATH="/src/modules/billing/data";static getEntityFolder(s){return{"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[s]||""}static async loadCompaniesForYear(s,a){try{const l=this.getEntityFolder(s);if(!l)throw new Error(`Entidad no encontrada: ${s}`);const i=await fetch(`${this.BASE_PATH}/${l}/${a}.json`);if(!i.ok)throw new Error(`No se pudieron cargar los datos para ${s} ${a}`);const c=await i.json();return Object.keys(c)}catch(l){return console.warn(`Error loading companies for ${s} ${a}:`,l),[]}}static async generateComparisonData(s){const{entity:a,years:l}=s,i={};for(const m of l)i[m]=await this.loadCompaniesForYear(a,m);const c=new Set;Object.values(i).forEach(m=>{m.forEach(p=>c.add(p))});const u=Array.from(c).sort().map(m=>{const p={name:m};return l.forEach(y=>{p[y.toString()]=i[y].includes(m)}),p}),f={};return l.forEach(m=>{f[m.toString()]=i[m].length}),{entity:a,years:l,companies:u,summary:f}}static exportToJSON(s){const a=JSON.stringify(s,null,2),l=new Blob([a],{type:"application/json"}),i=URL.createObjectURL(l),c=document.createElement("a");c.href=i,c.download=`comparativa-empresas-${s.entity.replace(/\s+/g,"-").toLowerCase()}-${s.years.join("-")}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)}static exportToCSV(s){const l=[["Empresa",...s.years.map(p=>p.toString())].join(",")];s.companies.forEach(p=>{const y=[`"${p.name}"`,...s.years.map(b=>p[b.toString()]?"Sí":"No")];l.push(y.join(","))}),l.push(""),l.push("RESUMEN");const i=["Total de empresas",...s.years.map(p=>s.summary[p.toString()].toString())];l.push(i.join(","));const c=l.join(`
`),u=new Blob([c],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(u),m=document.createElement("a");m.href=f,m.download=`comparativa-empresas-${s.entity.replace(/\s+/g,"-").toLowerCase()}-${s.years.join("-")}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(f)}}function Dj({isOpen:t,onClose:s,defaultEntity:a="Alcaldía de Palmira"}){const[l,i]=g.useState({entity:a,years:[2024,2025]}),[c,u]=g.useState(null),[f,m]=g.useState(!1),[p,y]=g.useState(null),b=[2017,2018,2019,2020,2021,2022,2023,2024,2025],v=C=>{i(j=>({...j,years:j.years.includes(C)?j.years.filter(k=>k!==C):[...j.years,C].sort()}))},w=async()=>{if(l.years.length<2){y("Selecciona al menos 2 años para comparar");return}m(!0),y(null);try{const C=await Nd.generateComparisonData(l);u(C)}catch(C){y(C instanceof Error?C.message:"Error al generar comparación")}finally{m(!1)}},S=()=>{c&&Nd.exportToJSON(c)},N=()=>{c&&Nd.exportToCSV(c)};return g.useEffect(()=>{t&&!c&&w()},[t]),t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bd,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comparativa de Empresas"})]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[r.jsx(ut,{className:"w-4 h-4"}),"Entidad"]}),r.jsx("select",{value:l.entity,onChange:C=>i(j=>({...j,entity:C.target.value})),className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:xr.map(C=>r.jsx("option",{value:C,children:C},C))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[r.jsx(vt,{className:"w-4 h-4"}),"Años a Comparar"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(C=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.years.includes(C),onChange:()=>v(C),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:C})]},C))})]})]}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("button",{onClick:w,disabled:f||l.years.length<2,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[f?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Bd,{className:"w-4 h-4"}),f?"Generando...":"Generar Comparación"]})}),p&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-600 text-sm",children:p})}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Resumen"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.years.map(C=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.summary[C.toString()]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Empresas en ",C]})]},C))})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[r.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Is,{className:"w-4 h-4"}),"Exportar JSON"]}),r.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(Nu,{className:"w-4 h-4"}),"Exportar CSV"]})]}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 border-r",children:"Empresa"}),c.years.map(C=>r.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 border-r last:border-r-0",children:C},C))]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:c.companies.map((C,j)=>r.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50/50",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r font-medium",children:C.name}),c.years.map(k=>r.jsx("td",{className:"px-4 py-3 text-center border-r last:border-r-0",children:C[k.toString()]?r.jsx(Vt,{className:"w-5 h-5 text-green-600 mx-auto"}):r.jsx(zd,{className:"w-5 h-5 text-red-400 mx-auto"})},k))]},C.name))})]})})})]})]}),r.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"})})})]})}):null}function Tj({isOpen:t,onClose:s,onImport:a,selectedEntity:l,selectedYear:i}){const[c,u]=g.useState(""),[f,m]=g.useState(!1),[p,y]=g.useState(null),b=async()=>{if(c.trim()){m(!0),y(null);try{const S=await a(c.trim());y(S)}catch(S){y({total:0,imported:[],skipped:[],errors:[{company:"",month:"",status:"error",message:S instanceof Error?S.message:"Error desconocido al procesar"}]})}finally{m(!1)}}},v=()=>{u(""),y(null),s()},w=(S,N)=>{const C=()=>{switch(S.status){case"success":return r.jsx(Vt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"});case"skipped":return r.jsx(pn,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"});case"error":return r.jsx(Hr,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"})}},j=()=>{switch(S.status){case"success":return"bg-green-50 border-green-200";case"skipped":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200"}};return r.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${j()}`,children:[C(),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[S.company&&r.jsx("span",{className:"text-gray-900",children:S.company}),S.month&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"-"}),r.jsx("span",{className:"text-gray-700",children:S.month})]}),S.workItemId&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"-"}),r.jsxs("span",{className:"text-blue-600",children:["#",S.workItemId]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.message})]})]},N)};return t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ud,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Importar Datos"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Contexto actual: ",l," - ",i]}),r.jsx("p",{className:"text-xs text-blue-600",children:"✨ Soporte multi-año: Puede importar datos de cualquier año y entidad"})]})]}),r.jsx("button",{onClick:v,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"JSON de Importación"}),r.jsx("textarea",{value:c,onChange:S=>u(S.target.value),placeholder:'{\\n  "EMGESA S.A. E.S.P.": {\\n    "Enero": {\\n      "entidad": "Alcaldía de Tuluá",\\n      "workItemId": 26373,\\n      "anio": 2024\\n    }\\n  }\\n}',className:"w-full h-40 p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",disabled:f}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[r.jsx("p",{children:"Pega aquí el JSON con los datos a importar. Se validará cada empresa y Work Item con Azure DevOps."}),r.jsx("p",{className:"text-blue-600",children:"💡 Los datos se guardarán automáticamente en el archivo correspondiente según el año y entidad de cada registro."}),r.jsx("p",{className:"text-green-600",children:'📝 Ejemplo: Los registros con "anio": 2018 se guardarán en el archivo de 2018, independiente del año actual.'})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:b,disabled:!c.trim()||f,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Procesando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ud,{className:"w-4 h-4"}),"Importar"]})}),c.trim()&&r.jsx("button",{onClick:()=>u(""),disabled:f,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",children:"Limpiar"})]})]}),p&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Procesados"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.imported.length}),r.jsx("div",{className:"text-sm text-green-700",children:"Importados"})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p.skipped.length}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Ya Existían"})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.errors.length}),r.jsx("div",{className:"text-sm text-red-700",children:"Errores"})]})]}),r.jsxs("div",{className:"space-y-4",children:[p.imported.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-green-700 mb-3",children:[r.jsx(Vt,{className:"w-5 h-5"}),"Importados Exitosamente (",p.imported.length,")"]}),r.jsx("div",{className:"space-y-2",children:p.imported.map((S,N)=>w(S,N))})]}),p.skipped.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-yellow-700 mb-3",children:[r.jsx(pn,{className:"w-5 h-5"}),"Ya Existían (",p.skipped.length,")"]}),r.jsx("div",{className:"space-y-2",children:p.skipped.map((S,N)=>w(S,N))})]}),p.errors.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-red-700 mb-3",children:[r.jsx(Hr,{className:"w-5 h-5"}),"Errores (",p.errors.length,")"]}),r.jsx("div",{className:"space-y-2",children:p.errors.map((S,N)=>w(S,N))})]})]})]})]}),r.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"})})})]})}):null}const Mj=[2017,2018,2019,2020,2021,2022,2023,2024,2025];function Aj({isOpen:t,onClose:s,selectedEntity:a,onValidate:l,onConfirmCreation:i}){const[c,u]=g.useState("configure"),[f,m]=g.useState(""),[p,y]=g.useState([]),[b,v]=g.useState(null),[w,S]=g.useState(!1),[N,C]=g.useState(null),[j,k]=g.useState(!1),[P,I]=g.useState(null),[M,R]=g.useState(null),[D,V]=g.useState(!1);g.useEffect(()=>{t&&(u("configure"),m(""),y([]),v(null),S(!1),C(null),I(null),R(null),k(!1),V(!1))},[t]);const T=$=>$.trim()?$.trim().length<3?"El nombre debe tener al menos 3 caracteres":null:"El nombre de la empresa es requerido",O=$=>{m($),R(T($))},Q=$=>{y(K=>K.includes($)?K.filter(Y=>Y!==$):[...K,$].sort())},J=$=>{const K=parseInt($);v(isNaN(K)?null:K)},Z=()=>f.trim()&&p.length>0&&!M,te=async()=>{if(Z()){k(!0);try{const $={usuariosCount:b,esIncumbente:w,tipoEmpresa:N,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1},K=await l(f.trim(),p,$);I(K),u("preview")}catch($){console.error("Error during validation:",$),alert("Error al validar la empresa. Por favor, inténtalo nuevamente.")}finally{k(!1)}}},re=async()=>{if(P){V(!0);try{await i(P,{usuariosCount:b,esIncumbente:w,tipoEmpresa:N,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}),u("completed")}catch($){console.error("Error during company creation:",$),alert("Error al crear la empresa. Por favor, inténtalo nuevamente.")}finally{V(!1)}}},X=()=>{u("configure"),I(null)},se=()=>{u("configure"),I(null),s()};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[c==="configure"&&"Nueva Empresa Multi-Año",c==="preview"&&"Previsualización de Cambios",c==="completed"&&"Empresa Creada Exitosamente"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[c==="configure"&&`Entidad: ${a}`,c==="preview"&&"Revisa los cambios antes de confirmar",c==="completed"&&"La empresa ha sido creada en los años seleccionados"]})]})]}),r.jsx("button",{onClick:se,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[c==="configure"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa *"}),r.jsx("input",{type:"text",value:f,onChange:$=>O($.target.value),placeholder:"Ej: EMGESA S.A. E.S.P.",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M?"border-red-500":"border-gray-300"}`}),M&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:M})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Años en los que crear la empresa *"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:Mj.map($=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:p.includes($),onChange:()=>Q($),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:$})]},$))}),p.length===0&&r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Selecciona al menos un año"}),p.length>0&&r.jsxs("p",{className:"text-blue-600 text-sm mt-1",children:["Seleccionados: ",p.join(", ")," (",p.length," años)"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Cantidad de Usuarios"]}),r.jsx("input",{type:"number",value:b||"",onChange:$=>J($.target.value),placeholder:"Opcional",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(oi,{className:"w-4 h-4 inline mr-1"}),"Tipo de Empresa"]}),r.jsxs("select",{value:N||"",onChange:$=>C($.target.value||null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Seleccione un tipo"}),r.jsx("option",{value:"Generadora",children:"Generadora"}),r.jsx("option",{value:"Comercializadora",children:"Comercializadora"}),r.jsx("option",{value:"Ambas",children:"Ambas"})]})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:w,onChange:$=>S($.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(pi,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es empresa incumbente del municipio"})]})})]}),c==="preview"&&P&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Resumen de Cambios"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.successYears.length}),r.jsx("div",{className:"text-green-700",children:"Se crearán"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:P.skippedYears.length}),r.jsx("div",{className:"text-yellow-700",children:"Se omitirán"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.errors.length}),r.jsx("div",{className:"text-red-700",children:"Errores"})]})]})]}),P.successYears.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"flex items-center gap-2 font-medium text-green-700 mb-3",children:[r.jsx(Vt,{className:"w-4 h-4"}),"Se creará en estos años (",P.successYears.length,")"]}),r.jsx("div",{className:"space-y-2",children:P.successYears.map($=>r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-green-800",children:$.year}),r.jsx("span",{className:"text-sm text-green-600",children:$.message})]})},$.year))})]}),P.skippedYears.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"flex items-center gap-2 font-medium text-yellow-700 mb-3",children:[r.jsx(Rr,{className:"w-4 h-4"}),"Se omitirán estos años (",P.skippedYears.length,")"]}),r.jsx("div",{className:"space-y-2",children:P.skippedYears.map($=>r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-yellow-800",children:$.year}),r.jsx("span",{className:"text-sm text-yellow-600",children:$.message})]})},$.year))})]}),P.errors.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"flex items-center gap-2 font-medium text-red-700 mb-3",children:[r.jsx(lr,{className:"w-4 h-4"}),"Errores encontrados (",P.errors.length,")"]}),r.jsx("div",{className:"space-y-2",children:P.errors.map($=>r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-red-800",children:$.year}),r.jsx("span",{className:"text-sm text-red-600",children:$.message})]})},$.year))})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Posición Alfabética"}),r.jsxs("p",{className:"text-sm text-gray-600",children:['La empresa "',P.companyName,'" se insertará en la posición #',P.alphabeticalPosition," del listado alfabético."]})]})]}),c==="completed"&&r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(Vt,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"¡Empresa Creada Exitosamente!"}),r.jsx("p",{className:"text-gray-600",children:"La empresa ha sido creada en los años seleccionados y ordenada alfabéticamente en cada archivo."})]})]}),r.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:r.jsxs("div",{className:"flex justify-between",children:[c==="configure"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:se,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:te,disabled:!Z()||j,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:j?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Validando..."]}):r.jsxs(r.Fragment,{children:["Validar Empresa",r.jsx(tw,{className:"w-4 h-4"})]})})]}),c==="preview"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:X,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"← Regresar"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:se,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:re,disabled:D||P?.successYears.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:D?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vt,{className:"w-4 h-4"}),"Confirmar Creación"]})})]})]}),c==="completed"&&r.jsx("button",{onClick:se,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})]})})]})}):null}function Ij({isOpen:t,onClose:s,emptyCompanies:a,onConfirmDelete:l}){const[i,c]=g.useState(new Set),[u,f]=g.useState(!1),[m,p]=g.useState(null);if(!t)return null;const y=j=>{const k=new Set(i);k.has(j)?k.delete(j):k.add(j),c(k)},b=()=>{c(new Set(a.map(j=>j.name)))},v=()=>{c(new Set)},w=async()=>{if(i.size!==0){f(!0);try{const j=await l(Array.from(i));p(j),c(new Set)}catch(j){console.error("Error deleting companies:",j),alert("Error al eliminar empresas: "+(j instanceof Error?j.message:"Error desconocido"))}finally{f(!1)}}},S=()=>{c(new Set),p(null),s()},N=j=>{switch(j){case"Generadora":return r.jsx(oi,{className:"w-4 h-4 text-blue-600"});case"Comercializadora":return r.jsx(Do,{className:"w-4 h-4 text-green-600"});case"Ambas":return r.jsx(ut,{className:"w-4 h-4 text-purple-600"});default:return r.jsx(ut,{className:"w-4 h-4 text-gray-400"})}},C=j=>j||"No especificado";return m?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vt,{className:"w-6 h-6 text-green-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eliminación Completada"})]}),r.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Resumen de la eliminación"}),r.jsxs("p",{className:"text-green-700",children:["Se eliminaron exitosamente ",r.jsx("strong",{children:m.totalDeleted})," empresas sin solicitudes."]}),r.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Se preservaron ",r.jsx("strong",{children:m.preservedCompanies.length})," empresas con solicitudes activas."]})]})}),m.deletedCompanies.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Empresas eliminadas (",m.deletedCompanies.length,")"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.deletedCompanies.map(j=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[N(j.metadata.tipoEmpresa),r.jsx("span",{className:"font-medium text-gray-900",children:j.name})]}),r.jsx("span",{className:"text-sm text-gray-500",children:C(j.metadata.tipoEmpresa)})]}),(j.metadata.usuariosCount||j.metadata.esIncumbente)&&r.jsxs("div",{className:"mt-2 text-xs text-gray-600 space-y-1",children:[j.metadata.usuariosCount&&r.jsxs("p",{children:["Usuarios: ",j.metadata.usuariosCount.toLocaleString()]}),j.metadata.esIncumbente&&r.jsx("p",{children:"Empresa incumbente"})]})]},j.name))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})})]})]})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rr,{className:"w-6 h-6 text-orange-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Empresas Sin Solicitudes"})]}),r.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6",children:a.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay empresas para eliminar"}),r.jsx("p",{className:"text-gray-600",children:"Todas las empresas en el sistema tienen al menos una solicitud activa."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"⚠️ Confirmación de eliminación"}),r.jsxs("p",{className:"text-orange-700",children:["Se encontraron ",r.jsx("strong",{children:a.length})," empresas sin solicitudes activas. Esta acción eliminará permanentemente las empresas seleccionadas del sistema."]}),r.jsx("p",{className:"text-orange-700 text-sm mt-2",children:"Las empresas eliminadas no podrán ser recuperadas. Revisa cuidadosamente la lista antes de continuar."})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{onClick:b,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Seleccionar todas"}),r.jsx("button",{onClick:v,className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Deseleccionar todas"}),r.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[i.size," de ",a.length," seleccionadas"]})]})]}),r.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto mb-6",children:a.map(j=>r.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${i.has(j.name)?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>y(j.name),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:i.has(j.name),onChange:()=>y(j.name),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N(j.metadata.tipoEmpresa),r.jsx("span",{className:"font-semibold text-gray-900",children:j.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",C(j.metadata.tipoEmpresa),")"]})]}),(j.metadata.usuariosCount||j.metadata.esIncumbente)&&r.jsxs("div",{className:"text-sm text-gray-600 space-x-4",children:[j.metadata.usuariosCount&&r.jsxs("span",{children:["👥 ",j.metadata.usuariosCount.toLocaleString()," usuarios"]}),j.metadata.esIncumbente&&r.jsx("span",{children:"⭐ Incumbente"})]})]})]})},j.name))}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:S,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),r.jsxs("button",{onClick:w,disabled:i.size===0||u,className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(rg,{className:"w-4 h-4"}),u?"Eliminando...":`Eliminar ${i.size} empresas`]})]})]})})]})})}function _j(){const[t,s]=g.useState(!1),a=g.useCallback(()=>{s(!0)},[]),l=g.useCallback(()=>{s(!1)},[]);return{showComparisonModal:t,openComparisonModal:a,closeComparisonModal:l}}class Lj{static normalizeCompanyName(s){return s.replace(/\s*\(\d{4}\)\s*$/,"").trim()}static async processImportData(s,a,l,i,c,u){const f=[];try{const m=JSON.parse(s);if(!m||typeof m!="object")throw new Error("JSON inválido: debe ser un objeto con empresas");for(const[p,y]of Object.entries(m)){if(!y||typeof y!="object"){f.push({company:p,month:"",status:"error",message:"Datos de empresa inválidos"});continue}for(const[b,v]of Object.entries(y))try{const w=this.normalizeCompanyName(p),S=await this.processCompanyMonthRecord(w,b,v,a,l,i,c,u);f.push(S)}catch(w){f.push({company:this.normalizeCompanyName(p),month:b,status:"error",message:w instanceof Error?w.message:"Error desconocido"})}}}catch(m){f.push({company:"",month:"",status:"error",message:m instanceof Error?`Error de formato JSON: ${m.message}`:"JSON inválido"})}return this.createSummary(f)}static async processCompanyMonthRecord(s,a,l,i,c,u,f,m){if(!l||typeof l!="object")return{company:s,month:a,status:"error",message:"Datos de solicitud inválidos"};const{entidad:p,workItemId:y,anio:b}=l;if(!p||!y||!b)return{company:s,month:a,status:"error",message:"Faltan campos requeridos: entidad, workItemId, anio"};const v=typeof y=="number"?y:parseInt(y);if(isNaN(v))return{company:s,month:a,status:"error",message:"workItemId debe ser un número válido"};const w=typeof b=="number"?b:parseInt(b);if(isNaN(w)||w<2017||w>2030)return{company:s,month:a,status:"error",message:`Año ${w} no es válido (debe estar entre 2017 y 2030)`};if(!dt.includes(a))return{company:s,month:a,status:"error",message:`Mes "${a}" no es válido. Debe ser uno de: ${dt.join(", ")}`};const S=`${p}-${w}`,N=m?.[S]||i;if(!N[s])return{company:s,month:a,status:"error",message:`Empresa "${s}" no encontrada en ${p} ${w}`};const C=N[s][a];if(C&&typeof C=="object"&&C.workItemId)return{company:s,month:a,status:"skipped",message:`Ya existe registro para ${p} ${w} con Work Item ${C.workItemId}`,workItemId:C.workItemId};try{const j=await f(v);return j?{company:s,month:a,status:"success",message:`Work Item ${v} validado para ${w} (Estado: ${j})`,workItemId:v}:{company:s,month:a,status:"error",message:`Work Item ${v} no existe o no es accesible en Azure DevOps`,workItemId:v}}catch(j){return{company:s,month:a,status:"error",message:`Error al validar Work Item ${v}: ${j instanceof Error?j.message:"Error desconocido"}`,workItemId:v}}}static createSummary(s){const a=s.filter(c=>c.status==="success"),l=s.filter(c=>c.status==="skipped"),i=s.filter(c=>c.status==="error");return{total:s.length,imported:a,skipped:l,errors:i}}}function Oj({billingData:t,selectedYear:s,selectedEntity:a,updateField:l,updateStatusFromAzure:i,syncFromAzure:c,syncWorkItemData:u}){const[f,m]=g.useState(!1),p=g.useCallback(()=>{m(!0)},[]),y=g.useCallback(()=>{m(!1)},[]),b=g.useCallback(async v=>{let w={};try{w=JSON.parse(v)}catch{throw new Error("JSON inválido")}const S=new Set;for(const[,j]of Object.entries(w))if(typeof j=="object"&&j)for(const[,k]of Object.entries(j))typeof k=="object"&&k&&k.anio&&k.entidad&&S.add(`${k.entidad}-${k.anio}`);const N={};for(const j of S){const[k,P]=j.split("-"),I=parseInt(P);try{const M=await Be.loadDataForEntityYear(k,I);N[j]=M}catch(M){console.warn(`Could not load data for ${k} ${I}:`,M),N[j]={}}}const C=await Lj.processImportData(v,t,s,a,c,N);for(const j of C.imported)if(j.workItemId&&j.message){const k=j.message.match(/validado para (\d{4})/),P=k?parseInt(k[1]):s,I=Object.keys(w).find(D=>D.replace(/\s*\(\d{4}\)\s*$/,"").trim()===j.company);let M=a;I&&w[I]?.[j.month]?.entidad&&(M=w[I][j.month].entidad);const R=`${M}-${P}`;try{const D=await u(j.workItemId),V=new Date().toISOString().split("T")[0],T={workItemId:j.workItemId,entidad:M,notas:"",estado:D?.state||"New",fechaRecibido:D?.fechaRecibido||V,fechaCerrado:D?.fechaCerrado||"",workItemType:D?.workItemType};N[R]&&(N[R][j.company]||(N[R][j.company]={}),N[R][j.company][j.month]=T,await Be.saveDataForEntityYear(M,P,N[R])),P===s&&M===a&&(l(j.company,j.month,"workItemId",j.workItemId),l(j.company,j.month,"entidad",M),l(j.company,j.month,"notas",""),l(j.company,j.month,"fechaRecibido",T.fechaRecibido),l(j.company,j.month,"fechaCerrado",T.fechaCerrado),l(j.company,j.month,"workItemType",T.workItemType),i(j.company,j.month,T.estado))}catch(D){console.error(`Error syncing data for ${j.company} - ${j.month}:`,D)}}return C},[t,s,a,l,i,c,u]);return{showImportModal:f,openImportModal:p,closeImportModal:y,processImport:b}}function Fj(){const t=g.useCallback(a=>{const l=[];for(const[i,c]of Object.entries(a)){let u=!1;for(const f of dt){const m=Be.getMonthlyBillingData(c,f);if(m&&m.estado!=="Sin Solicitud"){u=!0;break}}if(!u){const f=Be.getCompanyMetadata(c);l.push({name:i,metadata:f,monthsChecked:[...dt]})}}return l},[]),s=g.useCallback((a,l)=>{const i={...a},c=[],u=[];l.forEach(m=>{if(i[m]){const p=Be.getCompanyMetadata(i[m]);c.push({name:m,metadata:p,monthsChecked:[...dt]}),delete i[m]}}),Object.keys(a).forEach(m=>{l.includes(m)||u.push(m)});const f={deletedCompanies:c,totalDeleted:c.length,preservedCompanies:u};return{updatedData:i,result:f}},[]);return{findEmptyCompanies:t,deleteEmptyCompanies:s}}function Qh(){const{year:t,entity:s}=yu(),a=Hp(),l=vn(),[i,c]=g.useState(null),[u,f]=g.useState(!1),[m,p]=g.useState(!1),[y,b]=g.useState(!1),[v,w]=g.useState(null),[S,N]=g.useState(!1),[C,j]=g.useState(!1),[k,P]=g.useState(!1),I=t?parseInt(t):2025,M=s?decodeURIComponent(s):"Alcaldía de Palmira",{billingData:R,isLoading:D,error:V,updateField:T,updateStatusFromAzure:O,getCellData:Q,updateCompanyMetadata:J,getCompanyMetadata:Z,renameCompany:te,addNewCompany:re,getCompanyNames:X,deleteCompanies:se,performAdvancedSync:$}=Mt(I,M),K=uj(R),Y=pj(),_=_j(),q=Oj({billingData:R,selectedYear:I,selectedEntity:M,updateField:T,updateStatusFromAzure:O,syncFromAzure:Y.syncFromAzure,syncWorkItemData:Y.syncWorkItemData}),de=Fj();g.useEffect(()=>{const Ie=new URLSearchParams(l.search).get("search");Ie&&K.setSearchTerm(Ie)},[l.search,K.setSearchTerm]),g.useEffect(()=>{(!t||!s)&&l.pathname==="/"&&a(`/2025/${encodeURIComponent("Alcaldía de Palmira")}`,{replace:!0})},[t,s,l.pathname,a]);const fe=g.useCallback(ve=>{a(`/${ve}/${encodeURIComponent(M)}`,{replace:!0})},[a,M]),Se=g.useCallback(ve=>{a(`/${I}/${encodeURIComponent(ve)}`,{replace:!0})},[a,I]),we=g.useCallback((ve,Ie)=>{c({empresa:ve,mes:Ie})},[]),le=g.useCallback(()=>{c(null)},[]),me=g.useCallback(async(ve,Ie,Ze,et)=>{if(Ze!=="estado"&&T(ve,Ie,Ze,et),Ze==="workItemId"&&et&&!Q(ve,Ie)?.workItemId){const wt=await Y.createWorkItem(ve,Ie,I,Q(ve,Ie)?.entidad||"");wt&&T(ve,Ie,"workItemId",wt)}if(Ze==="workItemId"&&et&&Q(ve,Ie)?.workItemId!==et){const wt=await Y.syncFromAzure(et);wt&&O(ve,Ie,wt)}},[T,O,Q,Y,I]),Me=g.useCallback(async(ve,Ie,Ze)=>{const et=await Y.createWorkItem(ve,Ie,I,Ze);et&&T(ve,Ie,"workItemId",et)},[Y,T,I]),pe=g.useCallback(async(ve,Ie,Ze)=>{const et=await Y.syncFromAzure(Ze);et&&O(ve,Ie,et)},[Y,O]),_e=g.useCallback(()=>{b(!0)},[]),Ue=g.useCallback(async ve=>await $(ve,Y,(Ie,Ze,et)=>{console.log(`Syncing ${Ie}/${Ze}: ${et}`)}),[$,Y]),ft=g.useCallback((ve,Ie)=>{Ie&&(Ie.ctrlKey||Ie.metaKey)?a(`/empresa/${encodeURIComponent(ve)}`):(w(ve),N(!1))},[a]),mt=g.useCallback(()=>{w("Nueva Empresa"),N(!0)},[]),Tr=g.useCallback(()=>{j(!0)},[]),Mr=g.useCallback(async(ve,Ie,Ze)=>await xo.validateCompanyMultiYear(ve,Ie,M,Ze),[M]),ir=g.useCallback(async(ve,Ie)=>{await xo.createCompanyMultiYear(ve,Ie,M),ve.successYears.some(et=>et.year===I)&&window.location.reload()},[M,I]),_s=g.useCallback((ve,Ie)=>{try{if(S){if(!Ie)throw new Error("Se requiere el nombre de la empresa para crear una nueva empresa");re(Ie,ve)}else v&&(Ie&&Ie!==v?te(v,Ie):J(v,ve));w(null),N(!1)}catch(Ze){console.error("Error saving company info:",Ze),alert(Ze instanceof Error?Ze.message:"Error al guardar la información de la empresa")}},[S,v,re,te,J]),ls=g.useCallback(async(ve,Ie,Ze,et)=>{for(const wt of Ie)if(T(ve,wt,"estado","New"),T(ve,wt,"entidad",M),T(ve,wt,"fechaRecibido",new Date().toISOString().split("T")[0]),T(ve,wt,"notas",Ze),et&&et.trim()){const _r=parseInt(et.trim());if(T(ve,wt,"workItemId",_r),Y.azureConfig.enabled)try{const At=await Y.syncWorkItemData(_r);At&&(O(ve,wt,At.state),T(ve,wt,"fechaRecibido",At.fechaRecibido),T(ve,wt,"fechaCerrado",At.fechaCerrado),T(ve,wt,"workItemType",At.workItemType))}catch(At){console.error(`Error syncing Azure data for work item ${_r}:`,At)}}},[T,M,Y,O]),Qr=g.useCallback(()=>{P(!0)},[]),Ar=g.useCallback(()=>f(!1),[]),Jt=g.useCallback(()=>p(!1),[]),Ir=g.useCallback(()=>b(!1),[]),is=g.useCallback(()=>j(!1),[]),wn=g.useCallback(()=>P(!1),[]),Zt=g.useCallback(()=>f(!0),[]),Ft=g.useCallback(()=>p(!0),[]),Xr=g.useCallback(()=>{w(null),N(!1)},[]),jn=g.useCallback(async ve=>{const{result:Ie}=de.deleteEmptyCompanies(R,ve);return se(ve),Ie},[R,de,se]),Jr=i?Q(i.empresa,i.mes):null;return D?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsxs("p",{className:"text-gray-600",children:["Cargando datos de ",M,"..."]})]})}):V?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("h3",{className:"font-bold",children:"Error al cargar datos"}),r.jsx("p",{children:V})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Por favor, verifica que existan los datos para esta entidad y año."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:r.jsxs("div",{className:"w-full",children:[r.jsx(wj,{selectedYear:I,onYearChange:fe,searchTerm:K.searchTerm,onSearchChange:K.setSearchTerm,selectedEntity:M,onEntityChange:Se,realStateStatistics:K.realStateStatistics,azureConfig:Y.azureConfig,onConfigClick:Zt,onSyncClick:_e,onCreateRequestClick:Ft,onNewCompanyClick:mt,onNewCompanyMultiYearClick:Tr,onCompareCompaniesClick:_.openComparisonModal,onImportDataClick:q.openImportModal,onDeleteEmptyCompaniesClick:Qr,syncing:Y.syncing,statusFilters:K.statusFilters,selectedFTStatus:K.selectedFTStatus,onFTStatusChange:K.setSelectedFTStatus,ftStatistics:K.ftStatistics}),r.jsx(Cj,{filteredCompanies:K.filteredCompanies,billingData:R,onCellClick:we,onCompanyClick:ft}),r.jsx(Sj,{selectedCell:i,currentData:Jr,selectedYear:I,azureConfig:Y.azureConfig,syncing:Y.syncing,onClose:le,onUpdateData:me,onCreateWorkItem:Me,onSyncFromAzure:pe,getWorkItemUrl:Y.getWorkItemUrl}),r.jsx(Ej,{isOpen:u,onClose:Ar,config:Y.azureConfig,onUpdateConfig:Y.updateConfig}),r.jsx(kj,{isOpen:m,onClose:Jt,billingData:R,selectedEntity:M,selectedYear:I,azureConfig:Y.azureConfig,onCreateRequest:ls}),r.jsx(Rj,{isOpen:y,onClose:Ir,azureConfig:Y.azureConfig,filteredCompanies:K.filteredCompanies,selectedYear:I,onSync:Ue}),r.jsx(Pj,{isOpen:!!v,onClose:Xr,companyName:v||"",currentMetadata:v&&!S?Z(v):void 0,existingCompanies:X(),isNewCompany:S,onSave:_s}),r.jsx(Dj,{isOpen:_.showComparisonModal,onClose:_.closeComparisonModal,defaultEntity:M}),r.jsx(Tj,{isOpen:q.showImportModal,onClose:q.closeImportModal,onImport:q.processImport,selectedEntity:M,selectedYear:I}),r.jsx(Aj,{isOpen:C,onClose:is,selectedEntity:M,onValidate:Mr,onConfirmCreation:ir}),r.jsx(Ij,{isOpen:k,onClose:wn,emptyCompanies:de.findEmptyCompanies(R),onConfirmDelete:jn})]})})}function $j(){const t=Mt(2025,"Alcaldía de Palmira"),s=Mt(2025,"Alcaldía de Tuluá"),a=Mt(2025,"Gobernación del Valle del Cauca"),l=Mt(2025,"Infibagué"),i=Mt(2024,"Alcaldía de Palmira"),c=Mt(2024,"Alcaldía de Tuluá"),u=Mt(2024,"Gobernación del Valle del Cauca"),f=Mt(2024,"Infibagué"),m=Mt(2023,"Alcaldía de Palmira"),p=Mt(2023,"Alcaldía de Tuluá"),y=Mt(2023,"Gobernación del Valle del Cauca"),b=Mt(2023,"Infibagué"),v=g.useMemo(()=>{const j={},k=[{entity:"Alcaldía de Palmira",data:t},{entity:"Alcaldía de Tuluá",data:s},{entity:"Gobernación del Valle del Cauca",data:a},{entity:"Infibagué",data:l}].filter(({data:M})=>!M.error&&M.billingData&&Object.keys(M.billingData).length>0);k.length>0&&(j[2025]=k);const P=[{entity:"Alcaldía de Palmira",data:i},{entity:"Alcaldía de Tuluá",data:c},{entity:"Gobernación del Valle del Cauca",data:u},{entity:"Infibagué",data:f}].filter(({data:M})=>!M.error&&M.billingData&&Object.keys(M.billingData).length>0);P.length>0&&(j[2024]=P);const I=[{entity:"Alcaldía de Palmira",data:m},{entity:"Alcaldía de Tuluá",data:p},{entity:"Gobernación del Valle del Cauca",data:y},{entity:"Infibagué",data:b}].filter(({data:M})=>!M.error&&M.billingData&&Object.keys(M.billingData).length>0);return I.length>0&&(j[2023]=I),j},[t,s,a,l,i,c,u,f,m,p,y,b]),w=g.useMemo(()=>[t,s,a,l,i,c,u,f,m,p,y,b].some(k=>k.isLoading),[t,s,a,l,i,c,u,f,m,p,y,b]),S=g.useMemo(()=>[t,s,a,l,i,c,u,f,m,p,y,b].map(k=>k.error).filter(k=>k&&!k.includes("No se pudo cargar")&&!k.includes("Failed to load")),[t,s,a,l,i,c,u,f,m,p,y,b]),N=g.useMemo(()=>Object.keys(v).map(j=>parseInt(j)).sort((j,k)=>k-j),[v]),C=g.useMemo(()=>{const j=new Set;return Object.values(v).forEach(k=>{k.forEach(({entity:P})=>j.add(P))}),Array.from(j)},[v]);return{entityDataByYear:v,isLoading:w,criticalErrors:S,availableYears:N,availableEntities:C}}function zj(){const[t,s]=g.useState("all"),[a,l]=g.useState(2025),[i,c]=g.useState(""),[u,f]=g.useState("all"),m=$j(),p=Mt(a==="all"?2025:a,"Alcaldía de Palmira"),y=Mt(a==="all"?2025:a,"Alcaldía de Tuluá"),b=Mt(a==="all"?2025:a,"Gobernación del Valle del Cauca"),v=Mt(a==="all"?2025:a,"Infibagué"),w=g.useMemo(()=>{if(a==="all"){const M=[];return Object.values(m.entityDataByYear).forEach(R=>{R.forEach(({entity:D,data:V})=>{M.find(O=>O.key===D)||M.push({key:D,data:V})})}),M}else{const M=[];return!p.error&&p.billingData&&Object.keys(p.billingData).length>0&&M.push({key:"Alcaldía de Palmira",data:p}),!y.error&&y.billingData&&Object.keys(y.billingData).length>0&&M.push({key:"Alcaldía de Tuluá",data:y}),!b.error&&b.billingData&&Object.keys(b.billingData).length>0&&M.push({key:"Gobernación del Valle del Cauca",data:b}),!v.error&&v.billingData&&Object.keys(v.billingData).length>0&&M.push({key:"Infibagué",data:v}),M}},[a,m.entityDataByYear,p,y,b,v]),S=g.useMemo(()=>{const M=[],R=(D,V,T)=>{D&&Object.entries(D).forEach(([O,Q])=>{Q&&Object.entries(Q).forEach(([J,Z])=>{if(J==="_metadata"||!Z||typeof Z!="object")return;const te=Z;te.estado&&te.estado!=="Closed"&&te.estado!=="Sin Solicitud"&&M.push({...te,entityName:V,companyName:O,monthName:J,year:T})})})};return a==="all"?Object.entries(m.entityDataByYear).forEach(([D,V])=>{const T=parseInt(D);V.forEach(({entity:O,data:Q})=>{R(Q.billingData,O,T)})}):w.forEach(({key:D,data:V})=>{R(V.billingData,D,a)}),M},[a,w,m.entityDataByYear]),N=g.useMemo(()=>S.filter(M=>{if(t!=="all"&&M.entityName!==t||u!=="all"&&M.estado!==u)return!1;if(i){const R=i.toLowerCase();return M.companyName.toLowerCase().includes(R)||M.entityName.toLowerCase().includes(R)||M.monthName.toLowerCase().includes(R)||M.notas&&M.notas.toLowerCase().includes(R)||M.workItemId&&M.workItemId.toString().includes(R)}return!0}),[S,t,u,i]),C=g.useMemo(()=>{const M=new Map;return N.forEach(R=>{const D=`${R.companyName}|${R.entityName}`;M.has(D)||M.set(D,{entityName:R.entityName,companyName:R.companyName,periods:[],pendingCount:0});const V=M.get(D);V.periods.push({monthName:R.monthName,year:R.year,estado:R.estado,fechaRecibido:R.fechaRecibido,fechaCerrado:R.fechaCerrado,diasProcesamiento:R.diasProcesamiento,notas:R.notas,workItemId:R.workItemId}),V.pendingCount=V.periods.length}),Array.from(M.values()).sort((R,D)=>{if(R.pendingCount!==D.pendingCount)return D.pendingCount-R.pendingCount;const V=R.entityName.localeCompare(D.entityName);return V!==0?V:R.companyName.localeCompare(D.companyName)})},[N]),j=g.useMemo(()=>{const M={"Sin Solicitud":0,New:0,Refinement:0,Ready:0,Active:0,"Validación y aprobación de Tributaria - Analítica":0,"Cargue Archivo Staging":0,"Validación Tributaria Staging":0,"Cargue Archivo PROD":0,"Validación y Aprobación de Tributaria - PROD":0,"Facturación en PROD":0,"Validación Tributaria de Facturación":0,"Dispersión en BD":0,"Generar Reportes":0,"QA Certification":0,"Gestion Tributaria":0,Impediment:0,Paused:0,"Peer Review":0,"Third Party":0,Staging:0,Production:0,Closed:0,Removed:0},R={},D={},V={};N.forEach(O=>{M[O.estado]=(M[O.estado]||0)+1,R[O.entityName]=(R[O.entityName]||0)+1,D[O.companyName]=(D[O.companyName]||0)+1,V[O.year]=(V[O.year]||0)+1});const T={total:N.length,byStatus:M,byEntity:R,byCompany:D};return a==="all"&&(T.byYear=V),T},[N,a]),k=g.useMemo(()=>a==="all"?m.isLoading:p.isLoading||y.isLoading||b.isLoading||v.isLoading,[a,m.isLoading,p.isLoading,y.isLoading,b.isLoading,v.isLoading]),P=g.useMemo(()=>a==="all"?m.criticalErrors:[p.error,y.error,b.error,v.error].filter(M=>M&&!M.includes("No se pudo cargar")&&!M.includes("Failed to load")),[a,m.criticalErrors,p.error,y.error,b.error,v.error]),I=g.useMemo(()=>a==="all"?m.availableEntities:w.map(M=>M.key),[a,m.availableEntities,w]);return{requests:N,groupedRequests:C,stats:j,selectedEntity:t,setSelectedEntity:s,selectedYear:a,setSelectedYear:l,searchTerm:i,setSearchTerm:c,statusFilter:u,setStatusFilter:f,isLoading:k,error:P.length>0?P.join("; "):null,entities:I,allEntities:xr,years:a==="all"?m.availableYears:[2017,2018,2019,2020,2021,2022,2023,2024,2025],availableYears:m.availableYears,statuses:["New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production"]}}const mn=g.forwardRef(({className:t,...s},a)=>r.jsx("div",{ref:a,className:ot("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));mn.displayName="Card";const Rs=g.forwardRef(({className:t,...s},a)=>r.jsx("div",{ref:a,className:ot("flex flex-col space-y-1.5 p-6",t),...s}));Rs.displayName="CardHeader";const ua=g.forwardRef(({className:t,...s},a)=>r.jsx("h3",{ref:a,className:ot("text-2xl font-semibold leading-none tracking-tight",t),...s}));ua.displayName="CardTitle";const Vj=g.forwardRef(({className:t,...s},a)=>r.jsx("p",{ref:a,className:ot("text-sm text-muted-foreground",t),...s}));Vj.displayName="CardDescription";const hn=g.forwardRef(({className:t,...s},a)=>r.jsx("div",{ref:a,className:ot("p-6 pt-0",t),...s}));hn.displayName="CardContent";const Bj=g.forwardRef(({className:t,...s},a)=>r.jsx("div",{ref:a,className:ot("flex items-center p-6 pt-0",t),...s}));Bj.displayName="CardFooter";function fg(t){var s,a,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t))for(s=0;s<t.length;s++)t[s]&&(a=fg(t[s]))&&(l&&(l+=" "),l+=a);else for(s in t)t[s]&&(l&&(l+=" "),l+=s);return l}function Uj(){for(var t,s,a=0,l="";a<arguments.length;)(t=arguments[a++])&&(s=fg(t))&&(l&&(l+=" "),l+=s);return l}const Xh=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Jh=Uj,mg=(t,s)=>a=>{var l;if(s?.variants==null)return Jh(t,a?.class,a?.className);const{variants:i,defaultVariants:c}=s,u=Object.keys(i).map(p=>{const y=a?.[p],b=c?.[p];if(y===null)return null;const v=Xh(y)||Xh(b);return i[p][v]}),f=a&&Object.entries(a).reduce((p,y)=>{let[b,v]=y;return v===void 0||(p[b]=v),p},{}),m=s==null||(l=s.compoundVariants)===null||l===void 0?void 0:l.reduce((p,y)=>{let{class:b,className:v,...w}=y;return Object.entries(w).every(S=>{let[N,C]=S;return Array.isArray(C)?C.includes({...c,...f}[N]):{...c,...f}[N]===C})?[...p,b,v]:p},[]);return Jh(t,u,m,a?.class,a?.className)},Wj=mg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hg({className:t,variant:s,...a}){return r.jsx("div",{className:ot(Wj({variant:s}),t),...a})}function pg({size:t="md",className:s}){const a={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return r.jsx("div",{className:ot("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",a[t],s)})}function Hj({stats:t,isLoading:s}){if(s)return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(u=>r.jsx(mn,{children:r.jsx(hn,{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(pg,{size:"md"})})})},u))});const a=Object.entries(t.byEntity).sort(([,u],[,f])=>f-u).slice(0,3),l=Object.entries(t.byCompany).sort(([,u],[,f])=>f-u).slice(0,3),i=t.byYear&&Object.keys(t.byYear).length>0;return r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(mn,{children:[r.jsxs(Rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ua,{className:"text-sm font-medium",children:"Total Pendientes"}),r.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(hn,{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.total}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Solicitudes no cerradas"})]})]}),r.jsxs(mn,{children:[r.jsxs(Rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ua,{className:"text-sm font-medium",children:"Por Estado"}),r.jsx(bn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(hn,{children:r.jsx("div",{className:"space-y-2",children:Object.entries(t.byStatus).filter(([,u])=>u>0).map(([u,f])=>{const m=Zn(u),p=Ru[u]||u;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(hg,{variant:"outline",className:`text-xs ${m.bg} ${m.text} border-current`,children:p}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)})})})]}),r.jsxs(mn,{children:[r.jsxs(Rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ua,{className:"text-sm font-medium",children:"Por Entidad"}),r.jsx(ut,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(hn,{children:r.jsx("div",{className:"space-y-2",children:a.length>0?a.map(([u,f])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground truncate",children:u}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)):r.jsx("p",{className:"text-xs text-muted-foreground",children:"Sin datos"})})})]}),r.jsxs(mn,{children:[r.jsxs(Rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ua,{className:"text-sm font-medium",children:"Top Empresas"}),r.jsx(Do,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(hn,{children:r.jsx("div",{className:"space-y-2",children:l.length>0?l.map(([u,f])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground truncate",children:u.length>15?`${u.substring(0,15)}...`:u}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)):r.jsx("p",{className:"text-xs text-muted-foreground",children:"Sin datos"})})})]}),i&&r.jsxs(mn,{children:[r.jsxs(Rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(ua,{className:"text-sm font-medium",children:"Por Año"}),r.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(hn,{children:r.jsxs("div",{className:"space-y-2",children:[Object.entries(t.byYear).sort(([u],[f])=>parseInt(f)-parseInt(u)).slice(0,3).map(([u,f])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:u}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)),Object.keys(t.byYear).length>3&&r.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-1",children:["+",Object.keys(t.byYear).length-3," más"]})]})})]})]})}const gg=g.forwardRef(({className:t,type:s,...a},l)=>r.jsx("input",{type:s,className:ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:l,...a}));gg.displayName="Input";function Zh(t,[s,a]){return Math.min(a,Math.max(s,t))}function Je(t,s,{checkForDefaultPrevented:a=!0}={}){return function(i){if(t?.(i),a===!1||!i.defaultPrevented)return s?.(i)}}function Yj(t,s=[]){let a=[];function l(c,u){const f=g.createContext(u),m=a.length;a=[...a,u];function p(b){const{scope:v,children:w,...S}=b,N=v?.[t][m]||f,C=g.useMemo(()=>S,Object.values(S));return r.jsx(N.Provider,{value:C,children:w})}function y(b,v){const w=v?.[t][m]||f,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return p.displayName=c+"Provider",[p,y]}const i=()=>{const c=a.map(u=>g.createContext(u));return function(f){const m=f?.[t]||c;return g.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[l,Gj(i,...s)]}function Gj(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const l=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=l.reduce((f,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...f,...b}},{});return g.useMemo(()=>({[`__scope${s.scopeName}`]:u}),[u])}};return a.scopeName=s.scopeName,a}function qj(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function xg(...t){return s=>t.forEach(a=>qj(a,s))}function bt(...t){return g.useCallback(xg(...t),t)}var No=g.forwardRef((t,s)=>{const{children:a,...l}=t,i=g.Children.toArray(a),c=i.find(Kj);if(c){const u=c.props.children,f=i.map(m=>m===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:m);return r.jsx(Yd,{...l,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return r.jsx(Yd,{...l,ref:s,children:a})});No.displayName="Slot";var Yd=g.forwardRef((t,s)=>{const{children:a,...l}=t;if(g.isValidElement(a)){const i=Xj(a);return g.cloneElement(a,{...Qj(l,a.props),ref:s?xg(s,i):i})}return g.Children.count(a)>1?g.Children.only(null):null});Yd.displayName="SlotClone";var yg=({children:t})=>r.jsx(r.Fragment,{children:t});function Kj(t){return g.isValidElement(t)&&t.type===yg}function Qj(t,s){const a={...s};for(const l in s){const i=t[l],c=s[l];/^on[A-Z]/.test(l)?i&&c?a[l]=(...f)=>{c(...f),i(...f)}:i&&(a[l]=i):l==="style"?a[l]={...i,...c}:l==="className"&&(a[l]=[i,c].filter(Boolean).join(" "))}return{...t,...a}}function Xj(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function Jj(t){const s=t+"CollectionProvider",[a,l]=Yj(s),[i,c]=a(s,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:S,children:N}=w,C=fn.useRef(null),j=fn.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:j,collectionRef:C,children:N})};u.displayName=s;const f=t+"CollectionSlot",m=fn.forwardRef((w,S)=>{const{scope:N,children:C}=w,j=c(f,N),k=bt(S,j.collectionRef);return r.jsx(No,{ref:k,children:C})});m.displayName=f;const p=t+"CollectionItemSlot",y="data-radix-collection-item",b=fn.forwardRef((w,S)=>{const{scope:N,children:C,...j}=w,k=fn.useRef(null),P=bt(S,k),I=c(p,N);return fn.useEffect(()=>(I.itemMap.set(k,{ref:k,...j}),()=>void I.itemMap.delete(k))),r.jsx(No,{[y]:"",ref:P,children:C})});b.displayName=p;function v(w){const S=c(t+"CollectionConsumer",w);return fn.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const j=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((I,M)=>j.indexOf(I.ref.current)-j.indexOf(M.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:b},v,l]}function vg(t,s=[]){let a=[];function l(c,u){const f=g.createContext(u),m=a.length;a=[...a,u];const p=b=>{const{scope:v,children:w,...S}=b,N=v?.[t]?.[m]||f,C=g.useMemo(()=>S,Object.values(S));return r.jsx(N.Provider,{value:C,children:w})};p.displayName=c+"Provider";function y(b,v){const w=v?.[t]?.[m]||f,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[p,y]}const i=()=>{const c=a.map(u=>g.createContext(u));return function(f){const m=f?.[t]||c;return g.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[l,Zj(i,...s)]}function Zj(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const l=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=l.reduce((f,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...f,...b}},{});return g.useMemo(()=>({[`__scope${s.scopeName}`]:u}),[u])}};return a.scopeName=s.scopeName,a}var eN=g.createContext(void 0);function tN(t){const s=g.useContext(eN);return t||s||"ltr"}var rN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pt=rN.reduce((t,s)=>{const a=g.forwardRef((l,i)=>{const{asChild:c,...u}=l,f=c?No:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:i})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function nN(t,s){t&&va.flushSync(()=>t.dispatchEvent(s))}function gn(t){const s=g.useRef(t);return g.useEffect(()=>{s.current=t}),g.useMemo(()=>(...a)=>s.current?.(...a),[])}function sN(t,s=globalThis?.document){const a=gn(t);g.useEffect(()=>{const l=i=>{i.key==="Escape"&&a(i)};return s.addEventListener("keydown",l,{capture:!0}),()=>s.removeEventListener("keydown",l,{capture:!0})},[a,s])}var aN="DismissableLayer",Gd="dismissableLayer.update",oN="dismissableLayer.pointerDownOutside",lN="dismissableLayer.focusOutside",ep,bg=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tu=g.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...m}=t,p=g.useContext(bg),[y,b]=g.useState(null),v=y?.ownerDocument??globalThis?.document,[,w]=g.useState({}),S=bt(s,D=>b(D)),N=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=N.indexOf(C),k=y?N.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,I=k>=j,M=dN(D=>{const V=D.target,T=[...p.branches].some(O=>O.contains(V));!I||T||(i?.(D),u?.(D),D.defaultPrevented||f?.())},v),R=uN(D=>{const V=D.target;[...p.branches].some(O=>O.contains(V))||(c?.(D),u?.(D),D.defaultPrevented||f?.())},v);return sN(D=>{k===p.layers.size-1&&(l?.(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),g.useEffect(()=>{if(y)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(ep=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),tp(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=ep)}},[y,v,a,p]),g.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),tp())},[y,p]),g.useEffect(()=>{const D=()=>w({});return document.addEventListener(Gd,D),()=>document.removeEventListener(Gd,D)},[]),r.jsx(pt.div,{...m,ref:S,style:{pointerEvents:P?I?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,M.onPointerDownCapture)})});Tu.displayName=aN;var iN="DismissableLayerBranch",cN=g.forwardRef((t,s)=>{const a=g.useContext(bg),l=g.useRef(null),i=bt(s,l);return g.useEffect(()=>{const c=l.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),r.jsx(pt.div,{...t,ref:i})});cN.displayName=iN;function dN(t,s=globalThis?.document){const a=gn(t),l=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const c=f=>{if(f.target&&!l.current){let m=function(){wg(oN,a,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(s.removeEventListener("click",i.current),i.current=m,s.addEventListener("click",i.current,{once:!0})):m()}else s.removeEventListener("click",i.current);l.current=!1},u=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),s.removeEventListener("pointerdown",c),s.removeEventListener("click",i.current)}},[s,a]),{onPointerDownCapture:()=>l.current=!0}}function uN(t,s=globalThis?.document){const a=gn(t),l=g.useRef(!1);return g.useEffect(()=>{const i=c=>{c.target&&!l.current&&wg(lN,a,{originalEvent:c},{discrete:!1})};return s.addEventListener("focusin",i),()=>s.removeEventListener("focusin",i)},[s,a]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function tp(){const t=new CustomEvent(Gd);document.dispatchEvent(t)}function wg(t,s,a,{discrete:l}){const i=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&i.addEventListener(t,s,{once:!0}),l?nN(i,c):i.dispatchEvent(c)}var Cd=0;function fN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??rp()),document.body.insertAdjacentElement("beforeend",t[1]??rp()),Cd++,()=>{Cd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Cd--}},[])}function rp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sd="focusScope.autoFocusOnMount",Ed="focusScope.autoFocusOnUnmount",np={bubbles:!1,cancelable:!0},mN="FocusScope",jg=g.forwardRef((t,s)=>{const{loop:a=!1,trapped:l=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...u}=t,[f,m]=g.useState(null),p=gn(i),y=gn(c),b=g.useRef(null),v=bt(s,N=>m(N)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(l){let N=function(P){if(w.paused||!f)return;const I=P.target;f.contains(I)?b.current=I:qn(b.current,{select:!0})},C=function(P){if(w.paused||!f)return;const I=P.relatedTarget;I!==null&&(f.contains(I)||qn(b.current,{select:!0}))},j=function(P){if(document.activeElement===document.body)for(const M of P)M.removedNodes.length>0&&qn(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",C);const k=new MutationObserver(j);return f&&k.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",C),k.disconnect()}}},[l,f,w.paused]),g.useEffect(()=>{if(f){ap.add(w);const N=document.activeElement;if(!f.contains(N)){const j=new CustomEvent(Sd,np);f.addEventListener(Sd,p),f.dispatchEvent(j),j.defaultPrevented||(hN(vN(Ng(f)),{select:!0}),document.activeElement===N&&qn(f))}return()=>{f.removeEventListener(Sd,p),setTimeout(()=>{const j=new CustomEvent(Ed,np);f.addEventListener(Ed,y),f.dispatchEvent(j),j.defaultPrevented||qn(N??document.body,{select:!0}),f.removeEventListener(Ed,y),ap.remove(w)},0)}}},[f,p,y,w]);const S=g.useCallback(N=>{if(!a&&!l||w.paused)return;const C=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,j=document.activeElement;if(C&&j){const k=N.currentTarget,[P,I]=pN(k);P&&I?!N.shiftKey&&j===I?(N.preventDefault(),a&&qn(P,{select:!0})):N.shiftKey&&j===P&&(N.preventDefault(),a&&qn(I,{select:!0})):j===k&&N.preventDefault()}},[a,l,w.paused]);return r.jsx(pt.div,{tabIndex:-1,...u,ref:v,onKeyDown:S})});jg.displayName=mN;function hN(t,{select:s=!1}={}){const a=document.activeElement;for(const l of t)if(qn(l,{select:s}),document.activeElement!==a)return}function pN(t){const s=Ng(t),a=sp(s,t),l=sp(s.reverse(),t);return[a,l]}function Ng(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const i=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||i?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function sp(t,s){for(const a of t)if(!gN(a,{upTo:s}))return a}function gN(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xN(t){return t instanceof HTMLInputElement&&"select"in t}function qn(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&xN(t)&&s&&t.select()}}var ap=yN();function yN(){let t=[];return{add(s){const a=t[0];s!==a&&a?.pause(),t=op(t,s),t.unshift(s)},remove(s){t=op(t,s),t[0]?.resume()}}}function op(t,s){const a=[...t],l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}function vN(t){return t.filter(s=>s.tagName!=="A")}var Bt=globalThis?.document?g.useLayoutEffect:()=>{},bN=Fy.useId||(()=>{}),wN=0;function xi(t){const[s,a]=g.useState(bN());return Bt(()=>{a(l=>l??String(wN++))},[t]),s?`radix-${s}`:""}const jN=["top","right","bottom","left"],es=Math.min,ar=Math.max,li=Math.round,Vl=Math.floor,ts=t=>({x:t,y:t}),NN={left:"right",right:"left",bottom:"top",top:"bottom"},CN={start:"end",end:"start"};function qd(t,s,a){return ar(t,es(s,a))}function xn(t,s){return typeof t=="function"?t(s):t}function yn(t){return t.split("-")[0]}function wa(t){return t.split("-")[1]}function Mu(t){return t==="x"?"y":"x"}function Au(t){return t==="y"?"height":"width"}function rs(t){return["top","bottom"].includes(yn(t))?"y":"x"}function Iu(t){return Mu(rs(t))}function SN(t,s,a){a===void 0&&(a=!1);const l=wa(t),i=Iu(t),c=Au(i);let u=i==="x"?l===(a?"end":"start")?"right":"left":l==="start"?"bottom":"top";return s.reference[c]>s.floating[c]&&(u=ii(u)),[u,ii(u)]}function EN(t){const s=ii(t);return[Kd(t),s,Kd(s)]}function Kd(t){return t.replace(/start|end/g,s=>CN[s])}function kN(t,s,a){const l=["left","right"],i=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return a?s?i:l:s?l:i;case"left":case"right":return s?c:u;default:return[]}}function RN(t,s,a,l){const i=wa(t);let c=kN(yn(t),a==="start",l);return i&&(c=c.map(u=>u+"-"+i),s&&(c=c.concat(c.map(Kd)))),c}function ii(t){return t.replace(/left|right|bottom|top/g,s=>NN[s])}function PN(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cg(t){return typeof t!="number"?PN(t):{top:t,right:t,bottom:t,left:t}}function ci(t){const{x:s,y:a,width:l,height:i}=t;return{width:l,height:i,top:a,left:s,right:s+l,bottom:a+i,x:s,y:a}}function lp(t,s,a){let{reference:l,floating:i}=t;const c=rs(s),u=Iu(s),f=Au(u),m=yn(s),p=c==="y",y=l.x+l.width/2-i.width/2,b=l.y+l.height/2-i.height/2,v=l[f]/2-i[f]/2;let w;switch(m){case"top":w={x:y,y:l.y-i.height};break;case"bottom":w={x:y,y:l.y+l.height};break;case"right":w={x:l.x+l.width,y:b};break;case"left":w={x:l.x-i.width,y:b};break;default:w={x:l.x,y:l.y}}switch(wa(s)){case"start":w[u]-=v*(a&&p?-1:1);break;case"end":w[u]+=v*(a&&p?-1:1);break}return w}const DN=async(t,s,a)=>{const{placement:l="bottom",strategy:i="absolute",middleware:c=[],platform:u}=a,f=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(s));let p=await u.getElementRects({reference:t,floating:s,strategy:i}),{x:y,y:b}=lp(p,l,m),v=l,w={},S=0;for(let N=0;N<f.length;N++){const{name:C,fn:j}=f[N],{x:k,y:P,data:I,reset:M}=await j({x:y,y:b,initialPlacement:l,placement:v,strategy:i,middlewareData:w,rects:p,platform:u,elements:{reference:t,floating:s}});y=k??y,b=P??b,w={...w,[C]:{...w[C],...I}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(v=M.placement),M.rects&&(p=M.rects===!0?await u.getElementRects({reference:t,floating:s,strategy:i}):M.rects),{x:y,y:b}=lp(p,v,m)),N=-1)}return{x:y,y:b,placement:v,strategy:i,middlewareData:w}};async function Co(t,s){var a;s===void 0&&(s={});const{x:l,y:i,platform:c,rects:u,elements:f,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:v=!1,padding:w=0}=xn(s,t),S=Cg(w),C=f[v?b==="floating"?"reference":"floating":b],j=ci(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(C)))==null||a?C:C.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:m})),k=b==="floating"?{x:l,y:i,width:u.floating.width,height:u.floating.height}:u.reference,P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),I=await(c.isElement==null?void 0:c.isElement(P))?await(c.getScale==null?void 0:c.getScale(P))||{x:1,y:1}:{x:1,y:1},M=ci(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:k,offsetParent:P,strategy:m}):k);return{top:(j.top-M.top+S.top)/I.y,bottom:(M.bottom-j.bottom+S.bottom)/I.y,left:(j.left-M.left+S.left)/I.x,right:(M.right-j.right+S.right)/I.x}}const TN=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:l,placement:i,rects:c,platform:u,elements:f,middlewareData:m}=s,{element:p,padding:y=0}=xn(t,s)||{};if(p==null)return{};const b=Cg(y),v={x:a,y:l},w=Iu(i),S=Au(w),N=await u.getDimensions(p),C=w==="y",j=C?"top":"left",k=C?"bottom":"right",P=C?"clientHeight":"clientWidth",I=c.reference[S]+c.reference[w]-v[w]-c.floating[S],M=v[w]-c.reference[w],R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let D=R?R[P]:0;(!D||!await(u.isElement==null?void 0:u.isElement(R)))&&(D=f.floating[P]||c.floating[S]);const V=I/2-M/2,T=D/2-N[S]/2-1,O=es(b[j],T),Q=es(b[k],T),J=O,Z=D-N[S]-Q,te=D/2-N[S]/2+V,re=qd(J,te,Z),X=!m.arrow&&wa(i)!=null&&te!==re&&c.reference[S]/2-(te<J?O:Q)-N[S]/2<0,se=X?te<J?te-J:te-Z:0;return{[w]:v[w]+se,data:{[w]:re,centerOffset:te-re-se,...X&&{alignmentOffset:se}},reset:X}}}),MN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,l;const{placement:i,middlewareData:c,rects:u,initialPlacement:f,platform:m,elements:p}=s,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,...C}=xn(t,s);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const j=yn(i),k=rs(f),P=yn(f)===f,I=await(m.isRTL==null?void 0:m.isRTL(p.floating)),M=v||(P||!N?[ii(f)]:EN(f)),R=S!=="none";!v&&R&&M.push(...RN(f,N,S,I));const D=[f,...M],V=await Co(s,C),T=[];let O=((l=c.flip)==null?void 0:l.overflows)||[];if(y&&T.push(V[j]),b){const te=SN(i,u,I);T.push(V[te[0]],V[te[1]])}if(O=[...O,{placement:i,overflows:T}],!T.every(te=>te<=0)){var Q,J;const te=(((Q=c.flip)==null?void 0:Q.index)||0)+1,re=D[te];if(re)return{data:{index:te,overflows:O},reset:{placement:re}};let X=(J=O.filter(se=>se.overflows[0]<=0).sort((se,$)=>se.overflows[1]-$.overflows[1])[0])==null?void 0:J.placement;if(!X)switch(w){case"bestFit":{var Z;const se=(Z=O.filter($=>{if(R){const K=rs($.placement);return K===k||K==="y"}return!0}).map($=>[$.placement,$.overflows.filter(K=>K>0).reduce((K,Y)=>K+Y,0)]).sort(($,K)=>$[1]-K[1])[0])==null?void 0:Z[0];se&&(X=se);break}case"initialPlacement":X=f;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function ip(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function cp(t){return jN.some(s=>t[s]>=0)}const AN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:l="referenceHidden",...i}=xn(t,s);switch(l){case"referenceHidden":{const c=await Co(s,{...i,elementContext:"reference"}),u=ip(c,a.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cp(u)}}}case"escaped":{const c=await Co(s,{...i,altBoundary:!0}),u=ip(c,a.floating);return{data:{escapedOffsets:u,escaped:cp(u)}}}default:return{}}}}};async function IN(t,s){const{placement:a,platform:l,elements:i}=t,c=await(l.isRTL==null?void 0:l.isRTL(i.floating)),u=yn(a),f=wa(a),m=rs(a)==="y",p=["left","top"].includes(u)?-1:1,y=c&&m?-1:1,b=xn(s,t);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof S=="number"&&(w=f==="end"?S*-1:S),m?{x:w*y,y:v*p}:{x:v*p,y:w*y}}const _N=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,l;const{x:i,y:c,placement:u,middlewareData:f}=s,m=await IN(s,t);return u===((a=f.offset)==null?void 0:a.placement)&&(l=f.arrow)!=null&&l.alignmentOffset?{}:{x:i+m.x,y:c+m.y,data:{...m,placement:u}}}}},LN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:l,placement:i}=s,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:j,y:k}=C;return{x:j,y:k}}},...m}=xn(t,s),p={x:a,y:l},y=await Co(s,m),b=rs(yn(i)),v=Mu(b);let w=p[v],S=p[b];if(c){const C=v==="y"?"top":"left",j=v==="y"?"bottom":"right",k=w+y[C],P=w-y[j];w=qd(k,w,P)}if(u){const C=b==="y"?"top":"left",j=b==="y"?"bottom":"right",k=S+y[C],P=S-y[j];S=qd(k,S,P)}const N=f.fn({...s,[v]:w,[b]:S});return{...N,data:{x:N.x-a,y:N.y-l,enabled:{[v]:c,[b]:u}}}}}},ON=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:l,placement:i,rects:c,middlewareData:u}=s,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=xn(t,s),y={x:a,y:l},b=rs(i),v=Mu(b);let w=y[v],S=y[b];const N=xn(f,s),C=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const P=v==="y"?"height":"width",I=c.reference[v]-c.floating[P]+C.mainAxis,M=c.reference[v]+c.reference[P]-C.mainAxis;w<I?w=I:w>M&&(w=M)}if(p){var j,k;const P=v==="y"?"width":"height",I=["top","left"].includes(yn(i)),M=c.reference[b]-c.floating[P]+(I&&((j=u.offset)==null?void 0:j[b])||0)+(I?0:C.crossAxis),R=c.reference[b]+c.reference[P]+(I?0:((k=u.offset)==null?void 0:k[b])||0)-(I?C.crossAxis:0);S<M?S=M:S>R&&(S=R)}return{[v]:w,[b]:S}}}},FN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,l;const{placement:i,rects:c,platform:u,elements:f}=s,{apply:m=()=>{},...p}=xn(t,s),y=await Co(s,p),b=yn(i),v=wa(i),w=rs(i)==="y",{width:S,height:N}=c.floating;let C,j;b==="top"||b==="bottom"?(C=b,j=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(j=b,C=v==="end"?"top":"bottom");const k=N-y.top-y.bottom,P=S-y.left-y.right,I=es(N-y[C],k),M=es(S-y[j],P),R=!s.middlewareData.shift;let D=I,V=M;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(V=P),(l=s.middlewareData.shift)!=null&&l.enabled.y&&(D=k),R&&!v){const O=ar(y.left,0),Q=ar(y.right,0),J=ar(y.top,0),Z=ar(y.bottom,0);w?V=S-2*(O!==0||Q!==0?O+Q:ar(y.left,y.right)):D=N-2*(J!==0||Z!==0?J+Z:ar(y.top,y.bottom))}await m({...s,availableWidth:V,availableHeight:D});const T=await u.getDimensions(f.floating);return S!==T.width||N!==T.height?{reset:{rects:!0}}:{}}}};function yi(){return typeof window<"u"}function ja(t){return Sg(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Kr(t){var s;return(s=(Sg(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Sg(t){return yi()?t instanceof Node||t instanceof or(t).Node:!1}function Pr(t){return yi()?t instanceof Element||t instanceof or(t).Element:!1}function Yr(t){return yi()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function dp(t){return!yi()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}function To(t){const{overflow:s,overflowX:a,overflowY:l,display:i}=Dr(t);return/auto|scroll|overlay|hidden|clip/.test(s+l+a)&&!["inline","contents"].includes(i)}function $N(t){return["table","td","th"].includes(ja(t))}function vi(t){return[":popover-open",":modal"].some(s=>{try{return t.matches(s)}catch{return!1}})}function _u(t){const s=Lu(),a=Pr(t)?Dr(t):t;return a.transform!=="none"||a.perspective!=="none"||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||["transform","perspective","filter"].some(l=>(a.willChange||"").includes(l))||["paint","layout","strict","content"].some(l=>(a.contain||"").includes(l))}function zN(t){let s=ns(t);for(;Yr(s)&&!xa(s);){if(_u(s))return s;if(vi(s))return null;s=ns(s)}return null}function Lu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xa(t){return["html","body","#document"].includes(ja(t))}function Dr(t){return or(t).getComputedStyle(t)}function bi(t){return Pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ns(t){if(ja(t)==="html")return t;const s=t.assignedSlot||t.parentNode||dp(t)&&t.host||Kr(t);return dp(s)?s.host:s}function Eg(t){const s=ns(t);return xa(s)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(s)&&To(s)?s:Eg(s)}function So(t,s,a){var l;s===void 0&&(s=[]),a===void 0&&(a=!0);const i=Eg(t),c=i===((l=t.ownerDocument)==null?void 0:l.body),u=or(i);if(c){const f=Qd(u);return s.concat(u,u.visualViewport||[],To(i)?i:[],f&&a?So(f):[])}return s.concat(i,So(i,[],a))}function Qd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kg(t){const s=Dr(t);let a=parseFloat(s.width)||0,l=parseFloat(s.height)||0;const i=Yr(t),c=i?t.offsetWidth:a,u=i?t.offsetHeight:l,f=li(a)!==c||li(l)!==u;return f&&(a=c,l=u),{width:a,height:l,$:f}}function Ou(t){return Pr(t)?t:t.contextElement}function ha(t){const s=Ou(t);if(!Yr(s))return ts(1);const a=s.getBoundingClientRect(),{width:l,height:i,$:c}=kg(s);let u=(c?li(a.width):a.width)/l,f=(c?li(a.height):a.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const VN=ts(0);function Rg(t){const s=or(t);return!Lu()||!s.visualViewport?VN:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function BN(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==or(t)?!1:s}function Ts(t,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=!1);const i=t.getBoundingClientRect(),c=Ou(t);let u=ts(1);s&&(l?Pr(l)&&(u=ha(l)):u=ha(t));const f=BN(c,a,l)?Rg(c):ts(0);let m=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,y=i.width/u.x,b=i.height/u.y;if(c){const v=or(c),w=l&&Pr(l)?or(l):l;let S=v,N=Qd(S);for(;N&&l&&w!==S;){const C=ha(N),j=N.getBoundingClientRect(),k=Dr(N),P=j.left+(N.clientLeft+parseFloat(k.paddingLeft))*C.x,I=j.top+(N.clientTop+parseFloat(k.paddingTop))*C.y;m*=C.x,p*=C.y,y*=C.x,b*=C.y,m+=P,p+=I,S=or(N),N=Qd(S)}}return ci({width:y,height:b,x:m,y:p})}function UN(t){let{elements:s,rect:a,offsetParent:l,strategy:i}=t;const c=i==="fixed",u=Kr(l),f=s?vi(s.floating):!1;if(l===u||f&&c)return a;let m={scrollLeft:0,scrollTop:0},p=ts(1);const y=ts(0),b=Yr(l);if((b||!b&&!c)&&((ja(l)!=="body"||To(u))&&(m=bi(l)),Yr(l))){const v=Ts(l);p=ha(l),y.x=v.x+l.clientLeft,y.y=v.y+l.clientTop}return{width:a.width*p.x,height:a.height*p.y,x:a.x*p.x-m.scrollLeft*p.x+y.x,y:a.y*p.y-m.scrollTop*p.y+y.y}}function WN(t){return Array.from(t.getClientRects())}function Xd(t,s){const a=bi(t).scrollLeft;return s?s.left+a:Ts(Kr(t)).left+a}function HN(t){const s=Kr(t),a=bi(t),l=t.ownerDocument.body,i=ar(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),c=ar(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight);let u=-a.scrollLeft+Xd(t);const f=-a.scrollTop;return Dr(l).direction==="rtl"&&(u+=ar(s.clientWidth,l.clientWidth)-i),{width:i,height:c,x:u,y:f}}function YN(t,s){const a=or(t),l=Kr(t),i=a.visualViewport;let c=l.clientWidth,u=l.clientHeight,f=0,m=0;if(i){c=i.width,u=i.height;const p=Lu();(!p||p&&s==="fixed")&&(f=i.offsetLeft,m=i.offsetTop)}return{width:c,height:u,x:f,y:m}}function GN(t,s){const a=Ts(t,!0,s==="fixed"),l=a.top+t.clientTop,i=a.left+t.clientLeft,c=Yr(t)?ha(t):ts(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,m=i*c.x,p=l*c.y;return{width:u,height:f,x:m,y:p}}function up(t,s,a){let l;if(s==="viewport")l=YN(t,a);else if(s==="document")l=HN(Kr(t));else if(Pr(s))l=GN(s,a);else{const i=Rg(t);l={...s,x:s.x-i.x,y:s.y-i.y}}return ci(l)}function Pg(t,s){const a=ns(t);return a===s||!Pr(a)||xa(a)?!1:Dr(a).position==="fixed"||Pg(a,s)}function qN(t,s){const a=s.get(t);if(a)return a;let l=So(t,[],!1).filter(f=>Pr(f)&&ja(f)!=="body"),i=null;const c=Dr(t).position==="fixed";let u=c?ns(t):t;for(;Pr(u)&&!xa(u);){const f=Dr(u),m=_u(u);!m&&f.position==="fixed"&&(i=null),(c?!m&&!i:!m&&f.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||To(u)&&!m&&Pg(t,u))?l=l.filter(y=>y!==u):i=f,u=ns(u)}return s.set(t,l),l}function KN(t){let{element:s,boundary:a,rootBoundary:l,strategy:i}=t;const u=[...a==="clippingAncestors"?vi(s)?[]:qN(s,this._c):[].concat(a),l],f=u[0],m=u.reduce((p,y)=>{const b=up(s,y,i);return p.top=ar(b.top,p.top),p.right=es(b.right,p.right),p.bottom=es(b.bottom,p.bottom),p.left=ar(b.left,p.left),p},up(s,f,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function QN(t){const{width:s,height:a}=kg(t);return{width:s,height:a}}function XN(t,s,a){const l=Yr(s),i=Kr(s),c=a==="fixed",u=Ts(t,!0,c,s);let f={scrollLeft:0,scrollTop:0};const m=ts(0);if(l||!l&&!c)if((ja(s)!=="body"||To(i))&&(f=bi(s)),l){const w=Ts(s,!0,c,s);m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}else i&&(m.x=Xd(i));let p=0,y=0;if(i&&!l&&!c){const w=i.getBoundingClientRect();y=w.top+f.scrollTop,p=w.left+f.scrollLeft-Xd(i,w)}const b=u.left+f.scrollLeft-m.x-p,v=u.top+f.scrollTop-m.y-y;return{x:b,y:v,width:u.width,height:u.height}}function kd(t){return Dr(t).position==="static"}function fp(t,s){if(!Yr(t)||Dr(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Kr(t)===a&&(a=a.ownerDocument.body),a}function Dg(t,s){const a=or(t);if(vi(t))return a;if(!Yr(t)){let i=ns(t);for(;i&&!xa(i);){if(Pr(i)&&!kd(i))return i;i=ns(i)}return a}let l=fp(t,s);for(;l&&$N(l)&&kd(l);)l=fp(l,s);return l&&xa(l)&&kd(l)&&!_u(l)?a:l||zN(t)||a}const JN=async function(t){const s=this.getOffsetParent||Dg,a=this.getDimensions,l=await a(t.floating);return{reference:XN(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function ZN(t){return Dr(t).direction==="rtl"}const e1={convertOffsetParentRelativeRectToViewportRelativeRect:UN,getDocumentElement:Kr,getClippingRect:KN,getOffsetParent:Dg,getElementRects:JN,getClientRects:WN,getDimensions:QN,getScale:ha,isElement:Pr,isRTL:ZN};function t1(t,s){let a=null,l;const i=Kr(t);function c(){var f;clearTimeout(l),(f=a)==null||f.disconnect(),a=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),c();const{left:p,top:y,width:b,height:v}=t.getBoundingClientRect();if(f||s(),!b||!v)return;const w=Vl(y),S=Vl(i.clientWidth-(p+b)),N=Vl(i.clientHeight-(y+v)),C=Vl(p),k={rootMargin:-w+"px "+-S+"px "+-N+"px "+-C+"px",threshold:ar(0,es(1,m))||1};let P=!0;function I(M){const R=M[0].intersectionRatio;if(R!==m){if(!P)return u();R?u(!1,R):l=setTimeout(()=>{u(!1,1e-7)},1e3)}P=!1}try{a=new IntersectionObserver(I,{...k,root:i.ownerDocument})}catch{a=new IntersectionObserver(I,k)}a.observe(t)}return u(!0),c}function r1(t,s,a,l){l===void 0&&(l={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=l,p=Ou(t),y=i||c?[...p?So(p):[],...So(s)]:[];y.forEach(j=>{i&&j.addEventListener("scroll",a,{passive:!0}),c&&j.addEventListener("resize",a)});const b=p&&f?t1(p,a):null;let v=-1,w=null;u&&(w=new ResizeObserver(j=>{let[k]=j;k&&k.target===p&&w&&(w.unobserve(s),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(s)})),a()}),p&&!m&&w.observe(p),w.observe(s));let S,N=m?Ts(t):null;m&&C();function C(){const j=Ts(t);N&&(j.x!==N.x||j.y!==N.y||j.width!==N.width||j.height!==N.height)&&a(),N=j,S=requestAnimationFrame(C)}return a(),()=>{var j;y.forEach(k=>{i&&k.removeEventListener("scroll",a),c&&k.removeEventListener("resize",a)}),b?.(),(j=w)==null||j.disconnect(),w=null,m&&cancelAnimationFrame(S)}}const n1=_N,s1=LN,a1=MN,o1=FN,l1=AN,mp=TN,i1=ON,c1=(t,s,a)=>{const l=new Map,i={platform:e1,...a},c={...i.platform,_c:l};return DN(t,s,{...i,platform:c})};var Jl=typeof document<"u"?g.useLayoutEffect:g.useEffect;function di(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,l,i;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(l=a;l--!==0;)if(!di(t[l],s[l]))return!1;return!0}if(i=Object.keys(t),a=i.length,a!==Object.keys(s).length)return!1;for(l=a;l--!==0;)if(!{}.hasOwnProperty.call(s,i[l]))return!1;for(l=a;l--!==0;){const c=i[l];if(!(c==="_owner"&&t.$$typeof)&&!di(t[c],s[c]))return!1}return!0}return t!==t&&s!==s}function Tg(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hp(t,s){const a=Tg(t);return Math.round(s*a)/a}function Rd(t){const s=g.useRef(t);return Jl(()=>{s.current=t}),s}function d1(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:i,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:m,open:p}=t,[y,b]=g.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[v,w]=g.useState(l);di(v,l)||w(l);const[S,N]=g.useState(null),[C,j]=g.useState(null),k=g.useCallback($=>{$!==R.current&&(R.current=$,N($))},[]),P=g.useCallback($=>{$!==D.current&&(D.current=$,j($))},[]),I=c||S,M=u||C,R=g.useRef(null),D=g.useRef(null),V=g.useRef(y),T=m!=null,O=Rd(m),Q=Rd(i),J=Rd(p),Z=g.useCallback(()=>{if(!R.current||!D.current)return;const $={placement:s,strategy:a,middleware:v};Q.current&&($.platform=Q.current),c1(R.current,D.current,$).then(K=>{const Y={...K,isPositioned:J.current!==!1};te.current&&!di(V.current,Y)&&(V.current=Y,va.flushSync(()=>{b(Y)}))})},[v,s,a,Q,J]);Jl(()=>{p===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,b($=>({...$,isPositioned:!1})))},[p]);const te=g.useRef(!1);Jl(()=>(te.current=!0,()=>{te.current=!1}),[]),Jl(()=>{if(I&&(R.current=I),M&&(D.current=M),I&&M){if(O.current)return O.current(I,M,Z);Z()}},[I,M,Z,O,T]);const re=g.useMemo(()=>({reference:R,floating:D,setReference:k,setFloating:P}),[k,P]),X=g.useMemo(()=>({reference:I,floating:M}),[I,M]),se=g.useMemo(()=>{const $={position:a,left:0,top:0};if(!X.floating)return $;const K=hp(X.floating,y.x),Y=hp(X.floating,y.y);return f?{...$,transform:"translate("+K+"px, "+Y+"px)",...Tg(X.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:K,top:Y}},[a,f,X.floating,y.x,y.y]);return g.useMemo(()=>({...y,update:Z,refs:re,elements:X,floatingStyles:se}),[y,Z,re,X,se])}const u1=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:l,padding:i}=typeof t=="function"?t(a):t;return l&&s(l)?l.current!=null?mp({element:l.current,padding:i}).fn(a):{}:l?mp({element:l,padding:i}).fn(a):{}}}},f1=(t,s)=>({...n1(t),options:[t,s]}),m1=(t,s)=>({...s1(t),options:[t,s]}),h1=(t,s)=>({...i1(t),options:[t,s]}),p1=(t,s)=>({...a1(t),options:[t,s]}),g1=(t,s)=>({...o1(t),options:[t,s]}),x1=(t,s)=>({...l1(t),options:[t,s]}),y1=(t,s)=>({...u1(t),options:[t,s]});var v1="Arrow",Mg=g.forwardRef((t,s)=>{const{children:a,width:l=10,height:i=5,...c}=t;return r.jsx(pt.svg,{...c,ref:s,width:l,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mg.displayName=v1;var b1=Mg;function w1(t,s=[]){let a=[];function l(c,u){const f=g.createContext(u),m=a.length;a=[...a,u];function p(b){const{scope:v,children:w,...S}=b,N=v?.[t][m]||f,C=g.useMemo(()=>S,Object.values(S));return r.jsx(N.Provider,{value:C,children:w})}function y(b,v){const w=v?.[t][m]||f,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return p.displayName=c+"Provider",[p,y]}const i=()=>{const c=a.map(u=>g.createContext(u));return function(f){const m=f?.[t]||c;return g.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[l,j1(i,...s)]}function j1(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const l=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=l.reduce((f,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...f,...b}},{});return g.useMemo(()=>({[`__scope${s.scopeName}`]:u}),[u])}};return a.scopeName=s.scopeName,a}function N1(t){const[s,a]=g.useState(void 0);return Bt(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let u,f;if("borderBoxSize"in c){const m=c.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;a({width:u,height:f})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else a(void 0)},[t]),s}var Fu="Popper",[Ag,wi]=w1(Fu),[C1,Ig]=Ag(Fu),_g=t=>{const{__scopePopper:s,children:a}=t,[l,i]=g.useState(null);return r.jsx(C1,{scope:s,anchor:l,onAnchorChange:i,children:a})};_g.displayName=Fu;var Lg="PopperAnchor",Og=g.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:l,...i}=t,c=Ig(Lg,a),u=g.useRef(null),f=bt(s,u);return g.useEffect(()=>{c.onAnchorChange(l?.current||u.current)}),l?null:r.jsx(pt.div,{...i,ref:f})});Og.displayName=Lg;var $u="PopperContent",[S1,E1]=Ag($u),Fg=g.forwardRef((t,s)=>{const{__scopePopper:a,side:l="bottom",sideOffset:i=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:S,...N}=t,C=Ig($u,a),[j,k]=g.useState(null),P=bt(s,le=>k(le)),[I,M]=g.useState(null),R=N1(I),D=R?.width??0,V=R?.height??0,T=l+(c!=="center"?"-"+c:""),O=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Q=Array.isArray(p)?p:[p],J=Q.length>0,Z={padding:O,boundary:Q.filter(R1),altBoundary:J},{refs:te,floatingStyles:re,placement:X,isPositioned:se,middlewareData:$}=d1({strategy:"fixed",placement:T,whileElementsMounted:(...le)=>r1(...le,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[f1({mainAxis:i+V,alignmentAxis:u}),m&&m1({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?h1():void 0,...Z}),m&&p1({...Z}),g1({...Z,apply:({elements:le,rects:me,availableWidth:Me,availableHeight:pe})=>{const{width:_e,height:Ue}=me.reference,ft=le.floating.style;ft.setProperty("--radix-popper-available-width",`${Me}px`),ft.setProperty("--radix-popper-available-height",`${pe}px`),ft.setProperty("--radix-popper-anchor-width",`${_e}px`),ft.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),I&&y1({element:I,padding:f}),P1({arrowWidth:D,arrowHeight:V}),v&&x1({strategy:"referenceHidden",...Z})]}),[K,Y]=Vg(X),_=gn(S);Bt(()=>{se&&_?.()},[se,_]);const q=$.arrow?.x,de=$.arrow?.y,fe=$.arrow?.centerOffset!==0,[Se,we]=g.useState();return Bt(()=>{j&&we(window.getComputedStyle(j).zIndex)},[j]),r.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:se?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(S1,{scope:a,placedSide:K,onArrowChange:M,arrowX:q,arrowY:de,shouldHideArrow:fe,children:r.jsx(pt.div,{"data-side":K,"data-align":Y,...N,ref:P,style:{...N.style,animation:se?void 0:"none"}})})})});Fg.displayName=$u;var $g="PopperArrow",k1={top:"bottom",right:"left",bottom:"top",left:"right"},zg=g.forwardRef(function(s,a){const{__scopePopper:l,...i}=s,c=E1($g,l),u=k1[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(b1,{...i,ref:a,style:{...i.style,display:"block"}})})});zg.displayName=$g;function R1(t){return t!==null}var P1=t=>({name:"transformOrigin",options:t,fn(s){const{placement:a,rects:l,middlewareData:i}=s,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[p,y]=Vg(a),b={start:"0%",center:"50%",end:"100%"}[y],v=(i.arrow?.x??0)+f/2,w=(i.arrow?.y??0)+m/2;let S="",N="";return p==="bottom"?(S=u?b:`${v}px`,N=`${-m}px`):p==="top"?(S=u?b:`${v}px`,N=`${l.floating.height+m}px`):p==="right"?(S=`${-m}px`,N=u?b:`${w}px`):p==="left"&&(S=`${l.floating.width+m}px`,N=u?b:`${w}px`),{data:{x:S,y:N}}}});function Vg(t){const[s,a="center"]=t.split("-");return[s,a]}var Bg=_g,Ug=Og,Wg=Fg,Hg=zg,D1="Portal",Yg=g.forwardRef((t,s)=>{const{container:a,...l}=t,[i,c]=g.useState(!1);Bt(()=>c(!0),[]);const u=a||i&&globalThis?.document?.body;return u?Kb.createPortal(r.jsx(pt.div,{...l,ref:s}),u):null});Yg.displayName=D1;function Jd({prop:t,defaultProp:s,onChange:a=()=>{}}){const[l,i]=T1({defaultProp:s,onChange:a}),c=t!==void 0,u=c?t:l,f=gn(a),m=g.useCallback(p=>{if(c){const b=typeof p=="function"?p(t):p;b!==t&&f(b)}else i(p)},[c,t,i,f]);return[u,m]}function T1({defaultProp:t,onChange:s}){const a=g.useState(t),[l]=a,i=g.useRef(l),c=gn(s);return g.useEffect(()=>{i.current!==l&&(c(l),i.current=l)},[l,i,c]),a}function M1(t){const s=g.useRef({value:t,previous:t});return g.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var A1="VisuallyHidden",zu=g.forwardRef((t,s)=>r.jsx(pt.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));zu.displayName=A1;var I1=zu,_1=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},la=new WeakMap,Bl=new WeakMap,Ul={},Pd=0,Gg=function(t){return t&&(t.host||Gg(t.parentNode))},L1=function(t,s){return s.map(function(a){if(t.contains(a))return a;var l=Gg(a);return l&&t.contains(l)?l:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},O1=function(t,s,a,l){var i=L1(s,Array.isArray(t)?t:[t]);Ul[a]||(Ul[a]=new WeakMap);var c=Ul[a],u=[],f=new Set,m=new Set(i),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};i.forEach(p);var y=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(v){if(f.has(v))y(v);else try{var w=v.getAttribute(l),S=w!==null&&w!=="false",N=(la.get(v)||0)+1,C=(c.get(v)||0)+1;la.set(v,N),c.set(v,C),u.push(v),N===1&&S&&Bl.set(v,!0),C===1&&v.setAttribute(a,"true"),S||v.setAttribute(l,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return y(s),f.clear(),Pd++,function(){u.forEach(function(b){var v=la.get(b)-1,w=c.get(b)-1;la.set(b,v),c.set(b,w),v||(Bl.has(b)||b.removeAttribute(l),Bl.delete(b)),w||b.removeAttribute(a)}),Pd--,Pd||(la=new WeakMap,la=new WeakMap,Bl=new WeakMap,Ul={})}},F1=function(t,s,a){a===void 0&&(a="data-aria-hidden");var l=Array.from(Array.isArray(t)?t:[t]),i=_1(t);return i?(l.push.apply(l,Array.from(i.querySelectorAll("[aria-live]"))),O1(l,i,a,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(s){for(var a,l=1,i=arguments.length;l<i;l++){a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])}return s},Ur.apply(this,arguments)};function qg(t,s){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&s.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(t);i<l.length;i++)s.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(t,l[i])&&(a[l[i]]=t[l[i]]);return a}function $1(t,s,a){if(a||arguments.length===2)for(var l=0,i=s.length,c;l<i;l++)(c||!(l in s))&&(c||(c=Array.prototype.slice.call(s,0,l)),c[l]=s[l]);return t.concat(c||Array.prototype.slice.call(s))}var Zl="right-scroll-bar-position",ei="width-before-scroll-bar",z1="with-scroll-bars-hidden",V1="--removed-body-scroll-bar-size";function Dd(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function B1(t,s){var a=g.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(l){var i=a.value;i!==l&&(a.value=l,a.callback(l,i))}}}})[0];return a.callback=s,a.facade}var U1=typeof window<"u"?g.useLayoutEffect:g.useEffect,pp=new WeakMap;function W1(t,s){var a=B1(null,function(l){return t.forEach(function(i){return Dd(i,l)})});return U1(function(){var l=pp.get(a);if(l){var i=new Set(l),c=new Set(t),u=a.current;i.forEach(function(f){c.has(f)||Dd(f,null)}),c.forEach(function(f){i.has(f)||Dd(f,u)})}pp.set(a,t)},[t]),a}function H1(t){return t}function Y1(t,s){s===void 0&&(s=H1);var a=[],l=!1,i={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(c){var u=s(c,l);return a.push(u),function(){a=a.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(l=!0;a.length;){var u=a;a=[],u.forEach(c)}a={push:function(f){return c(f)},filter:function(){return a}}},assignMedium:function(c){l=!0;var u=[];if(a.length){var f=a;a=[],f.forEach(c),u=a}var m=function(){var y=u;u=[],y.forEach(c)},p=function(){return Promise.resolve().then(m)};p(),a={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),a}}}};return i}function G1(t){t===void 0&&(t={});var s=Y1(null);return s.options=Ur({async:!0,ssr:!1},t),s}var Kg=function(t){var s=t.sideCar,a=qg(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=s.read();if(!l)throw new Error("Sidecar medium not found");return g.createElement(l,Ur({},a))};Kg.isSideCarExport=!0;function q1(t,s){return t.useMedium(s),Kg}var Qg=G1(),Td=function(){},ji=g.forwardRef(function(t,s){var a=g.useRef(null),l=g.useState({onScrollCapture:Td,onWheelCapture:Td,onTouchMoveCapture:Td}),i=l[0],c=l[1],u=t.forwardProps,f=t.children,m=t.className,p=t.removeScrollBar,y=t.enabled,b=t.shards,v=t.sideCar,w=t.noIsolation,S=t.inert,N=t.allowPinchZoom,C=t.as,j=C===void 0?"div":C,k=t.gapMode,P=qg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,M=W1([a,s]),R=Ur(Ur({},P),i);return g.createElement(g.Fragment,null,y&&g.createElement(I,{sideCar:Qg,removeScrollBar:p,shards:b,noIsolation:w,inert:S,setCallbacks:c,allowPinchZoom:!!N,lockRef:a,gapMode:k}),u?g.cloneElement(g.Children.only(f),Ur(Ur({},R),{ref:M})):g.createElement(j,Ur({},R,{className:m,ref:M}),f))});ji.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ji.classNames={fullWidth:ei,zeroRight:Zl};var K1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q1(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=K1();return s&&t.setAttribute("nonce",s),t}function X1(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function J1(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Z1=function(){var t=0,s=null;return{add:function(a){t==0&&(s=Q1())&&(X1(s,a),J1(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},e2=function(){var t=Z1();return function(s,a){g.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},Xg=function(){var t=e2(),s=function(a){var l=a.styles,i=a.dynamic;return t(l,i),null};return s},t2={left:0,top:0,right:0,gap:0},Md=function(t){return parseInt(t||"",10)||0},r2=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],l=s[t==="padding"?"paddingTop":"marginTop"],i=s[t==="padding"?"paddingRight":"marginRight"];return[Md(a),Md(l),Md(i)]},n2=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return t2;var s=r2(t),a=document.documentElement.clientWidth,l=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,l-a+s[2]-s[0])}},s2=Xg(),pa="data-scroll-locked",a2=function(t,s,a,l){var i=t.left,c=t.top,u=t.right,f=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(z1,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(f,"px ").concat(l,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(l,";"),a==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(l,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zl,` {
    right: `).concat(f,"px ").concat(l,`;
  }
  
  .`).concat(ei,` {
    margin-right: `).concat(f,"px ").concat(l,`;
  }
  
  .`).concat(Zl," .").concat(Zl,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(ei," .").concat(ei,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(V1,": ").concat(f,`px;
  }
`)},gp=function(){var t=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(t)?t:0},o2=function(){g.useEffect(function(){return document.body.setAttribute(pa,(gp()+1).toString()),function(){var t=gp()-1;t<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,t.toString())}},[])},l2=function(t){var s=t.noRelative,a=t.noImportant,l=t.gapMode,i=l===void 0?"margin":l;o2();var c=g.useMemo(function(){return n2(i)},[i]);return g.createElement(s2,{styles:a2(c,!s,i,a?"":"!important")})},Zd=!1;if(typeof window<"u")try{var Wl=Object.defineProperty({},"passive",{get:function(){return Zd=!0,!0}});window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Zd=!1}var ia=Zd?{passive:!1}:!1,i2=function(t){return t.tagName==="TEXTAREA"},Jg=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!i2(t)&&a[s]==="visible")},c2=function(t){return Jg(t,"overflowY")},d2=function(t){return Jg(t,"overflowX")},xp=function(t,s){var a=s.ownerDocument,l=s;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var i=Zg(t,l);if(i){var c=e0(t,l),u=c[1],f=c[2];if(u>f)return!0}l=l.parentNode}while(l&&l!==a.body);return!1},u2=function(t){var s=t.scrollTop,a=t.scrollHeight,l=t.clientHeight;return[s,a,l]},f2=function(t){var s=t.scrollLeft,a=t.scrollWidth,l=t.clientWidth;return[s,a,l]},Zg=function(t,s){return t==="v"?c2(s):d2(s)},e0=function(t,s){return t==="v"?u2(s):f2(s)},m2=function(t,s){return t==="h"&&s==="rtl"?-1:1},h2=function(t,s,a,l,i){var c=m2(t,window.getComputedStyle(s).direction),u=c*l,f=a.target,m=s.contains(f),p=!1,y=u>0,b=0,v=0;do{var w=e0(t,f),S=w[0],N=w[1],C=w[2],j=N-C-c*S;(S||j)&&Zg(t,f)&&(b+=j,v+=S),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(s.contains(f)||s===f));return(y&&Math.abs(b)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Hl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yp=function(t){return[t.deltaX,t.deltaY]},vp=function(t){return t&&"current"in t?t.current:t},p2=function(t,s){return t[0]===s[0]&&t[1]===s[1]},g2=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},x2=0,ca=[];function y2(t){var s=g.useRef([]),a=g.useRef([0,0]),l=g.useRef(),i=g.useState(x2++)[0],c=g.useState(Xg)[0],u=g.useRef(t);g.useEffect(function(){u.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=$1([t.lockRef.current],(t.shards||[]).map(vp),!0).filter(Boolean);return N.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=g.useCallback(function(N,C){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var j=Hl(N),k=a.current,P="deltaX"in N?N.deltaX:k[0]-j[0],I="deltaY"in N?N.deltaY:k[1]-j[1],M,R=N.target,D=Math.abs(P)>Math.abs(I)?"h":"v";if("touches"in N&&D==="h"&&R.type==="range")return!1;var V=xp(D,R);if(!V)return!0;if(V?M=D:(M=D==="v"?"h":"v",V=xp(D,R)),!V)return!1;if(!l.current&&"changedTouches"in N&&(P||I)&&(l.current=M),!M)return!0;var T=l.current||M;return h2(T,C,N,T==="h"?P:I)},[]),m=g.useCallback(function(N){var C=N;if(!(!ca.length||ca[ca.length-1]!==c)){var j="deltaY"in C?yp(C):Hl(C),k=s.current.filter(function(M){return M.name===C.type&&(M.target===C.target||C.target===M.shadowParent)&&p2(M.delta,j)})[0];if(k&&k.should){C.cancelable&&C.preventDefault();return}if(!k){var P=(u.current.shards||[]).map(vp).filter(Boolean).filter(function(M){return M.contains(C.target)}),I=P.length>0?f(C,P[0]):!u.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),p=g.useCallback(function(N,C,j,k){var P={name:N,delta:C,target:j,should:k,shadowParent:v2(j)};s.current.push(P),setTimeout(function(){s.current=s.current.filter(function(I){return I!==P})},1)},[]),y=g.useCallback(function(N){a.current=Hl(N),l.current=void 0},[]),b=g.useCallback(function(N){p(N.type,yp(N),N.target,f(N,t.lockRef.current))},[]),v=g.useCallback(function(N){p(N.type,Hl(N),N.target,f(N,t.lockRef.current))},[]);g.useEffect(function(){return ca.push(c),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:v}),document.addEventListener("wheel",m,ia),document.addEventListener("touchmove",m,ia),document.addEventListener("touchstart",y,ia),function(){ca=ca.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,ia),document.removeEventListener("touchmove",m,ia),document.removeEventListener("touchstart",y,ia)}},[]);var w=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(c,{styles:g2(i)}):null,w?g.createElement(l2,{gapMode:t.gapMode}):null)}function v2(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const b2=q1(Qg,y2);var t0=g.forwardRef(function(t,s){return g.createElement(ji,Ur({},t,{ref:s,sideCar:b2}))});t0.classNames=ji.classNames;var w2=[" ","Enter","ArrowUp","ArrowDown"],j2=[" ","Enter"],Mo="Select",[Ni,Ci,N2]=Jj(Mo),[Na,FC]=vg(Mo,[N2,wi]),Si=wi(),[C2,as]=Na(Mo),[S2,E2]=Na(Mo),r0=t=>{const{__scopeSelect:s,children:a,open:l,defaultOpen:i,onOpenChange:c,value:u,defaultValue:f,onValueChange:m,dir:p,name:y,autoComplete:b,disabled:v,required:w,form:S}=t,N=Si(s),[C,j]=g.useState(null),[k,P]=g.useState(null),[I,M]=g.useState(!1),R=tN(p),[D=!1,V]=Jd({prop:l,defaultProp:i,onChange:c}),[T,O]=Jd({prop:u,defaultProp:f,onChange:m}),Q=g.useRef(null),J=C?S||!!C.closest("form"):!0,[Z,te]=g.useState(new Set),re=Array.from(Z).map(X=>X.props.value).join(";");return r.jsx(Bg,{...N,children:r.jsxs(C2,{required:w,scope:s,trigger:C,onTriggerChange:j,valueNode:k,onValueNodeChange:P,valueNodeHasChildren:I,onValueNodeHasChildrenChange:M,contentId:xi(),value:T,onValueChange:O,open:D,onOpenChange:V,dir:R,triggerPointerDownPosRef:Q,disabled:v,children:[r.jsx(Ni.Provider,{scope:s,children:r.jsx(S2,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(X=>{te(se=>new Set(se).add(X))},[]),onNativeOptionRemove:g.useCallback(X=>{te(se=>{const $=new Set(se);return $.delete(X),$})},[]),children:a})}),J?r.jsxs(k0,{"aria-hidden":!0,required:w,tabIndex:-1,name:y,autoComplete:b,value:T,onChange:X=>O(X.target.value),disabled:v,form:S,children:[T===void 0?r.jsx("option",{value:""}):null,Array.from(Z)]},re):null]})})};r0.displayName=Mo;var n0="SelectTrigger",s0=g.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:l=!1,...i}=t,c=Si(a),u=as(n0,a),f=u.disabled||l,m=bt(s,u.onTriggerChange),p=Ci(a),y=g.useRef("touch"),[b,v,w]=R0(N=>{const C=p().filter(P=>!P.disabled),j=C.find(P=>P.value===u.value),k=P0(C,N,j);k!==void 0&&u.onValueChange(k.value)}),S=N=>{f||(u.onOpenChange(!0),w()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return r.jsx(Ug,{asChild:!0,...c,children:r.jsx(pt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":E0(u.value)?"":void 0,...i,ref:m,onClick:Je(i.onClick,N=>{N.currentTarget.focus(),y.current!=="mouse"&&S(N)}),onPointerDown:Je(i.onPointerDown,N=>{y.current=N.pointerType;const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(S(N),N.preventDefault())}),onKeyDown:Je(i.onKeyDown,N=>{const C=b.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&v(N.key),!(C&&N.key===" ")&&w2.includes(N.key)&&(S(),N.preventDefault())})})})});s0.displayName=n0;var a0="SelectValue",o0=g.forwardRef((t,s)=>{const{__scopeSelect:a,className:l,style:i,children:c,placeholder:u="",...f}=t,m=as(a0,a),{onValueNodeHasChildrenChange:p}=m,y=c!==void 0,b=bt(s,m.onValueNodeChange);return Bt(()=>{p(y)},[p,y]),r.jsx(pt.span,{...f,ref:b,style:{pointerEvents:"none"},children:E0(m.value)?r.jsx(r.Fragment,{children:u}):c})});o0.displayName=a0;var k2="SelectIcon",l0=g.forwardRef((t,s)=>{const{__scopeSelect:a,children:l,...i}=t;return r.jsx(pt.span,{"aria-hidden":!0,...i,ref:s,children:l||"▼"})});l0.displayName=k2;var R2="SelectPortal",i0=t=>r.jsx(Yg,{asChild:!0,...t});i0.displayName=R2;var Ms="SelectContent",c0=g.forwardRef((t,s)=>{const a=as(Ms,t.__scopeSelect),[l,i]=g.useState();if(Bt(()=>{i(new DocumentFragment)},[]),!a.open){const c=l;return c?va.createPortal(r.jsx(d0,{scope:t.__scopeSelect,children:r.jsx(Ni.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),c):null}return r.jsx(u0,{...t,ref:s})});c0.displayName=Ms;var Er=10,[d0,os]=Na(Ms),P2="SelectContentImpl",u0=g.forwardRef((t,s)=>{const{__scopeSelect:a,position:l="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:m,align:p,alignOffset:y,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:N,avoidCollisions:C,...j}=t,k=as(Ms,a),[P,I]=g.useState(null),[M,R]=g.useState(null),D=bt(s,le=>I(le)),[V,T]=g.useState(null),[O,Q]=g.useState(null),J=Ci(a),[Z,te]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(P)return F1(P)},[P]),fN();const X=g.useCallback(le=>{const[me,...Me]=J().map(Ue=>Ue.ref.current),[pe]=Me.slice(-1),_e=document.activeElement;for(const Ue of le)if(Ue===_e||(Ue?.scrollIntoView({block:"nearest"}),Ue===me&&M&&(M.scrollTop=0),Ue===pe&&M&&(M.scrollTop=M.scrollHeight),Ue?.focus(),document.activeElement!==_e))return},[J,M]),se=g.useCallback(()=>X([V,P]),[X,V,P]);g.useEffect(()=>{Z&&se()},[Z,se]);const{onOpenChange:$,triggerPointerDownPosRef:K}=k;g.useEffect(()=>{if(P){let le={x:0,y:0};const me=pe=>{le={x:Math.abs(Math.round(pe.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(K.current?.y??0))}},Me=pe=>{le.x<=10&&le.y<=10?pe.preventDefault():P.contains(pe.target)||$(!1),document.removeEventListener("pointermove",me),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Me,{capture:!0})}}},[P,$,K]),g.useEffect(()=>{const le=()=>$(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[$]);const[Y,_]=R0(le=>{const me=J().filter(_e=>!_e.disabled),Me=me.find(_e=>_e.ref.current===document.activeElement),pe=P0(me,le,Me);pe&&setTimeout(()=>pe.ref.current.focus())}),q=g.useCallback((le,me,Me)=>{const pe=!re.current&&!Me;(k.value!==void 0&&k.value===me||pe)&&(T(le),pe&&(re.current=!0))},[k.value]),de=g.useCallback(()=>P?.focus(),[P]),fe=g.useCallback((le,me,Me)=>{const pe=!re.current&&!Me;(k.value!==void 0&&k.value===me||pe)&&Q(le)},[k.value]),Se=l==="popper"?eu:f0,we=Se===eu?{side:f,sideOffset:m,align:p,alignOffset:y,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:N,avoidCollisions:C}:{};return r.jsx(d0,{scope:a,content:P,viewport:M,onViewportChange:R,itemRefCallback:q,selectedItem:V,onItemLeave:de,itemTextRefCallback:fe,focusSelectedItem:se,selectedItemText:O,position:l,isPositioned:Z,searchRef:Y,children:r.jsx(t0,{as:No,allowPinchZoom:!0,children:r.jsx(jg,{asChild:!0,trapped:k.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Je(i,le=>{k.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:r.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:r.jsx(Se,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:le=>le.preventDefault(),...j,...we,onPlaced:()=>te(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Je(j.onKeyDown,le=>{const me=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!me&&le.key.length===1&&_(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let pe=J().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(le.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const _e=le.target,Ue=pe.indexOf(_e);pe=pe.slice(Ue+1)}setTimeout(()=>X(pe)),le.preventDefault()}})})})})})})});u0.displayName=P2;var D2="SelectItemAlignedPosition",f0=g.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:l,...i}=t,c=as(Ms,a),u=os(Ms,a),[f,m]=g.useState(null),[p,y]=g.useState(null),b=bt(s,D=>y(D)),v=Ci(a),w=g.useRef(!1),S=g.useRef(!0),{viewport:N,selectedItem:C,selectedItemText:j,focusSelectedItem:k}=u,P=g.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&N&&C&&j){const D=c.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),T=c.valueNode.getBoundingClientRect(),O=j.getBoundingClientRect();if(c.dir!=="rtl"){const _e=O.left-V.left,Ue=T.left-_e,ft=D.left-Ue,mt=D.width+ft,Tr=Math.max(mt,V.width),Mr=window.innerWidth-Er,ir=Zh(Ue,[Er,Math.max(Er,Mr-Tr)]);f.style.minWidth=mt+"px",f.style.left=ir+"px"}else{const _e=V.right-O.right,Ue=window.innerWidth-T.right-_e,ft=window.innerWidth-D.right-Ue,mt=D.width+ft,Tr=Math.max(mt,V.width),Mr=window.innerWidth-Er,ir=Zh(Ue,[Er,Math.max(Er,Mr-Tr)]);f.style.minWidth=mt+"px",f.style.right=ir+"px"}const Q=v(),J=window.innerHeight-Er*2,Z=N.scrollHeight,te=window.getComputedStyle(p),re=parseInt(te.borderTopWidth,10),X=parseInt(te.paddingTop,10),se=parseInt(te.borderBottomWidth,10),$=parseInt(te.paddingBottom,10),K=re+X+Z+$+se,Y=Math.min(C.offsetHeight*5,K),_=window.getComputedStyle(N),q=parseInt(_.paddingTop,10),de=parseInt(_.paddingBottom,10),fe=D.top+D.height/2-Er,Se=J-fe,we=C.offsetHeight/2,le=C.offsetTop+we,me=re+X+le,Me=K-me;if(me<=fe){const _e=Q.length>0&&C===Q[Q.length-1].ref.current;f.style.bottom="0px";const Ue=p.clientHeight-N.offsetTop-N.offsetHeight,ft=Math.max(Se,we+(_e?de:0)+Ue+se),mt=me+ft;f.style.height=mt+"px"}else{const _e=Q.length>0&&C===Q[0].ref.current;f.style.top="0px";const ft=Math.max(fe,re+N.offsetTop+(_e?q:0)+we)+Me;f.style.height=ft+"px",N.scrollTop=me-fe+N.offsetTop}f.style.margin=`${Er}px 0`,f.style.minHeight=Y+"px",f.style.maxHeight=J+"px",l?.(),requestAnimationFrame(()=>w.current=!0)}},[v,c.trigger,c.valueNode,f,p,N,C,j,c.dir,l]);Bt(()=>P(),[P]);const[I,M]=g.useState();Bt(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const R=g.useCallback(D=>{D&&S.current===!0&&(P(),k?.(),S.current=!1)},[P,k]);return r.jsx(M2,{scope:a,contentWrapper:f,shouldExpandOnScrollRef:w,onScrollButtonChange:R,children:r.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:r.jsx(pt.div,{...i,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});f0.displayName=D2;var T2="SelectPopperPosition",eu=g.forwardRef((t,s)=>{const{__scopeSelect:a,align:l="start",collisionPadding:i=Er,...c}=t,u=Si(a);return r.jsx(Wg,{...u,...c,ref:s,align:l,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eu.displayName=T2;var[M2,Vu]=Na(Ms,{}),tu="SelectViewport",m0=g.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:l,...i}=t,c=os(tu,a),u=Vu(tu,a),f=bt(s,c.onViewportChange),m=g.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),r.jsx(Ni.Slot,{scope:a,children:r.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:v}=u;if(v?.current&&b){const w=Math.abs(m.current-y.scrollTop);if(w>0){const S=window.innerHeight-Er*2,N=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),j=Math.max(N,C);if(j<S){const k=j+w,P=Math.min(S,k),I=k-P;b.style.height=P+"px",b.style.bottom==="0px"&&(y.scrollTop=I>0?I:0,b.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});m0.displayName=tu;var h0="SelectGroup",[A2,I2]=Na(h0),_2=g.forwardRef((t,s)=>{const{__scopeSelect:a,...l}=t,i=xi();return r.jsx(A2,{scope:a,id:i,children:r.jsx(pt.div,{role:"group","aria-labelledby":i,...l,ref:s})})});_2.displayName=h0;var p0="SelectLabel",g0=g.forwardRef((t,s)=>{const{__scopeSelect:a,...l}=t,i=I2(p0,a);return r.jsx(pt.div,{id:i.id,...l,ref:s})});g0.displayName=p0;var ui="SelectItem",[L2,x0]=Na(ui),y0=g.forwardRef((t,s)=>{const{__scopeSelect:a,value:l,disabled:i=!1,textValue:c,...u}=t,f=as(ui,a),m=os(ui,a),p=f.value===l,[y,b]=g.useState(c??""),[v,w]=g.useState(!1),S=bt(s,k=>m.itemRefCallback?.(k,l,i)),N=xi(),C=g.useRef("touch"),j=()=>{i||(f.onValueChange(l),f.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(L2,{scope:a,value:l,disabled:i,textId:N,isSelected:p,onItemTextChange:g.useCallback(k=>{b(P=>P||(k?.textContent??"").trim())},[]),children:r.jsx(Ni.ItemSlot,{scope:a,value:l,disabled:i,textValue:y,children:r.jsx(pt.div,{role:"option","aria-labelledby":N,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:S,onFocus:Je(u.onFocus,()=>w(!0)),onBlur:Je(u.onBlur,()=>w(!1)),onClick:Je(u.onClick,()=>{C.current!=="mouse"&&j()}),onPointerUp:Je(u.onPointerUp,()=>{C.current==="mouse"&&j()}),onPointerDown:Je(u.onPointerDown,k=>{C.current=k.pointerType}),onPointerMove:Je(u.onPointerMove,k=>{C.current=k.pointerType,i?m.onItemLeave?.():C.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(u.onPointerLeave,k=>{k.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Je(u.onKeyDown,k=>{m.searchRef?.current!==""&&k.key===" "||(j2.includes(k.key)&&j(),k.key===" "&&k.preventDefault())})})})})});y0.displayName=ui;var po="SelectItemText",v0=g.forwardRef((t,s)=>{const{__scopeSelect:a,className:l,style:i,...c}=t,u=as(po,a),f=os(po,a),m=x0(po,a),p=E2(po,a),[y,b]=g.useState(null),v=bt(s,j=>b(j),m.onItemTextChange,j=>f.itemTextRefCallback?.(j,m.value,m.disabled)),w=y?.textContent,S=g.useMemo(()=>r.jsx("option",{value:m.value,disabled:m.disabled,children:w},m.value),[m.disabled,m.value,w]),{onNativeOptionAdd:N,onNativeOptionRemove:C}=p;return Bt(()=>(N(S),()=>C(S)),[N,C,S]),r.jsxs(r.Fragment,{children:[r.jsx(pt.span,{id:m.textId,...c,ref:v}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?va.createPortal(c.children,u.valueNode):null]})});v0.displayName=po;var b0="SelectItemIndicator",w0=g.forwardRef((t,s)=>{const{__scopeSelect:a,...l}=t;return x0(b0,a).isSelected?r.jsx(pt.span,{"aria-hidden":!0,...l,ref:s}):null});w0.displayName=b0;var ru="SelectScrollUpButton",j0=g.forwardRef((t,s)=>{const a=os(ru,t.__scopeSelect),l=Vu(ru,t.__scopeSelect),[i,c]=g.useState(!1),u=bt(s,l.onScrollButtonChange);return Bt(()=>{if(a.viewport&&a.isPositioned){let f=function(){const p=m.scrollTop>0;c(p)};const m=a.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),i?r.jsx(C0,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=a;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});j0.displayName=ru;var nu="SelectScrollDownButton",N0=g.forwardRef((t,s)=>{const a=os(nu,t.__scopeSelect),l=Vu(nu,t.__scopeSelect),[i,c]=g.useState(!1),u=bt(s,l.onScrollButtonChange);return Bt(()=>{if(a.viewport&&a.isPositioned){let f=function(){const p=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<p;c(y)};const m=a.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),i?r.jsx(C0,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=a;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});N0.displayName=nu;var C0=g.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:l,...i}=t,c=os("SelectScrollButton",a),u=g.useRef(null),f=Ci(a),m=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>m(),[m]),Bt(()=>{f().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),r.jsx(pt.div,{"aria-hidden":!0,...i,ref:s,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(l,50))}),onPointerMove:Je(i.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(l,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{m()})})}),O2="SelectSeparator",S0=g.forwardRef((t,s)=>{const{__scopeSelect:a,...l}=t;return r.jsx(pt.div,{"aria-hidden":!0,...l,ref:s})});S0.displayName=O2;var su="SelectArrow",F2=g.forwardRef((t,s)=>{const{__scopeSelect:a,...l}=t,i=Si(a),c=as(su,a),u=os(su,a);return c.open&&u.position==="popper"?r.jsx(Hg,{...i,...l,ref:s}):null});F2.displayName=su;function E0(t){return t===""||t===void 0}var k0=g.forwardRef((t,s)=>{const{value:a,...l}=t,i=g.useRef(null),c=bt(s,i),u=M1(a);return g.useEffect(()=>{const f=i.current,m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==a&&y){const b=new Event("change",{bubbles:!0});y.call(f,a),f.dispatchEvent(b)}},[u,a]),r.jsx(zu,{asChild:!0,children:r.jsx("select",{...l,ref:c,defaultValue:a})})});k0.displayName="BubbleSelect";function R0(t){const s=gn(t),a=g.useRef(""),l=g.useRef(0),i=g.useCallback(u=>{const f=a.current+u;s(f),function m(p){a.current=p,window.clearTimeout(l.current),p!==""&&(l.current=window.setTimeout(()=>m(""),1e3))}(f)},[s]),c=g.useCallback(()=>{a.current="",window.clearTimeout(l.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(l.current),[]),[a,i,c]}function P0(t,s,a){const i=s.length>1&&Array.from(s).every(p=>p===s[0])?s[0]:s,c=a?t.indexOf(a):-1;let u=$2(t,Math.max(c,0));i.length===1&&(u=u.filter(p=>p!==a));const m=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==a?m:void 0}function $2(t,s){return t.map((a,l)=>t[(s+l)%t.length])}var z2=r0,D0=s0,V2=o0,B2=l0,U2=i0,T0=c0,W2=m0,M0=g0,A0=y0,H2=v0,Y2=w0,I0=j0,_0=N0,L0=S0;const Ad=z2,Id=V2,ti=g.forwardRef(({className:t,children:s,...a},l)=>r.jsxs(D0,{ref:l,className:ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,r.jsx(B2,{asChild:!0,children:r.jsx(hi,{className:"h-4 w-4 opacity-50"})})]}));ti.displayName=D0.displayName;const O0=g.forwardRef(({className:t,...s},a)=>r.jsx(I0,{ref:a,className:ot("flex cursor-default items-center justify-center py-1",t),...s,children:r.jsx(iw,{className:"h-4 w-4"})}));O0.displayName=I0.displayName;const F0=g.forwardRef(({className:t,...s},a)=>r.jsx(_0,{ref:a,className:ot("flex cursor-default items-center justify-center py-1",t),...s,children:r.jsx(hi,{className:"h-4 w-4"})}));F0.displayName=_0.displayName;const ri=g.forwardRef(({className:t,children:s,position:a="popper",...l},i)=>r.jsx(U2,{children:r.jsxs(T0,{ref:i,className:ot("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...l,children:[r.jsx(O0,{}),r.jsx(W2,{className:ot("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),r.jsx(F0,{})]})}));ri.displayName=T0.displayName;const G2=g.forwardRef(({className:t,...s},a)=>r.jsx(M0,{ref:a,className:ot("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));G2.displayName=M0.displayName;const Es=g.forwardRef(({className:t,children:s,...a},l)=>r.jsxs(A0,{ref:l,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Y2,{children:r.jsx(aw,{className:"h-4 w-4"})})}),r.jsx(H2,{children:s})]}));Es.displayName=A0.displayName;const q2=g.forwardRef(({className:t,...s},a)=>r.jsx(L0,{ref:a,className:ot("-mx-1 my-1 h-px bg-muted",t),...s}));q2.displayName=L0.displayName;function K2({selectedEntity:t,setSelectedEntity:s,selectedYear:a,setSelectedYear:l,searchTerm:i,setSearchTerm:c,statusFilter:u,setStatusFilter:f,entities:m,years:p,availableYears:y,statuses:b}){return r.jsx(mn,{children:r.jsx(hn,{className:"p-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(gg,{placeholder:"Buscar empresa, entidad, mes...",value:i,onChange:v=>c(v.target.value),className:"pl-10"})]}),r.jsxs(Ad,{value:t,onValueChange:s,children:[r.jsx(ti,{children:r.jsx(Id,{placeholder:"Todas las entidades"})}),r.jsxs(ri,{children:[r.jsxs(Es,{value:"all",children:["Todas las entidades (",m.length,")"]}),m.map(v=>r.jsx(Es,{value:v,children:v},v))]})]}),r.jsxs(Ad,{value:a.toString(),onValueChange:v=>l(v==="all"?"all":parseInt(v)),children:[r.jsx(ti,{children:r.jsx(Id,{})}),r.jsxs(ri,{children:[r.jsxs(Es,{value:"all",children:["Todos los años ",y&&y.length>0&&`(${y.length})`]}),p.map(v=>r.jsx(Es,{value:v.toString(),children:v},v))]})]}),r.jsxs(Ad,{value:u,onValueChange:v=>f(v),children:[r.jsx(ti,{children:r.jsx(Id,{placeholder:"Todos los estados"})}),r.jsxs(ri,{children:[r.jsx(Es,{value:"all",children:"Todos los estados"}),b.map(v=>r.jsx(Es,{value:v,children:v},v))]})]})]})})})}function Q2(t,s){return g.useReducer((a,l)=>s[a][l]??a,t)}var $0=t=>{const{present:s,children:a}=t,l=X2(s),i=typeof a=="function"?a({present:l.isPresent}):g.Children.only(a),c=bt(l.ref,J2(i));return typeof a=="function"||l.isPresent?g.cloneElement(i,{ref:c}):null};$0.displayName="Presence";function X2(t){const[s,a]=g.useState(),l=g.useRef({}),i=g.useRef(t),c=g.useRef("none"),u=t?"mounted":"unmounted",[f,m]=Q2(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const p=Yl(l.current);c.current=f==="mounted"?p:"none"},[f]),Bt(()=>{const p=l.current,y=i.current;if(y!==t){const v=c.current,w=Yl(p);t?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(y&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),Bt(()=>{if(s){let p;const y=s.ownerDocument.defaultView??window,b=w=>{const N=Yl(l.current).includes(w.animationName);if(w.target===s&&N&&(m("ANIMATION_END"),!i.current)){const C=s.style.animationFillMode;s.style.animationFillMode="forwards",p=y.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=C)})}},v=w=>{w.target===s&&(c.current=Yl(l.current))};return s.addEventListener("animationstart",v),s.addEventListener("animationcancel",b),s.addEventListener("animationend",b),()=>{y.clearTimeout(p),s.removeEventListener("animationstart",v),s.removeEventListener("animationcancel",b),s.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:g.useCallback(p=>{p&&(l.current=getComputedStyle(p)),a(p)},[])}}function Yl(t){return t?.animationName||"none"}function J2(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var[Ei,$C]=vg("Tooltip",[wi]),ki=wi(),z0="TooltipProvider",Z2=700,au="tooltip.open",[eC,Bu]=Ei(z0),V0=t=>{const{__scopeTooltip:s,delayDuration:a=Z2,skipDelayDuration:l=300,disableHoverableContent:i=!1,children:c}=t,[u,f]=g.useState(!0),m=g.useRef(!1),p=g.useRef(0);return g.useEffect(()=>{const y=p.current;return()=>window.clearTimeout(y)},[]),r.jsx(eC,{scope:s,isOpenDelayed:u,delayDuration:a,onOpen:g.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),l)},[l]),isPointerInTransitRef:m,onPointerInTransitChange:g.useCallback(y=>{m.current=y},[]),disableHoverableContent:i,children:c})};V0.displayName=z0;var Ri="Tooltip",[tC,Pi]=Ei(Ri),B0=t=>{const{__scopeTooltip:s,children:a,open:l,defaultOpen:i=!1,onOpenChange:c,disableHoverableContent:u,delayDuration:f}=t,m=Bu(Ri,t.__scopeTooltip),p=ki(s),[y,b]=g.useState(null),v=xi(),w=g.useRef(0),S=u??m.disableHoverableContent,N=f??m.delayDuration,C=g.useRef(!1),[j=!1,k]=Jd({prop:l,defaultProp:i,onChange:D=>{D?(m.onOpen(),document.dispatchEvent(new CustomEvent(au))):m.onClose(),c?.(D)}}),P=g.useMemo(()=>j?C.current?"delayed-open":"instant-open":"closed",[j]),I=g.useCallback(()=>{window.clearTimeout(w.current),C.current=!1,k(!0)},[k]),M=g.useCallback(()=>{window.clearTimeout(w.current),k(!1)},[k]),R=g.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,k(!0)},N)},[N,k]);return g.useEffect(()=>()=>window.clearTimeout(w.current),[]),r.jsx(Bg,{...p,children:r.jsx(tC,{scope:s,contentId:v,open:j,stateAttribute:P,trigger:y,onTriggerChange:b,onTriggerEnter:g.useCallback(()=>{m.isOpenDelayed?R():I()},[m.isOpenDelayed,R,I]),onTriggerLeave:g.useCallback(()=>{S?M():window.clearTimeout(w.current)},[M,S]),onOpen:I,onClose:M,disableHoverableContent:S,children:a})})};B0.displayName=Ri;var ou="TooltipTrigger",U0=g.forwardRef((t,s)=>{const{__scopeTooltip:a,...l}=t,i=Pi(ou,a),c=Bu(ou,a),u=ki(a),f=g.useRef(null),m=bt(s,f,i.onTriggerChange),p=g.useRef(!1),y=g.useRef(!1),b=g.useCallback(()=>p.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),r.jsx(Ug,{asChild:!0,...u,children:r.jsx(pt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...l,ref:m,onPointerMove:Je(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Je(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:Je(t.onBlur,i.onClose),onClick:Je(t.onClick,i.onClose)})})});U0.displayName=ou;var rC="TooltipPortal",[zC,nC]=Ei(rC,{forceMount:void 0}),ya="TooltipContent",W0=g.forwardRef((t,s)=>{const a=nC(ya,t.__scopeTooltip),{forceMount:l=a.forceMount,side:i="top",...c}=t,u=Pi(ya,t.__scopeTooltip);return r.jsx($0,{present:l||u.open,children:u.disableHoverableContent?r.jsx(H0,{side:i,...c,ref:s}):r.jsx(sC,{side:i,...c,ref:s})})}),sC=g.forwardRef((t,s)=>{const a=Pi(ya,t.__scopeTooltip),l=Bu(ya,t.__scopeTooltip),i=g.useRef(null),c=bt(s,i),[u,f]=g.useState(null),{trigger:m,onClose:p}=a,y=i.current,{onPointerInTransitChange:b}=l,v=g.useCallback(()=>{f(null),b(!1)},[b]),w=g.useCallback((S,N)=>{const C=S.currentTarget,j={x:S.clientX,y:S.clientY},k=iC(j,C.getBoundingClientRect()),P=cC(j,k),I=dC(N.getBoundingClientRect()),M=fC([...P,...I]);f(M),b(!0)},[b]);return g.useEffect(()=>()=>v(),[v]),g.useEffect(()=>{if(m&&y){const S=C=>w(C,y),N=C=>w(C,m);return m.addEventListener("pointerleave",S),y.addEventListener("pointerleave",N),()=>{m.removeEventListener("pointerleave",S),y.removeEventListener("pointerleave",N)}}},[m,y,w,v]),g.useEffect(()=>{if(u){const S=N=>{const C=N.target,j={x:N.clientX,y:N.clientY},k=m?.contains(C)||y?.contains(C),P=!uC(j,u);k?v():P&&(v(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[m,y,u,p,v]),r.jsx(H0,{...t,ref:c})}),[aC,oC]=Ei(Ri,{isInside:!1}),H0=g.forwardRef((t,s)=>{const{__scopeTooltip:a,children:l,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,m=Pi(ya,a),p=ki(a),{onClose:y}=m;return g.useEffect(()=>(document.addEventListener(au,y),()=>document.removeEventListener(au,y)),[y]),g.useEffect(()=>{if(m.trigger){const b=v=>{v.target?.contains(m.trigger)&&y()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[m.trigger,y]),r.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:y,children:r.jsxs(Wg,{"data-state":m.stateAttribute,...p,...f,ref:s,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(yg,{children:l}),r.jsx(aC,{scope:a,isInside:!0,children:r.jsx(I1,{id:m.contentId,role:"tooltip",children:i||l})})]})})});W0.displayName=ya;var Y0="TooltipArrow",lC=g.forwardRef((t,s)=>{const{__scopeTooltip:a,...l}=t,i=ki(a);return oC(Y0,a).isInside?null:r.jsx(Hg,{...i,...l,ref:s})});lC.displayName=Y0;function iC(t,s){const a=Math.abs(s.top-t.y),l=Math.abs(s.bottom-t.y),i=Math.abs(s.right-t.x),c=Math.abs(s.left-t.x);switch(Math.min(a,l,i,c)){case c:return"left";case i:return"right";case a:return"top";case l:return"bottom";default:throw new Error("unreachable")}}function cC(t,s,a=5){const l=[];switch(s){case"top":l.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":l.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":l.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":l.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return l}function dC(t){const{top:s,right:a,bottom:l,left:i}=t;return[{x:i,y:s},{x:a,y:s},{x:a,y:l},{x:i,y:l}]}function uC(t,s){const{x:a,y:l}=t;let i=!1;for(let c=0,u=s.length-1;c<s.length;u=c++){const f=s[c].x,m=s[c].y,p=s[u].x,y=s[u].y;m>l!=y>l&&a<(p-f)*(l-m)/(y-m)+f&&(i=!i)}return i}function fC(t){const s=t.slice();return s.sort((a,l)=>a.x<l.x?-1:a.x>l.x?1:a.y<l.y?-1:a.y>l.y?1:0),mC(s)}function mC(t){if(t.length<=1)return t.slice();const s=[];for(let l=0;l<t.length;l++){const i=t[l];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(i.y-u.y)>=(c.y-u.y)*(i.x-u.x))s.pop();else break}s.push(i)}s.pop();const a=[];for(let l=t.length-1;l>=0;l--){const i=t[l];for(;a.length>=2;){const c=a[a.length-1],u=a[a.length-2];if((c.x-u.x)*(i.y-u.y)>=(c.y-u.y)*(i.x-u.x))a.pop();else break}a.push(i)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var hC=V0,pC=B0,gC=U0,G0=W0;const xC=hC,bp=pC,wp=gC,lu=g.forwardRef(({className:t,sideOffset:s=4,...a},l)=>r.jsx(G0,{ref:l,sideOffset:s,className:ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));lu.displayName=G0.displayName;function yC({groupedRequest:t}){const s=[...t.periods].sort((u,f)=>{const m=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return u.year!==f.year?u.year-f.year:m.indexOf(u.monthName)-m.indexOf(f.monthName)}),a=t.periods.some(u=>u.workItemId),l=sj(t.entityName),c=`/${s.length>0?s[0].year:2025}/${l}?search=${encodeURIComponent(t.companyName)}`;return r.jsx(xC,{children:r.jsxs(mn,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Rs,{className:"pb-2",children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[r.jsx(Xt,{to:c,className:"font-semibold text-sm leading-tight text-blue-600 hover:text-blue-800 hover:underline block",title:`Ver detalles de ${t.companyName}`,children:t.companyName}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[r.jsx(ut,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:t.entityName})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(hg,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 whitespace-nowrap",children:[t.pendingCount," período",t.pendingCount!==1?"s":""]}),a&&r.jsxs(bp,{children:[r.jsx(wp,{asChild:!0,children:r.jsx("div",{className:"p-1",children:r.jsx(Is,{className:"h-3 w-3 text-blue-600"})})}),r.jsx(lu,{children:r.jsx("p",{children:"Contiene Work Items"})})]})]})]})}),r.jsx(hn,{className:"space-y-2 pt-0",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[r.jsx(vt,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{children:"Períodos pendientes"})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:s.map(u=>{const f=Zn(u.estado),m=ga(u.estado),p=Ru[u.estado]||u.estado;return r.jsxs(bp,{children:[r.jsx(wp,{asChild:!0,children:r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs ${f.bg} ${f.text} border cursor-default`,children:[r.jsx("span",{className:"text-xs",children:m}),r.jsx("span",{className:"font-medium",children:u.monthName}),r.jsx("span",{className:"text-xs opacity-75",children:u.year})]})}),r.jsx(lu,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"font-medium",children:[u.monthName," ",u.year]}),r.jsxs("p",{className:"text-xs",children:["Estado: ",p]})]})})]},`${u.year}-${u.monthName}`)})})]})})]})})}const vC=mg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),iu=g.forwardRef(({className:t,variant:s,...a},l)=>r.jsx("div",{ref:l,role:"alert",className:ot(vC({variant:s}),t),...a}));iu.displayName="Alert";const bC=g.forwardRef(({className:t,...s},a)=>r.jsx("h5",{ref:a,className:ot("mb-1 font-medium leading-none tracking-tight",t),...s}));bC.displayName="AlertTitle";const cu=g.forwardRef(({className:t,...s},a)=>r.jsx("div",{ref:a,className:ot("text-sm [&_p]:leading-relaxed",t),...s}));cu.displayName="AlertDescription";function jp(){const{groupedRequests:t,stats:s,selectedEntity:a,setSelectedEntity:l,selectedYear:i,setSelectedYear:c,searchTerm:u,setSearchTerm:f,statusFilter:m,setStatusFilter:p,isLoading:y,error:b,entities:v,allEntities:w,years:S,availableYears:N,statuses:C}=zj();return b?r.jsx("div",{className:"p-6",children:r.jsxs(iu,{variant:"destructive",children:[r.jsx(Hr,{className:"h-4 w-4"}),r.jsxs(cu,{children:["Error al cargar los datos: ",b]})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Solicitudes Pendientes"}),r.jsx("p",{className:"text-gray-600",children:"Vista consolidada de todas las solicitudes no cerradas"}),v.length<w.length&&r.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Mostrando datos de ",v.length," de ",w.length," entidades",i==="all"?` para ${N.length} años`:` para el año ${i}`]})]})}),!y&&v.length===0&&r.jsxs(iu,{children:[r.jsx(Hr,{className:"h-4 w-4"}),r.jsx(cu,{children:i==="all"?"No hay datos disponibles para ningún año. Verifica que existan archivos de datos para las entidades.":`No hay datos disponibles para el año ${i}. Intenta seleccionar un año diferente o verifica que existan archivos de datos para las entidades.`})]}),r.jsx(Hj,{stats:s,isLoading:y}),r.jsx(K2,{selectedEntity:a,setSelectedEntity:l,selectedYear:i,setSelectedYear:c,searchTerm:u,setSearchTerm:f,statusFilter:m,setStatusFilter:p,entities:v,years:S,availableYears:N,statuses:C}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Empresas con Solicitudes Pendientes (",t.length,")"]})}),y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(pg,{size:"lg"})}):t.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No se encontraron solicitudes pendientes con los filtros aplicados"})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(j=>r.jsx(yC,{groupedRequest:j},`${j.entityName}-${j.companyName}`))})]})]})}function wC(t){const[s,a]=g.useState({companyName:t,operations:[],billingHistory:[],statistics:{totalRequests:0,completedRequests:0,averageProcessingDays:0,entitiesCount:0,operatingYears:[],recentActivity:[],completionRate:0},loading:!0,error:null});return g.useEffect(()=>{if(!t)return;(async()=>{try{a(w=>({...w,loading:!0,error:null}));const i=[],c=[],u=new Set,f={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"};for(const w of xr){const S=f[w];if(S)for(const N of["2017","2018","2019","2020","2021","2022","2023","2024","2025"])try{const C=await fetch(`/src/modules/billing/data/${S}/${N}.json`);if(!C.ok)continue;const k=(await C.json())[t];if(k){u.add(N);const P=k._metadata||{};i.push({entity:w,year:N,relationshipType:P.tipoEmpresa||"Desconocido",isIncumbent:P.esIncumbente||!1,userCount:P.usuariosCount});for(const I of dt){const M=k[I];M&&c.push({entity:w,year:N,month:I,workItemId:M.workItemId,estado:M.estado||"Sin Solicitud",fechaRecibido:M.fechaRecibido,fechaCerrado:M.fechaCerrado,diasProcesamiento:M.diasProcesamiento,notas:M.notas||""})}}}catch{continue}}const m=c.filter(w=>w.estado==="Closed").length,p=c.filter(w=>w.diasProcesamiento),y=p.length>0?p.reduce((w,S)=>w+(S.diasProcesamiento||0),0)/p.length:0,b=c.filter(w=>w.fechaRecibido).sort((w,S)=>new Date(S.fechaRecibido).getTime()-new Date(w.fechaRecibido).getTime()).slice(0,10),v={totalRequests:c.length,completedRequests:m,averageProcessingDays:Math.round(y),entitiesCount:new Set(i.map(w=>w.entity)).size,operatingYears:Array.from(u).sort(),recentActivity:b,completionRate:c.length>0?m/c.length*100:0};a({companyName:t,operations:i,billingHistory:c,statistics:v,loading:!1,error:null})}catch(i){a(c=>({...c,loading:!1,error:i instanceof Error?i.message:"Error loading company data"}))}})()},[t]),s}function jC(){const{companyName:t}=yu(),s=t?decodeURIComponent(t):"",a=wC(s);if(a.loading)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando perfil de empresa..."})]})]});if(a.error||a.operations.length===0)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Empresa no encontrada"}),r.jsxs("p",{className:"text-gray-600",children:['No se encontraron datos para la empresa "',s,'"']})]})]});const{statistics:l,operations:i}=a;return r.jsxs("div",{className:"p-6 w-full",children:[r.jsx("div",{className:"flex items-center gap-4 mb-8",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg p-8 mb-8",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ut,{className:"h-8 w-8"}),r.jsx("h1",{className:"text-3xl font-bold",children:s})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Entidades"}),r.jsx("p",{className:"text-2xl font-bold",children:l.entitiesCount})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Años Activos"}),r.jsx("p",{className:"text-2xl font-bold",children:l.operatingYears.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Solicitudes Totales"}),r.jsx("p",{className:"text-2xl font-bold",children:l.totalRequests})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Tasa de Completitud"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.completionRate.toFixed(1),"%"]})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Vt,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Solicitudes Completadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:l.completedRequests})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["de ",l.totalRequests," solicitudes totales"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(pn,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Tiempo Promedio"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l.averageProcessingDays})]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"días de procesamiento"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(vt,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Período de Operación"}),r.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[l.operatingYears[0]," - ",l.operatingYears[l.operatingYears.length-1]]})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[l.operatingYears.length," años activos"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(eg,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"Operaciones por Entidad"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid gap-4",children:i.reduce((c,u)=>{const f=c.find(m=>m.entity===u.entity);return f?(f.years.push(u.year),u.relationshipType!=="Desconocido"&&(f.relationshipType=u.relationshipType),u.isIncumbent&&(f.isIncumbent=u.isIncumbent),u.userCount&&(f.userCount=u.userCount)):c.push({entity:u.entity,years:[u.year],relationshipType:u.relationshipType,isIncumbent:u.isIncumbent,userCount:u.userCount}),c},[]).map((c,u)=>r.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-lg",children:c.entity}),r.jsxs("div",{className:"flex items-center gap-2",children:[c.isIncumbent&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:"Incumbente"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:c.relationshipType})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:[r.jsx(vt,{className:"h-4 w-4 inline mr-1"}),"Años: ",c.years.sort().join(", ")]}),c.userCount&&r.jsxs("span",{children:[r.jsx(Do,{className:"h-4 w-4 inline mr-1"}),c.userCount.toLocaleString()," usuarios"]})]})]},u))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"Actividad Reciente"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:l.recentActivity.slice(0,10).map((c,u)=>{const f=Zn(c.estado);return r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[c.month," ",c.year]}),r.jsx("p",{className:"text-sm text-gray-600",children:c.entity})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.bg} ${f.text}`,title:c.estado,children:Du(c.estado)})]}),r.jsxs("div",{className:"text-right text-sm text-gray-600",children:[c.fechaRecibido&&r.jsxs("p",{children:["Recibido: ",new Date(c.fechaRecibido).toLocaleDateString()]}),c.diasProcesamiento&&r.jsxs("p",{children:["Procesado en ",c.diasProcesamiento," días"]}),c.workItemId&&r.jsxs("p",{className:"text-blue-600",children:["ID: ",c.workItemId]})]})]},u)})})})]})]})}class NC{cache=new Map;loadingPromises=new Map;TTL=5*60*1e3;async getData(s,a,l=!1){if(!l&&this.hasValidCache(s))return this.cache.get(s).data;if(this.loadingPromises.has(s)){const c=this.loadingPromises.get(s);if(Date.now()-c.timestamp<1e4)return c.promise;this.loadingPromises.delete(s)}const i=this.loadData(s,a);this.loadingPromises.set(s,{promise:i,timestamp:Date.now()});try{const c=await i;return this.loadingPromises.delete(s),c}catch(c){throw this.loadingPromises.delete(s),c}}async loadData(s,a){try{const l=await a();return this.cache.set(s,{data:l,timestamp:Date.now()}),l}catch(l){throw this.cache.delete(s),l}}hasValidCache(s){const a=this.cache.get(s);return a?Date.now()-a.timestamp>this.TTL?(this.cache.delete(s),!1):!0:!1}async getEntityYearData(s,a){const i={"alcaldia-palmira":"alcaldia-palmira","alcaldia-tulua":"alcaldia-tulua","gobernacion-valle":"gobernacion-valle",infibague:"infibague"}[s];if(!i)throw new Error(`Unknown entity: ${s}`);const c=`entity-${i}-${a}`;try{return await this.getData(c,async()=>{const u=await fetch(`/src/modules/billing/data/${i}/${a}.json`);return u.ok?u.json():null})}catch(u){return console.warn(`Failed to load ${s}/${a}:`,u),null}}async getEntityMultiYearData(s,a){const l=a.map(u=>this.getEntityYearData(s,u).then(f=>({year:u,data:f}))),i=await Promise.all(l),c=new Map;return i.forEach(({year:u,data:f})=>{f&&c.set(u,f)}),c}async getEntityAllYears(s){const a=["2017","2018","2019","2020","2021","2022","2023","2024","2025"];return this.getEntityMultiYearData(s,a)}async preloadRecentData(s){const a=["2023","2024","2025"];await this.getEntityMultiYearData(s,a)}clearCache(s){if(s)for(const a of this.cache.keys())a.includes(s)&&this.cache.delete(a);else this.cache.clear();this.loadingPromises.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),hitRate:0}}async getAllCompaniesData(){const s={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"},l=Object.keys(s).map(async u=>{const f=s[u],m=await this.getEntityAllYears(f);return{entity:u,yearData:m}}),i=await Promise.all(l),c=new Map;return i.forEach(({entity:u,yearData:f})=>{c.set(u,f)}),c}}const q0=new NC,Np={"alcaldia-palmira":"alcaldia-palmira","alcaldia-tulua":"alcaldia-tulua","gobernacion-valle":"gobernacion-valle",infibague:"infibague"};function CC(t){const[s,a]=g.useState(null),[l,i]=g.useState([]),[c,u]=g.useState(new Map),[f,m]=g.useState(new Set),[p,y]=g.useState(!0),[b,v]=g.useState(null),w=g.useMemo(()=>({"alcaldia-palmira":"Alcaldía de Palmira","alcaldia-tulua":"Alcaldía de Tuluá","gobernacion-valle":"Gobernación del Valle del Cauca",infibague:"Infibagué"}),[]),S=g.useCallback(async P=>{if(!(!t||!Np[t]))try{const I=await q0.getEntityMultiYearData(t,P);u(M=>{const R=new Map(M);return I.forEach((D,V)=>{R.set(V,D)}),R}),i(M=>{const R=P.filter(V=>I.has(V));return[...new Set([...M,...R])].sort()}),m(M=>{const R=new Set(M);return I.forEach(D=>{Object.keys(D).forEach(V=>R.add(V))}),R})}catch(I){console.error("Failed to load years data:",I)}},[t]);g.useEffect(()=>{if(!t||!Np[t]){v("Entidad no encontrada"),y(!1);return}(async()=>{try{y(!0),v(null),await S(["2023","2024","2025"])}catch(I){v(I instanceof Error?I.message:"Error loading historical data")}finally{y(!1)}})()},[t,S]);const N=g.useCallback(async P=>{const I=P.filter(M=>!l.includes(M));I.length>0&&await S(I)},[l,S]),C=g.useMemo(()=>{if(l.length===0)return{historicalMatrix:[],missingReports:[],totalStatistics:{totalRequests:0,completedRequests:0,averageCompletionRate:0,yearsActive:0,companiesServed:0}};const P=[],I=[];let M=0,R=0;for(let V=0;V<dt.length;V++){const T=[],O=dt[V];for(const Q of l){const J=c.get(Q),Z=[];let te=0,re=0,X=0;Array.from(f).forEach(se=>{const K=J?.[se]?.[O];if(K){const Y=K.estado||"Sin Solicitud",_=Y==="Closed";Z.push({companyName:se,estado:Y,workItemId:K.workItemId,fechaRecibido:K.fechaRecibido,fechaCerrado:K.fechaCerrado,diasProcesamiento:K.diasProcesamiento,isMissing:!1}),M++,_?(te++,R++):Y!=="Sin Solicitud"&&re++}else Z.push({companyName:se,estado:"Sin Solicitud",isMissing:!0}),X++}),X>Z.length*.5?I.push({year:Q,month:O,severity:"error",message:`Más del 50% de empresas sin reportar en ${O} ${Q}`,companiesCount:X}):X>Z.length*.2&&I.push({year:Q,month:O,severity:"warning",message:`${X} empresas sin reportar en ${O} ${Q}`,companiesCount:X}),T.push({year:Q,month:O,companies:Z,totalCompanies:Z.length,completedCompanies:te,pendingCompanies:re,missingCompanies:X})}P.push(T)}const D=I.sort((V,T)=>V.severity==="error"&&T.severity!=="error"?-1:V.severity!=="error"&&T.severity==="error"?1:T.companiesCount-V.companiesCount);return{historicalMatrix:P,missingReports:D,totalStatistics:{totalRequests:M,completedRequests:R,averageCompletionRate:M>0?R/M*100:0,yearsActive:l.length,companiesServed:f.size}}},[l,c,f]),j=C.missingReports.filter(P=>P.severity==="error").length,k=C.missingReports.filter(P=>P.severity==="warning").length;return{entityName:w[t]||t,years:l,historicalMatrix:C.historicalMatrix,missingReports:C.missingReports,totalStatistics:C.totalStatistics,selectedPeriod:s,setSelectedPeriod:a,criticalAlertsCount:j,warningAlertsCount:k,loading:p,error:b,loadMoreYears:N,loadedYears:l}}function SC(){const{entitySlug:t}=yu(),s=CC(t||"");if(s.loading)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando datos históricos..."})]})]});if(s.error)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar datos"}),r.jsx("p",{className:"text-gray-600",children:s.error})]})]});const{entityName:a,years:l,historicalMatrix:i,totalStatistics:c,selectedPeriod:u,setSelectedPeriod:f,criticalAlertsCount:m,warningAlertsCount:p}=s;return r.jsxs("div",{className:"p-6 max-w-full mx-auto",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vt,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["Histórico - ",a]}),r.jsx("div",{className:"flex items-center gap-6 mt-2 text-sm",children:r.jsxs("span",{children:[c.yearsActive," años • ",c.companiesServed," empresas • ",c.totalRequests," solicitudes"]})})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&r.jsxs("div",{className:"flex items-center gap-2 bg-red-500/20 border border-red-300 rounded-full px-3 py-1",children:[r.jsx(Hr,{className:"h-4 w-4 text-red-200"}),r.jsxs("span",{className:"text-sm font-medium",children:[m," crítico",m!==1?"s":""]})]}),p>0&&r.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 border border-yellow-300 rounded-full px-3 py-1",children:[r.jsx(yw,{className:"h-4 w-4 text-yellow-200"}),r.jsxs("span",{className:"text-sm font-medium",children:[p," alerta",p!==1?"s":""]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-xl font-bold",children:[c.averageCompletionRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-green-200",children:"completitud"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsx("div",{className:"xl:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Matriz Histórica"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:u?"Click en otra celda para cambiar período":"Click en una celda para ver detalle"})]})}),r.jsx("div",{className:"p-4 overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2 border-b font-semibold bg-gray-50 sticky left-0 text-sm",children:"Mes"}),l.map(y=>r.jsx("th",{className:"text-center p-2 border-b font-semibold bg-gray-50 min-w-[100px] text-sm",children:y},y))]})}),r.jsx("tbody",{children:i.map((y,b)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"p-2 border-b font-medium sticky left-0 bg-white border-r text-sm",children:y[0]?.month||""}),y.map((v,w)=>{const S=v.totalCompanies>0?v.completedCompanies/v.totalCompanies*100:0;let N="bg-gray-100 hover:bg-gray-200";S>=80?N="bg-green-100 hover:bg-green-200":S>=60?N="bg-yellow-100 hover:bg-yellow-200":S>=40?N="bg-orange-100 hover:bg-orange-200":S>0&&(N="bg-red-100 hover:bg-red-200");const C=u?.year===l[w]&&u?.month===y[0]?.month;return r.jsx("td",{className:`p-2 border-b text-center cursor-pointer transition-colors ${N} ${C?"ring-2 ring-blue-500 ring-inset":""}`,onClick:()=>f({year:l[w],month:y[0]?.month||"",yearData:v}),children:r.jsxs("div",{className:"text-xs",children:[r.jsxs("div",{className:"font-semibold",children:[v.completedCompanies,"/",v.totalCompanies]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[S.toFixed(0),"%"]}),v.missingCompanies>0&&r.jsx(Rr,{className:"h-3 w-3 text-red-500 mx-auto mt-1"})]})},w)})]},b))})]})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-100 border rounded"}),r.jsx("span",{children:"≥80%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-100 border rounded"}),r.jsx("span",{children:"60-79%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-100 border rounded"}),r.jsx("span",{children:"40-59%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-red-100 border rounded"}),r.jsx("span",{children:"<40%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-100 border rounded"}),r.jsx("span",{children:"Sin datos"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-3 w-3 text-red-500"}),r.jsx("span",{children:"Alertas"})]})]})})]})}),r.jsx("div",{className:"xl:col-span-1",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm border h-fit",children:u?r.jsxs("div",{children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ut,{className:"h-5 w-5 text-blue-600"}),r.jsxs("h3",{className:"text-lg font-semibold",children:[u.month," ",u.year]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-green-600",children:u.yearData.completedCompanies}),r.jsx("div",{className:"text-gray-500",children:"Completadas"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-orange-600",children:u.yearData.pendingCompanies}),r.jsx("div",{className:"text-gray-500",children:"Pendientes"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-red-600",children:u.yearData.missingCompanies}),r.jsx("div",{className:"text-gray-500",children:"Sin reportar"})]})]})]}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:r.jsx("div",{className:"space-y-2",children:u.yearData.companies.sort((y,b)=>y.isMissing&&!b.isMissing?1:!y.isMissing&&b.isMissing||y.estado==="Closed"&&b.estado!=="Closed"?-1:y.estado!=="Closed"&&b.estado==="Closed"?1:y.companyName.localeCompare(b.companyName)).map((y,b)=>{const v=Zn(y.estado);return r.jsxs("div",{className:"border rounded p-3 hover:bg-gray-50",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm truncate",title:y.companyName,children:y.companyName}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.text}`,title:y.estado,children:Du(y.estado)}),y.workItemId&&r.jsxs("span",{className:"text-xs text-gray-500",children:["#",y.workItemId]})]})]})}),y.fechaRecibido&&r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[r.jsxs("div",{children:["Recibido: ",new Date(y.fechaRecibido).toLocaleDateString()]}),y.fechaCerrado&&r.jsxs("div",{children:["Cerrado: ",new Date(y.fechaCerrado).toLocaleDateString()]}),y.diasProcesamiento&&r.jsxs("div",{children:["Procesado en ",y.diasProcesamiento," días"]})]}),y.isMissing&&r.jsxs("div",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[r.jsx(Rr,{className:"h-3 w-3"}),"Sin reportar"]})]},b)})})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsx("button",{onClick:()=>f(null),className:"w-full text-sm text-gray-600 hover:text-gray-800",children:"Cerrar detalle"})})]}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un Período"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Haz click en cualquier celda de la matriz para ver el detalle de empresas para ese mes y año."})]})})})]})]})}function EC(){const[t,s]=g.useState([]),[a,l]=g.useState(""),[i,c]=g.useState(""),[u,f]=g.useState("name"),[m,p]=g.useState("asc"),[y,b]=g.useState(!0),[v,w]=g.useState(null),[S,N]=g.useState(0),[C,j]=g.useState(0),[k]=g.useState(xr.length),P=g.useCallback(async()=>{try{b(!0),w(null),N(0),j(0);const R=new Map,D={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"};for(let T=0;T<xr.length;T++){const O=xr[T],Q=D[O];if(Q){try{const J=Q;(await q0.getEntityAllYears(J)).forEach((te,re)=>{Object.entries(te).forEach(([X,se])=>{R.has(X)||R.set(X,{entities:new Set,years:new Set,totalRequests:0,completedRequests:0,pendingRequests:0,processingDays:[],criticalAlerts:0,warningAlerts:0,isIncumbent:!1,entityOperations:new Map});const $=R.get(X);$.entities.add(O),$.years.add(re),(se._metadata||{}).esIncumbente&&($.isIncumbent=!0),$.entityOperations.has(O)||$.entityOperations.set(O,{years:new Set,completed:0,total:0});const Y=$.entityOperations.get(O);Y.years.add(re);let _=0,q=0,de=0;dt.forEach(we=>{const le=se[we];if(le){$.totalRequests++,q++;const me=le.estado||"Sin Solicitud";if(me==="Closed"?($.completedRequests++,_++):me!=="Sin Solicitud"&&$.pendingRequests++,le.diasProcesamiento&&$.processingDays.push(le.diasProcesamiento),le.fechaRecibido){const Me=new Date(le.fechaRecibido);(!$.lastActivity||Me>new Date($.lastActivity))&&($.lastActivity=le.fechaRecibido)}}else de++}),Y.completed+=_,Y.total+=q;const fe=dt.length,Se=de/fe*100;Se>50?$.criticalAlerts++:Se>20&&$.warningAlerts++})})}catch(J){console.warn(`Failed to load entity ${O}:`,J)}j(T+1),N((T+1)/xr.length*100),await new Promise(J=>setTimeout(J,0))}}const V=Array.from(R.entries()).map(([T,O])=>{const Q=O.totalRequests>0?O.completedRequests/O.totalRequests*100:0,J=O.processingDays.length>0?O.processingDays.reduce((te,re)=>te+re,0)/O.processingDays.length:0,Z=Array.from(O.entityOperations.entries()).map(([te,re])=>{const X=re.total>0?re.completed/re.total*100:0;let se="excellent";return X<40?se="critical":X<60?se="warning":X<80&&(se="good"),{entity:te,years:Array.from(re.years).sort(),completionRate:X,status:se}});return{name:T,entities:Array.from(O.entities),years:Array.from(O.years).sort(),totalRequests:O.totalRequests,completedRequests:O.completedRequests,completionRate:Q,pendingRequests:O.pendingRequests,averageProcessingDays:Math.round(J),criticalAlertsCount:O.criticalAlerts,warningAlertsCount:O.warningAlerts,lastActivity:O.lastActivity,isIncumbent:O.isIncumbent,entityOperations:Z}});s(V)}catch(R){w(R instanceof Error?R.message:"Error loading companies data")}finally{b(!1),N(100)}},[]);g.useEffect(()=>{P()},[P]);const I=g.useMemo(()=>{let R=t;return a&&(R=R.filter(D=>D.name.toLowerCase().includes(a.toLowerCase()))),i&&(R=R.filter(D=>D.entities.includes(i))),R.sort((D,V)=>{let T,O;switch(u){case"completionRate":T=D.completionRate,O=V.completionRate;break;case"totalRequests":T=D.totalRequests,O=V.totalRequests;break;case"criticalAlerts":T=D.criticalAlertsCount,O=V.criticalAlertsCount;break;default:T=D.name.toLowerCase(),O=V.name.toLowerCase()}if(typeof T=="string"&&typeof O=="string")return m==="asc"?T.localeCompare(O):O.localeCompare(T);{const Q=T,J=O;return m==="asc"?Q-J:J-Q}}),R},[t,a,i,u,m]),M=g.useMemo(()=>{const R=t.reduce((O,Q)=>O+Q.totalRequests,0),D=t.reduce((O,Q)=>O+Q.completedRequests,0),V=t.length>0?t.reduce((O,Q)=>O+Q.completionRate,0)/t.length:0,T=t.filter(O=>O.criticalAlertsCount>0||O.warningAlertsCount>0).length;return{avgCompletionRate:V,totalRequests:R,totalCompletedRequests:D,companiesWithAlerts:T}},[t]);return{companies:t,filteredCompanies:I,searchTerm:a,setSearchTerm:l,selectedEntity:i,setSelectedEntity:c,sortBy:u,setSortBy:f,sortOrder:m,setSortOrder:p,totalCompanies:t.length,totalStatistics:M,loading:y,error:v,loadingProgress:S,loadedEntitiesCount:C,totalEntitiesCount:k}}function kC({company:t}){const s=l=>{switch(l){case"excellent":return r.jsx(Ds,{className:"h-4 w-4 text-green-500"});case"good":return r.jsx(Ds,{className:"h-4 w-4 text-blue-500"});case"warning":return r.jsx(Rr,{className:"h-4 w-4 text-yellow-500"});case"critical":return r.jsx(Hr,{className:"h-4 w-4 text-red-500"});default:return null}},a=l=>{switch(l){case"excellent":return"text-green-600 bg-green-50 border-green-200";case"good":return"text-blue-600 bg-blue-50 border-blue-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return r.jsxs("div",{className:"bg-white rounded-lg border hover:shadow-md transition-shadow p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ut,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),r.jsx("h3",{className:"text-lg font-semibold truncate",title:t.name,children:t.name}),t.isIncumbent&&r.jsx(pi,{className:"h-4 w-4 text-yellow-500 flex-shrink-0",fill:"currentColor"})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4",children:[r.jsxs("span",{children:[t.entities.length," entidad",t.entities.length!==1?"es":""]}),r.jsxs("span",{children:[t.years.length," año",t.years.length!==1?"s":""]}),r.jsxs("span",{children:[t.totalRequests," solicitudes"]})]})]}),r.jsxs(Xt,{to:`/empresa/${encodeURIComponent(t.name)}`,className:"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex-shrink-0",children:[r.jsx(wo,{className:"h-4 w-4"}),"Ver Perfil"]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Tasa de Completitud"}),r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[t.completionRate.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t.completionRate,100)}%`}})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Operaciones por Entidad"}),r.jsx("div",{className:"space-y-2",children:t.entityOperations.map((l,i)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[s(l.status),r.jsx("span",{className:"truncate",children:l.entity})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border ${a(l.status)}`,children:[l.completionRate.toFixed(0),"%"]}),r.jsxs("span",{className:"text-gray-500 text-xs",children:[l.years.length," año",l.years.length!==1?"s":""]})]})]},i))})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 pt-3 border-t",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[t.criticalAlertsCount>0&&r.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[r.jsx(Hr,{className:"h-4 w-4"}),t.criticalAlertsCount," crítico",t.criticalAlertsCount!==1?"s":""]}),t.warningAlertsCount>0&&r.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[r.jsx(Rr,{className:"h-4 w-4"}),t.warningAlertsCount," alerta",t.warningAlertsCount!==1?"s":""]}),t.criticalAlertsCount===0&&t.warningAlertsCount===0&&r.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[r.jsx(Ds,{className:"h-4 w-4"}),"Sin alertas"]})]}),r.jsxs("div",{className:"text-right",children:[t.averageProcessingDays>0&&r.jsxs("div",{children:[t.averageProcessingDays," días promedio"]}),t.lastActivity&&r.jsxs("div",{className:"text-xs text-gray-400",children:["Última actividad: ",new Date(t.lastActivity).toLocaleDateString()]})]})]})]})}function RC(){const{filteredCompanies:t,searchTerm:s,setSearchTerm:a,selectedEntity:l,setSelectedEntity:i,sortBy:c,setSortBy:u,sortOrder:f,setSortOrder:m,totalCompanies:p,totalStatistics:y,loading:b,error:v,loadingProgress:w,loadedEntitiesCount:S,totalEntitiesCount:N}=EC(),C=j=>{c===j?m(f==="asc"?"desc":"asc"):(u(j),m("asc"))};return b?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando empresas de energía..."}),r.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[r.jsxs("span",{children:["Procesando entidades (",S,"/",N,")"]}),r.jsxs("span",{children:[Math.round(w),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})]})}):v?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar datos"}),r.jsx("p",{className:"text-gray-600",children:v})]})}):r.jsxs("div",{className:"p-6 w-full",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ut,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Empresas de Energía"}),r.jsx("p",{className:"text-gray-600",children:"Directorio completo de empresas en el sistema"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p}),r.jsx("div",{className:"text-sm text-gray-600",children:"Empresas totales"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[y.avgCompletionRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Completitud promedio"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ds,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.totalCompletedRequests.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600",children:"Solicitudes completadas"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rr,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y.companiesWithAlerts}),r.jsx("div",{className:"text-sm text-gray-600",children:"Con alertas"})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar empresas...",value:s,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Po,{className:"h-4 w-4 text-gray-400"}),r.jsxs("select",{value:l,onChange:j=>i(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todas las entidades"}),xr.map(j=>r.jsx("option",{value:j,children:j},j))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),r.jsx("div",{className:"flex gap-1",children:[{key:"name",label:"Nombre"},{key:"completionRate",label:"Completitud"},{key:"totalRequests",label:"Solicitudes"},{key:"criticalAlerts",label:"Alertas"}].map(j=>r.jsxs("button",{onClick:()=>C(j.key),className:`px-3 py-2 text-sm rounded-lg border transition-colors flex items-center gap-1 ${c===j.key?"bg-blue-100 text-blue-700 border-blue-300":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[j.label,c===j.key&&(f==="asc"?r.jsx(rw,{className:"h-3 w-3"}):r.jsx(ew,{className:"h-3 w-3"}))]},j.key))})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t text-sm text-gray-600",children:["Mostrando ",t.length," de ",p," empresas",s&&r.jsxs("span",{className:"ml-2",children:['• Búsqueda: "',r.jsx("span",{className:"font-medium",children:s}),'"']}),l&&r.jsxs("span",{className:"ml-2",children:["• Entidad: ",r.jsx("span",{className:"font-medium",children:l})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map((j,k)=>r.jsx(kC,{company:j},k))}),t.length===0&&r.jsxs("div",{className:"bg-white rounded-lg border p-12 text-center",children:[r.jsx(ut,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron empresas"}),r.jsx("p",{className:"text-gray-600 mb-4",children:s||l?"Intenta ajustar los filtros de búsqueda.":"No hay empresas disponibles en el sistema."}),(s||l)&&r.jsx("button",{onClick:()=>{a(""),i("")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Limpiar filtros"})]})]})}class Cp{static async generateDemandMetrics(s){const a=await this.loadFilteredRequests(s),l=this.calculateDateRange(a,s),i=this.calculateDailyDistribution(a),c=this.calculateMonthlyDistribution(a),u=this.calculateWeekdayDistribution(a),f=this.findPeakDays(i),m=this.calculateTrends(a,l),p=this.calculateEntityBreakdown(a),y=this.calculateCompanyBreakdown(a),b=a.length,v=this.getDaysDifference(l.start,l.end)||1,w=b/v,S=b/Math.max(1,this.getMonthsDifference(l.start,l.end));return{totalRequests:b,dateRange:l,dailyAverage:w,monthlyAverage:S,dailyDistribution:i,monthlyDistribution:c,weekdayDistribution:u,peakDays:f,trends:m,entityBreakdown:p,companyBreakdown:y}}static async generateHeatMapData(s,a,l){const c=(await this.loadFilteredRequests(l)).filter(m=>{const p=new Date(m.receivedDate);return p.getFullYear()===s&&p.getMonth()===a-1}),u=this.generateCalendarCells(s,a,c),f=Math.max(...u.map(m=>m.count),1);return{year:s,month:a,cells:u,maxCount:f,totalRequests:c.length,averagePerDay:c.length/u.length}}static AVAILABLE_FILES=new Map([["Alcaldía de Palmira",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Alcaldía de Tuluá",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Gobernación del Valle del Cauca",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Infibagué",[2023,2024,2025]]]);static async loadFilteredRequests(s){const a=[],l=s.entities.length>0?s.entities:xr,i=s.years.length>0?s.years:[2017,2018,2019,2020,2021,2022,2023,2024,2025];for(const c of l){const u=this.AVAILABLE_FILES.get(c)||[],f=i.filter(m=>u.includes(m));for(const m of f)try{const p=await Be.loadDataForEntityYear(c,m),y=this.extractRequestSummaries(p,c,m);a.push(...y)}catch(p){console.warn(`Failed to load ${c} ${m}:`,p)}}return this.applyFilters(a,s)}static extractRequestSummaries(s,a,l){const i=[];for(const[c,u]of Object.entries(s))for(const[f]of Object.entries(u)){if(f==="_metadata")continue;const m=Be.getMonthlyBillingData(u,f);!m||!m.fechaRecibido||m.fechaRecibido.trim()===""||i.push({company:c,month:f,year:l,entity:a,state:m.estado,receivedDate:m.fechaRecibido,closedDate:m.fechaCerrado||"",processingDays:m.diasProcesamiento||null,workItemId:m.workItemId})}return i}static applyFilters(s,a){return s.filter(l=>{if(a.companies.length>0&&!a.companies.includes(l.company))return!1;if(a.months.length>0){const i=new Date(l.receivedDate).getMonth()+1;if(!a.months.includes(i))return!1}return!(a.startDate&&l.receivedDate<a.startDate||a.endDate&&l.receivedDate>a.endDate||a.states.length>0&&!a.states.includes(l.state))})}static calculateDailyDistribution(s){const a=new Map;s.forEach(c=>{const u=c.receivedDate;a.has(u)||a.set(u,[]),a.get(u).push(c)});const l=[],i=Math.max(...Array.from(a.values()).map(c=>c.length),1);for(const[c,u]of a){const f=u.length,m=f<=i*.33?"low":f<=i*.66?"medium":"high";l.push({date:c,count:f,requests:u,intensity:m})}return l.sort((c,u)=>c.date.localeCompare(u.date))}static calculateMonthlyDistribution(s){const a=new Map;s.forEach(i=>{const c=new Date(i.receivedDate),u=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;a.has(u)||a.set(u,[]),a.get(u).push(i)});const l=[];for(const[i,c]of a){const[u,f]=i.split("-").map(Number),m=new Date(u,f,0).getDate();l.push({year:u,month:f,monthName:dt[f-1],count:c.length,requests:c,averagePerDay:c.length/m})}return l.sort((i,c)=>i.year!==c.year?i.year-c.year:i.month-c.month)}static calculateWeekdayDistribution(s){const a=new Map,l=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];s.forEach(u=>{const f=new Date(u.receivedDate).getDay();a.has(f)||a.set(f,[]),a.get(f).push(u)});const i=s.length,c=[];for(let u=0;u<7;u++){const m=(a.get(u)||[]).length;c.push({dayOfWeek:u,dayName:l[u],count:m,percentage:i>0?m/i*100:0,averagePerWeek:m/Math.max(1,this.getWeeksSpanned(s))})}return c}static findPeakDays(s){if(s.length===0)return[];const a=[...s].sort((u,f)=>f.count-u.count),l=[],i=a[0];i&&l.push({date:i.date,count:i.count,type:"highest",companies:[...new Set(i.requests.map(u=>u.company))],entities:[...new Set(i.requests.map(u=>u.entity))]});const c=a[a.length-1];return c&&c.count>0&&l.push({date:c.date,count:c.count,type:"lowest",companies:[...new Set(c.requests.map(u=>u.company))],entities:[...new Set(c.requests.map(u=>u.entity))]}),l}static calculateTrends(s,a){const l=this.getDaysDifference(a.start,a.end)||1,i=s.length/l;return{daily:{period:"Diario",current:i,previous:i*.9,change:i*.1,changePercent:10,direction:"up"},weekly:{period:"Semanal",current:i*7,previous:i*7*.95,change:i*7*.05,changePercent:5,direction:"up"},monthly:{period:"Mensual",current:i*30,previous:i*30*.85,change:i*30*.15,changePercent:15,direction:"up"}}}static calculateEntityBreakdown(s){const a=new Map;s.forEach(c=>{a.has(c.entity)||a.set(c.entity,[]),a.get(c.entity).push(c)});const l=s.length,i=[];for(const[c,u]of a){const f=u.length;i.push({entity:c,count:f,percentage:l>0?f/l*100:0,requests:u,trend:{period:"Entidad",current:f,previous:f*.9,change:f*.1,changePercent:10,direction:"up"}})}return i.sort((c,u)=>u.count-c.count)}static calculateCompanyBreakdown(s){const a=new Map;s.forEach(c=>{a.has(c.company)||a.set(c.company,[]),a.get(c.company).push(c)});const l=s.length,i=[];for(const[c,u]of a){const f=u.length,m=new Set(u.map(p=>`${p.year}-${p.month}`)).size;i.push({company:c,entity:u[0]?.entity||"",count:f,percentage:l>0?f/l*100:0,requests:u,averagePerMonth:f/Math.max(1,m)})}return i.sort((c,u)=>u.count-c.count)}static generateCalendarCells(s,a,l){const i=[],c=new Date(s,a,0).getDate(),u=new Date,f=new Map;l.forEach(p=>{const y=p.receivedDate;f.has(y)||f.set(y,[]),f.get(y).push(p)});const m=Math.max(...Array.from(f.values()).map(p=>p.length),1);for(let p=1;p<=c;p++){const y=`${s}-${String(a).padStart(2,"0")}-${String(p).padStart(2,"0")}`,b=f.get(y)||[],v=b.length,w=new Date(s,a-1,p);i.push({date:y,count:v,intensity:v/m,requests:b,isToday:w.toDateString()===u.toDateString(),isWeekend:w.getDay()===0||w.getDay()===6})}return i}static calculateDateRange(s,a){if(a.startDate&&a.endDate)return{start:a.startDate,end:a.endDate};if(s.length===0){const i=new Date().toISOString().split("T")[0];return{start:i,end:i}}const l=s.map(i=>i.receivedDate).sort();return{start:a.startDate||l[0],end:a.endDate||l[l.length-1]}}static getDaysDifference(s,a){const l=new Date(s),i=new Date(a);return Math.max(1,Math.ceil((i.getTime()-l.getTime())/(1e3*60*60*24)))}static getMonthsDifference(s,a){const l=new Date(s),i=new Date(a);return Math.max(1,(i.getFullYear()-l.getFullYear())*12+(i.getMonth()-l.getMonth())+1)}static getWeeksSpanned(s){if(s.length===0)return 1;const a=s.map(c=>new Date(c.receivedDate)),l=new Date(Math.min(...a.map(c=>c.getTime()))),i=new Date(Math.max(...a.map(c=>c.getTime())));return Math.max(1,Math.ceil((i.getTime()-l.getTime())/(1e3*60*60*24*7)))}}function Uu(){const[t,s]=g.useState(null),[a,l]=g.useState(null),[i,c]=g.useState(!1),[u,f]=g.useState(null),m=g.useCallback(async b=>{c(!0),f(null);try{const v=await Cp.generateDemandMetrics(b);s(v)}catch(v){console.error("Error loading demand metrics:",v),f("Error al cargar las métricas de demanda. Por favor, intenta nuevamente.")}finally{c(!1)}},[]),p=g.useCallback(async(b,v,w)=>{try{const S=await Cp.generateHeatMapData(b,v,w);l(S)}catch(S){console.error("Error loading heat map data:",S)}},[]),y=g.useCallback((b,v)=>{try{const w=PC(b),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),C=URL.createObjectURL(S);N.setAttribute("href",C),N.setAttribute("download",`${v}-${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(C)}catch(w){console.error("Error exporting data:",w),f("Error al exportar los datos. Por favor, intenta nuevamente.")}},[]);return{demandMetrics:t,heatMapData:a,loading:i,error:u,loadDemandMetrics:m,loadHeatMapData:p,exportData:y}}function PC(t){const s=[];return s.push("Tipo,Fecha,Valor,Descripción"),s.push(`Resumen,${t.dateRange.start},${t.totalRequests},Total de solicitudes`),s.push(`Resumen,${t.dateRange.start},${t.dailyAverage.toFixed(2)},Promedio diario`),s.push(`Resumen,${t.dateRange.start},${t.monthlyAverage.toFixed(2)},Promedio mensual`),t.dailyDistribution.forEach(a=>{s.push(`Diario,${a.date},${a.count},Solicitudes del día`)}),t.monthlyDistribution.forEach(a=>{s.push(`Mensual,${a.year}-${String(a.month).padStart(2,"0")},${a.count},${a.monthName}`)}),t.weekdayDistribution.forEach(a=>{s.push(`Día de semana,${a.dayName},${a.count},${a.percentage.toFixed(1)}%`)}),t.entityBreakdown.forEach(a=>{s.push(`Entidad,${a.entity},${a.count},${a.percentage.toFixed(1)}%`)}),s.join(`
`)}function DC({metrics:t}){const s=(u,f="w-4 h-4")=>{const m=f;switch(u){case"up":return r.jsx(bn,{className:`${m} text-green-600`});case"down":return r.jsx(Eu,{className:`${m} text-red-600`});case"stable":return r.jsx(Cu,{className:`${m} text-gray-600`})}},a=u=>{switch(u){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}},l=(u,f)=>{const m=new Date(u),p=new Date(f);return`${m.toLocaleDateString("es-ES",{day:"numeric",month:"short"})} - ${p.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}`},i=t.entityBreakdown[0],c=t.peakDays.find(u=>u.type==="highest");return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Resumen de Demanda"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Período: ",l(t.dateRange.start,t.dateRange.end)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalRequests}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total de solicitudes"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(vt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Promedio Diario"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.dailyAverage.toFixed(1)})]})]}),t.trends.daily&&r.jsxs("div",{className:"flex items-center gap-1",children:[s(t.trends.daily.direction),r.jsxs("span",{className:`text-sm font-medium ${a(t.trends.daily.direction)}`,children:[t.trends.daily.changePercent>0?"+":"",t.trends.daily.changePercent.toFixed(1),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(nw,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Promedio Mensual"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.monthlyAverage.toFixed(0)})]})]}),t.trends.monthly&&r.jsxs("div",{className:"flex items-center gap-1",children:[s(t.trends.monthly.direction),r.jsxs("span",{className:`text-sm font-medium ${a(t.trends.monthly.direction)}`,children:[t.trends.monthly.changePercent>0?"+":"",t.trends.monthly.changePercent.toFixed(1),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Xl,{className:"w-5 h-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Día Pico"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c?c.count:0}),c&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(c.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(pn,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Principal Entidad"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900 truncate",title:i?.entity,children:[i?i.percentage.toFixed(0):0,"%"]}),i&&r.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",title:i.entity,children:i.entity})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tendencias"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[s(t.trends.daily.direction,"w-5 h-5"),r.jsx("span",{className:"font-medium text-gray-900",children:"Diaria"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${a(t.trends.daily.direction)}`,children:[t.trends.daily.changePercent>0?"+":"",t.trends.daily.changePercent.toFixed(1),"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.trends.daily.current," vs ",t.trends.daily.previous]})]})]}),t.trends.weekly&&r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[s(t.trends.weekly.direction,"w-5 h-5"),r.jsx("span",{className:"font-medium text-gray-900",children:"Semanal"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${a(t.trends.weekly.direction)}`,children:[t.trends.weekly.changePercent>0?"+":"",t.trends.weekly.changePercent.toFixed(1),"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.trends.weekly.current," vs ",t.trends.weekly.previous]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[s(t.trends.monthly.direction,"w-5 h-5"),r.jsx("span",{className:"font-medium text-gray-900",children:"Mensual"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${a(t.trends.monthly.direction)}`,children:[t.trends.monthly.changePercent>0?"+":"",t.trends.monthly.changePercent.toFixed(1),"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.trends.monthly.current," vs ",t.trends.monthly.previous]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rendimiento Semanal"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-green-800",children:"Día más activo"}),r.jsx("div",{className:"text-right",children:(()=>{const f=t.weekdayDistribution.filter(m=>m.dayOfWeek>=1&&m.dayOfWeek<=5).reduce((m,p)=>p.count>m.count?p:m);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-bold text-green-600",children:f.dayName}),r.jsxs("div",{className:"text-sm text-green-600",children:[f.count," solicitudes"]})]})})()})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-blue-800",children:"Día menos activo (laborable)"}),r.jsx("div",{className:"text-right",children:(()=>{const f=t.weekdayDistribution.filter(m=>m.dayOfWeek>=1&&m.dayOfWeek<=5).reduce((m,p)=>p.count<m.count?p:m);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-bold text-blue-600",children:f.dayName}),r.jsxs("div",{className:"text-sm text-blue-600",children:[f.count," solicitudes"]})]})})()})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribución por Entidad"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total de entidades"}),r.jsx("span",{className:"font-bold text-gray-900",children:t.entityBreakdown.length})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Concentración top 3"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[t.entityBreakdown.slice(0,3).reduce((u,f)=>u+f.percentage,0).toFixed(1),"%"]})]}),r.jsx("div",{className:"pt-2 space-y-2",children:t.entityBreakdown.slice(0,3).map((u,f)=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"text-gray-600 truncate pr-2",title:u.entity,children:["#",f+1," ",u.entity]}),r.jsxs("span",{className:"font-medium text-gray-900 flex-shrink-0",children:[u.percentage.toFixed(1),"%"]})]},u.entity))})]})]})]})]})}function K0({heatMapData:t,selectedDate:s,onDateChange:a,loading:l=!1}){const[i,c]=g.useState(null),u=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],f=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],m=v=>{const w=new Date(s);v==="prev"?w.setMonth(w.getMonth()-1):w.setMonth(w.getMonth()+1),a(w)},p=g.useMemo(()=>{if(!t)return[];const v=t.year,w=t.month-1,S=new Date(v,w,1),N=new Date(v,w+1,0),C=S.getDay(),j=N.getDate(),k=[];for(let P=0;P<C;P++)k.push(null);for(let P=1;P<=j;P++){const I=`${v}-${String(w+1).padStart(2,"0")}-${String(P).padStart(2,"0")}`,M=t.cells.find(R=>R.date===I);M?k.push(M):k.push({date:I,count:0,intensity:0,requests:[],isToday:!1,isWeekend:new Date(v,w,P).getDay()===0||new Date(v,w,P).getDay()===6})}return k},[t]),y=(v,w)=>w===0?"bg-gray-100 border-gray-200":v<=.2?"bg-green-100 border-green-200":v<=.4?"bg-green-200 border-green-300":v<=.6?"bg-yellow-200 border-yellow-300":v<=.8?"bg-orange-200 border-orange-300":"bg-red-200 border-red-300",b=(v,w)=>w===0?"text-gray-500":v<=.4?"text-green-800":v<=.6?"text-yellow-800":v<=.8?"text-orange-800":"text-red-800";return l?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(vt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Calor"})]}),r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"Generando mapa de calor..."})]})})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Calor"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>m("prev"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Mes anterior",children:r.jsx(ow,{className:"w-4 h-4 text-gray-600"})}),r.jsxs("span",{className:"font-medium text-gray-900 min-w-32 text-center",children:[u[s.getMonth()]," ",s.getFullYear()]}),r.jsx("button",{onClick:()=>m("next"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Mes siguiente",children:r.jsx(lw,{className:"w-4 h-4 text-gray-600"})})]})]}),t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:f.map(v=>r.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:v},v))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map((v,w)=>r.jsx("div",{className:"aspect-square",children:v?r.jsx("button",{onClick:()=>c(i?.date===v.date?null:v),className:`
                        w-full h-full border rounded-lg text-xs font-medium transition-all duration-200
                        hover:scale-105 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500
                        ${y(v.intensity,v.count)}
                        ${b(v.intensity,v.count)}
                        ${v.isToday?"ring-2 ring-blue-400":""}
                        ${i?.date===v.date?"ring-2 ring-purple-400":""}
                      `,title:`${new Date(v.date).getDate()} - ${v.count} solicitudes`,children:r.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[r.jsx("span",{className:"font-semibold",children:new Date(v.date).getDate()}),v.count>0&&r.jsx("span",{className:"text-xs opacity-75",children:v.count})]})}):r.jsx("div",{className:"w-full h-full"})},w))})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{children:"Menos"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-200 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-green-100 border border-green-200 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-300 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-yellow-200 border border-yellow-300 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-300 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-300 rounded-sm"})]}),r.jsx("span",{children:"Más"})]}),t&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",r.jsx("span",{className:"font-medium",children:t.totalRequests})," solicitudes",t.averagePerDay>0&&r.jsxs("span",{className:"ml-3",children:["Promedio: ",r.jsx("span",{className:"font-medium",children:t.averagePerDay.toFixed(1)}),"/día"]})]})]})}),i&&i.count>0&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:new Date(i.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),r.jsxs("p",{className:"text-sm text-blue-800 mb-3",children:[r.jsx("span",{className:"font-medium",children:i.count})," solicitud(es) recibida(s)"]}),i.requests.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Empresas:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(new Set(i.requests.map(v=>v.company))).map(v=>r.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-blue-200 rounded text-xs text-blue-800",children:v},v))})]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx(uw,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"No hay datos disponibles para este mes"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ajusta los filtros o selecciona otro período"})]})})]})}function Sp({metrics:t,compact:s=!1}){const a=c=>{switch(c){case"up":return r.jsx(bn,{className:"w-4 h-4 text-green-600"});case"down":return r.jsx(Eu,{className:"w-4 h-4 text-red-600"});case"stable":return r.jsx(Cu,{className:"w-4 h-4 text-gray-600"})}},l=c=>{switch(c){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}},i=c=>Math.max(...c.map(u=>u.count));return s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(kr,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Distribución Semanal"})]}),r.jsx("div",{className:"space-y-3",children:t.weekdayDistribution.map(c=>{const u=i(t.weekdayDistribution),f=u>0?c.count/u*100:0;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 text-xs font-medium text-gray-600 text-right",children:c.dayName.slice(0,3)}),r.jsxs("div",{className:"flex-1 bg-gray-100 rounded-full h-6 relative overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-500",style:{width:`${f}%`}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-700",children:c.count})})]}),r.jsxs("div",{className:"w-10 text-xs text-gray-500 text-right",children:[c.percentage.toFixed(0),"%"]})]},c.dayOfWeek)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(kr,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Principales Entidades"})]}),r.jsx("div",{className:"space-y-2",children:t.entityBreakdown.slice(0,5).map((c,u)=>{const f=i(t.entityBreakdown),m=f>0?c.count/f*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 text-xs font-bold text-gray-500 text-center",children:u+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:c.entity}),r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:c.count})]}),r.jsx("div",{className:"bg-gray-100 rounded-full h-2",children:r.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-500",style:{width:`${m}%`}})})]})]},c.entity)})})]})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendencia Mensual"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a(t.trends.monthly.direction),r.jsxs("span",{className:`font-medium ${l(t.trends.monthly.direction)}`,children:[t.trends.monthly.changePercent>0?"+":"",t.trends.monthly.changePercent.toFixed(1),"%"]})]})]}),r.jsx("div",{className:"h-64 flex items-end gap-2 mb-4",children:t.monthlyDistribution.map(c=>{const u=i(t.monthlyDistribution),f=u>0?c.count/u*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full flex flex-col justify-end h-48",children:r.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t cursor-pointer relative group",style:{height:`${f}%`,minHeight:c.count>0?"8px":"2px"},title:`${c.monthName} ${c.year}: ${c.count} solicitudes`,children:r.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:c.count})})}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[r.jsx("div",{className:"font-medium",children:c.monthName.slice(0,3)}),r.jsx("div",{className:"text-gray-500",children:c.year})]})]},`${c.year}-${c.month}`)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:[r.jsx("span",{children:"Promedio mensual: "}),r.jsx("span",{className:"font-medium",children:t.monthlyAverage.toFixed(1)}),r.jsx("span",{children:" solicitudes"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución por Día"})]}),r.jsx("div",{className:"space-y-4",children:t.weekdayDistribution.map(c=>{const u=i(t.weekdayDistribution),f=u>0?c.count/u*100:0;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:c.dayName}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:c.count}),r.jsxs("span",{children:["(",c.percentage.toFixed(1),"%)"]})]})]}),r.jsx("div",{className:"bg-gray-100 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-700",style:{width:`${f}%`}})})]},c.dayOfWeek)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución por Entidad"})]}),r.jsxs("div",{className:"space-y-4",children:[t.entityBreakdown.slice(0,6).map(c=>{const u=i(t.entityBreakdown),f=u>0?c.count/u*100:0;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate pr-2",children:c.entity}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 flex-shrink-0",children:[r.jsx("span",{className:"font-medium",children:c.count}),r.jsxs("span",{children:["(",c.percentage.toFixed(1),"%)"]})]})]}),r.jsx("div",{className:"bg-gray-100 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-700",style:{width:`${f}%`}})})]},c.entity)}),t.entityBreakdown.length>6&&r.jsx("div",{className:"text-center pt-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["+",t.entityBreakdown.length-6," entidades más"]})})]})]})]}),t.peakDays.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Días Destacados"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.peakDays.map(c=>r.jsxs("div",{className:`p-4 rounded-lg border-2 ${c.type==="highest"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:`text-sm font-medium ${c.type==="highest"?"text-green-800":"text-blue-800"}`,children:c.type==="highest"?"Día con más solicitudes":"Día con menos solicitudes"}),r.jsx("span",{className:`text-lg font-bold ${c.type==="highest"?"text-green-600":"text-blue-600"}`,children:c.count})]}),r.jsx("p",{className:`text-sm ${c.type==="highest"?"text-green-700":"text-blue-700"} mb-2`,children:new Date(c.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),c.entities.length>0&&r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Entidades: "}),c.entities.slice(0,2).join(", "),c.entities.length>2&&` +${c.entities.length-2} más`]})]},`${c.date}-${c.type}`))})]})]})}function TC({filters:t,onFiltersChange:s,onClose:a}){const[l,i]=g.useState(t),c=new Date().getFullYear(),u=Array.from({length:10},(k,P)=>c-P+2),f=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=["New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production","Closed","Removed"],p=["Generadora","Comercializadora","Ambas"],y=k=>{const P=l.entities.includes(k)?l.entities.filter(I=>I!==k):[...l.entities,k];i({...l,entities:P})},b=k=>{const P=l.years.includes(k)?l.years.filter(I=>I!==k):[...l.years,k];i({...l,years:P})},v=k=>{const P=l.months.includes(k)?l.months.filter(I=>I!==k):[...l.months,k];i({...l,months:P})},w=k=>{const P=l.states.includes(k)?l.states.filter(I=>I!==k):[...l.states,k];i({...l,states:P})},S=k=>{const P=l.companyTypes.includes(k)?l.companyTypes.filter(I=>I!==k):[...l.companyTypes,k];i({...l,companyTypes:P})},N=()=>{s(l),a()},C=()=>{const k={entities:[],companies:[],years:[2024,2025],months:[],states:[],companyTypes:[]};i(k),s(k)},j=()=>Object.values(l).filter(k=>Array.isArray(k)?k.length>0:!!k).length;return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Análisis"}),j()>0&&r.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2 py-1 rounded-full",children:[j()," activos"]})]}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(eg,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Entidades"}),l.entities.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.entities.length})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:xr.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.entities.includes(k),onChange:()=>y(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 flex-1",children:k}),l.entities.includes(k)&&r.jsx(Vt,{className:"w-4 h-4 text-blue-600"})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(vt,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Años"}),l.years.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.years.length})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.years.includes(k),onChange:()=>b(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:k})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(vt,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Meses"}),l.months.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.months.length})]}),r.jsx("div",{className:"grid grid-cols-2 gap-1",children:f.map((k,P)=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.months.includes(P+1),onChange:()=>v(P+1),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-700",children:k.slice(0,3)})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Vt,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Estados"}),l.states.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.states.length})]}),r.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:m.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.states.includes(k),onChange:()=>w(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-700",children:Ru[k]||k})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(sw,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Tipos de Empresa"}),l.companyTypes.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.companyTypes.length})]}),r.jsx("div",{className:"space-y-2",children:p.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.companyTypes.includes(k),onChange:()=>S(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:k}),l.companyTypes.includes(k)&&r.jsx(Vt,{className:"w-4 h-4 text-blue-600"})]},k))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Rango de Fechas"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Inicio"}),r.jsx("input",{type:"date",value:l.startDate||"",onChange:k=>i({...l,startDate:k.target.value||void 0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Fin"}),r.jsx("input",{type:"date",value:l.endDate||"",onChange:k=>i({...l,endDate:k.target.value||void 0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Limpiar Filtros"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Aplicar Filtros"})]})]})]})}function Q0({title:t="Solicitudes por Mes",filters:s={},compact:a=!1,showTrends:l=!0}){const{demandMetrics:i,loading:c,error:u,loadDemandMetrics:f}=Uu(),m=g.useMemo(()=>({entities:[],companies:[],years:[2017,2018,2019,2020,2021,2022,2023,2024,2025],months:[],states:[],companyTypes:[],...s}),[s]);g.useEffect(()=>{(async()=>{try{await f(m)}catch(w){console.warn("Failed to load demand metrics for MonthlyRequestsChart:",w)}})()},[m]);const p=v=>{switch(v){case"up":return r.jsx(bn,{className:"w-4 h-4 text-green-600"});case"down":return r.jsx(Eu,{className:"w-4 h-4 text-red-600"});case"stable":return r.jsx(Cu,{className:"w-4 h-4 text-gray-600"})}},y=v=>{switch(v){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}};if(c)return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(u||!i)return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"Error al cargar los datos del gráfico"})});const b=v=>Math.max(...v.map(w=>w.count));return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:`${a?"text-base":"text-lg"} font-semibold text-gray-900`,children:t})]}),l&&i.trends?.monthly&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p(i.trends.monthly.direction),r.jsxs("span",{className:`font-medium ${y(i.trends.monthly.direction)}`,children:[i.trends.monthly.changePercent>0?"+":"",i.trends.monthly.changePercent.toFixed(1),"%"]})]})]}),r.jsx("div",{className:`${a?"h-48":"h-64"} flex items-end gap-2 mb-4`,children:i.monthlyDistribution.map(v=>{const w=b(i.monthlyDistribution),S=w>0?v.count/w*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full flex flex-col justify-end",style:{height:a?"12rem":"16rem"},children:r.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t cursor-pointer relative group",style:{height:`${S}%`,minHeight:v.count>0?"8px":"2px"},title:`${v.monthName} ${v.year}: ${v.count} solicitudes`,children:r.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:v.count})})}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[r.jsx("div",{className:"font-medium",children:v.monthName.slice(0,3)}),r.jsx("div",{className:"text-gray-500",children:v.year})]})]},`${v.year}-${v.month}`)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:[r.jsx("span",{children:"Total: "}),r.jsx("span",{className:"font-medium",children:i.totalRequests}),r.jsx("span",{children:" solicitudes • Promedio mensual: "}),r.jsx("span",{className:"font-medium",children:i.monthlyAverage.toFixed(1)})]})]})}function MC(){const[t,s]=g.useState(!1),[a,l]=g.useState(new Date),[i,c]=g.useState({entities:[],companies:[],years:[2024,2025],months:[],states:[],companyTypes:[]}),{demandMetrics:u,heatMapData:f,loading:m,error:p,loadDemandMetrics:y,loadHeatMapData:b,exportData:v}=Uu();g.useEffect(()=>{y(i),b(a.getFullYear(),a.getMonth()+1,i)},[i,a,y,b]);const w=g.useCallback(C=>{c(C)},[]),S=g.useCallback(C=>{l(C)},[]),N=g.useCallback(()=>{u&&v(u,"demand-analytics")},[u,v]);return m&&!u?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Analizando patrones de demanda..."})]})}):p?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("h3",{className:"font-bold",children:"Error en el análisis"}),r.jsx("p",{children:p})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:r.jsxs("div",{className:"w-full px-2 sm:px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(Xt,{to:"/",className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",children:[r.jsx(Xn,{className:"w-5 h-5"}),r.jsx("span",{children:"Volver al Dashboard"})]}),r.jsx("div",{className:"border-l border-gray-300 h-6 mx-4"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Análisis de Demanda"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Patrones temporales de solicitudes de facturación"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>s(!t),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${t||Object.values(i).some(C=>Array.isArray(C)?C.length>0:!!C)?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:[r.jsx(Po,{className:"w-4 h-4"}),r.jsx("span",{children:"Filtros"}),Object.values(i).some(C=>Array.isArray(C)?C.length>0:!!C)&&r.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Object.values(i).filter(C=>Array.isArray(C)?C.length>0:!!C).length})]}),u&&r.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Nu,{className:"w-4 h-4"}),r.jsx("span",{children:"Exportar"})]})]})]}),t&&r.jsx("div",{className:"mt-6",children:r.jsx(TC,{filters:i,onFiltersChange:w,onClose:()=>s(!1)})})]}),u&&r.jsxs("div",{className:"space-y-8",children:[r.jsx(DC,{metrics:u}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsx(K0,{heatMapData:f,selectedDate:a,onDateChange:S,loading:m})}),r.jsx("div",{className:"xl:col-span-2",children:r.jsx(Sp,{metrics:u,compact:!0})})]}),r.jsx("div",{className:"mt-8",children:r.jsx(Q0,{title:"Solicitudes por Mes",filters:i,compact:!1,showTrends:!0})}),r.jsx("div",{className:"mt-8",children:r.jsx(Sp,{metrics:u,compact:!1})})]}),!u&&!m&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(vt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configura los filtros para comenzar"}),r.jsx("p",{className:"text-gray-600",children:"Selecciona los parámetros de análisis para generar insights sobre los patrones de demanda."})]})]})})}class _d{static normalizeEntityName(s){return{"Gobernación del Valle":"Gobernación del Valle del Cauca","Gobernación del Valle del Cauca":"Gobernación del Valle del Cauca","Alcaldía de Palmira":"Alcaldía de Palmira","Alcaldía de Tuluá":"Alcaldía de Tuluá",Infibagué:"Infibagué"}[s]||s}static async generateReportData(s,a="month"){const l=[];for(const b of xr)for(const v of[2017,2018,2019,2020,2021,2022,2023,2024,2025])try{const w=await Be.loadDataForEntityYear(b,v),S=this.extractRequestSummaries(w,b,v);l.push(...S)}catch{console.warn(`No data found for ${b} ${v}`)}const i=this.filterByDateRange(l,s),c=i.length,u=this.calculateStateStatistics(i),f=this.calculateEntityStatistics(i),m=this.calculateEntityStatisticsWithProgress(i),p=this.calculateAverageResolutionTime(i),y=this.generateTimeSeriesData(i,a,s);return{totalRequests:c,stateStatistics:u,entityStatistics:f,entityStatisticsWithProgress:m,averageResolutionTime:p,timeSeriesData:y,requestSummaries:i}}static extractRequestSummaries(s,a,l){const i=[];for(const[c,u]of Object.entries(s))for(const[f]of Object.entries(u)){if(f==="_metadata")continue;const m=Be.getMonthlyBillingData(u,f);m&&(!m.fechaRecibido||m.fechaRecibido.trim()===""||i.push({company:c,month:f,year:l,entity:this.normalizeEntityName(m.entidad||a),state:m.estado,receivedDate:m.fechaRecibido,closedDate:m.fechaCerrado||"",processingDays:m.diasProcesamiento||null,workItemId:m.workItemId||null}))}return i}static filterByDateRange(s,a){const l=new Date(a.startDate),i=new Date(a.endDate);return s.filter(c=>{if(!c.receivedDate)return!1;const u=new Date(c.receivedDate);return u>=l&&u<=i})}static calculateStateStatistics(s){const a={};return s.forEach(l=>{const i=l.state;a[i]=(a[i]||0)+1}),a}static calculateEntityStatistics(s){const a={};return s.forEach(l=>{a[l.entity]=(a[l.entity]||0)+1}),a}static calculateEntityStatisticsWithProgress(s){const a={};return s.forEach(l=>{const i=l.entity,c=l.state;a[i]||(a[i]={total:0,completed:0,inProgress:0,ready:0,blocked:0,removed:0,completionPercentage:0,progressPercentage:0}),a[i].total+=1,c==="Closed"?a[i].completed+=1:c==="Ready"?a[i].ready+=1:c==="Paused"||c==="Impediment"?a[i].blocked+=1:c==="Removed"?a[i].removed+=1:a[i].inProgress+=1}),Object.keys(a).forEach(l=>{const i=a[l];i.total>0?(i.completionPercentage=Math.round(i.completed/i.total*100),i.progressPercentage=Math.round((i.completed+i.inProgress)/i.total*100)):(i.completionPercentage=0,i.progressPercentage=0)}),a}static calculateAverageResolutionTime(s){const a=s.filter(i=>i.closedDate&&i.closedDate.trim()!==""&&i.processingDays!==null);if(a.length===0)return 0;const l=a.reduce((i,c)=>i+(c.processingDays||0),0);return Math.round(l/a.length*100)/100}static generateTimeSeriesData(s,a,l){const i=new Map,c=new Date(l.startDate),u=new Date(l.endDate),f=new Date(c);for(;f<=u;){const m=this.formatDateForPeriod(f,a);switch(i.set(m,0),a){case"day":f.setDate(f.getDate()+1);break;case"week":f.setDate(f.getDate()+7);break;case"month":f.setMonth(f.getMonth()+1);break}}return s.forEach(m=>{if(!m.receivedDate)return;const p=new Date(m.receivedDate),y=this.formatDateForPeriod(p,a);i.has(y)&&i.set(y,(i.get(y)||0)+1)}),Array.from(i.entries()).map(([m,p])=>({date:m,count:p})).sort((m,p)=>m.date.localeCompare(p.date))}static formatDateForPeriod(s,a){const l=s.getFullYear(),i=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getDate()).padStart(2,"0");switch(a){case"day":return`${l}-${i}-${c}`;case"week":const u=new Date(s);u.setDate(s.getDate()-s.getDay()+1);const f=String(u.getMonth()+1).padStart(2,"0"),m=String(u.getDate()).padStart(2,"0");return`${u.getFullYear()}-${f}-${m}`;case"month":return`${l}-${i}`;default:return`${l}-${i}`}}static exportToCSV(s){const a=["empresa","vigencia","periodo","entidad","estado","fecha_recibido","fecha_cerrado","dias_procesamiento","id_azure"],l=s.requestSummaries.map(c=>[c.company,c.year.toString(),c.month,c.entity,c.state,c.receivedDate,c.closedDate,c.processingDays?.toString()||"",c.workItemId?.toString()||""]);return[a,...l].map(c=>c.map(u=>`"${u}"`).join(",")).join(`
`)}static downloadCSV(s,a="reporte-solicitudes.csv"){const l=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const c=URL.createObjectURL(l);i.setAttribute("href",c),i.setAttribute("download",a),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}function AC(){const[t,s]=g.useState(null),[a,l]=g.useState(!1),[i,c]=g.useState(null),[u,f]=g.useState(()=>{const S=new Date,N=new Date(S.getFullYear(),S.getMonth(),1),C=new Date(S.getFullYear(),S.getMonth()+1,0);return{startDate:N.toISOString().split("T")[0],endDate:C.toISOString().split("T")[0]}}),[m,p]=g.useState("month"),y=g.useCallback(async()=>{l(!0),c(null);try{const S=await _d.generateReportData(u,m);s(S)}catch(S){console.error("Error generating report:",S),c("Error al generar el reporte. Por favor, intenta nuevamente.")}finally{l(!1)}},[u,m]),b=g.useCallback(S=>{f(S)},[]),v=g.useCallback(S=>{p(S)},[]),w=g.useCallback(()=>{if(t)try{const S=_d.exportToCSV(t),C=`reporte-solicitudes-${new Date().toISOString().split("T")[0]}.csv`;_d.downloadCSV(S,C)}catch(S){console.error("Error exporting CSV:",S),c("Error al exportar los datos. Por favor, intenta nuevamente.")}},[t]);return g.useEffect(()=>{y()},[y]),{reportData:t,loading:a,error:i,dateRange:u,period:m,updateDateRange:b,updatePeriod:v,generateReport:y,exportToCSV:w}}function IC({dateRange:t,onDateRangeChange:s,period:a,onPeriodChange:l,onExport:i,loading:c=!1}){const u=p=>{s({...t,startDate:p})},f=p=>{s({...t,endDate:p})},m=p=>{const y=new Date,b=new Date;b.setDate(y.getDate()-p),s({startDate:b.toISOString().split("T")[0],endDate:y.toISOString().split("T")[0]})};return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Reporte"})]}),r.jsxs("button",{onClick:i,disabled:c,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg hover:bg-green-100 transition-colors border border-green-200 disabled:opacity-50",children:[r.jsx(Nu,{className:"w-4 h-4"}),"Exportar CSV"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Fecha Inicio"]}),r.jsx("input",{type:"date",value:t.startDate,onChange:p=>u(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Fecha Fin"]}),r.jsx("input",{type:"date",value:t.endDate,onChange:p=>f(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agrupación"}),r.jsxs("select",{value:a,onChange:p=>l(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"day",children:"Por Día"}),r.jsx("option",{value:"week",children:"Por Semana"}),r.jsx("option",{value:"month",children:"Por Mes"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rangos Rápidos"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>m(30),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"30 días"}),r.jsx("button",{onClick:()=>m(90),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"90 días"}),r.jsx("button",{onClick:()=>m(365),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"1 año"})]})]})]})]})}function _C({totalRequests:t,stateStatistics:s,entityStatisticsWithProgress:a,averageResolutionTime:l}){return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(kr,{className:"w-6 h-6 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resumen General"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total de Solicitudes:"}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Tiempo Promedio de Resolución:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pn,{className:"w-4 h-4 text-orange-500"}),r.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[l," días"]})]})]}),r.jsx("div",{className:"pt-2 border-t border-gray-100",children:r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Solicitudes Cerradas:"}),r.jsxs("span",{className:"font-medium text-green-600",children:[s.Closed||0," (",Math.round((s.Closed||0)/t*100),"%)"]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Vt,{className:"w-6 h-6 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estados de Solicitudes"})]}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(s).sort(([,i],[,c])=>c-i).map(([i,c])=>{const u=Math.round(c/t*100),m=Zn(i).bg.replace("bg-","").replace("-100","-600");return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:ga(i)}),r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate max-w-32",title:i,children:i})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900",children:c}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",u,"%)"]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`bg-${m} h-2 rounded-full transition-all duration-300`,style:{width:`${u}%`}})})]},i)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ut,{className:"w-6 h-6 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Solicitudes por Entidad"})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(a).sort(([,i],[,c])=>c.total-i.total).map(([i,c])=>{const u=Math.round(c.total/t*100);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",title:i,children:i}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[c.completed," completadas"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900",children:c.total}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",u,"%)"]})]})]})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 relative overflow-hidden",children:(()=>{const f=c.completed/c.total*100,m=c.inProgress/c.total*100,p=c.ready/c.total*100,y=c.blocked/c.total*100,b=c.removed/c.total*100,w=f+m,S=w+p,N=S+y,C=N+b;return r.jsxs(r.Fragment,{children:[c.completed>0&&r.jsx("div",{className:"bg-green-600 h-full absolute top-0 left-0 transition-all duration-500",style:{width:`${f}%`,borderRadius:"9999px 0 0 9999px"},title:`${c.completed} completadas`}),c.inProgress>0&&r.jsx("div",{className:"bg-blue-500 h-full absolute top-0 transition-all duration-500",style:{left:`${f}%`,width:`${m}%`},title:`${c.inProgress} en progreso`}),c.ready>0&&r.jsx("div",{className:"bg-gray-300 h-full absolute top-0 transition-all duration-500",style:{left:`${w}%`,width:`${p}%`},title:`${c.ready} por iniciar`}),c.blocked>0&&r.jsx("div",{className:"bg-red-500 h-full absolute top-0 transition-all duration-500",style:{left:`${S}%`,width:`${y}%`},title:`${c.blocked} pausadas/bloqueadas`}),c.removed>0&&r.jsx("div",{className:"bg-gray-600 h-full absolute top-0 transition-all duration-500",style:{left:`${N}%`,width:`${b}%`,borderRadius:C>=99.9?"0 9999px 9999px 0":"0"},title:`${c.removed} removidas`})]})})()}),r.jsxs("div",{className:"text-xs text-gray-600",children:[c.completed>0&&r.jsxs("span",{className:"text-green-600 font-medium",children:[c.completed," completadas"]}),c.inProgress>0&&r.jsxs("span",{children:[c.completed>0?", ":"",r.jsxs("span",{className:"text-blue-600 font-medium",children:[c.inProgress," en progreso"]})]}),c.ready>0&&r.jsxs("span",{children:[c.completed>0||c.inProgress>0?", ":"",r.jsxs("span",{className:"text-gray-600 font-medium",children:[c.ready," por iniciar"]})]}),c.blocked>0&&r.jsxs("span",{children:[c.completed>0||c.inProgress>0||c.ready>0?", ":"",r.jsxs("span",{className:"text-red-600 font-medium",children:[c.blocked," pausadas"]})]}),c.removed>0&&r.jsxs("span",{children:[c.completed>0||c.inProgress>0||c.ready>0||c.blocked>0?", ":"",r.jsxs("span",{className:"text-gray-600 font-medium",children:[c.removed," removidas"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"Progreso por categorías"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsx("span",{children:"Completadas"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{children:"En progreso"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),r.jsx("span",{children:"Por iniciar"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsx("span",{children:"Pausadas"})]})]})]})]},i)})})]})]})}function LC(){const[t,s]=g.useState(new Date),{reportData:a,loading:l,error:i,dateRange:c,period:u,updateDateRange:f,updatePeriod:m,exportToCSV:p}=AC(),{heatMapData:y,loading:b,loadHeatMapData:v}=Uu();return g.useEffect(()=>{const w={entities:[],companies:[],years:[2025],months:[],states:[],companyTypes:[]};v(t.getFullYear(),t.getMonth()+1,w)},[t,v]),l&&!a?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Generando reporte..."})]})}):i?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("h3",{className:"font-bold",children:"Error al generar reporte"}),r.jsx("p",{children:i})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4",children:r.jsxs(Xt,{to:"/",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(Xn,{className:"w-4 h-4"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reportes de Solicitudes"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis y estadísticas de las solicitudes de facturación"})]})]})]}),r.jsx(IC,{dateRange:c,onDateRangeChange:f,period:u,onPeriodChange:m,onExport:p,loading:l}),a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-6",children:r.jsx(_C,{totalRequests:a.totalRequests,stateStatistics:a.stateStatistics,entityStatisticsWithProgress:a.entityStatisticsWithProgress,averageResolutionTime:a.averageResolutionTime})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsx(K0,{heatMapData:y,selectedDate:t,onDateChange:s,loading:b})}),r.jsx("div",{className:"xl:col-span-2",children:r.jsx(Q0,{title:"Solicitudes por Mes - 2025",filters:{entities:[],companies:[],years:[2025],months:[],states:[],companyTypes:[]},compact:!1,showTrends:!0})})]}),a.requestSummaries.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Detalle de Solicitudes (",a.requestSummaries.length,")"]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Empresa"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Mes"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Año"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Entidad"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Estado"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha Recibido"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha Cerrado"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Días Proc."})]})}),r.jsx("tbody",{children:a.requestSummaries.sort((w,S)=>!w.receivedDate&&!S.receivedDate?0:w.receivedDate?S.receivedDate?S.receivedDate.localeCompare(w.receivedDate):-1:1).slice(0,100).map((w,S)=>r.jsxs("tr",{className:S%2===0?"bg-gray-50":"bg-white",children:[r.jsx("td",{className:"py-3 px-4 text-gray-900 font-medium",children:w.company}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.month}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.year}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.entity}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`px-2 py-1 text-xs rounded-full max-w-32 truncate inline-flex items-center gap-1 ${Zn(w.state).bg} ${Zn(w.state).text}`,title:w.state,children:[r.jsx("span",{className:"text-xs",children:ga(w.state)}),r.jsx("span",{className:"truncate",children:w.state})]})}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.receivedDate?new Date(w.receivedDate).toLocaleDateString("es-ES"):"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.closedDate?new Date(w.closedDate).toLocaleDateString("es-ES"):"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.processingDays!==null?`${w.processingDays} días`:"-"})]},`${w.company}-${w.month}-${w.year}-${w.entity}-${w.workItemId||S}`))})]}),a.requestSummaries.length>100&&r.jsxs("div",{className:"mt-4 text-center text-gray-500 text-sm",children:["Mostrando las primeras 100 solicitudes de ",a.requestSummaries.length," total. Exporta el CSV para ver todos los datos."]})]})]}),a.totalRequests===0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[r.jsx(kr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay solicitudes en el período seleccionado"}),r.jsx("p",{className:"text-gray-500",children:"Intenta ajustar el rango de fechas para ver más datos."})]})]}):null,l&&a&&r.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg border p-4 flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Actualizando reporte..."})]})]})})}const OC=Ob([{path:"/",element:r.jsx(un,{children:r.jsx(Qh,{})})},{path:"/pendientes",element:r.jsx(un,{children:r.jsx(jp,{})})},{path:"/resumen",element:r.jsx(un,{children:r.jsx(jp,{})})},{path:"/reportes",element:r.jsx(un,{children:r.jsx(LC,{})})},{path:"/empresas",element:r.jsx(un,{children:r.jsx(RC,{})})},{path:"/empresa/:companyName",element:r.jsx(un,{children:r.jsx(jC,{})})},{path:"/analisis-demanda",element:r.jsx(un,{children:r.jsx(MC,{})})},{path:"/entidad/:entitySlug/historico",element:r.jsx(un,{children:r.jsx(SC,{})})},{path:"/:year/:entity",element:r.jsx(un,{children:r.jsx(Qh,{})})}],{basename:"/jikko-estimator/facturacion"});Wy.createRoot(document.getElementById("root")).render(r.jsx(fn.StrictMode,{children:r.jsx(Qb,{router:OC})}));
