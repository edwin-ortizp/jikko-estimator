function My(t,a){for(var s=0;s<a.length;s++){const l=a[s];if(typeof l!="string"&&!Array.isArray(l)){for(const i in l)if(i!=="default"&&!(i in t)){const c=Object.getOwnPropertyDescriptor(l,i);c&&Object.defineProperty(t,i,c.get?c:{enumerable:!0,get:()=>l[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();function cu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cd={exports:{}},oo={},dd={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function Ay(){if(mh)return Oe;mh=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function C(_,q,de){this.props=_,this.context=q,this.refs=N,this.updater=de||w}C.prototype.isReactComponent={},C.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function j(){}j.prototype=C.prototype;function k(_,q,de){this.props=_,this.context=q,this.refs=N,this.updater=de||w}var P=k.prototype=new j;P.constructor=k,S(P,C.prototype),P.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function V(_,q,de){var fe,Se={},we=null,le=null;if(q!=null)for(fe in q.ref!==void 0&&(le=q.ref),q.key!==void 0&&(we=""+q.key),q)M.call(q,fe)&&!D.hasOwnProperty(fe)&&(Se[fe]=q[fe]);var me=arguments.length-2;if(me===1)Se.children=de;else if(1<me){for(var Me=Array(me),pe=0;pe<me;pe++)Me[pe]=arguments[pe+2];Se.children=Me}if(_&&_.defaultProps)for(fe in me=_.defaultProps,me)Se[fe]===void 0&&(Se[fe]=me[fe]);return{$$typeof:t,type:_,key:we,ref:le,props:Se,_owner:R.current}}function T(_,q){return{$$typeof:t,type:_.type,key:q,ref:_.ref,props:_.props,_owner:_._owner}}function O(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function Q(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(de){return q[de]})}var J=/\/+/g;function Z(_,q){return typeof _=="object"&&_!==null&&_.key!=null?Q(""+_.key):q.toString(36)}function te(_,q,de,fe,Se){var we=typeof _;(we==="undefined"||we==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(we){case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case t:case a:le=!0}}if(le)return le=_,Se=Se(le),_=fe===""?"."+Z(le,0):fe,I(Se)?(de="",_!=null&&(de=_.replace(J,"$&/")+"/"),te(Se,q,de,"",function(pe){return pe})):Se!=null&&(O(Se)&&(Se=T(Se,de+(!Se.key||le&&le.key===Se.key?"":(""+Se.key).replace(J,"$&/")+"/")+_)),q.push(Se)),1;if(le=0,fe=fe===""?".":fe+":",I(_))for(var me=0;me<_.length;me++){we=_[me];var Me=fe+Z(we,me);le+=te(we,q,de,Me,Se)}else if(Me=v(_),typeof Me=="function")for(_=Me.call(_),me=0;!(we=_.next()).done;)we=we.value,Me=fe+Z(we,me++),le+=te(we,q,de,Me,Se);else if(we==="object")throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return le}function re(_,q,de){if(_==null)return _;var fe=[],Se=0;return te(_,fe,"","",function(we){return q.call(de,we,Se++)}),fe}function X(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(de){(_._status===0||_._status===-1)&&(_._status=1,_._result=de)},function(de){(_._status===0||_._status===-1)&&(_._status=2,_._result=de)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var ae={current:null},$={transition:null},K={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:$,ReactCurrentOwner:R};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:re,forEach:function(_,q,de){re(_,function(){q.apply(this,arguments)},de)},count:function(_){var q=0;return re(_,function(){q++}),q},toArray:function(_){return re(_,function(q){return q})||[]},only:function(_){if(!O(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Oe.Component=C,Oe.Fragment=s,Oe.Profiler=i,Oe.PureComponent=k,Oe.StrictMode=l,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Oe.act=Y,Oe.cloneElement=function(_,q,de){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var fe=S({},_.props),Se=_.key,we=_.ref,le=_._owner;if(q!=null){if(q.ref!==void 0&&(we=q.ref,le=R.current),q.key!==void 0&&(Se=""+q.key),_.type&&_.type.defaultProps)var me=_.type.defaultProps;for(Me in q)M.call(q,Me)&&!D.hasOwnProperty(Me)&&(fe[Me]=q[Me]===void 0&&me!==void 0?me[Me]:q[Me])}var Me=arguments.length-2;if(Me===1)fe.children=de;else if(1<Me){me=Array(Me);for(var pe=0;pe<Me;pe++)me[pe]=arguments[pe+2];fe.children=me}return{$$typeof:t,type:_.type,key:Se,ref:we,props:fe,_owner:le}},Oe.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:c,_context:_},_.Consumer=_},Oe.createElement=V,Oe.createFactory=function(_){var q=V.bind(null,_);return q.type=_,q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(_){return{$$typeof:f,render:_}},Oe.isValidElement=O,Oe.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:X}},Oe.memo=function(_,q){return{$$typeof:p,type:_,compare:q===void 0?null:q}},Oe.startTransition=function(_){var q=$.transition;$.transition={};try{_()}finally{$.transition=q}},Oe.unstable_act=Y,Oe.useCallback=function(_,q){return ae.current.useCallback(_,q)},Oe.useContext=function(_){return ae.current.useContext(_)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(_){return ae.current.useDeferredValue(_)},Oe.useEffect=function(_,q){return ae.current.useEffect(_,q)},Oe.useId=function(){return ae.current.useId()},Oe.useImperativeHandle=function(_,q,de){return ae.current.useImperativeHandle(_,q,de)},Oe.useInsertionEffect=function(_,q){return ae.current.useInsertionEffect(_,q)},Oe.useLayoutEffect=function(_,q){return ae.current.useLayoutEffect(_,q)},Oe.useMemo=function(_,q){return ae.current.useMemo(_,q)},Oe.useReducer=function(_,q,de){return ae.current.useReducer(_,q,de)},Oe.useRef=function(_){return ae.current.useRef(_)},Oe.useState=function(_){return ae.current.useState(_)},Oe.useSyncExternalStore=function(_,q,de){return ae.current.useSyncExternalStore(_,q,de)},Oe.useTransition=function(){return ae.current.useTransition()},Oe.version="18.3.1",Oe}var hh;function du(){return hh||(hh=1,dd.exports=Ay()),dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function Iy(){if(ph)return oo;ph=1;var t=du(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,p){var y,b={},v=null,w=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(w=m.ref);for(y in m)l.call(m,y)&&!c.hasOwnProperty(y)&&(b[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)b[y]===void 0&&(b[y]=m[y]);return{$$typeof:a,type:f,key:v,ref:w,props:b,_owner:i.current}}return oo.Fragment=s,oo.jsx=u,oo.jsxs=u,oo}var gh;function _y(){return gh||(gh=1,cd.exports=Iy()),cd.exports}var r=_y(),g=du();const un=cu(g),Ly=My({__proto__:null,default:un},[g]);var Fl={},ud={exports:{}},Kt={},fd={exports:{}},md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function Oy(){return xh||(xh=1,function(t){function a($,K){var Y=$.length;$.push(K);e:for(;0<Y;){var _=Y-1>>>1,q=$[_];if(0<i(q,K))$[_]=K,$[Y]=q,Y=_;else break e}}function s($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var K=$[0],Y=$.pop();if(Y!==K){$[0]=Y;e:for(var _=0,q=$.length,de=q>>>1;_<de;){var fe=2*(_+1)-1,Se=$[fe],we=fe+1,le=$[we];if(0>i(Se,Y))we<q&&0>i(le,Se)?($[_]=le,$[we]=Y,_=we):($[_]=Se,$[fe]=Y,_=fe);else if(we<q&&0>i(le,Y))$[_]=le,$[we]=Y,_=we;else break e}}return K}function i($,K){var Y=$.sortIndex-K.sortIndex;return Y!==0?Y:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,b=null,v=3,w=!1,S=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P($){for(var K=s(p);K!==null;){if(K.callback===null)l(p);else if(K.startTime<=$)l(p),K.sortIndex=K.expirationTime,a(m,K);else break;K=s(p)}}function I($){if(N=!1,P($),!S)if(s(m)!==null)S=!0,X(M);else{var K=s(p);K!==null&&ae(I,K.startTime-$)}}function M($,K){S=!1,N&&(N=!1,j(V),V=-1),w=!0;var Y=v;try{for(P(K),b=s(m);b!==null&&(!(b.expirationTime>K)||$&&!Q());){var _=b.callback;if(typeof _=="function"){b.callback=null,v=b.priorityLevel;var q=_(b.expirationTime<=K);K=t.unstable_now(),typeof q=="function"?b.callback=q:b===s(m)&&l(m),P(K)}else l(m);b=s(m)}if(b!==null)var de=!0;else{var fe=s(p);fe!==null&&ae(I,fe.startTime-K),de=!1}return de}finally{b=null,v=Y,w=!1}}var R=!1,D=null,V=-1,T=5,O=-1;function Q(){return!(t.unstable_now()-O<T)}function J(){if(D!==null){var $=t.unstable_now();O=$;var K=!0;try{K=D(!0,$)}finally{K?Z():(R=!1,D=null)}}else R=!1}var Z;if(typeof k=="function")Z=function(){k(J)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=J,Z=function(){re.postMessage(null)}}else Z=function(){C(J,0)};function X($){D=$,R||(R=!0,Z())}function ae($,K){V=C(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,X(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return s(m)},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var Y=v;v=K;try{return $()}finally{v=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=v;v=$;try{return K()}finally{v=Y}},t.unstable_scheduleCallback=function($,K,Y){var _=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?_+Y:_):Y=_,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Y+q,$={id:y++,callback:K,priorityLevel:$,startTime:Y,expirationTime:q,sortIndex:-1},Y>_?($.sortIndex=Y,a(p,$),s(m)===null&&$===s(p)&&(N?(j(V),V=-1):N=!0,ae(I,Y-_))):($.sortIndex=q,a(m,$),S||w||(S=!0,X(M))),$},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function($){var K=v;return function(){var Y=v;v=K;try{return $.apply(this,arguments)}finally{v=Y}}}}(md)),md}var yh;function Fy(){return yh||(yh=1,fd.exports=Oy()),fd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function $y(){if(vh)return Kt;vh=1;var t=du(),a=Fy();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function c(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(i[e]=n,e=0;e<n.length;e++)l.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function v(e){return m.call(b,e)?!0:m.call(y,e)?!1:p.test(e)?b[e]=!0:(y[e]=!0,!1)}function w(e,n,o,d){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,o,d){if(n===null||typeof n>"u"||w(e,n,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(e,n,o,d,h,x,E){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=x,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new N(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(j,k);C[n]=new N(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(j,k);C[n]=new N(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(j,k);C[n]=new N(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,n,o,d){var h=C.hasOwnProperty(n)?C[n]:null;(h!==null?h.type!==0:d||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,o,h,d)&&(o=null),d||h===null?v(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):h.mustUseProperty?e[h.propertyName]=o===null?h.type===3?!1:"":o:(n=h.attributeName,d=h.attributeNamespace,o===null?e.removeAttribute(n):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,d?e.setAttributeNS(d,n,o):e.setAttribute(n,o))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),$=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,_;function q(e){if(_===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var de=!1;function fe(e,n){if(!e||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var d=H}Reflect.construct(e,[],n)}else{try{n.call()}catch(H){d=H}e.call(n.prototype)}else{try{throw Error()}catch(H){d=H}e()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var h=H.stack.split(`
`),x=d.stack.split(`
`),E=h.length-1,A=x.length-1;1<=E&&0<=A&&h[E]!==x[A];)A--;for(;1<=E&&0<=A;E--,A--)if(h[E]!==x[A]){if(E!==1||A!==1)do if(E--,A--,0>A||h[E]!==x[A]){var F=`
`+h[E].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=E&&0<=A);break}}}finally{de=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?q(e):""}function Se(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case R:return"Portal";case T:return"Profiler";case V:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case J:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}function le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Me(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pe(e){var n=Me(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),d=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,x=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(E){d=""+E,x.call(this,E)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function _e(e){e._valueTracker||(e._valueTracker=pe(e))}function Ue(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),d="";return e&&(d=Me(e)?e.checked?"true":"false":e.value),e=d,e!==o?(n.setValue(e),!0):!1}function ft(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mt(e,n){var o=n.checked;return Y({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Tr(e,n){var o=n.defaultValue==null?"":n.defaultValue,d=n.checked!=null?n.checked:n.defaultChecked;o=me(n.value!=null?n.value:o),e._wrapperState={initialChecked:d,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Mr(e,n){n=n.checked,n!=null&&P(e,"checked",n,!1)}function ir(e,n){Mr(e,n);var o=me(n.value),d=n.type;if(o!=null)d==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?la(e,n.type,o):n.hasOwnProperty("defaultValue")&&la(e,n.type,me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function _a(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var d=n.type;if(!(d!=="submit"&&d!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function la(e,n,o){(n!=="number"||ft(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Kr=Array.isArray;function Ar(e,n,o,d){if(e=e.options,n){n={};for(var h=0;h<o.length;h++)n["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=n.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&d&&(e[o].defaultSelected=!0)}else{for(o=""+me(o),n=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,d&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Jt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ir(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(Kr(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:me(o)}}function ia(e,n){var o=me(n.value),d=me(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),d!=null&&(e.defaultValue=""+d)}function wn(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Zt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qr,jn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,d,h){MSApp.execUnsafeLocalFunction(function(){return e(n,o,d,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Xr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ie=["Webkit","ms","Moz","O"];Object.keys(ve).forEach(function(e){Ie.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ve[n]=ve[e]})});function Ze(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||ve.hasOwnProperty(e)&&ve[e]?(""+n).trim():n+"px"}function et(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var d=o.indexOf("--")===0,h=Ze(o,n[o],d);o==="float"&&(o="cssFloat"),d?e.setProperty(o,h):e[o]=h}}var wt=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _r(e,n){if(n){if(wt[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function At(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=null;function ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Jr=null,Nn=null;function Ss(e){if(e=Hs(e)){if(typeof Cs!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Zo(n),Cs(e.stateNode,e.type,n))}}function da(e){Jr?Nn?Nn.push(e):Nn=[e]:Jr=e}function ua(){if(Jr){var e=Jr,n=Nn;if(Nn=Jr=null,Ss(e),n)for(e=0;e<n.length;e++)Ss(n[e])}}function Ao(e,n){return e(n)}function Io(){}var L=!1;function B(e,n,o){if(L)return e(n,o);L=!0;try{return Ao(e,n,o)}finally{L=!1,(Jr!==null||Nn!==null)&&(Io(),ua())}}function G(e,n){var o=e.stateNode;if(o===null)return null;var d=Zo(o);if(d===null)return null;o=d[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var oe=!1;if(f)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){oe=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{oe=!1}function Ce(e,n,o,d,h,x,E,A,F){var H=Array.prototype.slice.call(arguments,3);try{n.apply(o,H)}catch(ne){this.onError(ne)}}var be=!1,ge=null,Ne=!1,Pe=null,Ee={onError:function(e){be=!0,ge=e}};function ke(e,n,o,d,h,x,E,A,F){be=!1,ge=null,Ce.apply(Ee,arguments)}function $e(e,n,o,d,h,x,E,A,F){if(ke.apply(this,arguments),be){if(be){var H=ge;be=!1,ge=null}else throw Error(s(198));Ne||(Ne=!0,Pe=H)}}function He(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function jt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function St(e){if(He(e)!==e)throw Error(s(188))}function at(e){var n=e.alternate;if(!n){if(n=He(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,d=n;;){var h=o.return;if(h===null)break;var x=h.alternate;if(x===null){if(d=h.return,d!==null){o=d;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===o)return St(h),e;if(x===d)return St(h),n;x=x.sibling}throw Error(s(188))}if(o.return!==d.return)o=h,d=x;else{for(var E=!1,A=h.child;A;){if(A===o){E=!0,o=h,d=x;break}if(A===d){E=!0,d=h,o=x;break}A=A.sibling}if(!E){for(A=x.child;A;){if(A===o){E=!0,o=x,d=h;break}if(A===d){E=!0,d=x,o=h;break}A=A.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function Ke(e){return e=at(e),e!==null?Lr(e):null}function Lr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Lr(e);if(n!==null)return n;e=e.sibling}return null}var Cn=a.unstable_scheduleCallback,vr=a.unstable_cancelCallback,cr=a.unstable_shouldYield,Es=a.unstable_requestPaint,Qe=a.unstable_now,Zr=a.unstable_getCurrentPriorityLevel,Sn=a.unstable_ImmediatePriority,fa=a.unstable_UserBlockingPriority,ze=a.unstable_NormalPriority,Et=a.unstable_LowPriority,ma=a.unstable_IdlePriority,Or=null,Ye=null;function Oa(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Or,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Q0,Pi=Math.log,K0=Math.LN2;function Q0(e){return e>>>=0,e===0?32:31-(Pi(e)/K0|0)|0}var _o=64,Lo=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oo(e,n){var o=e.pendingLanes;if(o===0)return 0;var d=0,h=e.suspendedLanes,x=e.pingedLanes,E=o&268435455;if(E!==0){var A=E&~h;A!==0?d=ks(A):(x&=E,x!==0&&(d=ks(x)))}else E=o&~h,E!==0?d=ks(E):x!==0&&(d=ks(x));if(d===0)return 0;if(n!==0&&n!==d&&(n&h)===0&&(h=d&-d,x=n&-n,h>=x||h===16&&(x&4194240)!==0))return n;if((d&4)!==0&&(d|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=d;0<n;)o=31-Ut(n),h=1<<o,d|=e[o],n&=~h;return d}function X0(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J0(e,n){for(var o=e.suspendedLanes,d=e.pingedLanes,h=e.expirationTimes,x=e.pendingLanes;0<x;){var E=31-Ut(x),A=1<<E,F=h[E];F===-1?((A&o)===0||(A&d)!==0)&&(h[E]=X0(A,n)):F<=n&&(e.expiredLanes|=A),x&=~A}}function Di(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uu(){var e=_o;return _o<<=1,(_o&4194240)===0&&(_o=64),e}function Ti(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Rs(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Ut(n),e[n]=o}function Z0(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<o;){var h=31-Ut(o),x=1<<h;n[h]=0,d[h]=-1,e[h]=-1,o&=~x}}function Mi(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var d=31-Ut(o),h=1<<d;h&n|e[d]&n&&(e[d]|=n),o&=~h}}var qe=0;function Wu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Hu,Ai,Yu,Gu,qu,Ii=!1,Fo=[],En=null,kn=null,Rn=null,Ps=new Map,Ds=new Map,Pn=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(e,n){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(n.pointerId)}}function Ts(e,n,o,d,h,x){return e===null||e.nativeEvent!==x?(e={blockedOn:n,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[h]},n!==null&&(n=Hs(n),n!==null&&Ai(n)),e):(e.eventSystemFlags|=d,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function tx(e,n,o,d,h){switch(n){case"focusin":return En=Ts(En,e,n,o,d,h),!0;case"dragenter":return kn=Ts(kn,e,n,o,d,h),!0;case"mouseover":return Rn=Ts(Rn,e,n,o,d,h),!0;case"pointerover":var x=h.pointerId;return Ps.set(x,Ts(Ps.get(x)||null,e,n,o,d,h)),!0;case"gotpointercapture":return x=h.pointerId,Ds.set(x,Ts(Ds.get(x)||null,e,n,o,d,h)),!0}return!1}function Qu(e){var n=ha(e.target);if(n!==null){var o=He(n);if(o!==null){if(n=o.tag,n===13){if(n=jt(o),n!==null){e.blockedOn=n,qu(e.priority,function(){Yu(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Li(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var d=new o.constructor(o.type,o);La=d,o.target.dispatchEvent(d),La=null}else return n=Hs(o),n!==null&&Ai(n),e.blockedOn=o,!1;n.shift()}return!0}function Xu(e,n,o){$o(e)&&o.delete(n)}function rx(){Ii=!1,En!==null&&$o(En)&&(En=null),kn!==null&&$o(kn)&&(kn=null),Rn!==null&&$o(Rn)&&(Rn=null),Ps.forEach(Xu),Ds.forEach(Xu)}function Ms(e,n){e.blockedOn===n&&(e.blockedOn=null,Ii||(Ii=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,rx)))}function As(e){function n(h){return Ms(h,e)}if(0<Fo.length){Ms(Fo[0],e);for(var o=1;o<Fo.length;o++){var d=Fo[o];d.blockedOn===e&&(d.blockedOn=null)}}for(En!==null&&Ms(En,e),kn!==null&&Ms(kn,e),Rn!==null&&Ms(Rn,e),Ps.forEach(n),Ds.forEach(n),o=0;o<Pn.length;o++)d=Pn[o],d.blockedOn===e&&(d.blockedOn=null);for(;0<Pn.length&&(o=Pn[0],o.blockedOn===null);)Qu(o),o.blockedOn===null&&Pn.shift()}var Fa=I.ReactCurrentBatchConfig,zo=!0;function nx(e,n,o,d){var h=qe,x=Fa.transition;Fa.transition=null;try{qe=1,_i(e,n,o,d)}finally{qe=h,Fa.transition=x}}function ax(e,n,o,d){var h=qe,x=Fa.transition;Fa.transition=null;try{qe=4,_i(e,n,o,d)}finally{qe=h,Fa.transition=x}}function _i(e,n,o,d){if(zo){var h=Li(e,n,o,d);if(h===null)Zi(e,n,d,Vo,o),Ku(e,d);else if(tx(h,e,n,o,d))d.stopPropagation();else if(Ku(e,d),n&4&&-1<ex.indexOf(e)){for(;h!==null;){var x=Hs(h);if(x!==null&&Hu(x),x=Li(e,n,o,d),x===null&&Zi(e,n,d,Vo,o),x===h)break;h=x}h!==null&&d.stopPropagation()}else Zi(e,n,d,null,o)}}var Vo=null;function Li(e,n,o,d){if(Vo=null,e=ca(d),e=ha(e),e!==null)if(n=He(e),n===null)e=null;else if(o=n.tag,o===13){if(e=jt(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Vo=e,null}function Ju(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zr()){case Sn:return 1;case fa:return 4;case ze:case Et:return 16;case ma:return 536870912;default:return 16}default:return 16}}var Dn=null,Oi=null,Bo=null;function Zu(){if(Bo)return Bo;var e,n=Oi,o=n.length,d,h="value"in Dn?Dn.value:Dn.textContent,x=h.length;for(e=0;e<o&&n[e]===h[e];e++);var E=o-e;for(d=1;d<=E&&n[o-d]===h[x-d];d++);return Bo=h.slice(e,1<d?1-d:void 0)}function Uo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wo(){return!0}function ef(){return!1}function er(e){function n(o,d,h,x,E){this._reactName=o,this._targetInst=h,this.type=d,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(o=e[A],this[A]=o?o(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Wo:ef,this.isPropagationStopped=ef,this}return Y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),n}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=er($a),Is=Y({},$a,{view:0,detail:0}),sx=er(Is),$i,zi,_s,Ho=Y({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?($i=e.screenX-_s.screenX,zi=e.screenY-_s.screenY):zi=$i=0,_s=e),$i)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),tf=er(Ho),ox=Y({},Ho,{dataTransfer:0}),lx=er(ox),ix=Y({},Is,{relatedTarget:0}),Vi=er(ix),cx=Y({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),dx=er(cx),ux=Y({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fx=er(ux),mx=Y({},$a,{data:0}),rf=er(mx),hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},px={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gx[e])?!!n[e]:!1}function Bi(){return xx}var yx=Y({},Is,{key:function(e){if(e.key){var n=hx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?px[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bi,charCode:function(e){return e.type==="keypress"?Uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vx=er(yx),bx=Y({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=er(bx),wx=Y({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bi}),jx=er(wx),Nx=Y({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cx=er(Nx),Sx=Y({},Ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ex=er(Sx),kx=[9,13,27,32],Ui=f&&"CompositionEvent"in window,Ls=null;f&&"documentMode"in document&&(Ls=document.documentMode);var Rx=f&&"TextEvent"in window&&!Ls,af=f&&(!Ui||Ls&&8<Ls&&11>=Ls),sf=" ",of=!1;function lf(e,n){switch(e){case"keyup":return kx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function Px(e,n){switch(e){case"compositionend":return cf(n);case"keypress":return n.which!==32?null:(of=!0,sf);case"textInput":return e=n.data,e===sf&&of?null:e;default:return null}}function Dx(e,n){if(za)return e==="compositionend"||!Ui&&lf(e,n)?(e=Zu(),Bo=Oi=Dn=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return af&&n.locale!=="ko"?null:n.data;default:return null}}var Tx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tx[e.type]:n==="textarea"}function uf(e,n,o,d){da(d),n=Qo(n,"onChange"),0<n.length&&(o=new Fi("onChange","change",null,o,d),e.push({event:o,listeners:n}))}var Os=null,Fs=null;function Mx(e){Pf(e,0)}function Yo(e){var n=Ha(e);if(Ue(n))return e}function Ax(e,n){if(e==="change")return n}var ff=!1;if(f){var Wi;if(f){var Hi="oninput"in document;if(!Hi){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),Hi=typeof mf.oninput=="function"}Wi=Hi}else Wi=!1;ff=Wi&&(!document.documentMode||9<document.documentMode)}function hf(){Os&&(Os.detachEvent("onpropertychange",pf),Fs=Os=null)}function pf(e){if(e.propertyName==="value"&&Yo(Fs)){var n=[];uf(n,Fs,e,ca(e)),B(Mx,n)}}function Ix(e,n,o){e==="focusin"?(hf(),Os=n,Fs=o,Os.attachEvent("onpropertychange",pf)):e==="focusout"&&hf()}function _x(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(Fs)}function Lx(e,n){if(e==="click")return Yo(n)}function Ox(e,n){if(e==="input"||e==="change")return Yo(n)}function Fx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var br=typeof Object.is=="function"?Object.is:Fx;function $s(e,n){if(br(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),d=Object.keys(n);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var h=o[d];if(!m.call(n,h)||!br(e[h],n[h]))return!1}return!0}function gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,n){var o=gf(e);e=0;for(var d;o;){if(o.nodeType===3){if(d=e+o.textContent.length,e<=n&&d>=n)return{node:o,offset:n-e};e=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gf(o)}}function yf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vf(){for(var e=window,n=ft();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=ft(e.document)}return n}function Yi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function $x(e){var n=vf(),o=e.focusedElem,d=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&yf(o.ownerDocument.documentElement,o)){if(d!==null&&Yi(o)){if(n=d.start,e=d.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=o.textContent.length,x=Math.min(d.start,h);d=d.end===void 0?x:Math.min(d.end,h),!e.extend&&x>d&&(h=d,d=x,x=h),h=xf(o,x);var E=xf(o,d);h&&E&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==E.node||e.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),x>d?(e.addRange(n),e.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zx=f&&"documentMode"in document&&11>=document.documentMode,Va=null,Gi=null,zs=null,qi=!1;function bf(e,n,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qi||Va==null||Va!==ft(d)||(d=Va,"selectionStart"in d&&Yi(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),zs&&$s(zs,d)||(zs=d,d=Qo(Gi,"onSelect"),0<d.length&&(n=new Fi("onSelect","select",null,n,o),e.push({event:n,listeners:d}),n.target=Va)))}function Go(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Ba={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},Ki={},wf={};f&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function qo(e){if(Ki[e])return Ki[e];if(!Ba[e])return e;var n=Ba[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in wf)return Ki[e]=n[o];return e}var jf=qo("animationend"),Nf=qo("animationiteration"),Cf=qo("animationstart"),Sf=qo("transitionend"),Ef=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,n){Ef.set(e,n),c(n,[e])}for(var Qi=0;Qi<kf.length;Qi++){var Xi=kf[Qi],Vx=Xi.toLowerCase(),Bx=Xi[0].toUpperCase()+Xi.slice(1);Tn(Vx,"on"+Bx)}Tn(jf,"onAnimationEnd"),Tn(Nf,"onAnimationIteration"),Tn(Cf,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Sf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Rf(e,n,o){var d=e.type||"unknown-event";e.currentTarget=o,$e(d,n,void 0,e),e.currentTarget=null}function Pf(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var d=e[o],h=d.event;d=d.listeners;e:{var x=void 0;if(n)for(var E=d.length-1;0<=E;E--){var A=d[E],F=A.instance,H=A.currentTarget;if(A=A.listener,F!==x&&h.isPropagationStopped())break e;Rf(h,A,H),x=F}else for(E=0;E<d.length;E++){if(A=d[E],F=A.instance,H=A.currentTarget,A=A.listener,F!==x&&h.isPropagationStopped())break e;Rf(h,A,H),x=F}}}if(Ne)throw e=Pe,Ne=!1,Pe=null,e}function tt(e,n){var o=n[sc];o===void 0&&(o=n[sc]=new Set);var d=e+"__bubble";o.has(d)||(Df(n,e,2,!1),o.add(d))}function Ji(e,n,o){var d=0;n&&(d|=4),Df(o,e,d,n)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function Bs(e){if(!e[Ko]){e[Ko]=!0,l.forEach(function(o){o!=="selectionchange"&&(Ux.has(o)||Ji(o,!1,e),Ji(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ko]||(n[Ko]=!0,Ji("selectionchange",!1,n))}}function Df(e,n,o,d){switch(Ju(n)){case 1:var h=nx;break;case 4:h=ax;break;default:h=_i}o=h.bind(null,n,o,e),h=void 0,!oe||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),d?h!==void 0?e.addEventListener(n,o,{capture:!0,passive:h}):e.addEventListener(n,o,!0):h!==void 0?e.addEventListener(n,o,{passive:h}):e.addEventListener(n,o,!1)}function Zi(e,n,o,d,h){var x=d;if((n&1)===0&&(n&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(E===4)for(E=d.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===h||F.nodeType===8&&F.parentNode===h))return;E=E.return}for(;A!==null;){if(E=ha(A),E===null)return;if(F=E.tag,F===5||F===6){d=x=E;continue e}A=A.parentNode}}d=d.return}B(function(){var H=x,ne=ca(o),se=[];e:{var ee=Ef.get(e);if(ee!==void 0){var ue=Fi,xe=e;switch(e){case"keypress":if(Uo(o)===0)break e;case"keydown":case"keyup":ue=vx;break;case"focusin":xe="focus",ue=Vi;break;case"focusout":xe="blur",ue=Vi;break;case"beforeblur":case"afterblur":ue=Vi;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=jx;break;case jf:case Nf:case Cf:ue=dx;break;case Sf:ue=Cx;break;case"scroll":ue=sx;break;case"wheel":ue=Ex;break;case"copy":case"cut":case"paste":ue=fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=nf}var ye=(n&4)!==0,ht=!ye&&e==="scroll",U=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var z=H,W;z!==null;){W=z;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,U!==null&&(ie=G(z,U),ie!=null&&ye.push(Us(z,ie,W)))),ht)break;z=z.return}0<ye.length&&(ee=new ue(ee,xe,null,o,ne),se.push({event:ee,listeners:ye}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",ee&&o!==La&&(xe=o.relatedTarget||o.fromElement)&&(ha(xe)||xe[en]))break e;if((ue||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(xe=o.relatedTarget||o.toElement,ue=H,xe=xe?ha(xe):null,xe!==null&&(ht=He(xe),xe!==ht||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ue=null,xe=H),ue!==xe)){if(ye=tf,ie="onMouseLeave",U="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(ye=nf,ie="onPointerLeave",U="onPointerEnter",z="pointer"),ht=ue==null?ee:Ha(ue),W=xe==null?ee:Ha(xe),ee=new ye(ie,z+"leave",ue,o,ne),ee.target=ht,ee.relatedTarget=W,ie=null,ha(ne)===H&&(ye=new ye(U,z+"enter",xe,o,ne),ye.target=W,ye.relatedTarget=ht,ie=ye),ht=ie,ue&&xe)t:{for(ye=ue,U=xe,z=0,W=ye;W;W=Ua(W))z++;for(W=0,ie=U;ie;ie=Ua(ie))W++;for(;0<z-W;)ye=Ua(ye),z--;for(;0<W-z;)U=Ua(U),W--;for(;z--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=Ua(ye),U=Ua(U)}ye=null}else ye=null;ue!==null&&Tf(se,ee,ue,ye,!1),xe!==null&&ht!==null&&Tf(se,ht,xe,ye,!0)}}e:{if(ee=H?Ha(H):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var je=Ax;else if(df(ee))if(ff)je=Ox;else{je=_x;var De=Ix}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(je=Lx);if(je&&(je=je(e,H))){uf(se,je,o,ne);break e}De&&De(e,ee,H),e==="focusout"&&(De=ee._wrapperState)&&De.controlled&&ee.type==="number"&&la(ee,"number",ee.value)}switch(De=H?Ha(H):window,e){case"focusin":(df(De)||De.contentEditable==="true")&&(Va=De,Gi=H,zs=null);break;case"focusout":zs=Gi=Va=null;break;case"mousedown":qi=!0;break;case"contextmenu":case"mouseup":case"dragend":qi=!1,bf(se,o,ne);break;case"selectionchange":if(zx)break;case"keydown":case"keyup":bf(se,o,ne)}var Te;if(Ui)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else za?lf(e,o)&&(Ae="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(af&&o.locale!=="ko"&&(za||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&za&&(Te=Zu()):(Dn=ne,Oi="value"in Dn?Dn.value:Dn.textContent,za=!0)),De=Qo(H,Ae),0<De.length&&(Ae=new rf(Ae,e,null,o,ne),se.push({event:Ae,listeners:De}),Te?Ae.data=Te:(Te=cf(o),Te!==null&&(Ae.data=Te)))),(Te=Rx?Px(e,o):Dx(e,o))&&(H=Qo(H,"onBeforeInput"),0<H.length&&(ne=new rf("onBeforeInput","beforeinput",null,o,ne),se.push({event:ne,listeners:H}),ne.data=Te))}Pf(se,n)})}function Us(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Qo(e,n){for(var o=n+"Capture",d=[];e!==null;){var h=e,x=h.stateNode;h.tag===5&&x!==null&&(h=x,x=G(e,o),x!=null&&d.unshift(Us(e,x,h)),x=G(e,n),x!=null&&d.push(Us(e,x,h))),e=e.return}return d}function Ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tf(e,n,o,d,h){for(var x=n._reactName,E=[];o!==null&&o!==d;){var A=o,F=A.alternate,H=A.stateNode;if(F!==null&&F===d)break;A.tag===5&&H!==null&&(A=H,h?(F=G(o,x),F!=null&&E.unshift(Us(o,F,A))):h||(F=G(o,x),F!=null&&E.push(Us(o,F,A)))),o=o.return}E.length!==0&&e.push({event:n,listeners:E})}var Wx=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function Mf(e){return(typeof e=="string"?e:""+e).replace(Wx,`
`).replace(Hx,"")}function Xo(e,n,o){if(n=Mf(n),Mf(e)!==n&&o)throw Error(s(425))}function Jo(){}var ec=null,tc=null;function rc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(e){return Af.resolve(null).then(e).catch(qx)}:nc;function qx(e){setTimeout(function(){throw e})}function ac(e,n){var o=n,d=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(d===0){e.removeChild(h),As(n);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=h}while(o);As(n)}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function If(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Wa,Ws="__reactProps$"+Wa,en="__reactContainer$"+Wa,sc="__reactEvents$"+Wa,Kx="__reactListeners$"+Wa,Qx="__reactHandles$"+Wa;function ha(e){var n=e[Fr];if(n)return n;for(var o=e.parentNode;o;){if(n=o[en]||o[Fr]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=If(e);e!==null;){if(o=e[Fr])return o;e=If(e)}return n}e=o,o=e.parentNode}return null}function Hs(e){return e=e[Fr]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Zo(e){return e[Ws]||null}var oc=[],Ya=-1;function An(e){return{current:e}}function rt(e){0>Ya||(e.current=oc[Ya],oc[Ya]=null,Ya--)}function Xe(e,n){Ya++,oc[Ya]=e.current,e.current=n}var In={},It=An(In),Wt=An(!1),pa=In;function Ga(e,n){var o=e.type.contextTypes;if(!o)return In;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===n)return d.__reactInternalMemoizedMaskedChildContext;var h={},x;for(x in o)h[x]=n[x];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(e){return e=e.childContextTypes,e!=null}function el(){rt(Wt),rt(It)}function _f(e,n,o){if(It.current!==In)throw Error(s(168));Xe(It,n),Xe(Wt,o)}function Lf(e,n,o){var d=e.stateNode;if(n=n.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var h in d)if(!(h in n))throw Error(s(108,le(e)||"Unknown",h));return Y({},o,d)}function tl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,pa=It.current,Xe(It,e),Xe(Wt,Wt.current),!0}function Of(e,n,o){var d=e.stateNode;if(!d)throw Error(s(169));o?(e=Lf(e,n,pa),d.__reactInternalMemoizedMergedChildContext=e,rt(Wt),rt(It),Xe(It,e)):rt(Wt),Xe(Wt,o)}var tn=null,rl=!1,lc=!1;function Ff(e){tn===null?tn=[e]:tn.push(e)}function Xx(e){rl=!0,Ff(e)}function _n(){if(!lc&&tn!==null){lc=!0;var e=0,n=qe;try{var o=tn;for(qe=1;e<o.length;e++){var d=o[e];do d=d(!0);while(d!==null)}tn=null,rl=!1}catch(h){throw tn!==null&&(tn=tn.slice(e+1)),Cn(Sn,_n),h}finally{qe=n,lc=!1}}return null}var qa=[],Ka=0,nl=null,al=0,dr=[],ur=0,ga=null,rn=1,nn="";function xa(e,n){qa[Ka++]=al,qa[Ka++]=nl,nl=e,al=n}function $f(e,n,o){dr[ur++]=rn,dr[ur++]=nn,dr[ur++]=ga,ga=e;var d=rn;e=nn;var h=32-Ut(d)-1;d&=~(1<<h),o+=1;var x=32-Ut(n)+h;if(30<x){var E=h-h%5;x=(d&(1<<E)-1).toString(32),d>>=E,h-=E,rn=1<<32-Ut(n)+h|o<<h|d,nn=x+e}else rn=1<<x|o<<h|d,nn=e}function ic(e){e.return!==null&&(xa(e,1),$f(e,1,0))}function cc(e){for(;e===nl;)nl=qa[--Ka],qa[Ka]=null,al=qa[--Ka],qa[Ka]=null;for(;e===ga;)ga=dr[--ur],dr[ur]=null,nn=dr[--ur],dr[ur]=null,rn=dr[--ur],dr[ur]=null}var tr=null,rr=null,st=!1,wr=null;function zf(e,n){var o=pr(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Vf(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,tr=e,rr=Mn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,tr=e,rr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=ga!==null?{id:rn,overflow:nn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=pr(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,tr=e,rr=null,!0):!1;default:return!1}}function dc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(st){var n=rr;if(n){var o=n;if(!Vf(e,n)){if(dc(e))throw Error(s(418));n=Mn(o.nextSibling);var d=tr;n&&Vf(e,n)?zf(d,o):(e.flags=e.flags&-4097|2,st=!1,tr=e)}}else{if(dc(e))throw Error(s(418));e.flags=e.flags&-4097|2,st=!1,tr=e}}}function Bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function sl(e){if(e!==tr)return!1;if(!st)return Bf(e),st=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!rc(e.type,e.memoizedProps)),n&&(n=rr)){if(dc(e))throw Uf(),Error(s(418));for(;n;)zf(e,n),n=Mn(n.nextSibling)}if(Bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){rr=Mn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}rr=null}}else rr=tr?Mn(e.stateNode.nextSibling):null;return!0}function Uf(){for(var e=rr;e;)e=Mn(e.nextSibling)}function Qa(){rr=tr=null,st=!1}function fc(e){wr===null?wr=[e]:wr.push(e)}var Jx=I.ReactCurrentBatchConfig;function Ys(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var d=o.stateNode}if(!d)throw Error(s(147,e));var h=d,x=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===x?n.ref:(n=function(E){var A=h.refs;E===null?delete A[x]:A[x]=E},n._stringRef=x,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function ol(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Wf(e){var n=e._init;return n(e._payload)}function Hf(e){function n(U,z){if(e){var W=U.deletions;W===null?(U.deletions=[z],U.flags|=16):W.push(z)}}function o(U,z){if(!e)return null;for(;z!==null;)n(U,z),z=z.sibling;return null}function d(U,z){for(U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(U,z){return U=Un(U,z),U.index=0,U.sibling=null,U}function x(U,z,W){return U.index=W,e?(W=U.alternate,W!==null?(W=W.index,W<z?(U.flags|=2,z):W):(U.flags|=2,z)):(U.flags|=1048576,z)}function E(U){return e&&U.alternate===null&&(U.flags|=2),U}function A(U,z,W,ie){return z===null||z.tag!==6?(z=nd(W,U.mode,ie),z.return=U,z):(z=h(z,W),z.return=U,z)}function F(U,z,W,ie){var je=W.type;return je===D?ne(U,z,W.props.children,ie,W.key):z!==null&&(z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===X&&Wf(je)===z.type)?(ie=h(z,W.props),ie.ref=Ys(U,z,W),ie.return=U,ie):(ie=Dl(W.type,W.key,W.props,null,U.mode,ie),ie.ref=Ys(U,z,W),ie.return=U,ie)}function H(U,z,W,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=ad(W,U.mode,ie),z.return=U,z):(z=h(z,W.children||[]),z.return=U,z)}function ne(U,z,W,ie,je){return z===null||z.tag!==7?(z=Sa(W,U.mode,ie,je),z.return=U,z):(z=h(z,W),z.return=U,z)}function se(U,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=nd(""+z,U.mode,W),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return W=Dl(z.type,z.key,z.props,null,U.mode,W),W.ref=Ys(U,null,z),W.return=U,W;case R:return z=ad(z,U.mode,W),z.return=U,z;case X:var ie=z._init;return se(U,ie(z._payload),W)}if(Kr(z)||K(z))return z=Sa(z,U.mode,W,null),z.return=U,z;ol(U,z)}return null}function ee(U,z,W,ie){var je=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return je!==null?null:A(U,z,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return W.key===je?F(U,z,W,ie):null;case R:return W.key===je?H(U,z,W,ie):null;case X:return je=W._init,ee(U,z,je(W._payload),ie)}if(Kr(W)||K(W))return je!==null?null:ne(U,z,W,ie,null);ol(U,W)}return null}function ue(U,z,W,ie,je){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return U=U.get(W)||null,A(z,U,""+ie,je);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case M:return U=U.get(ie.key===null?W:ie.key)||null,F(z,U,ie,je);case R:return U=U.get(ie.key===null?W:ie.key)||null,H(z,U,ie,je);case X:var De=ie._init;return ue(U,z,W,De(ie._payload),je)}if(Kr(ie)||K(ie))return U=U.get(W)||null,ne(z,U,ie,je,null);ol(z,ie)}return null}function xe(U,z,W,ie){for(var je=null,De=null,Te=z,Ae=z=0,Pt=null;Te!==null&&Ae<W.length;Ae++){Te.index>Ae?(Pt=Te,Te=null):Pt=Te.sibling;var We=ee(U,Te,W[Ae],ie);if(We===null){Te===null&&(Te=Pt);break}e&&Te&&We.alternate===null&&n(U,Te),z=x(We,z,Ae),De===null?je=We:De.sibling=We,De=We,Te=Pt}if(Ae===W.length)return o(U,Te),st&&xa(U,Ae),je;if(Te===null){for(;Ae<W.length;Ae++)Te=se(U,W[Ae],ie),Te!==null&&(z=x(Te,z,Ae),De===null?je=Te:De.sibling=Te,De=Te);return st&&xa(U,Ae),je}for(Te=d(U,Te);Ae<W.length;Ae++)Pt=ue(Te,U,Ae,W[Ae],ie),Pt!==null&&(e&&Pt.alternate!==null&&Te.delete(Pt.key===null?Ae:Pt.key),z=x(Pt,z,Ae),De===null?je=Pt:De.sibling=Pt,De=Pt);return e&&Te.forEach(function(Wn){return n(U,Wn)}),st&&xa(U,Ae),je}function ye(U,z,W,ie){var je=K(W);if(typeof je!="function")throw Error(s(150));if(W=je.call(W),W==null)throw Error(s(151));for(var De=je=null,Te=z,Ae=z=0,Pt=null,We=W.next();Te!==null&&!We.done;Ae++,We=W.next()){Te.index>Ae?(Pt=Te,Te=null):Pt=Te.sibling;var Wn=ee(U,Te,We.value,ie);if(Wn===null){Te===null&&(Te=Pt);break}e&&Te&&Wn.alternate===null&&n(U,Te),z=x(Wn,z,Ae),De===null?je=Wn:De.sibling=Wn,De=Wn,Te=Pt}if(We.done)return o(U,Te),st&&xa(U,Ae),je;if(Te===null){for(;!We.done;Ae++,We=W.next())We=se(U,We.value,ie),We!==null&&(z=x(We,z,Ae),De===null?je=We:De.sibling=We,De=We);return st&&xa(U,Ae),je}for(Te=d(U,Te);!We.done;Ae++,We=W.next())We=ue(Te,U,Ae,We.value,ie),We!==null&&(e&&We.alternate!==null&&Te.delete(We.key===null?Ae:We.key),z=x(We,z,Ae),De===null?je=We:De.sibling=We,De=We);return e&&Te.forEach(function(Ty){return n(U,Ty)}),st&&xa(U,Ae),je}function ht(U,z,W,ie){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case M:e:{for(var je=W.key,De=z;De!==null;){if(De.key===je){if(je=W.type,je===D){if(De.tag===7){o(U,De.sibling),z=h(De,W.props.children),z.return=U,U=z;break e}}else if(De.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===X&&Wf(je)===De.type){o(U,De.sibling),z=h(De,W.props),z.ref=Ys(U,De,W),z.return=U,U=z;break e}o(U,De);break}else n(U,De);De=De.sibling}W.type===D?(z=Sa(W.props.children,U.mode,ie,W.key),z.return=U,U=z):(ie=Dl(W.type,W.key,W.props,null,U.mode,ie),ie.ref=Ys(U,z,W),ie.return=U,U=ie)}return E(U);case R:e:{for(De=W.key;z!==null;){if(z.key===De)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){o(U,z.sibling),z=h(z,W.children||[]),z.return=U,U=z;break e}else{o(U,z);break}else n(U,z);z=z.sibling}z=ad(W,U.mode,ie),z.return=U,U=z}return E(U);case X:return De=W._init,ht(U,z,De(W._payload),ie)}if(Kr(W))return xe(U,z,W,ie);if(K(W))return ye(U,z,W,ie);ol(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(o(U,z.sibling),z=h(z,W),z.return=U,U=z):(o(U,z),z=nd(W,U.mode,ie),z.return=U,U=z),E(U)):o(U,z)}return ht}var Xa=Hf(!0),Yf=Hf(!1),ll=An(null),il=null,Ja=null,mc=null;function hc(){mc=Ja=il=null}function pc(e){var n=ll.current;rt(ll),e._currentValue=n}function gc(e,n,o){for(;e!==null;){var d=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,d!==null&&(d.childLanes|=n)):d!==null&&(d.childLanes&n)!==n&&(d.childLanes|=n),e===o)break;e=e.return}}function Za(e,n){il=e,mc=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Yt=!0),e.firstContext=null)}function fr(e){var n=e._currentValue;if(mc!==e)if(e={context:e,memoizedValue:n,next:null},Ja===null){if(il===null)throw Error(s(308));Ja=e,il.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return n}var ya=null;function xc(e){ya===null?ya=[e]:ya.push(e)}function Gf(e,n,o,d){var h=n.interleaved;return h===null?(o.next=o,xc(n)):(o.next=h.next,h.next=o),n.interleaved=o,an(e,d)}function an(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Ln=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function On(e,n,o){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var h=d.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),d.pending=n,an(e,o)}return h=d.interleaved,h===null?(n.next=n,xc(d)):(n.next=h.next,h.next=n),d.interleaved=n,an(e,o)}function cl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Mi(e,o)}}function Kf(e,n){var o=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var h=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var E={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};x===null?h=x=E:x=x.next=E,o=o.next}while(o!==null);x===null?h=x=n:x=x.next=n}else h=x=n;o={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:d.shared,effects:d.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function dl(e,n,o,d){var h=e.updateQueue;Ln=!1;var x=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var F=A,H=F.next;F.next=null,E===null?x=H:E.next=H,E=F;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==E&&(A===null?ne.firstBaseUpdate=H:A.next=H,ne.lastBaseUpdate=F))}if(x!==null){var se=h.baseState;E=0,ne=H=F=null,A=x;do{var ee=A.lane,ue=A.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var xe=e,ye=A;switch(ee=n,ue=o,ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){se=xe.call(ue,se,ee);break e}se=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,ee=typeof xe=="function"?xe.call(ue,se,ee):xe,ee==null)break e;se=Y({},se,ee);break e;case 2:Ln=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,ee=h.effects,ee===null?h.effects=[A]:ee.push(A))}else ue={eventTime:ue,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(H=ne=ue,F=se):ne=ne.next=ue,E|=ee;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,h.lastBaseUpdate=ee,h.shared.pending=null}}while(!0);if(ne===null&&(F=se),h.baseState=F,h.firstBaseUpdate=H,h.lastBaseUpdate=ne,n=h.shared.interleaved,n!==null){h=n;do E|=h.lane,h=h.next;while(h!==n)}else x===null&&(h.shared.lanes=0);wa|=E,e.lanes=E,e.memoizedState=se}}function Qf(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var d=e[n],h=d.callback;if(h!==null){if(d.callback=null,d=o,typeof h!="function")throw Error(s(191,h));h.call(d)}}}var Gs={},$r=An(Gs),qs=An(Gs),Ks=An(Gs);function va(e){if(e===Gs)throw Error(s(174));return e}function vc(e,n){switch(Xe(Ks,n),Xe(qs,e),Xe($r,Gs),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ft(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ft(n,e)}rt($r),Xe($r,n)}function es(){rt($r),rt(qs),rt(Ks)}function Xf(e){va(Ks.current);var n=va($r.current),o=Ft(n,e.type);n!==o&&(Xe(qs,e),Xe($r,o))}function bc(e){qs.current===e&&(rt($r),rt(qs))}var lt=An(0);function ul(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wc=[];function jc(){for(var e=0;e<wc.length;e++)wc[e]._workInProgressVersionPrimary=null;wc.length=0}var fl=I.ReactCurrentDispatcher,Nc=I.ReactCurrentBatchConfig,ba=0,it=null,Nt=null,kt=null,ml=!1,Qs=!1,Xs=0,Zx=0;function _t(){throw Error(s(321))}function Cc(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!br(e[o],n[o]))return!1;return!0}function Sc(e,n,o,d,h,x){if(ba=x,it=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,fl.current=e===null||e.memoizedState===null?ny:ay,e=o(d,h),Qs){x=0;do{if(Qs=!1,Xs=0,25<=x)throw Error(s(301));x+=1,kt=Nt=null,n.updateQueue=null,fl.current=sy,e=o(d,h)}while(Qs)}if(fl.current=gl,n=Nt!==null&&Nt.next!==null,ba=0,kt=Nt=it=null,ml=!1,n)throw Error(s(300));return e}function Ec(){var e=Xs!==0;return Xs=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=e:kt=kt.next=e,kt}function mr(){if(Nt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var n=kt===null?it.memoizedState:kt.next;if(n!==null)kt=n,Nt=e;else{if(e===null)throw Error(s(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},kt===null?it.memoizedState=kt=e:kt=kt.next=e}return kt}function Js(e,n){return typeof n=="function"?n(e):n}function kc(e){var n=mr(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var d=Nt,h=d.baseQueue,x=o.pending;if(x!==null){if(h!==null){var E=h.next;h.next=x.next,x.next=E}d.baseQueue=h=x,o.pending=null}if(h!==null){x=h.next,d=d.baseState;var A=E=null,F=null,H=x;do{var ne=H.lane;if((ba&ne)===ne)F!==null&&(F=F.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:e(d,H.action);else{var se={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};F===null?(A=F=se,E=d):F=F.next=se,it.lanes|=ne,wa|=ne}H=H.next}while(H!==null&&H!==x);F===null?E=d:F.next=A,br(d,n.memoizedState)||(Yt=!0),n.memoizedState=d,n.baseState=E,n.baseQueue=F,o.lastRenderedState=d}if(e=o.interleaved,e!==null){h=e;do x=h.lane,it.lanes|=x,wa|=x,h=h.next;while(h!==e)}else h===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Rc(e){var n=mr(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var d=o.dispatch,h=o.pending,x=n.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do x=e(x,E.action),E=E.next;while(E!==h);br(x,n.memoizedState)||(Yt=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),o.lastRenderedState=x}return[x,d]}function Jf(){}function Zf(e,n){var o=it,d=mr(),h=n(),x=!br(d.memoizedState,h);if(x&&(d.memoizedState=h,Yt=!0),d=d.queue,Pc(rm.bind(null,o,d,e),[e]),d.getSnapshot!==n||x||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,Zs(9,tm.bind(null,o,d,h,n),void 0,null),Rt===null)throw Error(s(349));(ba&30)!==0||em(o,n,h)}return h}function em(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function tm(e,n,o,d){n.value=o,n.getSnapshot=d,nm(n)&&am(e)}function rm(e,n,o){return o(function(){nm(n)&&am(e)})}function nm(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!br(e,o)}catch{return!0}}function am(e){var n=an(e,1);n!==null&&Sr(n,e,1,-1)}function sm(e){var n=zr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:e},n.queue=e,e=e.dispatch=ry.bind(null,it,e),[n.memoizedState,e]}function Zs(e,n,o,d){return e={tag:e,create:n,destroy:o,deps:d,next:null},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(d=o.next,o.next=e,e.next=d,n.lastEffect=e)),e}function om(){return mr().memoizedState}function hl(e,n,o,d){var h=zr();it.flags|=e,h.memoizedState=Zs(1|n,o,void 0,d===void 0?null:d)}function pl(e,n,o,d){var h=mr();d=d===void 0?null:d;var x=void 0;if(Nt!==null){var E=Nt.memoizedState;if(x=E.destroy,d!==null&&Cc(d,E.deps)){h.memoizedState=Zs(n,o,x,d);return}}it.flags|=e,h.memoizedState=Zs(1|n,o,x,d)}function lm(e,n){return hl(8390656,8,e,n)}function Pc(e,n){return pl(2048,8,e,n)}function im(e,n){return pl(4,2,e,n)}function cm(e,n){return pl(4,4,e,n)}function dm(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function um(e,n,o){return o=o!=null?o.concat([e]):null,pl(4,4,dm.bind(null,n,e),o)}function Dc(){}function fm(e,n){var o=mr();n=n===void 0?null:n;var d=o.memoizedState;return d!==null&&n!==null&&Cc(n,d[1])?d[0]:(o.memoizedState=[e,n],e)}function mm(e,n){var o=mr();n=n===void 0?null:n;var d=o.memoizedState;return d!==null&&n!==null&&Cc(n,d[1])?d[0]:(e=e(),o.memoizedState=[e,n],e)}function hm(e,n,o){return(ba&21)===0?(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=o):(br(o,n)||(o=Uu(),it.lanes|=o,wa|=o,e.baseState=!0),n)}function ey(e,n){var o=qe;qe=o!==0&&4>o?o:4,e(!0);var d=Nc.transition;Nc.transition={};try{e(!1),n()}finally{qe=o,Nc.transition=d}}function pm(){return mr().memoizedState}function ty(e,n,o){var d=Vn(e);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},gm(e))xm(n,o);else if(o=Gf(e,n,o,d),o!==null){var h=zt();Sr(o,e,d,h),ym(o,n,d)}}function ry(e,n,o){var d=Vn(e),h={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(gm(e))xm(n,h);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var E=n.lastRenderedState,A=x(E,o);if(h.hasEagerState=!0,h.eagerState=A,br(A,E)){var F=n.interleaved;F===null?(h.next=h,xc(n)):(h.next=F.next,F.next=h),n.interleaved=h;return}}catch{}finally{}o=Gf(e,n,h,d),o!==null&&(h=zt(),Sr(o,e,d,h),ym(o,n,d))}}function gm(e){var n=e.alternate;return e===it||n!==null&&n===it}function xm(e,n){Qs=ml=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function ym(e,n,o){if((o&4194240)!==0){var d=n.lanes;d&=e.pendingLanes,o|=d,n.lanes=o,Mi(e,o)}}var gl={readContext:fr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},ny={readContext:fr,useCallback:function(e,n){return zr().memoizedState=[e,n===void 0?null:n],e},useContext:fr,useEffect:lm,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,hl(4194308,4,dm.bind(null,n,e),o)},useLayoutEffect:function(e,n){return hl(4194308,4,e,n)},useInsertionEffect:function(e,n){return hl(4,2,e,n)},useMemo:function(e,n){var o=zr();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var d=zr();return n=o!==void 0?o(n):n,d.memoizedState=d.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},d.queue=e,e=e.dispatch=ty.bind(null,it,e),[d.memoizedState,e]},useRef:function(e){var n=zr();return e={current:e},n.memoizedState=e},useState:sm,useDebugValue:Dc,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=sm(!1),n=e[0];return e=ey.bind(null,e[1]),zr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var d=it,h=zr();if(st){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),Rt===null)throw Error(s(349));(ba&30)!==0||em(d,n,o)}h.memoizedState=o;var x={value:o,getSnapshot:n};return h.queue=x,lm(rm.bind(null,d,x,e),[e]),d.flags|=2048,Zs(9,tm.bind(null,d,x,o,n),void 0,null),o},useId:function(){var e=zr(),n=Rt.identifierPrefix;if(st){var o=nn,d=rn;o=(d&~(1<<32-Ut(d)-1)).toString(32)+o,n=":"+n+"R"+o,o=Xs++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Zx++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ay={readContext:fr,useCallback:fm,useContext:fr,useEffect:Pc,useImperativeHandle:um,useInsertionEffect:im,useLayoutEffect:cm,useMemo:mm,useReducer:kc,useRef:om,useState:function(){return kc(Js)},useDebugValue:Dc,useDeferredValue:function(e){var n=mr();return hm(n,Nt.memoizedState,e)},useTransition:function(){var e=kc(Js)[0],n=mr().memoizedState;return[e,n]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:pm,unstable_isNewReconciler:!1},sy={readContext:fr,useCallback:fm,useContext:fr,useEffect:Pc,useImperativeHandle:um,useInsertionEffect:im,useLayoutEffect:cm,useMemo:mm,useReducer:Rc,useRef:om,useState:function(){return Rc(Js)},useDebugValue:Dc,useDeferredValue:function(e){var n=mr();return Nt===null?n.memoizedState=e:hm(n,Nt.memoizedState,e)},useTransition:function(){var e=Rc(Js)[0],n=mr().memoizedState;return[e,n]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:pm,unstable_isNewReconciler:!1};function jr(e,n){if(e&&e.defaultProps){n=Y({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Tc(e,n,o,d){n=e.memoizedState,o=o(d,n),o=o==null?n:Y({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var xl={isMounted:function(e){return(e=e._reactInternals)?He(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var d=zt(),h=Vn(e),x=sn(d,h);x.payload=n,o!=null&&(x.callback=o),n=On(e,x,h),n!==null&&(Sr(n,e,h,d),cl(n,e,h))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var d=zt(),h=Vn(e),x=sn(d,h);x.tag=1,x.payload=n,o!=null&&(x.callback=o),n=On(e,x,h),n!==null&&(Sr(n,e,h,d),cl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=zt(),d=Vn(e),h=sn(o,d);h.tag=2,n!=null&&(h.callback=n),n=On(e,h,d),n!==null&&(Sr(n,e,d,o),cl(n,e,d))}};function vm(e,n,o,d,h,x,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,x,E):n.prototype&&n.prototype.isPureReactComponent?!$s(o,d)||!$s(h,x):!0}function bm(e,n,o){var d=!1,h=In,x=n.contextType;return typeof x=="object"&&x!==null?x=fr(x):(h=Ht(n)?pa:It.current,d=n.contextTypes,x=(d=d!=null)?Ga(e,h):In),n=new n(o,x),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=xl,e.stateNode=n,n._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=x),n}function wm(e,n,o,d){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,d),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,d),n.state!==e&&xl.enqueueReplaceState(n,n.state,null)}function Mc(e,n,o,d){var h=e.stateNode;h.props=o,h.state=e.memoizedState,h.refs={},yc(e);var x=n.contextType;typeof x=="object"&&x!==null?h.context=fr(x):(x=Ht(n)?pa:It.current,h.context=Ga(e,x)),h.state=e.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Tc(e,n,x,o),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&xl.enqueueReplaceState(h,h.state,null),dl(e,o,h,d),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,n){try{var o="",d=n;do o+=Se(d),d=d.return;while(d);var h=o}catch(x){h=`
Error generating stack: `+x.message+`
`+x.stack}return{value:e,source:n,stack:h,digest:null}}function Ac(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Ic(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function jm(e,n,o){o=sn(-1,o),o.tag=3,o.payload={element:null};var d=n.value;return o.callback=function(){Cl||(Cl=!0,Kc=d),Ic(e,n)},o}function Nm(e,n,o){o=sn(-1,o),o.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var h=n.value;o.payload=function(){return d(h)},o.callback=function(){Ic(e,n)}}var x=e.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){Ic(e,n),typeof d!="function"&&($n===null?$n=new Set([this]):$n.add(this));var E=n.stack;this.componentDidCatch(n.value,{componentStack:E!==null?E:""})}),o}function Cm(e,n,o){var d=e.pingCache;if(d===null){d=e.pingCache=new oy;var h=new Set;d.set(n,h)}else h=d.get(n),h===void 0&&(h=new Set,d.set(n,h));h.has(o)||(h.add(o),e=by.bind(null,e,n,o),n.then(e,e))}function Sm(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Em(e,n,o,d,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=sn(-1,1),n.tag=2,On(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var ly=I.ReactCurrentOwner,Yt=!1;function $t(e,n,o,d){n.child=e===null?Yf(n,null,o,d):Xa(n,e.child,o,d)}function km(e,n,o,d,h){o=o.render;var x=n.ref;return Za(n,h),d=Sc(e,n,o,d,x,h),o=Ec(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,on(e,n,h)):(st&&o&&ic(n),n.flags|=1,$t(e,n,d,h),n.child)}function Rm(e,n,o,d,h){if(e===null){var x=o.type;return typeof x=="function"&&!rd(x)&&x.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=x,Pm(e,n,x,d,h)):(e=Dl(o.type,null,d,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(x=e.child,(e.lanes&h)===0){var E=x.memoizedProps;if(o=o.compare,o=o!==null?o:$s,o(E,d)&&e.ref===n.ref)return on(e,n,h)}return n.flags|=1,e=Un(x,d),e.ref=n.ref,e.return=n,n.child=e}function Pm(e,n,o,d,h){if(e!==null){var x=e.memoizedProps;if($s(x,d)&&e.ref===n.ref)if(Yt=!1,n.pendingProps=d=x,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Yt=!0);else return n.lanes=e.lanes,on(e,n,h)}return _c(e,n,o,d,h)}function Dm(e,n,o){var d=n.pendingProps,h=d.children,x=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ns,nr),nr|=o;else{if((o&1073741824)===0)return e=x!==null?x.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Xe(ns,nr),nr|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:o,Xe(ns,nr),nr|=d}else x!==null?(d=x.baseLanes|o,n.memoizedState=null):d=o,Xe(ns,nr),nr|=d;return $t(e,n,h,o),n.child}function Tm(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function _c(e,n,o,d,h){var x=Ht(o)?pa:It.current;return x=Ga(n,x),Za(n,h),o=Sc(e,n,o,d,x,h),d=Ec(),e!==null&&!Yt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,on(e,n,h)):(st&&d&&ic(n),n.flags|=1,$t(e,n,o,h),n.child)}function Mm(e,n,o,d,h){if(Ht(o)){var x=!0;tl(n)}else x=!1;if(Za(n,h),n.stateNode===null)vl(e,n),bm(n,o,d),Mc(n,o,d,h),d=!0;else if(e===null){var E=n.stateNode,A=n.memoizedProps;E.props=A;var F=E.context,H=o.contextType;typeof H=="object"&&H!==null?H=fr(H):(H=Ht(o)?pa:It.current,H=Ga(n,H));var ne=o.getDerivedStateFromProps,se=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function";se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||F!==H)&&wm(n,E,d,H),Ln=!1;var ee=n.memoizedState;E.state=ee,dl(n,d,E,h),F=n.memoizedState,A!==d||ee!==F||Wt.current||Ln?(typeof ne=="function"&&(Tc(n,o,ne,d),F=n.memoizedState),(A=Ln||vm(n,o,A,d,ee,F,H))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=d,n.memoizedState=F),E.props=d,E.state=F,E.context=H,d=A):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),d=!1)}else{E=n.stateNode,qf(e,n),A=n.memoizedProps,H=n.type===n.elementType?A:jr(n.type,A),E.props=H,se=n.pendingProps,ee=E.context,F=o.contextType,typeof F=="object"&&F!==null?F=fr(F):(F=Ht(o)?pa:It.current,F=Ga(n,F));var ue=o.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==se||ee!==F)&&wm(n,E,d,F),Ln=!1,ee=n.memoizedState,E.state=ee,dl(n,d,E,h);var xe=n.memoizedState;A!==se||ee!==xe||Wt.current||Ln?(typeof ue=="function"&&(Tc(n,o,ue,d),xe=n.memoizedState),(H=Ln||vm(n,o,H,d,ee,xe,F)||!1)?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,xe,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,xe,F)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=d,n.memoizedState=xe),E.props=d,E.state=xe,E.context=F,d=H):(typeof E.componentDidUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),d=!1)}return Lc(e,n,o,d,x,h)}function Lc(e,n,o,d,h,x){Tm(e,n);var E=(n.flags&128)!==0;if(!d&&!E)return h&&Of(n,o,!1),on(e,n,x);d=n.stateNode,ly.current=n;var A=E&&typeof o.getDerivedStateFromError!="function"?null:d.render();return n.flags|=1,e!==null&&E?(n.child=Xa(n,e.child,null,x),n.child=Xa(n,null,A,x)):$t(e,n,A,x),n.memoizedState=d.state,h&&Of(n,o,!0),n.child}function Am(e){var n=e.stateNode;n.pendingContext?_f(e,n.pendingContext,n.pendingContext!==n.context):n.context&&_f(e,n.context,!1),vc(e,n.containerInfo)}function Im(e,n,o,d,h){return Qa(),fc(h),n.flags|=256,$t(e,n,o,d),n.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Fc(e){return{baseLanes:e,cachePool:null,transitions:null}}function _m(e,n,o){var d=n.pendingProps,h=lt.current,x=!1,E=(n.flags&128)!==0,A;if((A=E)||(A=e!==null&&e.memoizedState===null?!1:(h&2)!==0),A?(x=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Xe(lt,h&1),e===null)return uc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(E=d.children,e=d.fallback,x?(d=n.mode,x=n.child,E={mode:"hidden",children:E},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=Tl(E,d,0,null),e=Sa(e,d,o,null),x.return=n,e.return=n,x.sibling=e,n.child=x,n.child.memoizedState=Fc(o),n.memoizedState=Oc,e):$c(n,E));if(h=e.memoizedState,h!==null&&(A=h.dehydrated,A!==null))return iy(e,n,E,d,A,h,o);if(x){x=d.fallback,E=n.mode,h=e.child,A=h.sibling;var F={mode:"hidden",children:d.children};return(E&1)===0&&n.child!==h?(d=n.child,d.childLanes=0,d.pendingProps=F,n.deletions=null):(d=Un(h,F),d.subtreeFlags=h.subtreeFlags&14680064),A!==null?x=Un(A,x):(x=Sa(x,E,o,null),x.flags|=2),x.return=n,d.return=n,d.sibling=x,n.child=d,d=x,x=n.child,E=e.child.memoizedState,E=E===null?Fc(o):{baseLanes:E.baseLanes|o,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=e.childLanes&~o,n.memoizedState=Oc,d}return x=e.child,e=x.sibling,d=Un(x,{mode:"visible",children:d.children}),(n.mode&1)===0&&(d.lanes=o),d.return=n,d.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=d,n.memoizedState=null,d}function $c(e,n){return n=Tl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function yl(e,n,o,d){return d!==null&&fc(d),Xa(n,e.child,null,o),e=$c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,o,d,h,x,E){if(o)return n.flags&256?(n.flags&=-257,d=Ac(Error(s(422))),yl(e,n,E,d)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(x=d.fallback,h=n.mode,d=Tl({mode:"visible",children:d.children},h,0,null),x=Sa(x,h,E,null),x.flags|=2,d.return=n,x.return=n,d.sibling=x,n.child=d,(n.mode&1)!==0&&Xa(n,e.child,null,E),n.child.memoizedState=Fc(E),n.memoizedState=Oc,x);if((n.mode&1)===0)return yl(e,n,E,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var A=d.dgst;return d=A,x=Error(s(419)),d=Ac(x,d,void 0),yl(e,n,E,d)}if(A=(E&e.childLanes)!==0,Yt||A){if(d=Rt,d!==null){switch(E&-E){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|E))!==0?0:h,h!==0&&h!==x.retryLane&&(x.retryLane=h,an(e,h),Sr(d,e,h,-1))}return td(),d=Ac(Error(s(421))),yl(e,n,E,d)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=wy.bind(null,e),h._reactRetry=n,null):(e=x.treeContext,rr=Mn(h.nextSibling),tr=n,st=!0,wr=null,e!==null&&(dr[ur++]=rn,dr[ur++]=nn,dr[ur++]=ga,rn=e.id,nn=e.overflow,ga=n),n=$c(n,d.children),n.flags|=4096,n)}function Lm(e,n,o){e.lanes|=n;var d=e.alternate;d!==null&&(d.lanes|=n),gc(e.return,n,o)}function zc(e,n,o,d,h){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:h}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=o,x.tailMode=h)}function Om(e,n,o){var d=n.pendingProps,h=d.revealOrder,x=d.tail;if($t(e,n,d.children,o),d=lt.current,(d&2)!==0)d=d&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lm(e,o,n);else if(e.tag===19)Lm(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(Xe(lt,d),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(o=n.child,h=null;o!==null;)e=o.alternate,e!==null&&ul(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),zc(n,!1,h,o,x);break;case"backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ul(e)===null){n.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}zc(n,!0,o,null,x);break;case"together":zc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function on(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),wa|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Un(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Un(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function cy(e,n,o){switch(n.tag){case 3:Am(n),Qa();break;case 5:Xf(n);break;case 1:Ht(n.type)&&tl(n);break;case 4:vc(n,n.stateNode.containerInfo);break;case 10:var d=n.type._context,h=n.memoizedProps.value;Xe(ll,d._currentValue),d._currentValue=h;break;case 13:if(d=n.memoizedState,d!==null)return d.dehydrated!==null?(Xe(lt,lt.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?_m(e,n,o):(Xe(lt,lt.current&1),e=on(e,n,o),e!==null?e.sibling:null);Xe(lt,lt.current&1);break;case 19:if(d=(o&n.childLanes)!==0,(e.flags&128)!==0){if(d)return Om(e,n,o);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Xe(lt,lt.current),d)break;return null;case 22:case 23:return n.lanes=0,Dm(e,n,o)}return on(e,n,o)}var Fm,Vc,$m,zm;Fm=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Vc=function(){},$m=function(e,n,o,d){var h=e.memoizedProps;if(h!==d){e=n.stateNode,va($r.current);var x=null;switch(o){case"input":h=mt(e,h),d=mt(e,d),x=[];break;case"select":h=Y({},h,{value:void 0}),d=Y({},d,{value:void 0}),x=[];break;case"textarea":h=Jt(e,h),d=Jt(e,d),x=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Jo)}_r(o,d);var E;o=null;for(H in h)if(!d.hasOwnProperty(H)&&h.hasOwnProperty(H)&&h[H]!=null)if(H==="style"){var A=h[H];for(E in A)A.hasOwnProperty(E)&&(o||(o={}),o[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?x||(x=[]):(x=x||[]).push(H,null));for(H in d){var F=d[H];if(A=h?.[H],d.hasOwnProperty(H)&&F!==A&&(F!=null||A!=null))if(H==="style")if(A){for(E in A)!A.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(o||(o={}),o[E]="");for(E in F)F.hasOwnProperty(E)&&A[E]!==F[E]&&(o||(o={}),o[E]=F[E])}else o||(x||(x=[]),x.push(H,o)),o=F;else H==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,A=A?A.__html:void 0,F!=null&&A!==F&&(x=x||[]).push(H,F)):H==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(H,""+F):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?(F!=null&&H==="onScroll"&&tt("scroll",e),x||A===F||(x=[])):(x=x||[]).push(H,F))}o&&(x=x||[]).push("style",o);var H=x;(n.updateQueue=H)&&(n.flags|=4)}},zm=function(e,n,o,d){o!==d&&(n.flags|=4)};function eo(e,n){if(!st)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,d=0;if(n)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=d,e.childLanes=o,n}function dy(e,n,o){var d=n.pendingProps;switch(cc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Ht(n.type)&&el(),Lt(n),null;case 3:return d=n.stateNode,es(),rt(Wt),rt(It),jc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(sl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wr!==null&&(Jc(wr),wr=null))),Vc(e,n),Lt(n),null;case 5:bc(n);var h=va(Ks.current);if(o=n.type,e!==null&&n.stateNode!=null)$m(e,n,o,d,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!d){if(n.stateNode===null)throw Error(s(166));return Lt(n),null}if(e=va($r.current),sl(n)){d=n.stateNode,o=n.type;var x=n.memoizedProps;switch(d[Fr]=n,d[Ws]=x,e=(n.mode&1)!==0,o){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(h=0;h<Vs.length;h++)tt(Vs[h],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":Tr(d,x),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},tt("invalid",d);break;case"textarea":Ir(d,x),tt("invalid",d)}_r(o,x),h=null;for(var E in x)if(x.hasOwnProperty(E)){var A=x[E];E==="children"?typeof A=="string"?d.textContent!==A&&(x.suppressHydrationWarning!==!0&&Xo(d.textContent,A,e),h=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(x.suppressHydrationWarning!==!0&&Xo(d.textContent,A,e),h=["children",""+A]):i.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&tt("scroll",d)}switch(o){case"input":_e(d),_a(d,x,!0);break;case"textarea":_e(d),wn(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Jo)}d=h,n.updateQueue=d,d!==null&&(n.flags|=4)}else{E=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zt(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=E.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=E.createElement(o,{is:d.is}):(e=E.createElement(o),o==="select"&&(E=e,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):e=E.createElementNS(e,o),e[Fr]=n,e[Ws]=d,Fm(e,n,!1,!1),n.stateNode=e;e:{switch(E=At(o,d),o){case"dialog":tt("cancel",e),tt("close",e),h=d;break;case"iframe":case"object":case"embed":tt("load",e),h=d;break;case"video":case"audio":for(h=0;h<Vs.length;h++)tt(Vs[h],e);h=d;break;case"source":tt("error",e),h=d;break;case"img":case"image":case"link":tt("error",e),tt("load",e),h=d;break;case"details":tt("toggle",e),h=d;break;case"input":Tr(e,d),h=mt(e,d),tt("invalid",e);break;case"option":h=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},h=Y({},d,{value:void 0}),tt("invalid",e);break;case"textarea":Ir(e,d),h=Jt(e,d),tt("invalid",e);break;default:h=d}_r(o,h),A=h;for(x in A)if(A.hasOwnProperty(x)){var F=A[x];x==="style"?et(e,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jn(e,F)):x==="children"?typeof F=="string"?(o!=="textarea"||F!=="")&&Xr(e,F):typeof F=="number"&&Xr(e,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?F!=null&&x==="onScroll"&&tt("scroll",e):F!=null&&P(e,x,F,E))}switch(o){case"input":_e(e),_a(e,d,!1);break;case"textarea":_e(e),wn(e);break;case"option":d.value!=null&&e.setAttribute("value",""+me(d.value));break;case"select":e.multiple=!!d.multiple,x=d.value,x!=null?Ar(e,!!d.multiple,x,!1):d.defaultValue!=null&&Ar(e,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Jo)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Lt(n),null;case 6:if(e&&n.stateNode!=null)zm(e,n,e.memoizedProps,d);else{if(typeof d!="string"&&n.stateNode===null)throw Error(s(166));if(o=va(Ks.current),va($r.current),sl(n)){if(d=n.stateNode,o=n.memoizedProps,d[Fr]=n,(x=d.nodeValue!==o)&&(e=tr,e!==null))switch(e.tag){case 3:Xo(d.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xo(d.nodeValue,o,(e.mode&1)!==0)}x&&(n.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[Fr]=n,n.stateNode=d}return Lt(n),null;case 13:if(rt(lt),d=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&rr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Uf(),Qa(),n.flags|=98560,x=!1;else if(x=sl(n),d!==null&&d.dehydrated!==null){if(e===null){if(!x)throw Error(s(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Fr]=n}else Qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),x=!1}else wr!==null&&(Jc(wr),wr=null),x=!0;if(!x)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(lt.current&1)!==0?Ct===0&&(Ct=3):td())),n.updateQueue!==null&&(n.flags|=4),Lt(n),null);case 4:return es(),Vc(e,n),e===null&&Bs(n.stateNode.containerInfo),Lt(n),null;case 10:return pc(n.type._context),Lt(n),null;case 17:return Ht(n.type)&&el(),Lt(n),null;case 19:if(rt(lt),x=n.memoizedState,x===null)return Lt(n),null;if(d=(n.flags&128)!==0,E=x.rendering,E===null)if(d)eo(x,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(E=ul(e),E!==null){for(n.flags|=128,eo(x,!1),d=E.updateQueue,d!==null&&(n.updateQueue=d,n.flags|=4),n.subtreeFlags=0,d=o,o=n.child;o!==null;)x=o,e=d,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=e,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,e=E.dependencies,x.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Xe(lt,lt.current&1|2),n.child}e=e.sibling}x.tail!==null&&Qe()>as&&(n.flags|=128,d=!0,eo(x,!1),n.lanes=4194304)}else{if(!d)if(e=ul(E),e!==null){if(n.flags|=128,d=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),eo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!st)return Lt(n),null}else 2*Qe()-x.renderingStartTime>as&&o!==1073741824&&(n.flags|=128,d=!0,eo(x,!1),n.lanes=4194304);x.isBackwards?(E.sibling=n.child,n.child=E):(o=x.last,o!==null?o.sibling=E:n.child=E,x.last=E)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=Qe(),n.sibling=null,o=lt.current,Xe(lt,d?o&1|2:o&1),n):(Lt(n),null);case 22:case 23:return ed(),d=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(n.flags|=8192),d&&(n.mode&1)!==0?(nr&1073741824)!==0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function uy(e,n){switch(cc(n),n.tag){case 1:return Ht(n.type)&&el(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return es(),rt(Wt),rt(It),jc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return bc(n),null;case 13:if(rt(lt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(lt),null;case 4:return es(),null;case 10:return pc(n.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var bl=!1,Ot=!1,fy=typeof WeakSet=="function"?WeakSet:Set,he=null;function rs(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){ct(e,n,d)}else o.current=null}function Bc(e,n,o){try{o()}catch(d){ct(e,n,d)}}var Vm=!1;function my(e,n){if(ec=zo,e=vf(),Yi(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var h=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var E=0,A=-1,F=-1,H=0,ne=0,se=e,ee=null;t:for(;;){for(var ue;se!==o||h!==0&&se.nodeType!==3||(A=E+h),se!==x||d!==0&&se.nodeType!==3||(F=E+d),se.nodeType===3&&(E+=se.nodeValue.length),(ue=se.firstChild)!==null;)ee=se,se=ue;for(;;){if(se===e)break t;if(ee===o&&++H===h&&(A=E),ee===x&&++ne===d&&(F=E),(ue=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=ue}o=A===-1||F===-1?null:{start:A,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(tc={focusedElem:e,selectionRange:o},zo=!1,he=n;he!==null;)if(n=he,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,he=e;else for(;he!==null;){n=he;try{var xe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var ye=xe.memoizedProps,ht=xe.memoizedState,U=n.stateNode,z=U.getSnapshotBeforeUpdate(n.elementType===n.type?ye:jr(n.type,ye),ht);U.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=n.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){ct(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,he=e;break}he=n.return}return xe=Vm,Vm=!1,xe}function to(e,n,o){var d=n.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&e)===e){var x=h.destroy;h.destroy=void 0,x!==void 0&&Bc(n,o,x)}h=h.next}while(h!==d)}}function wl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var d=o.create;o.destroy=d()}o=o.next}while(o!==n)}}function Uc(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function Bm(e){var n=e.alternate;n!==null&&(e.alternate=null,Bm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Fr],delete n[Ws],delete n[sc],delete n[Kx],delete n[Qx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Um(e){return e.tag===5||e.tag===3||e.tag===4}function Wm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Jo));else if(d!==4&&(e=e.child,e!==null))for(Wc(e,n,o),e=e.sibling;e!==null;)Wc(e,n,o),e=e.sibling}function Hc(e,n,o){var d=e.tag;if(d===5||d===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Hc(e,n,o),e=e.sibling;e!==null;)Hc(e,n,o),e=e.sibling}var Dt=null,Nr=!1;function Fn(e,n,o){for(o=o.child;o!==null;)Hm(e,n,o),o=o.sibling}function Hm(e,n,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Or,o)}catch{}switch(o.tag){case 5:Ot||rs(o,n);case 6:var d=Dt,h=Nr;Dt=null,Fn(e,n,o),Dt=d,Nr=h,Dt!==null&&(Nr?(e=Dt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Dt.removeChild(o.stateNode));break;case 18:Dt!==null&&(Nr?(e=Dt,o=o.stateNode,e.nodeType===8?ac(e.parentNode,o):e.nodeType===1&&ac(e,o),As(e)):ac(Dt,o.stateNode));break;case 4:d=Dt,h=Nr,Dt=o.stateNode.containerInfo,Nr=!0,Fn(e,n,o),Dt=d,Nr=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var x=h,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&Bc(o,n,E),h=h.next}while(h!==d)}Fn(e,n,o);break;case 1:if(!Ot&&(rs(o,n),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(A){ct(o,n,A)}Fn(e,n,o);break;case 21:Fn(e,n,o);break;case 22:o.mode&1?(Ot=(d=Ot)||o.memoizedState!==null,Fn(e,n,o),Ot=d):Fn(e,n,o);break;default:Fn(e,n,o)}}function Ym(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new fy),n.forEach(function(d){var h=jy.bind(null,e,d);o.has(d)||(o.add(d),d.then(h,h))})}}function Cr(e,n){var o=n.deletions;if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];try{var x=e,E=n,A=E;e:for(;A!==null;){switch(A.tag){case 5:Dt=A.stateNode,Nr=!1;break e;case 3:Dt=A.stateNode.containerInfo,Nr=!0;break e;case 4:Dt=A.stateNode.containerInfo,Nr=!0;break e}A=A.return}if(Dt===null)throw Error(s(160));Hm(x,E,h),Dt=null,Nr=!1;var F=h.alternate;F!==null&&(F.return=null),h.return=null}catch(H){ct(h,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gm(n,e),n=n.sibling}function Gm(e,n){var o=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(n,e),Vr(e),d&4){try{to(3,e,e.return),wl(3,e)}catch(ye){ct(e,e.return,ye)}try{to(5,e,e.return)}catch(ye){ct(e,e.return,ye)}}break;case 1:Cr(n,e),Vr(e),d&512&&o!==null&&rs(o,o.return);break;case 5:if(Cr(n,e),Vr(e),d&512&&o!==null&&rs(o,o.return),e.flags&32){var h=e.stateNode;try{Xr(h,"")}catch(ye){ct(e,e.return,ye)}}if(d&4&&(h=e.stateNode,h!=null)){var x=e.memoizedProps,E=o!==null?o.memoizedProps:x,A=e.type,F=e.updateQueue;if(e.updateQueue=null,F!==null)try{A==="input"&&x.type==="radio"&&x.name!=null&&Mr(h,x),At(A,E);var H=At(A,x);for(E=0;E<F.length;E+=2){var ne=F[E],se=F[E+1];ne==="style"?et(h,se):ne==="dangerouslySetInnerHTML"?jn(h,se):ne==="children"?Xr(h,se):P(h,ne,se,H)}switch(A){case"input":ir(h,x);break;case"textarea":ia(h,x);break;case"select":var ee=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!x.multiple;var ue=x.value;ue!=null?Ar(h,!!x.multiple,ue,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Ar(h,!!x.multiple,x.defaultValue,!0):Ar(h,!!x.multiple,x.multiple?[]:"",!1))}h[Ws]=x}catch(ye){ct(e,e.return,ye)}}break;case 6:if(Cr(n,e),Vr(e),d&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,x=e.memoizedProps;try{h.nodeValue=x}catch(ye){ct(e,e.return,ye)}}break;case 3:if(Cr(n,e),Vr(e),d&4&&o!==null&&o.memoizedState.isDehydrated)try{As(n.containerInfo)}catch(ye){ct(e,e.return,ye)}break;case 4:Cr(n,e),Vr(e);break;case 13:Cr(n,e),Vr(e),h=e.child,h.flags&8192&&(x=h.memoizedState!==null,h.stateNode.isHidden=x,!x||h.alternate!==null&&h.alternate.memoizedState!==null||(qc=Qe())),d&4&&Ym(e);break;case 22:if(ne=o!==null&&o.memoizedState!==null,e.mode&1?(Ot=(H=Ot)||ne,Cr(n,e),Ot=H):Cr(n,e),Vr(e),d&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!ne&&(e.mode&1)!==0)for(he=e,ne=e.child;ne!==null;){for(se=he=ne;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:to(4,ee,ee.return);break;case 1:rs(ee,ee.return);var xe=ee.stateNode;if(typeof xe.componentWillUnmount=="function"){d=ee,o=ee.return;try{n=d,xe.props=n.memoizedProps,xe.state=n.memoizedState,xe.componentWillUnmount()}catch(ye){ct(d,o,ye)}}break;case 5:rs(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Qm(se);continue}}ue!==null?(ue.return=ee,he=ue):Qm(se)}ne=ne.sibling}e:for(ne=null,se=e;;){if(se.tag===5){if(ne===null){ne=se;try{h=se.stateNode,H?(x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(A=se.stateNode,F=se.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,A.style.display=Ze("display",E))}catch(ye){ct(e,e.return,ye)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=H?"":se.memoizedProps}catch(ye){ct(e,e.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===e)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===e)break e;for(;se.sibling===null;){if(se.return===null||se.return===e)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Cr(n,e),Vr(e),d&4&&Ym(e);break;case 21:break;default:Cr(n,e),Vr(e)}}function Vr(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Um(o)){var d=o;break e}o=o.return}throw Error(s(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Xr(h,""),d.flags&=-33);var x=Wm(e);Hc(e,x,h);break;case 3:case 4:var E=d.stateNode.containerInfo,A=Wm(e);Wc(e,A,E);break;default:throw Error(s(161))}}catch(F){ct(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e,n,o){he=e,qm(e)}function qm(e,n,o){for(var d=(e.mode&1)!==0;he!==null;){var h=he,x=h.child;if(h.tag===22&&d){var E=h.memoizedState!==null||bl;if(!E){var A=h.alternate,F=A!==null&&A.memoizedState!==null||Ot;A=bl;var H=Ot;if(bl=E,(Ot=F)&&!H)for(he=h;he!==null;)E=he,F=E.child,E.tag===22&&E.memoizedState!==null?Xm(h):F!==null?(F.return=E,he=F):Xm(h);for(;x!==null;)he=x,qm(x),x=x.sibling;he=h,bl=A,Ot=H}Km(e)}else(h.subtreeFlags&8772)!==0&&x!==null?(x.return=h,he=x):Km(e)}}function Km(e){for(;he!==null;){var n=he;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ot||wl(5,n);break;case 1:var d=n.stateNode;if(n.flags&4&&!Ot)if(o===null)d.componentDidMount();else{var h=n.elementType===n.type?o.memoizedProps:jr(n.type,o.memoizedProps);d.componentDidUpdate(h,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=n.updateQueue;x!==null&&Qf(n,x,d);break;case 3:var E=n.updateQueue;if(E!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Qf(n,E,o)}break;case 5:var A=n.stateNode;if(o===null&&n.flags&4){o=A;var F=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&o.focus();break;case"img":F.src&&(o.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var H=n.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&As(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ot||n.flags&512&&Uc(n)}catch(ee){ct(n,n.return,ee)}}if(n===e){he=null;break}if(o=n.sibling,o!==null){o.return=n.return,he=o;break}he=n.return}}function Qm(e){for(;he!==null;){var n=he;if(n===e){he=null;break}var o=n.sibling;if(o!==null){o.return=n.return,he=o;break}he=n.return}}function Xm(e){for(;he!==null;){var n=he;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{wl(4,n)}catch(F){ct(n,o,F)}break;case 1:var d=n.stateNode;if(typeof d.componentDidMount=="function"){var h=n.return;try{d.componentDidMount()}catch(F){ct(n,h,F)}}var x=n.return;try{Uc(n)}catch(F){ct(n,x,F)}break;case 5:var E=n.return;try{Uc(n)}catch(F){ct(n,E,F)}}}catch(F){ct(n,n.return,F)}if(n===e){he=null;break}var A=n.sibling;if(A!==null){A.return=n.return,he=A;break}he=n.return}}var py=Math.ceil,jl=I.ReactCurrentDispatcher,Yc=I.ReactCurrentOwner,hr=I.ReactCurrentBatchConfig,Ve=0,Rt=null,gt=null,Tt=0,nr=0,ns=An(0),Ct=0,ro=null,wa=0,Nl=0,Gc=0,no=null,Gt=null,qc=0,as=1/0,ln=null,Cl=!1,Kc=null,$n=null,Sl=!1,zn=null,El=0,ao=0,Qc=null,kl=-1,Rl=0;function zt(){return(Ve&6)!==0?Qe():kl!==-1?kl:kl=Qe()}function Vn(e){return(e.mode&1)===0?1:(Ve&2)!==0&&Tt!==0?Tt&-Tt:Jx.transition!==null?(Rl===0&&(Rl=Uu()),Rl):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Ju(e.type)),e)}function Sr(e,n,o,d){if(50<ao)throw ao=0,Qc=null,Error(s(185));Rs(e,o,d),((Ve&2)===0||e!==Rt)&&(e===Rt&&((Ve&2)===0&&(Nl|=o),Ct===4&&Bn(e,Tt)),qt(e,d),o===1&&Ve===0&&(n.mode&1)===0&&(as=Qe()+500,rl&&_n()))}function qt(e,n){var o=e.callbackNode;J0(e,n);var d=Oo(e,e===Rt?Tt:0);if(d===0)o!==null&&vr(o),e.callbackNode=null,e.callbackPriority=0;else if(n=d&-d,e.callbackPriority!==n){if(o!=null&&vr(o),n===1)e.tag===0?Xx(Zm.bind(null,e)):Ff(Zm.bind(null,e)),Gx(function(){(Ve&6)===0&&_n()}),o=null;else{switch(Wu(d)){case 1:o=Sn;break;case 4:o=fa;break;case 16:o=ze;break;case 536870912:o=ma;break;default:o=ze}o=lh(o,Jm.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function Jm(e,n){if(kl=-1,Rl=0,(Ve&6)!==0)throw Error(s(327));var o=e.callbackNode;if(ss()&&e.callbackNode!==o)return null;var d=Oo(e,e===Rt?Tt:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||n)n=Pl(e,d);else{n=d;var h=Ve;Ve|=2;var x=th();(Rt!==e||Tt!==n)&&(ln=null,as=Qe()+500,Na(e,n));do try{yy();break}catch(A){eh(e,A)}while(!0);hc(),jl.current=x,Ve=h,gt!==null?n=0:(Rt=null,Tt=0,n=Ct)}if(n!==0){if(n===2&&(h=Di(e),h!==0&&(d=h,n=Xc(e,h))),n===1)throw o=ro,Na(e,0),Bn(e,d),qt(e,Qe()),o;if(n===6)Bn(e,d);else{if(h=e.current.alternate,(d&30)===0&&!gy(h)&&(n=Pl(e,d),n===2&&(x=Di(e),x!==0&&(d=x,n=Xc(e,x))),n===1))throw o=ro,Na(e,0),Bn(e,d),qt(e,Qe()),o;switch(e.finishedWork=h,e.finishedLanes=d,n){case 0:case 1:throw Error(s(345));case 2:Ca(e,Gt,ln);break;case 3:if(Bn(e,d),(d&130023424)===d&&(n=qc+500-Qe(),10<n)){if(Oo(e,0)!==0)break;if(h=e.suspendedLanes,(h&d)!==d){zt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=nc(Ca.bind(null,e,Gt,ln),n);break}Ca(e,Gt,ln);break;case 4:if(Bn(e,d),(d&4194240)===d)break;for(n=e.eventTimes,h=-1;0<d;){var E=31-Ut(d);x=1<<E,E=n[E],E>h&&(h=E),d&=~x}if(d=h,d=Qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*py(d/1960))-d,10<d){e.timeoutHandle=nc(Ca.bind(null,e,Gt,ln),d);break}Ca(e,Gt,ln);break;case 5:Ca(e,Gt,ln);break;default:throw Error(s(329))}}}return qt(e,Qe()),e.callbackNode===o?Jm.bind(null,e):null}function Xc(e,n){var o=no;return e.current.memoizedState.isDehydrated&&(Na(e,n).flags|=256),e=Pl(e,n),e!==2&&(n=Gt,Gt=o,n!==null&&Jc(n)),e}function Jc(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function gy(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var h=o[d],x=h.getSnapshot;h=h.value;try{if(!br(x(),h))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n){for(n&=~Gc,n&=~Nl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Ut(n),d=1<<o;e[o]=-1,n&=~d}}function Zm(e){if((Ve&6)!==0)throw Error(s(327));ss();var n=Oo(e,0);if((n&1)===0)return qt(e,Qe()),null;var o=Pl(e,n);if(e.tag!==0&&o===2){var d=Di(e);d!==0&&(n=d,o=Xc(e,d))}if(o===1)throw o=ro,Na(e,0),Bn(e,n),qt(e,Qe()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Ca(e,Gt,ln),qt(e,Qe()),null}function Zc(e,n){var o=Ve;Ve|=1;try{return e(n)}finally{Ve=o,Ve===0&&(as=Qe()+500,rl&&_n())}}function ja(e){zn!==null&&zn.tag===0&&(Ve&6)===0&&ss();var n=Ve;Ve|=1;var o=hr.transition,d=qe;try{if(hr.transition=null,qe=1,e)return e()}finally{qe=d,hr.transition=o,Ve=n,(Ve&6)===0&&_n()}}function ed(){nr=ns.current,rt(ns)}function Na(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Yx(o)),gt!==null)for(o=gt.return;o!==null;){var d=o;switch(cc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&el();break;case 3:es(),rt(Wt),rt(It),jc();break;case 5:bc(d);break;case 4:es();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:pc(d.type._context);break;case 22:case 23:ed()}o=o.return}if(Rt=e,gt=e=Un(e.current,null),Tt=nr=n,Ct=0,ro=null,Gc=Nl=wa=0,Gt=no=null,ya!==null){for(n=0;n<ya.length;n++)if(o=ya[n],d=o.interleaved,d!==null){o.interleaved=null;var h=d.next,x=o.pending;if(x!==null){var E=x.next;x.next=h,d.next=E}o.pending=d}ya=null}return e}function eh(e,n){do{var o=gt;try{if(hc(),fl.current=gl,ml){for(var d=it.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}ml=!1}if(ba=0,kt=Nt=it=null,Qs=!1,Xs=0,Yc.current=null,o===null||o.return===null){Ct=1,ro=n,gt=null;break}e:{var x=e,E=o.return,A=o,F=n;if(n=Tt,A.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var H=F,ne=A,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Sm(E);if(ue!==null){ue.flags&=-257,Em(ue,E,A,x,n),ue.mode&1&&Cm(x,H,n),n=ue,F=H;var xe=n.updateQueue;if(xe===null){var ye=new Set;ye.add(F),n.updateQueue=ye}else xe.add(F);break e}else{if((n&1)===0){Cm(x,H,n),td();break e}F=Error(s(426))}}else if(st&&A.mode&1){var ht=Sm(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Em(ht,E,A,x,n),fc(ts(F,A));break e}}x=F=ts(F,A),Ct!==4&&(Ct=2),no===null?no=[x]:no.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,n&=-n,x.lanes|=n;var U=jm(x,F,n);Kf(x,U);break e;case 1:A=F;var z=x.type,W=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&($n===null||!$n.has(W)))){x.flags|=65536,n&=-n,x.lanes|=n;var ie=Nm(x,A,n);Kf(x,ie);break e}}x=x.return}while(x!==null)}nh(o)}catch(je){n=je,gt===o&&o!==null&&(gt=o=o.return);continue}break}while(!0)}function th(){var e=jl.current;return jl.current=gl,e===null?gl:e}function td(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Rt===null||(wa&268435455)===0&&(Nl&268435455)===0||Bn(Rt,Tt)}function Pl(e,n){var o=Ve;Ve|=2;var d=th();(Rt!==e||Tt!==n)&&(ln=null,Na(e,n));do try{xy();break}catch(h){eh(e,h)}while(!0);if(hc(),Ve=o,jl.current=d,gt!==null)throw Error(s(261));return Rt=null,Tt=0,Ct}function xy(){for(;gt!==null;)rh(gt)}function yy(){for(;gt!==null&&!cr();)rh(gt)}function rh(e){var n=oh(e.alternate,e,nr);e.memoizedProps=e.pendingProps,n===null?nh(e):gt=n,Yc.current=null}function nh(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=dy(o,n,nr),o!==null){gt=o;return}}else{if(o=uy(o,n),o!==null){o.flags&=32767,gt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,gt=null;return}}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);Ct===0&&(Ct=5)}function Ca(e,n,o){var d=qe,h=hr.transition;try{hr.transition=null,qe=1,vy(e,n,o,d)}finally{hr.transition=h,qe=d}return null}function vy(e,n,o,d){do ss();while(zn!==null);if((Ve&6)!==0)throw Error(s(327));o=e.finishedWork;var h=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var x=o.lanes|o.childLanes;if(Z0(e,x),e===Rt&&(gt=Rt=null,Tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Sl||(Sl=!0,lh(ze,function(){return ss(),null})),x=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||x){x=hr.transition,hr.transition=null;var E=qe;qe=1;var A=Ve;Ve|=4,Yc.current=null,my(e,o),Gm(o,e),$x(tc),zo=!!ec,tc=ec=null,e.current=o,hy(o),Es(),Ve=A,qe=E,hr.transition=x}else e.current=o;if(Sl&&(Sl=!1,zn=e,El=h),x=e.pendingLanes,x===0&&($n=null),Oa(o.stateNode),qt(e,Qe()),n!==null)for(d=e.onRecoverableError,o=0;o<n.length;o++)h=n[o],d(h.value,{componentStack:h.stack,digest:h.digest});if(Cl)throw Cl=!1,e=Kc,Kc=null,e;return(El&1)!==0&&e.tag!==0&&ss(),x=e.pendingLanes,(x&1)!==0?e===Qc?ao++:(ao=0,Qc=e):ao=0,_n(),null}function ss(){if(zn!==null){var e=Wu(El),n=hr.transition,o=qe;try{if(hr.transition=null,qe=16>e?16:e,zn===null)var d=!1;else{if(e=zn,zn=null,El=0,(Ve&6)!==0)throw Error(s(331));var h=Ve;for(Ve|=4,he=e.current;he!==null;){var x=he,E=x.child;if((he.flags&16)!==0){var A=x.deletions;if(A!==null){for(var F=0;F<A.length;F++){var H=A[F];for(he=H;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:to(8,ne,x)}var se=ne.child;if(se!==null)se.return=ne,he=se;else for(;he!==null;){ne=he;var ee=ne.sibling,ue=ne.return;if(Bm(ne),ne===H){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var xe=x.alternate;if(xe!==null){var ye=xe.child;if(ye!==null){xe.child=null;do{var ht=ye.sibling;ye.sibling=null,ye=ht}while(ye!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,he=E;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:to(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,he=U;break e}he=x.return}}var z=e.current;for(he=z;he!==null;){E=he;var W=E.child;if((E.subtreeFlags&2064)!==0&&W!==null)W.return=E,he=W;else e:for(E=z;he!==null;){if(A=he,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:wl(9,A)}}catch(je){ct(A,A.return,je)}if(A===E){he=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,he=ie;break e}he=A.return}}if(Ve=h,_n(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Or,e)}catch{}d=!0}return d}finally{qe=o,hr.transition=n}}return!1}function ah(e,n,o){n=ts(o,n),n=jm(e,n,1),e=On(e,n,1),n=zt(),e!==null&&(Rs(e,1,n),qt(e,n))}function ct(e,n,o){if(e.tag===3)ah(e,e,o);else for(;n!==null;){if(n.tag===3){ah(n,e,o);break}else if(n.tag===1){var d=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($n===null||!$n.has(d))){e=ts(o,e),e=Nm(n,e,1),n=On(n,e,1),e=zt(),n!==null&&(Rs(n,1,e),qt(n,e));break}}n=n.return}}function by(e,n,o){var d=e.pingCache;d!==null&&d.delete(n),n=zt(),e.pingedLanes|=e.suspendedLanes&o,Rt===e&&(Tt&o)===o&&(Ct===4||Ct===3&&(Tt&130023424)===Tt&&500>Qe()-qc?Na(e,0):Gc|=o),qt(e,n)}function sh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Lo,Lo<<=1,(Lo&130023424)===0&&(Lo=4194304)));var o=zt();e=an(e,n),e!==null&&(Rs(e,n,o),qt(e,o))}function wy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),sh(e,o)}function jy(e,n){var o=0;switch(e.tag){case 13:var d=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(n),sh(e,o)}var oh;oh=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Wt.current)Yt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return Yt=!1,cy(e,n,o);Yt=(e.flags&131072)!==0}else Yt=!1,st&&(n.flags&1048576)!==0&&$f(n,al,n.index);switch(n.lanes=0,n.tag){case 2:var d=n.type;vl(e,n),e=n.pendingProps;var h=Ga(n,It.current);Za(n,o),h=Sc(null,n,d,e,h,o);var x=Ec();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ht(d)?(x=!0,tl(n)):x=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,yc(n),h.updater=xl,n.stateNode=h,h._reactInternals=n,Mc(n,d,e,o),n=Lc(null,n,d,!0,x,o)):(n.tag=0,st&&x&&ic(n),$t(null,n,h,o),n=n.child),n;case 16:d=n.elementType;e:{switch(vl(e,n),e=n.pendingProps,h=d._init,d=h(d._payload),n.type=d,h=n.tag=Cy(d),e=jr(d,e),h){case 0:n=_c(null,n,d,e,o);break e;case 1:n=Mm(null,n,d,e,o);break e;case 11:n=km(null,n,d,e,o);break e;case 14:n=Rm(null,n,d,jr(d.type,e),o);break e}throw Error(s(306,d,""))}return n;case 0:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),_c(e,n,d,h,o);case 1:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),Mm(e,n,d,h,o);case 3:e:{if(Am(n),e===null)throw Error(s(387));d=n.pendingProps,x=n.memoizedState,h=x.element,qf(e,n),dl(n,d,null,o);var E=n.memoizedState;if(d=E.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){h=ts(Error(s(423)),n),n=Im(e,n,d,o,h);break e}else if(d!==h){h=ts(Error(s(424)),n),n=Im(e,n,d,o,h);break e}else for(rr=Mn(n.stateNode.containerInfo.firstChild),tr=n,st=!0,wr=null,o=Yf(n,null,d,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qa(),d===h){n=on(e,n,o);break e}$t(e,n,d,o)}n=n.child}return n;case 5:return Xf(n),e===null&&uc(n),d=n.type,h=n.pendingProps,x=e!==null?e.memoizedProps:null,E=h.children,rc(d,h)?E=null:x!==null&&rc(d,x)&&(n.flags|=32),Tm(e,n),$t(e,n,E,o),n.child;case 6:return e===null&&uc(n),null;case 13:return _m(e,n,o);case 4:return vc(n,n.stateNode.containerInfo),d=n.pendingProps,e===null?n.child=Xa(n,null,d,o):$t(e,n,d,o),n.child;case 11:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),km(e,n,d,h,o);case 7:return $t(e,n,n.pendingProps,o),n.child;case 8:return $t(e,n,n.pendingProps.children,o),n.child;case 12:return $t(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(d=n.type._context,h=n.pendingProps,x=n.memoizedProps,E=h.value,Xe(ll,d._currentValue),d._currentValue=E,x!==null)if(br(x.value,E)){if(x.children===h.children&&!Wt.current){n=on(e,n,o);break e}}else for(x=n.child,x!==null&&(x.return=n);x!==null;){var A=x.dependencies;if(A!==null){E=x.child;for(var F=A.firstContext;F!==null;){if(F.context===d){if(x.tag===1){F=sn(-1,o&-o),F.tag=2;var H=x.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),H.pending=F}}x.lanes|=o,F=x.alternate,F!==null&&(F.lanes|=o),gc(x.return,o,n),A.lanes|=o;break}F=F.next}}else if(x.tag===10)E=x.type===n.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(s(341));E.lanes|=o,A=E.alternate,A!==null&&(A.lanes|=o),gc(E,o,n),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===n){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}$t(e,n,h.children,o),n=n.child}return n;case 9:return h=n.type,d=n.pendingProps.children,Za(n,o),h=fr(h),d=d(h),n.flags|=1,$t(e,n,d,o),n.child;case 14:return d=n.type,h=jr(d,n.pendingProps),h=jr(d.type,h),Rm(e,n,d,h,o);case 15:return Pm(e,n,n.type,n.pendingProps,o);case 17:return d=n.type,h=n.pendingProps,h=n.elementType===d?h:jr(d,h),vl(e,n),n.tag=1,Ht(d)?(e=!0,tl(n)):e=!1,Za(n,o),bm(n,d,h),Mc(n,d,h,o),Lc(null,n,d,!0,e,o);case 19:return Om(e,n,o);case 22:return Dm(e,n,o)}throw Error(s(156,n.tag))};function lh(e,n){return Cn(e,n)}function Ny(e,n,o,d){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,n,o,d){return new Ny(e,n,o,d)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cy(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J)return 11;if(e===re)return 14}return 2}function Un(e,n){var o=e.alternate;return o===null?(o=pr(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Dl(e,n,o,d,h,x){var E=2;if(d=e,typeof e=="function")rd(e)&&(E=1);else if(typeof e=="string")E=5;else e:switch(e){case D:return Sa(o.children,h,x,n);case V:E=8,h|=8;break;case T:return e=pr(12,o,n,h|2),e.elementType=T,e.lanes=x,e;case Z:return e=pr(13,o,n,h),e.elementType=Z,e.lanes=x,e;case te:return e=pr(19,o,n,h),e.elementType=te,e.lanes=x,e;case ae:return Tl(o,h,x,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:E=10;break e;case Q:E=9;break e;case J:E=11;break e;case re:E=14;break e;case X:E=16,d=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=pr(E,o,n,h),n.elementType=e,n.type=d,n.lanes=x,n}function Sa(e,n,o,d){return e=pr(7,e,d,n),e.lanes=o,e}function Tl(e,n,o,d){return e=pr(22,e,d,n),e.elementType=ae,e.lanes=o,e.stateNode={isHidden:!1},e}function nd(e,n,o){return e=pr(6,e,null,n),e.lanes=o,e}function ad(e,n,o){return n=pr(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Sy(e,n,o,d,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function sd(e,n,o,d,h,x,E,A,F){return e=new Sy(e,n,o,A,F),n===1?(n=1,x===!0&&(n|=8)):n=0,x=pr(3,null,null,n),e.current=x,x.stateNode=e,x.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(x),e}function Ey(e,n,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:d==null?null:""+d,children:e,containerInfo:n,implementation:o}}function ih(e){if(!e)return In;e=e._reactInternals;e:{if(He(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(Ht(o))return Lf(e,o,n)}return n}function ch(e,n,o,d,h,x,E,A,F){return e=sd(o,d,!0,e,h,x,E,A,F),e.context=ih(null),o=e.current,d=zt(),h=Vn(o),x=sn(d,h),x.callback=n??null,On(o,x,h),e.current.lanes=h,Rs(e,h,d),qt(e,d),e}function Ml(e,n,o,d){var h=n.current,x=zt(),E=Vn(h);return o=ih(o),n.context===null?n.context=o:n.pendingContext=o,n=sn(x,E),n.payload={element:e},d=d===void 0?null:d,d!==null&&(n.callback=d),e=On(h,n,E),e!==null&&(Sr(e,h,E,x),cl(e,h,E)),E}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function od(e,n){dh(e,n),(e=e.alternate)&&dh(e,n)}function ky(){return null}var uh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ld(e){this._internalRoot=e}Il.prototype.render=ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Ml(e,n,null,null)},Il.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ja(function(){Ml(null,e,null,null)}),n[en]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Pn.length&&n!==0&&n<Pn[o].priority;o++);Pn.splice(o,0,e),o===0&&Qu(e)}};function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fh(){}function Ry(e,n,o,d,h){if(h){if(typeof d=="function"){var x=d;d=function(){var H=Al(E);x.call(H)}}var E=ch(n,d,e,0,null,!1,!1,"",fh);return e._reactRootContainer=E,e[en]=E.current,Bs(e.nodeType===8?e.parentNode:e),ja(),E}for(;h=e.lastChild;)e.removeChild(h);if(typeof d=="function"){var A=d;d=function(){var H=Al(F);A.call(H)}}var F=sd(e,0,!1,null,null,!1,!1,"",fh);return e._reactRootContainer=F,e[en]=F.current,Bs(e.nodeType===8?e.parentNode:e),ja(function(){Ml(n,F,o,d)}),F}function Ll(e,n,o,d,h){var x=o._reactRootContainer;if(x){var E=x;if(typeof h=="function"){var A=h;h=function(){var F=Al(E);A.call(F)}}Ml(n,E,e,h)}else E=Ry(o,n,e,h,d);return Al(E)}Hu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=ks(n.pendingLanes);o!==0&&(Mi(n,o|1),qt(n,Qe()),(Ve&6)===0&&(as=Qe()+500,_n()))}break;case 13:ja(function(){var d=an(e,1);if(d!==null){var h=zt();Sr(d,e,1,h)}}),od(e,1)}},Ai=function(e){if(e.tag===13){var n=an(e,134217728);if(n!==null){var o=zt();Sr(n,e,134217728,o)}od(e,134217728)}},Yu=function(e){if(e.tag===13){var n=Vn(e),o=an(e,n);if(o!==null){var d=zt();Sr(o,e,n,d)}od(e,n)}},Gu=function(){return qe},qu=function(e,n){var o=qe;try{return qe=e,n()}finally{qe=o}},Cs=function(e,n,o){switch(n){case"input":if(ir(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var d=o[n];if(d!==e&&d.form===e.form){var h=Zo(d);if(!h)throw Error(s(90));Ue(d),ir(d,h)}}}break;case"textarea":ia(e,o);break;case"select":n=o.value,n!=null&&Ar(e,!!o.multiple,n,!1)}},Ao=Zc,Io=ja;var Py={usingClientEntryPoint:!1,Events:[Hs,Ha,Zo,da,ua,Zc]},so={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dy={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ke(e),e===null?null:e.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Or=Ol.inject(Dy),Ye=Ol}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Py,Kt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(n))throw Error(s(200));return Ey(e,n,null,o)},Kt.createRoot=function(e,n){if(!id(e))throw Error(s(299));var o=!1,d="",h=uh;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=sd(e,1,!1,null,null,o,!1,d,h),e[en]=n.current,Bs(e.nodeType===8?e.parentNode:e),new ld(n)},Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ke(n),e=e===null?null:e.stateNode,e},Kt.flushSync=function(e){return ja(e)},Kt.hydrate=function(e,n,o){if(!_l(n))throw Error(s(200));return Ll(null,e,n,!0,o)},Kt.hydrateRoot=function(e,n,o){if(!id(e))throw Error(s(405));var d=o!=null&&o.hydratedSources||null,h=!1,x="",E=uh;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),n=ch(n,null,e,1,o??null,h,!1,x,E),e[en]=n.current,Bs(e),d)for(e=0;e<d.length;e++)o=d[e],h=o._getVersion,h=h(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,h]:n.mutableSourceEagerHydrationData.push(o,h);return new Il(n)},Kt.render=function(e,n,o){if(!_l(n))throw Error(s(200));return Ll(null,e,n,!1,o)},Kt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(s(40));return e._reactRootContainer?(ja(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1},Kt.unstable_batchedUpdates=Zc,Kt.unstable_renderSubtreeIntoContainer=function(e,n,o,d){if(!_l(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ll(e,n,o,!1,d)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var bh;function Cp(){if(bh)return ud.exports;bh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),ud.exports=$y(),ud.exports}var wh;function zy(){if(wh)return Fl;wh=1;var t=Cp();return Fl.createRoot=t.createRoot,Fl.hydrateRoot=t.hydrateRoot,Fl}var Vy=zy();const By=cu(Vy);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sp=t=>{throw TypeError(t)},Uy=(t,a,s)=>a.has(t)||Sp("Cannot "+s),hd=(t,a,s)=>(Uy(t,a,"read from private field"),s?s.call(t):a.get(t)),Wy=(t,a,s)=>a.has(t)?Sp("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(t):a.set(t,s),jh="popstate";function Hy(t={}){function a(l,i){let{pathname:c,search:u,hash:f}=l.location;return yo("",{pathname:c,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(l,i){return typeof i=="string"?i:Jn(i)}return Gy(a,s,null,t)}function Fe(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function yt(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Yy(){return Math.random().toString(36).substring(2,10)}function Nh(t,a){return{usr:t.state,key:t.key,idx:a}}function yo(t,a,s=null,l){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?aa(a):a,state:s,key:a&&a.key||l||Yy()}}function Jn({pathname:t="/",search:a="",hash:s=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function aa(t){let a={};if(t){let s=t.indexOf("#");s>=0&&(a.hash=t.substring(s),t=t.substring(0,s));let l=t.indexOf("?");l>=0&&(a.search=t.substring(l),t=t.substring(0,l)),t&&(a.pathname=t)}return a}function Gy(t,a,s,l={}){let{window:i=document.defaultView,v5Compat:c=!1}=l,u=i.history,f="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function b(){f="POP";let C=y(),j=C==null?null:C-p;p=C,m&&m({action:f,location:N.location,delta:j})}function v(C,j){f="PUSH";let k=yo(N.location,C,j);p=y()+1;let P=Nh(k,p),I=N.createHref(k);try{u.pushState(P,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(I)}c&&m&&m({action:f,location:N.location,delta:1})}function w(C,j){f="REPLACE";let k=yo(N.location,C,j);p=y();let P=Nh(k,p),I=N.createHref(k);u.replaceState(P,"",I),c&&m&&m({action:f,location:N.location,delta:0})}function S(C){return Ep(C)}let N={get action(){return f},get location(){return t(i,u)},listen(C){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(jh,b),m=C,()=>{i.removeEventListener(jh,b),m=null}},createHref(C){return a(i,C)},createURL:S,encodeLocation(C){let j=S(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:w,go(C){return u.go(C)}};return N}function Ep(t,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(s,"No window.location.(origin|href) available to create URL");let l=typeof t=="string"?t:Jn(t);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=s+l),new URL(l,s)}var mo,Ch=class{constructor(t){if(Wy(this,mo,new Map),t)for(let[a,s]of t)this.set(a,s)}get(t){if(hd(this,mo).has(t))return hd(this,mo).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,a){hd(this,mo).set(t,a)}};mo=new WeakMap;var qy=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ky(t){return qy.has(t)}var Qy=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function Xy(t){return Qy.has(t)}function Jy(t){return t.index===!0}function vo(t,a,s=[],l={},i=!1){return t.map((c,u)=>{let f=[...s,String(u)],m=typeof c.id=="string"?c.id:f.join("-");if(Fe(c.index!==!0||!c.children,"Cannot specify children on an index route"),Fe(i||!l[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),Jy(c)){let p={...c,...a(c),id:m};return l[m]=p,p}else{let p={...c,...a(c),id:m,children:void 0};return l[m]=p,c.children&&(p.children=vo(c.children,a,f,l,i)),p}})}function Qn(t,a,s="/"){return Gl(t,a,s,!1)}function Gl(t,a,s,l){let i=typeof a=="string"?aa(a):a,c=yr(i.pathname||"/",s);if(c==null)return null;let u=kp(t);ev(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=uv(c);f=cv(u[m],p,l)}return f}function Zy(t,a){let{route:s,pathname:l,params:i}=t;return{id:s.id,pathname:l,params:i,data:a[s.id],handle:s.handle}}function kp(t,a=[],s=[],l=""){let i=(c,u,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(Fe(m.relativePath.startsWith(l),`Absolute route path "${m.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(l.length));let p=Wr([l,m.relativePath]),y=s.concat(m);c.children&&c.children.length>0&&(Fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),kp(c.children,a,y,p)),!(c.path==null&&!c.index)&&a.push({path:p,score:lv(p,c.index),routesMeta:y})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))i(c,u);else for(let f of Rp(c.path))i(c,u,f)}),a}function Rp(t){let a=t.split("/");if(a.length===0)return[];let[s,...l]=a,i=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return i?[c,""]:[c];let u=Rp(l.join("/")),f=[];return f.push(...u.map(m=>m===""?c:[c,m].join("/"))),i&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function ev(t){t.sort((a,s)=>a.score!==s.score?s.score-a.score:iv(a.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var tv=/^:[\w-]+$/,rv=3,nv=2,av=1,sv=10,ov=-2,Sh=t=>t==="*";function lv(t,a){let s=t.split("/"),l=s.length;return s.some(Sh)&&(l+=ov),a&&(l+=nv),s.filter(i=>!Sh(i)).reduce((i,c)=>i+(tv.test(c)?rv:c===""?av:sv),l)}function iv(t,a){return t.length===a.length&&t.slice(0,-1).every((l,i)=>l===a[i])?t[t.length-1]-a[a.length-1]:0}function cv(t,a,s=!1){let{routesMeta:l}=t,i={},c="/",u=[];for(let f=0;f<l.length;++f){let m=l[f],p=f===l.length-1,y=c==="/"?a:a.slice(c.length)||"/",b=ni({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),v=m.route;if(!b&&p&&s&&!l[l.length-1].route.index&&(b=ni({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:Wr([c,b.pathname]),pathnameBase:pv(Wr([c,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(c=Wr([c,b.pathnameBase]))}return u}function ni(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,l]=dv(t.path,t.caseSensitive,t.end),i=a.match(s);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:l.reduce((p,{paramName:y,isOptional:b},v)=>{if(y==="*"){let S=f[v]||"";u=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[v];return b&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:t}}function dv(t,a=!1,s=!0){yt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let l=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(l.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(l.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),l]}function uv(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return yt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function yr(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,l=t.charAt(s);return l&&l!=="/"?null:t.slice(s)||"/"}function fv({basename:t,pathname:a}){return a==="/"?t:Wr([t,a])}function mv(t,a="/"){let{pathname:s,search:l="",hash:i=""}=typeof t=="string"?aa(t):t;return{pathname:s?s.startsWith("/")?s:hv(s,a):a,search:gv(l),hash:xv(i)}}function hv(t,a){let s=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function pd(t,a,s,l){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pp(t){return t.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function uu(t){let a=Pp(t);return a.map((s,l)=>l===a.length-1?s.pathname:s.pathnameBase)}function fu(t,a,s,l=!1){let i;typeof t=="string"?i=aa(t):(i={...t},Fe(!i.pathname||!i.pathname.includes("?"),pd("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),pd("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),pd("#","search","hash",i)));let c=t===""||i.pathname==="",u=c?"/":i.pathname,f;if(u==null)f=s;else{let b=a.length-1;if(!l&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),b-=1;i.pathname=v.join("/")}f=b>=0?a[b]:"/"}let m=mv(i,f),p=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Wr=t=>t.join("/").replace(/\/\/+/g,"/"),pv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ai=class{constructor(t,a,s,l=!1){this.status=t,this.statusText=a||"",this.internal=l,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function bo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Dp=["POST","PUT","PATCH","DELETE"],yv=new Set(Dp),vv=["GET",...Dp],bv=new Set(vv),wv=new Set([301,302,303,307,308]),jv=new Set([307,308]),gd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nv={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mu=t=>Cv.test(t),Sv=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Tp="remix-router-transitions",Mp=Symbol("ResetLoaderData");function Ev(t){const a=t.window?t.window:typeof window<"u"?window:void 0,s=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u";Fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=t.hydrationRouteProperties||[],i=t.mapRouteProperties||Sv,c={},u=vo(t.routes,i,void 0,c),f,m=t.basename||"/",p=t.dataStrategy||Tv,y={unstable_middleware:!1,...t.future},b=null,v=new Set,w=null,S=null,N=null,C=t.hydrationData!=null,j=Qn(u,t.history.location,m),k=!1,P=null,I;if(j==null&&!t.patchRoutesOnNavigation){let L=gr(404,{pathname:t.history.location.pathname}),{matches:B,route:G}=Oh(u);I=!0,j=B,P={[G.id]:L}}else if(j&&!t.hydrationData&&da(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(L=>L.route.lazy))I=!1;else if(!j.some(L=>L.route.loader))I=!0;else{let L=t.hydrationData?t.hydrationData.loaderData:null,B=t.hydrationData?t.hydrationData.errors:null;if(B){let G=j.findIndex(oe=>B[oe.route.id]!==void 0);I=j.slice(0,G+1).every(oe=>!Ld(oe.route,L,B))}else I=j.every(G=>!Ld(G.route,L,B))}else{I=!1,j=[];let L=da(null,u,t.history.location.pathname);L.active&&L.matches&&(k=!0,j=L.matches)}let M,R={historyAction:t.history.action,location:t.history.location,matches:j,initialized:I,navigation:gd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},D="POP",V=!1,T,O=!1,Q=new Map,J=null,Z=!1,te=!1,re=new Set,X=new Map,ae=0,$=-1,K=new Map,Y=new Set,_=new Map,q=new Map,de=new Set,fe=new Map,Se,we=null;function le(){if(b=t.history.listen(({action:L,location:B,delta:G})=>{if(Se){Se(),Se=void 0;return}yt(fe.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=La({currentLocation:R.location,nextLocation:B,historyAction:L});if(oe&&G!=null){let ce=new Promise(Ce=>{Se=Ce});t.history.go(G*-1),At(oe,{state:"blocked",location:B,proceed(){At(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),ce.then(()=>t.history.go(G))},reset(){let Ce=new Map(R.blockers);Ce.set(oe,lo),pe({blockers:Ce})}});return}return mt(L,B)}),s){Bv(a,Q);let L=()=>Uv(a,Q);a.addEventListener("pagehide",L),J=()=>a.removeEventListener("pagehide",L)}return R.initialized||mt("POP",R.location,{initialHydration:!0}),M}function me(){b&&b(),J&&J(),v.clear(),T&&T.abort(),R.fetchers.forEach((L,B)=>jn(B)),R.blockers.forEach((L,B)=>_r(B))}function Me(L){return v.add(L),()=>v.delete(L)}function pe(L,B={}){L.matches&&(L.matches=L.matches.map(ce=>{let Ce=c[ce.route.id],be=ce.route;return be.element!==Ce.element||be.errorElement!==Ce.errorElement||be.hydrateFallbackElement!==Ce.hydrateFallbackElement?{...ce,route:Ce}:ce})),R={...R,...L};let G=[],oe=[];R.fetchers.forEach((ce,Ce)=>{ce.state==="idle"&&(de.has(Ce)?G.push(Ce):oe.push(Ce))}),de.forEach(ce=>{!R.fetchers.has(ce)&&!X.has(ce)&&G.push(ce)}),[...v].forEach(ce=>ce(R,{deletedFetchers:G,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),G.forEach(ce=>jn(ce)),oe.forEach(ce=>R.fetchers.delete(ce))}function _e(L,B,{flushSync:G}={}){let oe=R.actionData!=null&&R.navigation.formMethod!=null&&Qt(R.navigation.formMethod)&&R.navigation.state==="loading"&&L.state?._isRedirect!==!0,ce;B.actionData?Object.keys(B.actionData).length>0?ce=B.actionData:ce=null:oe?ce=R.actionData:ce=null;let Ce=B.loaderData?_h(R.loaderData,B.loaderData,B.matches||[],B.errors):R.loaderData,be=R.blockers;be.size>0&&(be=new Map(be),be.forEach((Ee,ke)=>be.set(ke,lo)));let ge=Z?!1:Ss(L,B.matches||R.matches),Ne=V===!0||R.navigation.formMethod!=null&&Qt(R.navigation.formMethod)&&L.state?._isRedirect!==!0;f&&(u=f,f=void 0),Z||D==="POP"||(D==="PUSH"?t.history.push(L,L.state):D==="REPLACE"&&t.history.replace(L,L.state));let Pe;if(D==="POP"){let Ee=Q.get(R.location.pathname);Ee&&Ee.has(L.pathname)?Pe={currentLocation:R.location,nextLocation:L}:Q.has(L.pathname)&&(Pe={currentLocation:L,nextLocation:R.location})}else if(O){let Ee=Q.get(R.location.pathname);Ee?Ee.add(L.pathname):(Ee=new Set([L.pathname]),Q.set(R.location.pathname,Ee)),Pe={currentLocation:R.location,nextLocation:L}}pe({...B,actionData:ce,loaderData:Ce,historyAction:D,location:L,initialized:!0,navigation:gd,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:Ne,blockers:be},{viewTransitionOpts:Pe,flushSync:G===!0}),D="POP",V=!1,O=!1,Z=!1,te=!1,we?.resolve(),we=null}async function Ue(L,B){if(typeof L=="number"){t.history.go(L);return}let G=_d(R.location,R.matches,m,L,B?.fromRouteId,B?.relative),{path:oe,submission:ce,error:Ce}=Eh(!1,G,B),be=R.location,ge=yo(R.location,oe,B&&B.state);ge={...ge,...t.history.encodeLocation(ge)};let Ne=B&&B.replace!=null?B.replace:void 0,Pe="PUSH";Ne===!0?Pe="REPLACE":Ne===!1||ce!=null&&Qt(ce.formMethod)&&ce.formAction===R.location.pathname+R.location.search&&(Pe="REPLACE");let Ee=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,ke=(B&&B.flushSync)===!0,$e=La({currentLocation:be,nextLocation:ge,historyAction:Pe});if($e){At($e,{state:"blocked",location:ge,proceed(){At($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Ue(L,B)},reset(){let He=new Map(R.blockers);He.set($e,lo),pe({blockers:He})}});return}await mt(Pe,ge,{submission:ce,pendingError:Ce,preventScrollReset:Ee,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:ke})}function ft(){we||(we=Wv()),wn(),pe({revalidation:"loading"});let L=we.promise;return R.navigation.state==="submitting"?L:R.navigation.state==="idle"?(mt(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),L):(mt(D||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:O===!0}),L)}async function mt(L,B,G){T&&T.abort(),T=null,D=L,Z=(G&&G.startUninterruptedRevalidation)===!0,Nn(R.location,R.matches),V=(G&&G.preventScrollReset)===!0,O=(G&&G.enableViewTransition)===!0;let oe=f||u,ce=G&&G.overrideNavigation,Ce=G?.initialHydration&&R.matches&&R.matches.length>0&&!k?R.matches:Qn(oe,B,m),be=(G&&G.flushSync)===!0;if(Ce&&R.initialized&&!te&&Ov(R.location,B)&&!(G&&G.submission&&Qt(G.submission.formMethod))){_e(B,{matches:Ce},{flushSync:be});return}let ge=da(Ce,oe,B.pathname);if(ge.active&&ge.matches&&(Ce=ge.matches),!Ce){let{error:St,notFoundMatches:at,route:Ke}=ca(B.pathname);_e(B,{matches:at,loaderData:{},errors:{[Ke.id]:St}},{flushSync:be});return}T=new AbortController;let Ne=ds(t.history,B,T.signal,G&&G.submission),Pe=new Ch(t.unstable_getContext?await t.unstable_getContext():void 0),Ee;if(G&&G.pendingError)Ee=[ka(Ce).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Qt(G.submission.formMethod)){let St=await Tr(Ne,B,G.submission,Ce,Pe,ge.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:be});if(St.shortCircuited)return;if(St.pendingActionResult){let[at,Ke]=St.pendingActionResult;if(ar(Ke)&&bo(Ke.error)&&Ke.error.status===404){T=null,_e(B,{matches:St.matches,loaderData:{},errors:{[at]:Ke.error}});return}}Ce=St.matches||Ce,Ee=St.pendingActionResult,ce=xd(B,G.submission),be=!1,ge.active=!1,Ne=ds(t.history,Ne.url,Ne.signal)}let{shortCircuited:ke,matches:$e,loaderData:He,errors:jt}=await Mr(Ne,B,Ce,Pe,ge.active,ce,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,be,Ee);ke||(T=null,_e(B,{matches:$e||Ce,...Lh(Ee),loaderData:He,errors:jt}))}async function Tr(L,B,G,oe,ce,Ce,be,ge={}){wn();let Ne=zv(B,G);if(pe({navigation:Ne},{flushSync:ge.flushSync===!0}),Ce){let ke=await ua(oe,B.pathname,L.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let $e=ka(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[$e,{type:"error",error:ke.error}]}}else if(ke.matches)oe=ke.matches;else{let{notFoundMatches:$e,error:He,route:jt}=ca(B.pathname);return{matches:$e,pendingActionResult:[jt.id,{type:"error",error:He}]}}}let Pe,Ee=ql(oe,B);if(!Ee.route.action&&!Ee.route.lazy)Pe={type:"error",error:gr(405,{method:L.method,pathname:B.pathname,routeId:Ee.route.id})};else{let ke=fs(i,c,L,oe,Ee,be?[]:l,ce),$e=await Ir(L,ke,ce,null);if(Pe=$e[Ee.route.id],!Pe){for(let He of oe)if($e[He.route.id]){Pe=$e[He.route.id];break}}if(L.signal.aborted)return{shortCircuited:!0}}if(Pa(Pe)){let ke;return ge&&ge.replace!=null?ke=ge.replace:ke=Mh(Pe.response.headers.get("Location"),new URL(L.url),m)===R.location.pathname+R.location.search,await Jt(L,Pe,!0,{submission:G,replace:ke}),{shortCircuited:!0}}if(ar(Pe)){let ke=ka(oe,Ee.route.id);return(ge&&ge.replace)!==!0&&(D="PUSH"),{matches:oe,pendingActionResult:[ke.route.id,Pe,Ee.route.id]}}return{matches:oe,pendingActionResult:[Ee.route.id,Pe]}}async function Mr(L,B,G,oe,ce,Ce,be,ge,Ne,Pe,Ee,ke){let $e=Ce||xd(B,be),He=be||ge||$h($e),jt=!Z&&!Pe;if(ce){if(jt){let Et=ir(ke);pe({navigation:$e,...Et!==void 0?{actionData:Et}:{}},{flushSync:Ee})}let ze=await ua(G,B.pathname,L.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Et=ka(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Et]:ze.error}}}else if(ze.matches)G=ze.matches;else{let{error:Et,notFoundMatches:ma,route:Or}=ca(B.pathname);return{matches:ma,loaderData:{},errors:{[Or.id]:Et}}}}let St=f||u,{dsMatches:at,revalidatingFetchers:Ke}=kh(L,oe,i,c,t.history,R,G,He,B,Pe?[]:l,Pe===!0,te,re,de,_,Y,St,m,t.patchRoutesOnNavigation!=null,ke);if($=++ae,!t.dataStrategy&&!at.some(ze=>ze.shouldLoad)&&Ke.length===0){let ze=Ze();return _e(B,{matches:G,loaderData:{},errors:ke&&ar(ke[1])?{[ke[0]]:ke[1].error}:null,...Lh(ke),...ze?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Ee}),{shortCircuited:!0}}if(jt){let ze={};if(!ce){ze.navigation=$e;let Et=ir(ke);Et!==void 0&&(ze.actionData=Et)}Ke.length>0&&(ze.fetchers=_a(Ke)),pe(ze,{flushSync:Ee})}Ke.forEach(ze=>{ve(ze.key),ze.controller&&X.set(ze.key,ze.controller)});let Lr=()=>Ke.forEach(ze=>ve(ze.key));T&&T.signal.addEventListener("abort",Lr);let{loaderResults:Cn,fetcherResults:vr}=await ia(at,Ke,L,oe);if(L.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",Lr),Ke.forEach(ze=>X.delete(ze.key));let cr=$l(Cn);if(cr)return await Jt(L,cr.result,!0,{replace:Ne}),{shortCircuited:!0};if(cr=$l(vr),cr)return Y.add(cr.key),await Jt(L,cr.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Es,errors:Qe}=Ih(R,G,Cn,ke,Ke,vr);Pe&&R.errors&&(Qe={...R.errors,...Qe});let Zr=Ze(),Sn=et($),fa=Zr||Sn||Ke.length>0;return{matches:G,loaderData:Es,errors:Qe,...fa?{fetchers:new Map(R.fetchers)}:{}}}function ir(L){if(L&&!ar(L[1]))return{[L[0]]:L[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function _a(L){return L.forEach(B=>{let G=R.fetchers.get(B.key),oe=io(void 0,G?G.data:void 0);R.fetchers.set(B.key,oe)}),new Map(R.fetchers)}async function la(L,B,G,oe){ve(L);let ce=(oe&&oe.flushSync)===!0,Ce=f||u,be=_d(R.location,R.matches,m,G,B,oe?.relative),ge=Qn(Ce,be,m),Ne=da(ge,Ce,be);if(Ne.active&&Ne.matches&&(ge=Ne.matches),!ge){Ft(L,B,gr(404,{pathname:be}),{flushSync:ce});return}let{path:Pe,submission:Ee,error:ke}=Eh(!0,be,oe);if(ke){Ft(L,B,ke,{flushSync:ce});return}let $e=new Ch(t.unstable_getContext?await t.unstable_getContext():void 0),He=(oe&&oe.preventScrollReset)===!0;if(Ee&&Qt(Ee.formMethod)){await Kr(L,B,Pe,ge,$e,Ne.active,ce,He,Ee);return}_.set(L,{routeId:B,path:Pe}),await Ar(L,B,Pe,ge,$e,Ne.active,ce,He,Ee)}async function Kr(L,B,G,oe,ce,Ce,be,ge,Ne){wn(),_.delete(L);let Pe=R.fetchers.get(L);Zt(L,Vv(Ne,Pe),{flushSync:be});let Ee=new AbortController,ke=ds(t.history,G,Ee.signal,Ne);if(Ce){let Ye=await ua(oe,new URL(ke.url).pathname,ke.signal,L);if(Ye.type==="aborted")return;if(Ye.type==="error"){Ft(L,B,Ye.error,{flushSync:be});return}else if(Ye.matches)oe=Ye.matches;else{Ft(L,B,gr(404,{pathname:G}),{flushSync:be});return}}let $e=ql(oe,G);if(!$e.route.action&&!$e.route.lazy){let Ye=gr(405,{method:Ne.formMethod,pathname:G,routeId:B});Ft(L,B,Ye,{flushSync:be});return}X.set(L,Ee);let He=ae,jt=fs(i,c,ke,oe,$e,l,ce),at=(await Ir(ke,jt,ce,L))[$e.route.id];if(ke.signal.aborted){X.get(L)===Ee&&X.delete(L);return}if(de.has(L)){if(Pa(at)||ar(at)){Zt(L,Gn(void 0));return}}else{if(Pa(at))if(X.delete(L),$>He){Zt(L,Gn(void 0));return}else return Y.add(L),Zt(L,io(Ne)),Jt(ke,at,!1,{fetcherSubmission:Ne,preventScrollReset:ge});if(ar(at)){Ft(L,B,at.error);return}}let Ke=R.navigation.location||R.location,Lr=ds(t.history,Ke,Ee.signal),Cn=f||u,vr=R.navigation.state!=="idle"?Qn(Cn,R.navigation.location,m):R.matches;Fe(vr,"Didn't find any matches after fetcher action");let cr=++ae;K.set(L,cr);let Es=io(Ne,at.data);R.fetchers.set(L,Es);let{dsMatches:Qe,revalidatingFetchers:Zr}=kh(Lr,ce,i,c,t.history,R,vr,Ne,Ke,l,!1,te,re,de,_,Y,Cn,m,t.patchRoutesOnNavigation!=null,[$e.route.id,at]);Zr.filter(Ye=>Ye.key!==L).forEach(Ye=>{let Oa=Ye.key,Ut=R.fetchers.get(Oa),Pi=io(void 0,Ut?Ut.data:void 0);R.fetchers.set(Oa,Pi),ve(Oa),Ye.controller&&X.set(Oa,Ye.controller)}),pe({fetchers:new Map(R.fetchers)});let Sn=()=>Zr.forEach(Ye=>ve(Ye.key));Ee.signal.addEventListener("abort",Sn);let{loaderResults:fa,fetcherResults:ze}=await ia(Qe,Zr,Lr,ce);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",Sn),K.delete(L),X.delete(L),Zr.forEach(Ye=>X.delete(Ye.key)),R.fetchers.has(L)){let Ye=Gn(at.data);R.fetchers.set(L,Ye)}let Et=$l(fa);if(Et)return Jt(Lr,Et.result,!1,{preventScrollReset:ge});if(Et=$l(ze),Et)return Y.add(Et.key),Jt(Lr,Et.result,!1,{preventScrollReset:ge});let{loaderData:ma,errors:Or}=Ih(R,vr,fa,void 0,Zr,ze);et(cr),R.navigation.state==="loading"&&cr>$?(Fe(D,"Expected pending action"),T&&T.abort(),_e(R.navigation.location,{matches:vr,loaderData:ma,errors:Or,fetchers:new Map(R.fetchers)})):(pe({errors:Or,loaderData:_h(R.loaderData,ma,vr,Or),fetchers:new Map(R.fetchers)}),te=!1)}async function Ar(L,B,G,oe,ce,Ce,be,ge,Ne){let Pe=R.fetchers.get(L);Zt(L,io(Ne,Pe?Pe.data:void 0),{flushSync:be});let Ee=new AbortController,ke=ds(t.history,G,Ee.signal);if(Ce){let Ke=await ua(oe,new URL(ke.url).pathname,ke.signal,L);if(Ke.type==="aborted")return;if(Ke.type==="error"){Ft(L,B,Ke.error,{flushSync:be});return}else if(Ke.matches)oe=Ke.matches;else{Ft(L,B,gr(404,{pathname:G}),{flushSync:be});return}}let $e=ql(oe,G);X.set(L,Ee);let He=ae,jt=fs(i,c,ke,oe,$e,l,ce),at=(await Ir(ke,jt,ce,L))[$e.route.id];if(X.get(L)===Ee&&X.delete(L),!ke.signal.aborted){if(de.has(L)){Zt(L,Gn(void 0));return}if(Pa(at))if($>He){Zt(L,Gn(void 0));return}else{Y.add(L),await Jt(ke,at,!1,{preventScrollReset:ge});return}if(ar(at)){Ft(L,B,at.error);return}Zt(L,Gn(at.data))}}async function Jt(L,B,G,{submission:oe,fetcherSubmission:ce,preventScrollReset:Ce,replace:be}={}){B.response.headers.has("X-Remix-Revalidate")&&(te=!0);let ge=B.response.headers.get("Location");Fe(ge,"Expected a Location header on the redirect Response"),ge=Mh(ge,new URL(L.url),m);let Ne=yo(R.location,ge,{_isRedirect:!0});if(s){let jt=!1;if(B.response.headers.has("X-Remix-Reload-Document"))jt=!0;else if(mu(ge)){const St=Ep(ge,!0);jt=St.origin!==a.location.origin||yr(St.pathname,m)==null}if(jt){be?a.location.replace(ge):a.location.assign(ge);return}}T=null;let Pe=be===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ee,formAction:ke,formEncType:$e}=R.navigation;!oe&&!ce&&Ee&&ke&&$e&&(oe=$h(R.navigation));let He=oe||ce;if(jv.has(B.response.status)&&He&&Qt(He.formMethod))await mt(Pe,Ne,{submission:{...He,formAction:ge},preventScrollReset:Ce||V,enableViewTransition:G?O:void 0});else{let jt=xd(Ne,oe);await mt(Pe,Ne,{overrideNavigation:jt,fetcherSubmission:ce,preventScrollReset:Ce||V,enableViewTransition:G?O:void 0})}}async function Ir(L,B,G,oe){let ce,Ce={};try{ce=await Mv(p,L,B,oe,G,!1)}catch(be){return B.filter(ge=>ge.shouldLoad).forEach(ge=>{Ce[ge.route.id]={type:"error",error:be}}),Ce}if(L.signal.aborted)return Ce;for(let[be,ge]of Object.entries(ce))if(Fv(ge)){let Ne=ge.result;Ce[be]={type:"redirect",response:_v(Ne,L,be,B,m)}}else Ce[be]=await Iv(ge);return Ce}async function ia(L,B,G,oe){let ce=Ir(G,L,oe,null),Ce=Promise.all(B.map(async Ne=>{if(Ne.matches&&Ne.match&&Ne.request&&Ne.controller){let Ee=(await Ir(Ne.request,Ne.matches,oe,Ne.key))[Ne.match.route.id];return{[Ne.key]:Ee}}else return Promise.resolve({[Ne.key]:{type:"error",error:gr(404,{pathname:Ne.path})}})})),be=await ce,ge=(await Ce).reduce((Ne,Pe)=>Object.assign(Ne,Pe),{});return{loaderResults:be,fetcherResults:ge}}function wn(){te=!0,_.forEach((L,B)=>{X.has(B)&&re.add(B),ve(B)})}function Zt(L,B,G={}){R.fetchers.set(L,B),pe({fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Ft(L,B,G,oe={}){let ce=ka(R.matches,B);jn(L),pe({errors:{[ce.route.id]:G},fetchers:new Map(R.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Qr(L){return q.set(L,(q.get(L)||0)+1),de.has(L)&&de.delete(L),R.fetchers.get(L)||Nv}function jn(L){let B=R.fetchers.get(L);X.has(L)&&!(B&&B.state==="loading"&&K.has(L))&&ve(L),_.delete(L),K.delete(L),Y.delete(L),de.delete(L),re.delete(L),R.fetchers.delete(L)}function Xr(L){let B=(q.get(L)||0)-1;B<=0?(q.delete(L),de.add(L)):q.set(L,B),pe({fetchers:new Map(R.fetchers)})}function ve(L){let B=X.get(L);B&&(B.abort(),X.delete(L))}function Ie(L){for(let B of L){let G=Qr(B),oe=Gn(G.data);R.fetchers.set(B,oe)}}function Ze(){let L=[],B=!1;for(let G of Y){let oe=R.fetchers.get(G);Fe(oe,`Expected fetcher: ${G}`),oe.state==="loading"&&(Y.delete(G),L.push(G),B=!0)}return Ie(L),B}function et(L){let B=[];for(let[G,oe]of K)if(oe<L){let ce=R.fetchers.get(G);Fe(ce,`Expected fetcher: ${G}`),ce.state==="loading"&&(ve(G),K.delete(G),B.push(G))}return Ie(B),B.length>0}function wt(L,B){let G=R.blockers.get(L)||lo;return fe.get(L)!==B&&fe.set(L,B),G}function _r(L){R.blockers.delete(L),fe.delete(L)}function At(L,B){let G=R.blockers.get(L)||lo;Fe(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${B.state}`);let oe=new Map(R.blockers);oe.set(L,B),pe({blockers:oe})}function La({currentLocation:L,nextLocation:B,historyAction:G}){if(fe.size===0)return;fe.size>1&&yt(!1,"A router only supports one blocker at a time");let oe=Array.from(fe.entries()),[ce,Ce]=oe[oe.length-1],be=R.blockers.get(ce);if(!(be&&be.state==="proceeding")&&Ce({currentLocation:L,nextLocation:B,historyAction:G}))return ce}function ca(L){let B=gr(404,{pathname:L}),G=f||u,{matches:oe,route:ce}=Oh(G);return{notFoundMatches:oe,route:ce,error:B}}function Cs(L,B,G){if(w=L,N=B,S=G||null,!C&&R.navigation===gd){C=!0;let oe=Ss(R.location,R.matches);oe!=null&&pe({restoreScrollPosition:oe})}return()=>{w=null,N=null,S=null}}function Jr(L,B){return S&&S(L,B.map(oe=>Zy(oe,R.loaderData)))||L.key}function Nn(L,B){if(w&&N){let G=Jr(L,B);w[G]=N()}}function Ss(L,B){if(w){let G=Jr(L,B),oe=w[G];if(typeof oe=="number")return oe}return null}function da(L,B,G){if(t.patchRoutesOnNavigation)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:Gl(B,G,m,!0)}}else return{active:!0,matches:Gl(B,G,m,!0)||[]};return{active:!1,matches:null}}async function ua(L,B,G,oe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:L};let ce=L;for(;;){let Ce=f==null,be=f||u,ge=c;try{await t.patchRoutesOnNavigation({signal:G,path:B,matches:ce,fetcherKey:oe,patch:(Ee,ke)=>{G.aborted||Rh(Ee,ke,be,ge,i,!1)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:ce}}finally{Ce&&!G.aborted&&(u=[...u])}if(G.aborted)return{type:"aborted"};let Ne=Qn(be,B,m);if(Ne)return{type:"success",matches:Ne};let Pe=Gl(be,B,m,!0);if(!Pe||ce.length===Pe.length&&ce.every((Ee,ke)=>Ee.route.id===Pe[ke].route.id))return{type:"success",matches:null};ce=Pe}}function Ao(L){c={},f=vo(L,i,void 0,c)}function Io(L,B,G=!1){let oe=f==null;Rh(L,B,f||u,c,i,G),oe&&(u=[...u],pe({}))}return M={get basename(){return m},get future(){return y},get state(){return R},get routes(){return u},get window(){return a},initialize:le,subscribe:Me,enableScrollRestoration:Cs,navigate:Ue,fetch:la,revalidate:ft,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Qr,deleteFetcher:Xr,dispose:me,getBlocker:wt,deleteBlocker:_r,patchRoutes:Io,_internalFetchControllers:X,_internalSetRoutes:Ao,_internalSetStateDoNotUseOrYouWillBreakYourApp(L){pe(L)}},M}function kv(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function _d(t,a,s,l,i,c){let u,f;if(i){u=[];for(let p of a)if(u.push(p),p.route.id===i){f=p;break}}else u=a,f=a[a.length-1];let m=fu(l||".",uu(u),yr(t.pathname,s)||t.pathname,c==="path");if(l==null&&(m.search=t.search,m.hash=t.hash),(l==null||l===""||l===".")&&f){let p=hu(m.search);if(f.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let y=new URLSearchParams(m.search),b=y.getAll("index");y.delete("index"),b.filter(w=>w).forEach(w=>y.append("index",w));let v=y.toString();m.search=v?`?${v}`:""}}return s!=="/"&&(m.pathname=fv({basename:s,pathname:m.pathname})),Jn(m)}function Eh(t,a,s){if(!s||!kv(s))return{path:a};if(s.formMethod&&!$v(s.formMethod))return{path:a,error:gr(405,{method:s.formMethod})};let l=()=>({path:a,error:gr(400,{type:"invalid-body"})}),c=(s.formMethod||"get").toUpperCase(),u=Fp(a);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Qt(c))return l();let b=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((v,[w,S])=>`${v}${w}=${S}
`,""):String(s.body);return{path:a,submission:{formMethod:c,formAction:u,formEncType:s.formEncType,formData:void 0,json:void 0,text:b}}}else if(s.formEncType==="application/json"){if(!Qt(c))return l();try{let b=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:a,submission:{formMethod:c,formAction:u,formEncType:s.formEncType,formData:void 0,json:b,text:void 0}}}catch{return l()}}}Fe(typeof FormData=="function","FormData is not available in this environment");let f,m;if(s.formData)f=Fd(s.formData),m=s.formData;else if(s.body instanceof FormData)f=Fd(s.body),m=s.body;else if(s.body instanceof URLSearchParams)f=s.body,m=Ah(f);else if(s.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(s.body),m=Ah(f)}catch{return l()}let p={formMethod:c,formAction:u,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Qt(p.formMethod))return{path:a,submission:p};let y=aa(a);return t&&y.search&&hu(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Jn(y),submission:p}}function kh(t,a,s,l,i,c,u,f,m,p,y,b,v,w,S,N,C,j,k,P){let I=P?ar(P[1])?P[1].error:P[1].data:void 0,M=i.createURL(c.location),R=i.createURL(m),D;if(y&&c.errors){let Z=Object.keys(c.errors)[0];D=u.findIndex(te=>te.route.id===Z)}else if(P&&ar(P[1])){let Z=P[0];D=u.findIndex(te=>te.route.id===Z)-1}let V=P?P[1].statusCode:void 0,T=V&&V>=400,O={currentUrl:M,currentParams:c.matches[0]?.params||{},nextUrl:R,nextParams:u[0].params,...f,actionResult:I,actionStatus:V},Q=u.map((Z,te)=>{let{route:re}=Z,X=null;if(D!=null&&te>D?X=!1:re.lazy?X=!0:re.loader==null?X=!1:y?X=Ld(re,c.loaderData,c.errors):Rv(c.loaderData,c.matches[te],Z)&&(X=!0),X!==null)return Od(s,l,t,Z,p,a,X);let ae=T?!1:b||M.pathname+M.search===R.pathname+R.search||M.search!==R.search||Pv(c.matches[te],Z),$={...O,defaultShouldRevalidate:ae},K=si(Z,$);return Od(s,l,t,Z,p,a,K,$)}),J=[];return S.forEach((Z,te)=>{if(y||!u.some(q=>q.route.id===Z.routeId)||w.has(te))return;let re=c.fetchers.get(te),X=re&&re.state!=="idle"&&re.data===void 0,ae=Qn(C,Z.path,j);if(!ae){if(k&&X)return;J.push({key:te,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(N.has(te))return;let $=ql(ae,Z.path),K=new AbortController,Y=ds(i,Z.path,K.signal),_=null;if(v.has(te))v.delete(te),_=fs(s,l,Y,ae,$,p,a);else if(X)b&&(_=fs(s,l,Y,ae,$,p,a));else{let q={...O,defaultShouldRevalidate:T?!1:b};si($,q)&&(_=fs(s,l,Y,ae,$,p,a,q))}_&&J.push({key:te,routeId:Z.routeId,path:Z.path,matches:_,match:$,request:Y,controller:K})}),{dsMatches:Q,revalidatingFetchers:J}}function Ld(t,a,s){if(t.lazy)return!0;if(!t.loader)return!1;let l=a!=null&&t.id in a,i=s!=null&&s[t.id]!==void 0;return!l&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!l&&!i}function Rv(t,a,s){let l=!a||s.route.id!==a.route.id,i=!t.hasOwnProperty(s.route.id);return l||i}function Pv(t,a){let s=t.route.path;return t.pathname!==a.pathname||s!=null&&s.endsWith("*")&&t.params["*"]!==a.params["*"]}function si(t,a){if(t.route.shouldRevalidate){let s=t.route.shouldRevalidate(a);if(typeof s=="boolean")return s}return a.defaultShouldRevalidate}function Rh(t,a,s,l,i,c){let u;if(t){let p=l[t];Fe(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),u=p.children}else u=s;let f=[],m=[];if(a.forEach(p=>{let y=u.find(b=>Ap(p,b));y?m.push({existingRoute:y,newRoute:p}):f.push(p)}),f.length>0){let p=vo(f,i,[t||"_","patch",String(u?.length||"0")],l);u.push(...p)}if(c&&m.length>0)for(let p=0;p<m.length;p++){let{existingRoute:y,newRoute:b}=m[p],v=y,[w]=vo([b],i,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function Ap(t,a){return"id"in t&&"id"in a&&t.id===a.id?!0:t.index===a.index&&t.path===a.path&&t.caseSensitive===a.caseSensitive?(!t.children||t.children.length===0)&&(!a.children||a.children.length===0)?!0:t.children.every((s,l)=>a.children?.some(i=>Ap(s,i))):!1}var Ph=new WeakMap,Ip=({key:t,route:a,manifest:s,mapRouteProperties:l})=>{let i=s[a.id];if(Fe(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let c=i.lazy[t];if(!c)return;let u=Ph.get(i);u||(u={},Ph.set(i,u));let f=u[t];if(f)return f;let m=(async()=>{let p=Ky(t),b=i[t]!==void 0&&t!=="hasErrorBoundary";if(p)yt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(b)yt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await c();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,l(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return u[t]=m,m},Dh=new WeakMap;function Dv(t,a,s,l,i){let c=s[t.id];if(Fe(c,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=Dh.get(c);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{Fe(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),w={};for(let S in v){let N=v[S];if(N===void 0)continue;let C=Xy(S),k=c[S]!==void 0&&S!=="hasErrorBoundary";C?yt(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?yt(!k,`Route "${c.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=N}Object.assign(c,w),Object.assign(c,{...l(c),lazy:void 0})})();return Dh.set(c,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(t.lazy),f=[],m;for(let y of u){if(i&&i.includes(y))continue;let b=Ip({key:y,route:t,manifest:s,mapRouteProperties:l});b&&(f.push(b),y===a&&(m=b))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function Th(t){let a=t.matches.filter(i=>i.shouldLoad),s={};return(await Promise.all(a.map(i=>i.resolve()))).forEach((i,c)=>{s[a[c].route.id]=i}),s}async function Tv(t){return t.matches.some(a=>a.route.unstable_middleware)?_p(t,!1,()=>Th(t),(a,s)=>({[s]:{type:"error",result:a}})):Th(t)}async function _p(t,a,s,l){let{matches:i,request:c,params:u,context:f}=t,m={handlerResult:void 0};try{let p=i.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(v=>[b.route.id,v]):[]),y=await Lp({request:c,params:u,context:f},p,a,m,s);return a?y:m.handlerResult}catch(p){if(!m.middlewareError)throw p;let y=await l(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,y):y}}async function Lp(t,a,s,l,i,c=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=a[c];if(!f)return l.handlerResult=await i(),l.handlerResult;let[m,p]=f,y=!1,b,v=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await Lp(t,a,s,l,i,c+1)};try{let w=await p({request:t.request,params:t.params,context:t.context},v);return y?w===void 0?b:w:v()}catch(w){throw l.middlewareError?l.middlewareError.error!==w&&(l.middlewareError={routeId:m,error:w}):l.middlewareError={routeId:m,error:w},w}}function Op(t,a,s,l,i){let c=Ip({key:"unstable_middleware",route:l.route,manifest:a,mapRouteProperties:t}),u=Dv(l.route,Qt(s.method)?"action":"loader",a,t,i);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Od(t,a,s,l,i,c,u,f=null){let m=!1,p=Op(t,a,s,l,i);return{...l,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return m=!0,f?typeof y=="boolean"?si(l,{...f,defaultShouldRevalidate:y}):si(l,f):u},resolve(y){return m||u||y&&!Qt(s.method)&&(l.route.lazy||l.route.loader)?Av({request:s,match:l,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:y,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function fs(t,a,s,l,i,c,u,f=null){return l.map(m=>m.route.id!==i.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Op(t,a,s,m,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Od(t,a,s,m,c,u,!0,f))}async function Mv(t,a,s,l,i,c){s.some(p=>p._lazyPromises?.middleware)&&await Promise.all(s.map(p=>p._lazyPromises?.middleware));let u={request:a,params:s[0].params,context:i,matches:s},m=await t({...u,fetcherKey:l,unstable_runClientMiddleware:p=>{let y=u;return _p(y,!1,()=>p({...y,fetcherKey:l,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,v)=>({[v]:{type:"error",result:b}}))}});try{await Promise.all(s.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function Av({request:t,match:a,lazyHandlerPromise:s,lazyRoutePromise:l,handlerOverride:i,scopedContext:c}){let u,f,m=Qt(t.method),p=m?"action":"loader",y=b=>{let v,w=new Promise((C,j)=>v=j);f=()=>v(),t.signal.addEventListener("abort",f);let S=C=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${a.route.id}]`)):b({request:t,params:a.params,context:c},...C!==void 0?[C]:[]),N=(async()=>{try{return{type:"data",result:await(i?i(j=>S(j)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([N,w])};try{let b=m?a.route.action:a.route.loader;if(s||l)if(b){let v,[w]=await Promise.all([y(b).catch(S=>{v=S}),s,l]);if(v!==void 0)throw v;u=w}else{await s;let v=m?a.route.action:a.route.loader;if(v)[u]=await Promise.all([y(v),l]);else if(p==="action"){let w=new URL(t.url),S=w.pathname+w.search;throw gr(405,{method:t.method,pathname:S,routeId:a.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let v=new URL(t.url),w=v.pathname+v.search;throw gr(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{f&&t.signal.removeEventListener("abort",f)}return u}async function Iv(t){let{result:a,type:s}=t;if($p(a)){let l;try{let i=a.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?a.body==null?l=null:l=await a.json():l=await a.text()}catch(i){return{type:"error",error:i}}return s==="error"?{type:"error",error:new ai(a.status,a.statusText,l),statusCode:a.status,headers:a.headers}:{type:"data",data:l,statusCode:a.status,headers:a.headers}}return s==="error"?Fh(a)?a.data instanceof Error?{type:"error",error:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:new ai(a.init?.status||500,void 0,a.data),statusCode:bo(a)?a.status:void 0,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"error",error:a,statusCode:bo(a)?a.status:void 0}:Fh(a)?{type:"data",data:a.data,statusCode:a.init?.status,headers:a.init?.headers?new Headers(a.init.headers):void 0}:{type:"data",data:a}}function _v(t,a,s,l,i){let c=t.headers.get("Location");if(Fe(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!mu(c)){let u=l.slice(0,l.findIndex(f=>f.route.id===s)+1);c=_d(new URL(a.url),u,i,c),t.headers.set("Location",c)}return t}function Mh(t,a,s){if(mu(t)){let l=t,i=l.startsWith("//")?new URL(a.protocol+l):new URL(l),c=yr(i.pathname,s)!=null;if(i.origin===a.origin&&c)return i.pathname+i.search+i.hash}return t}function ds(t,a,s,l){let i=t.createURL(Fp(a)).toString(),c={signal:s};if(l&&Qt(l.formMethod)){let{formMethod:u,formEncType:f}=l;c.method=u.toUpperCase(),f==="application/json"?(c.headers=new Headers({"Content-Type":f}),c.body=JSON.stringify(l.json)):f==="text/plain"?c.body=l.text:f==="application/x-www-form-urlencoded"&&l.formData?c.body=Fd(l.formData):c.body=l.formData}return new Request(i,c)}function Fd(t){let a=new URLSearchParams;for(let[s,l]of t.entries())a.append(s,typeof l=="string"?l:l.name);return a}function Ah(t){let a=new FormData;for(let[s,l]of t.entries())a.append(s,l);return a}function Lv(t,a,s,l=!1,i=!1){let c={},u=null,f,m=!1,p={},y=s&&ar(s[1])?s[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in a))return;let v=b.route.id,w=a[v];if(Fe(!Pa(w),"Cannot handle redirect results in processLoaderData"),ar(w)){let S=w.error;if(y!==void 0&&(S=y,y=void 0),u=u||{},i)u[v]=S;else{let N=ka(t,v);u[N.route.id]==null&&(u[N.route.id]=S)}l||(c[v]=Mp),m||(m=!0,f=bo(w.error)?w.error.status:500),w.headers&&(p[v]=w.headers)}else c[v]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(f=w.statusCode),w.headers&&(p[v]=w.headers)}),y!==void 0&&s&&(u={[s[0]]:y},s[2]&&(c[s[2]]=void 0)),{loaderData:c,errors:u,statusCode:f||200,loaderHeaders:p}}function Ih(t,a,s,l,i,c){let{loaderData:u,errors:f}=Lv(a,s,l);return i.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:y,controller:b}=m,v=c[p];if(Fe(v,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(ar(v)){let w=ka(t.matches,y?.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:v.error}),t.fetchers.delete(p)}else if(Pa(v))Fe(!1,"Unhandled fetcher revalidation redirect");else{let w=Gn(v.data);t.fetchers.set(p,w)}}),{loaderData:u,errors:f}}function _h(t,a,s,l){let i=Object.entries(a).filter(([,c])=>c!==Mp).reduce((c,[u,f])=>(c[u]=f,c),{});for(let c of s){let u=c.route.id;if(!a.hasOwnProperty(u)&&t.hasOwnProperty(u)&&c.route.loader&&(i[u]=t[u]),l&&l.hasOwnProperty(u))break}return i}function Lh(t){return t?ar(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ka(t,a){return(a?t.slice(0,t.findIndex(l=>l.route.id===a)+1):[...t]).reverse().find(l=>l.route.hasErrorBoundary===!0)||t[0]}function Oh(t){let a=t.length===1?t[0]:t.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function gr(t,{pathname:a,routeId:s,method:l,type:i,message:c}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(u="Bad Request",l&&a&&s?f=`You made a ${l} request to "${a}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:i==="invalid-body"&&(f="Unable to encode submission body")):t===403?(u="Forbidden",f=`Route "${s}" does not match URL "${a}"`):t===404?(u="Not Found",f=`No route matches URL "${a}"`):t===405&&(u="Method Not Allowed",l&&a&&s?f=`You made a ${l.toUpperCase()} request to "${a}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:l&&(f=`Invalid request method "${l.toUpperCase()}"`)),new ai(t||500,u,new Error(f),!0)}function $l(t){let a=Object.entries(t);for(let s=a.length-1;s>=0;s--){let[l,i]=a[s];if(Pa(i))return{key:l,result:i}}}function Fp(t){let a=typeof t=="string"?aa(t):t;return Jn({...a,hash:""})}function Ov(t,a){return t.pathname!==a.pathname||t.search!==a.search?!1:t.hash===""?a.hash!=="":t.hash===a.hash?!0:a.hash!==""}function Fv(t){return $p(t.result)&&wv.has(t.result.status)}function ar(t){return t.type==="error"}function Pa(t){return(t&&t.type)==="redirect"}function Fh(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function $p(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $v(t){return bv.has(t.toUpperCase())}function Qt(t){return yv.has(t.toUpperCase())}function hu(t){return new URLSearchParams(t).getAll("index").some(a=>a==="")}function ql(t,a){let s=typeof a=="string"?aa(a).search:a.search;if(t[t.length-1].route.index&&hu(s||""))return t[t.length-1];let l=Pp(t);return l[l.length-1]}function $h(t){let{formMethod:a,formAction:s,formEncType:l,text:i,formData:c,json:u}=t;if(!(!a||!s||!l)){if(i!=null)return{formMethod:a,formAction:s,formEncType:l,formData:void 0,json:void 0,text:i};if(c!=null)return{formMethod:a,formAction:s,formEncType:l,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:a,formAction:s,formEncType:l,formData:void 0,json:u,text:void 0}}}function xd(t,a){return a?{state:"loading",location:t,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zv(t,a){return{state:"submitting",location:t,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function io(t,a){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Vv(t,a){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:a?a.data:void 0}}function Gn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Bv(t,a){try{let s=t.sessionStorage.getItem(Tp);if(s){let l=JSON.parse(s);for(let[i,c]of Object.entries(l||{}))c&&Array.isArray(c)&&a.set(i,new Set(c||[]))}}catch{}}function Uv(t,a){if(a.size>0){let s={};for(let[l,i]of a)s[l]=[...i];try{t.sessionStorage.setItem(Tp,JSON.stringify(s))}catch(l){yt(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function Wv(){let t,a,s=new Promise((l,i)=>{t=async c=>{l(c);try{await s}catch{}},a=async c=>{i(c);try{await s}catch{}}});return{promise:s,resolve:t,reject:a}}var Aa=g.createContext(null);Aa.displayName="DataRouter";var Eo=g.createContext(null);Eo.displayName="DataRouterState";g.createContext(!1);var pu=g.createContext({isTransitioning:!1});pu.displayName="ViewTransition";var zp=g.createContext(new Map);zp.displayName="Fetchers";var Hv=g.createContext(null);Hv.displayName="Await";var Yr=g.createContext(null);Yr.displayName="Navigation";var fi=g.createContext(null);fi.displayName="Location";var Gr=g.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var gu=g.createContext(null);gu.displayName="RouteError";function Yv(t,{relative:a}={}){Fe(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=g.useContext(Yr),{hash:i,pathname:c,search:u}=Ro(t,{relative:a}),f=c;return s!=="/"&&(f=c==="/"?s:Wr([s,c])),l.createHref({pathname:f,search:u,hash:i})}function ko(){return g.useContext(fi)!=null}function vn(){return Fe(ko(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(fi).location}var Vp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bp(t){g.useContext(Yr).static||g.useLayoutEffect(t)}function Up(){let{isDataRoute:t}=g.useContext(Gr);return t?sb():Gv()}function Gv(){Fe(ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(Aa),{basename:a,navigator:s}=g.useContext(Yr),{matches:l}=g.useContext(Gr),{pathname:i}=vn(),c=JSON.stringify(uu(l)),u=g.useRef(!1);return Bp(()=>{u.current=!0}),g.useCallback((m,p={})=>{if(yt(u.current,Vp),!u.current)return;if(typeof m=="number"){s.go(m);return}let y=fu(m,JSON.parse(c),i,p.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Wr([a,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[a,s,c,i,t])}g.createContext(null);function xu(){let{matches:t}=g.useContext(Gr),a=t[t.length-1];return a?a.params:{}}function Ro(t,{relative:a}={}){let{matches:s}=g.useContext(Gr),{pathname:l}=vn(),i=JSON.stringify(uu(s));return g.useMemo(()=>fu(t,JSON.parse(i),l,a==="path"),[t,i,l,a])}function qv(t,a,s,l){Fe(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(Yr),{matches:c}=g.useContext(Gr),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";Wp(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=vn(),v;v=b;let w=v.pathname||"/",S=w;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Qn(t,{pathname:S});return yt(y||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),yt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Zv(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Wr([p,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Wr([p,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,s,l)}function Kv(){let t=ab(),a=bo(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,l="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=g.createElement(g.Fragment,null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:c},"ErrorBoundary")," or"," ",g.createElement("code",{style:c},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),s?g.createElement("pre",{style:i},s):null,u)}var Qv=g.createElement(Kv,null),Xv=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?g.createElement(Gr.Provider,{value:this.props.routeContext},g.createElement(gu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jv({routeContext:t,match:a,children:s}){let l=g.useContext(Aa);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Gr.Provider,{value:t},s)}function Zv(t,a=[],s=null,l=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,c=s?.errors;if(c!=null){let m=i.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);Fe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,f=-1;if(s)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:b}=s,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){u=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((m,p,y)=>{let b,v=!1,w=null,S=null;s&&(b=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||Qv,u&&(f<0&&y===0?(Wp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):f===y&&(v=!0,S=p.route.hydrateFallbackElement||null)));let N=a.concat(i.slice(0,y+1)),C=()=>{let j;return b?j=w:v?j=S:p.route.Component?j=g.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,g.createElement(Jv,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:s!=null},children:j})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?g.createElement(Xv,{location:s.location,revalidation:s.revalidation,component:w,error:b,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function yu(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eb(t){let a=g.useContext(Aa);return Fe(a,yu(t)),a}function tb(t){let a=g.useContext(Eo);return Fe(a,yu(t)),a}function rb(t){let a=g.useContext(Gr);return Fe(a,yu(t)),a}function vu(t){let a=rb(t),s=a.matches[a.matches.length-1];return Fe(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function nb(){return vu("useRouteId")}function ab(){let t=g.useContext(gu),a=tb("useRouteError"),s=vu("useRouteError");return t!==void 0?t:a.errors?.[s]}function sb(){let{router:t}=eb("useNavigate"),a=vu("useNavigate"),s=g.useRef(!1);return Bp(()=>{s.current=!0}),g.useCallback(async(i,c={})=>{yt(s.current,Vp),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:a,...c}))},[t,a])}var zh={};function Wp(t,a,s){!a&&!zh[t]&&(zh[t]=!0,yt(!1,s))}var Vh={};function Bh(t,a){!t&&!Vh[a]&&(Vh[a]=!0,console.warn(a))}function ob(t){let a={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&yt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(a,{element:g.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&yt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(a,{hydrateFallbackElement:g.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&yt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(a,{errorElement:g.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),a}var lb=["HydrateFallback","hydrateFallbackElement"],ib=class{constructor(){this.status="pending",this.promise=new Promise((t,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}};function cb({router:t,flushSync:a}){let[s,l]=g.useState(t.state),[i,c]=g.useState(),[u,f]=g.useState({isTransitioning:!1}),[m,p]=g.useState(),[y,b]=g.useState(),[v,w]=g.useState(),S=g.useRef(new Map),N=g.useCallback((P,{deletedFetchers:I,flushSync:M,viewTransitionOpts:R})=>{P.fetchers.forEach((V,T)=>{V.data!==void 0&&S.current.set(T,V.data)}),I.forEach(V=>S.current.delete(V)),Bh(M===!1||a!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Bh(R==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!D){a&&M?a(()=>l(P)):g.startTransition(()=>l(P));return}if(a&&M){a(()=>{y&&(m&&m.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let V=t.window.document.startViewTransition(()=>{a(()=>l(P))});V.finished.finally(()=>{a(()=>{p(void 0),b(void 0),c(void 0),f({isTransitioning:!1})})}),a(()=>b(V));return}y?(m&&m.resolve(),y.skipTransition(),w({state:P,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(P),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[t.window,a,y,m]);g.useLayoutEffect(()=>t.subscribe(N),[t,N]),g.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new ib)},[u]),g.useEffect(()=>{if(m&&i&&t.window){let P=i,I=m.promise,M=t.window.document.startViewTransition(async()=>{g.startTransition(()=>l(P)),await I});M.finished.finally(()=>{p(void 0),b(void 0),c(void 0),f({isTransitioning:!1})}),b(M)}},[i,m,t.window]),g.useEffect(()=>{m&&i&&s.location.key===i.location.key&&m.resolve()},[m,y,s.location,i]),g.useEffect(()=>{!u.isTransitioning&&v&&(c(v.state),f({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[u.isTransitioning,v]);let C=g.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,I,M)=>t.navigate(P,{state:I,preventScrollReset:M?.preventScrollReset}),replace:(P,I,M)=>t.navigate(P,{replace:!0,state:I,preventScrollReset:M?.preventScrollReset})}),[t]),j=t.basename||"/",k=g.useMemo(()=>({router:t,navigator:C,static:!1,basename:j}),[t,C,j]);return g.createElement(g.Fragment,null,g.createElement(Aa.Provider,{value:k},g.createElement(Eo.Provider,{value:s},g.createElement(zp.Provider,{value:S.current},g.createElement(pu.Provider,{value:u},g.createElement(fb,{basename:j,location:s.location,navigationType:s.historyAction,navigator:C},g.createElement(db,{routes:t.routes,future:t.future,state:s})))))),null)}var db=g.memo(ub);function ub({routes:t,future:a,state:s}){return qv(t,void 0,s,a)}function fb({basename:t="/",children:a=null,location:s,navigationType:l="POP",navigator:i,static:c=!1}){Fe(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=g.useMemo(()=>({basename:u,navigator:i,static:c,future:{}}),[u,i,c]);typeof s=="string"&&(s=aa(s));let{pathname:m="/",search:p="",hash:y="",state:b=null,key:v="default"}=s,w=g.useMemo(()=>{let S=yr(m,u);return S==null?null:{location:{pathname:S,search:p,hash:y,state:b,key:v},navigationType:l}},[u,m,p,y,b,v,l]);return yt(w!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:g.createElement(Yr.Provider,{value:f},g.createElement(fi.Provider,{children:a,value:w}))}var Kl="get",Ql="application/x-www-form-urlencoded";function mi(t){return t!=null&&typeof t.tagName=="string"}function mb(t){return mi(t)&&t.tagName.toLowerCase()==="button"}function hb(t){return mi(t)&&t.tagName.toLowerCase()==="form"}function pb(t){return mi(t)&&t.tagName.toLowerCase()==="input"}function gb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xb(t,a){return t.button===0&&(!a||a==="_self")&&!gb(t)}var zl=null;function yb(){if(zl===null)try{new FormData(document.createElement("form"),0),zl=!1}catch{zl=!0}return zl}var vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(t){return t!=null&&!vb.has(t)?(yt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ql}"`),null):t}function bb(t,a){let s,l,i,c,u;if(hb(t)){let f=t.getAttribute("action");l=f?yr(f,a):null,s=t.getAttribute("method")||Kl,i=yd(t.getAttribute("enctype"))||Ql,c=new FormData(t)}else if(mb(t)||pb(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(l=m?yr(m,a):null,s=t.getAttribute("formmethod")||f.getAttribute("method")||Kl,i=yd(t.getAttribute("formenctype"))||yd(f.getAttribute("enctype"))||Ql,c=new FormData(f,t),!yb()){let{name:p,type:y,value:b}=t;if(y==="image"){let v=p?`${p}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else p&&c.append(p,b)}}else{if(mi(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Kl,l=null,i=Ql,u=t}return c&&i==="text/plain"&&(u=c,c=void 0),{action:l,method:s.toLowerCase(),encType:i,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bu(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function wb(t,a,s){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l.pathname==="/"?l.pathname=`_root.${s}`:a&&yr(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function jb(t,a){if(t.id in a)return a[t.id];try{let s=await import(t.module);return a[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Cb(t,a,s){let l=await Promise.all(t.map(async i=>{let c=a.routes[i.route.id];if(c){let u=await jb(c,s);return u.links?u.links():[]}return[]}));return Rb(l.flat(1).filter(Nb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Uh(t,a,s,l,i,c){let u=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,f=(m,p)=>s[p].pathname!==m.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==m.params["*"];return c==="assets"?a.filter((m,p)=>u(m,p)||f(m,p)):c==="data"?a.filter((m,p)=>{let y=l.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Sb(t,a,{includeHydrateFallback:s}={}){return Eb(t.map(l=>{let i=a.routes[l.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function Eb(t){return[...new Set(t)]}function kb(t){let a={},s=Object.keys(t).sort();for(let l of s)a[l]=t[l];return a}function Rb(t,a){let s=new Set;return new Set(a),t.reduce((l,i)=>{let c=JSON.stringify(kb(i));return s.has(c)||(s.add(c),l.push({key:c,link:i})),l},[])}function Hp(){let t=g.useContext(Aa);return bu(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pb(){let t=g.useContext(Eo);return bu(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wu=g.createContext(void 0);wu.displayName="FrameworkContext";function Yp(){let t=g.useContext(wu);return bu(t,"You must render this element inside a <HydratedRouter> element"),t}function Db(t,a){let s=g.useContext(wu),[l,i]=g.useState(!1),[c,u]=g.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=a,v=g.useRef(null);g.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=j=>{j.forEach(k=>{u(k.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),g.useEffect(()=>{if(l){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[l]);let w=()=>{i(!0)},S=()=>{i(!1),u(!1)};return s?t!=="intent"?[c,v,{}]:[c,v,{onFocus:co(f,w),onBlur:co(m,S),onMouseEnter:co(p,w),onMouseLeave:co(y,S),onTouchStart:co(b,w)}]:[!1,v,{}]}function co(t,a){return s=>{t&&t(s),s.defaultPrevented||a(s)}}function Tb({page:t,...a}){let{router:s}=Hp(),l=g.useMemo(()=>Qn(s.routes,t,s.basename),[s.routes,t,s.basename]);return l?g.createElement(Ab,{page:t,matches:l,...a}):null}function Mb(t){let{manifest:a,routeModules:s}=Yp(),[l,i]=g.useState([]);return g.useEffect(()=>{let c=!1;return Cb(t,a,s).then(u=>{c||i(u)}),()=>{c=!0}},[t,a,s]),l}function Ab({page:t,matches:a,...s}){let l=vn(),{manifest:i,routeModules:c}=Yp(),{basename:u}=Hp(),{loaderData:f,matches:m}=Pb(),p=g.useMemo(()=>Uh(t,a,m,i,l,"data"),[t,a,m,i,l]),y=g.useMemo(()=>Uh(t,a,m,i,l,"assets"),[t,a,m,i,l]),b=g.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let S=new Set,N=!1;if(a.forEach(j=>{let k=i.routes[j.route.id];!k||!k.hasLoader||(!p.some(P=>P.route.id===j.route.id)&&j.route.id in f&&c[j.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:S.add(j.route.id))}),S.size===0)return[];let C=wb(t,u,"data");return N&&S.size>0&&C.searchParams.set("_routes",a.filter(j=>S.has(j.route.id)).map(j=>j.route.id).join(",")),[C.pathname+C.search]},[u,f,l,i,p,a,t,c]),v=g.useMemo(()=>Sb(y,i),[y,i]),w=Mb(y);return g.createElement(g.Fragment,null,b.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),v.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),w.map(({key:S,link:N})=>g.createElement("link",{key:S,...N})))}function Ib(...t){return a=>{t.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var Gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gp&&(window.__reactRouterVersion="7.7.0")}catch{}function _b(t,a){return Ev({basename:a?.basename,unstable_getContext:a?.unstable_getContext,future:a?.future,history:Hy({window:a?.window}),hydrationData:a?.hydrationData||Lb(),routes:t,mapRouteProperties:ob,hydrationRouteProperties:lb,dataStrategy:a?.dataStrategy,patchRoutesOnNavigation:a?.patchRoutesOnNavigation,window:a?.window}).initialize()}function Lb(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Ob(t.errors)}),t}function Ob(t){if(!t)return null;let a=Object.entries(t),s={};for(let[l,i]of a)if(i&&i.__type==="RouteErrorResponse")s[l]=new ai(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let c=window[i.__subType];if(typeof c=="function")try{let u=new c(i.message);u.stack="",s[l]=u}catch{}}if(s[l]==null){let c=new Error(i.message);c.stack="",s[l]=c}}else s[l]=i;return s}var qp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=g.forwardRef(function({onClick:a,discover:s="render",prefetch:l="none",relative:i,reloadDocument:c,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:b,...v},w){let{basename:S}=g.useContext(Yr),N=typeof p=="string"&&qp.test(p),C,j=!1;if(typeof p=="string"&&N&&(C=p,Gp))try{let T=new URL(window.location.href),O=p.startsWith("//")?new URL(T.protocol+p):new URL(p),Q=yr(O.pathname,S);O.origin===T.origin&&Q!=null?p=Q+O.search+O.hash:j=!0}catch{yt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Yv(p,{relative:i}),[P,I,M]=Db(l,v),R=Vb(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:i,viewTransition:b});function D(T){a&&a(T),T.defaultPrevented||R(T)}let V=g.createElement("a",{...v,...M,href:C||k,onClick:j||c?a:D,ref:Ib(w,I),target:m,"data-discover":!N&&s==="render"?"true":void 0});return P&&!N?g.createElement(g.Fragment,null,V,g.createElement(Tb,{page:k})):V});Xt.displayName="Link";var Fb=g.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:l="",end:i=!1,style:c,to:u,viewTransition:f,children:m,...p},y){let b=Ro(u,{relative:p.relative}),v=vn(),w=g.useContext(Eo),{navigator:S,basename:N}=g.useContext(Yr),C=w!=null&&Yb(b)&&f===!0,j=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,k=v.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(k=k.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&N&&(P=yr(P,N)||P);const I=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=k===j||!i&&k.startsWith(j)&&k.charAt(I)==="/",R=P!=null&&(P===j||!i&&P.startsWith(j)&&P.charAt(j.length)==="/"),D={isActive:M,isPending:R,isTransitioning:C},V=M?a:void 0,T;typeof l=="function"?T=l(D):T=[l,M?"active":null,R?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(D):c;return g.createElement(Xt,{...p,"aria-current":V,className:T,ref:y,style:O,to:u,viewTransition:f},typeof m=="function"?m(D):m)});Fb.displayName="NavLink";var $b=g.forwardRef(({discover:t="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:i,state:c,method:u=Kl,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,...v},w)=>{let S=Wb(),N=Hb(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&qp.test(f),k=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,M=I?.getAttribute("formmethod")||u;S(I||P.currentTarget,{fetcherKey:a,method:M,navigate:s,replace:i,state:c,relative:p,preventScrollReset:y,viewTransition:b})};return g.createElement("form",{ref:w,method:C,action:N,onSubmit:l?m:k,...v,"data-discover":!j&&t==="render"?"true":void 0})});$b.displayName="Form";function zb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kp(t){let a=g.useContext(Aa);return Fe(a,zb(t)),a}function Vb(t,{target:a,replace:s,state:l,preventScrollReset:i,relative:c,viewTransition:u}={}){let f=Up(),m=vn(),p=Ro(t,{relative:c});return g.useCallback(y=>{if(xb(y,a)){y.preventDefault();let b=s!==void 0?s:Jn(m)===Jn(p);f(t,{replace:b,state:l,preventScrollReset:i,relative:c,viewTransition:u})}},[m,f,p,s,l,a,t,i,c,u])}var Bb=0,Ub=()=>`__${String(++Bb)}__`;function Wb(){let{router:t}=Kp("useSubmit"),{basename:a}=g.useContext(Yr),s=nb();return g.useCallback(async(l,i={})=>{let{action:c,method:u,encType:f,formData:m,body:p}=bb(l,a);if(i.navigate===!1){let y=i.fetcherKey||Ub();await t.fetch(y,s,i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:m,body:p,formMethod:i.method||u,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,a,s])}function Hb(t,{relative:a}={}){let{basename:s}=g.useContext(Yr),l=g.useContext(Gr);Fe(l,"useFormAction must be used inside a RouteContext");let[i]=l.matches.slice(-1),c={...Ro(t||".",{relative:a})},u=vn();if(t==null){c.search=u.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();c.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Wr([s,c.pathname])),Jn(c)}function Yb(t,a={}){let s=g.useContext(pu);Fe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Kp("useViewTransitionState"),i=Ro(t,{relative:a.relative});if(!s.isTransitioning)return!1;let c=yr(s.currentLocation.pathname,l)||s.currentLocation.pathname,u=yr(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ni(i.pathname,u)!=null||ni(i.pathname,c)!=null}var vs=Cp();const Gb=cu(vs);function qb(t){return g.createElement(cb,{flushSync:vs.flushSync,...t})}/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qp=(...t)=>t.filter((a,s,l)=>!!a&&l.indexOf(a)===s).join(" ");/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=g.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:i="",children:c,iconNode:u,...f},m)=>g.createElement("svg",{ref:m,...Qb,width:a,height:a,stroke:t,strokeWidth:l?Number(s)*24/Number(a):s,className:Qp("lucide",i),...f},[...u.map(([p,y])=>g.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,a)=>{const s=g.forwardRef(({className:l,...i},c)=>g.createElement(Xb,{ref:c,iconNode:a,className:Qp(`lucide-${Kb(t)}`,l),...i}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Re("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Re("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Re("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Re("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Re("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Re("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Re("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Re("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.408.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function tg(t){var a,s,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(s=tg(t[a]))&&(l&&(l+=" "),l+=s)}else for(s in t)t[s]&&(l&&(l+=" "),l+=s);return l}function gw(){for(var t,a,s=0,l="",i=arguments.length;s<i;s++)(t=arguments[s])&&(a=tg(t))&&(l&&(l+=" "),l+=a);return l}const Eu="-",xw=t=>{const a=vw(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:l}=t;return{getClassGroupId:u=>{const f=u.split(Eu);return f[0]===""&&f.length!==1&&f.shift(),rg(f,a)||yw(u)},getConflictingClassGroupIds:(u,f)=>{const m=s[u]||[];return f&&l[u]?[...m,...l[u]]:m}}},rg=(t,a)=>{if(t.length===0)return a.classGroupId;const s=t[0],l=a.nextPart.get(s),i=l?rg(t.slice(1),l):void 0;if(i)return i;if(a.validators.length===0)return;const c=t.join(Eu);return a.validators.find(({validator:u})=>u(c))?.classGroupId},Hh=/^\[(.+)\]$/,yw=t=>{if(Hh.test(t)){const a=Hh.exec(t)[1],s=a?.substring(0,a.indexOf(":"));if(s)return"arbitrary.."+s}},vw=t=>{const{theme:a,prefix:s}=t,l={nextPart:new Map,validators:[]};return ww(Object.entries(t.classGroups),s).forEach(([c,u])=>{Ud(u,l,c,a)}),l},Ud=(t,a,s,l)=>{t.forEach(i=>{if(typeof i=="string"){const c=i===""?a:Yh(a,i);c.classGroupId=s;return}if(typeof i=="function"){if(bw(i)){Ud(i(l),a,s,l);return}a.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([c,u])=>{Ud(u,Yh(a,c),s,l)})})},Yh=(t,a)=>{let s=t;return a.split(Eu).forEach(l=>{s.nextPart.has(l)||s.nextPart.set(l,{nextPart:new Map,validators:[]}),s=s.nextPart.get(l)}),s},bw=t=>t.isThemeGetter,ww=(t,a)=>a?t.map(([s,l])=>{const i=l.map(c=>typeof c=="string"?a+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,f])=>[a+u,f])):c);return[s,i]}):t,jw=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,s=new Map,l=new Map;const i=(c,u)=>{s.set(c,u),a++,a>t&&(a=0,l=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=l.get(c))!==void 0)return i(c,u),u},set(c,u){s.has(c)?s.set(c,u):i(c,u)}}},ng="!",Nw=t=>{const{separator:a,experimentalParseClassName:s}=t,l=a.length===1,i=a[0],c=a.length,u=f=>{const m=[];let p=0,y=0,b;for(let C=0;C<f.length;C++){let j=f[C];if(p===0){if(j===i&&(l||f.slice(C,C+c)===a)){m.push(f.slice(y,C)),y=C+c;continue}if(j==="/"){b=C;continue}}j==="["?p++:j==="]"&&p--}const v=m.length===0?f:f.substring(y),w=v.startsWith(ng),S=w?v.substring(1):v,N=b&&b>y?b-y:void 0;return{modifiers:m,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:N}};return s?f=>s({className:f,parseClassName:u}):u},Cw=t=>{if(t.length<=1)return t;const a=[];let s=[];return t.forEach(l=>{l[0]==="["?(a.push(...s.sort(),l),s=[]):s.push(l)}),a.push(...s.sort()),a},Sw=t=>({cache:jw(t.cacheSize),parseClassName:Nw(t),...xw(t)}),Ew=/\s+/,kw=(t,a)=>{const{parseClassName:s,getClassGroupId:l,getConflictingClassGroupIds:i}=a,c=[],u=t.trim().split(Ew);let f="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{modifiers:y,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:w}=s(p);let S=!!w,N=l(S?v.substring(0,w):v);if(!N){if(!S){f=p+(f.length>0?" "+f:f);continue}if(N=l(v),!N){f=p+(f.length>0?" "+f:f);continue}S=!1}const C=Cw(y).join(":"),j=b?C+ng:C,k=j+N;if(c.includes(k))continue;c.push(k);const P=i(N,S);for(let I=0;I<P.length;++I){const M=P[I];c.push(j+M)}f=p+(f.length>0?" "+f:f)}return f};function Rw(){let t=0,a,s,l="";for(;t<arguments.length;)(a=arguments[t++])&&(s=ag(a))&&(l&&(l+=" "),l+=s);return l}const ag=t=>{if(typeof t=="string")return t;let a,s="";for(let l=0;l<t.length;l++)t[l]&&(a=ag(t[l]))&&(s&&(s+=" "),s+=a);return s};function Pw(t,...a){let s,l,i,c=u;function u(m){const p=a.reduce((y,b)=>b(y),t());return s=Sw(p),l=s.cache.get,i=s.cache.set,c=f,f(m)}function f(m){const p=l(m);if(p)return p;const y=kw(m,s);return i(m,y),y}return function(){return c(Rw.apply(null,arguments))}}const nt=t=>{const a=s=>s[t]||[];return a.isThemeGetter=!0,a},sg=/^\[(?:([a-z-]+):)?(.+)\]$/i,Dw=/^\d+\/\d+$/,Tw=new Set(["px","full","screen"]),Mw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Aw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Iw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_w=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cn=t=>ms(t)||Tw.has(t)||Dw.test(t),Hn=t=>bs(t,"length",Ww),ms=t=>!!t&&!Number.isNaN(Number(t)),vd=t=>bs(t,"number",ms),uo=t=>!!t&&Number.isInteger(Number(t)),Ow=t=>t.endsWith("%")&&ms(t.slice(0,-1)),Le=t=>sg.test(t),Yn=t=>Mw.test(t),Fw=new Set(["length","size","percentage"]),$w=t=>bs(t,Fw,og),zw=t=>bs(t,"position",og),Vw=new Set(["image","url"]),Bw=t=>bs(t,Vw,Yw),Uw=t=>bs(t,"",Hw),fo=()=>!0,bs=(t,a,s)=>{const l=sg.exec(t);return l?l[1]?typeof a=="string"?l[1]===a:a.has(l[1]):s(l[2]):!1},Ww=t=>Aw.test(t)&&!Iw.test(t),og=()=>!1,Hw=t=>_w.test(t),Yw=t=>Lw.test(t),Gw=()=>{const t=nt("colors"),a=nt("spacing"),s=nt("blur"),l=nt("brightness"),i=nt("borderColor"),c=nt("borderRadius"),u=nt("borderSpacing"),f=nt("borderWidth"),m=nt("contrast"),p=nt("grayscale"),y=nt("hueRotate"),b=nt("invert"),v=nt("gap"),w=nt("gradientColorStops"),S=nt("gradientColorStopPositions"),N=nt("inset"),C=nt("margin"),j=nt("opacity"),k=nt("padding"),P=nt("saturate"),I=nt("scale"),M=nt("sepia"),R=nt("skew"),D=nt("space"),V=nt("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Le,a],J=()=>[Le,a],Z=()=>["",cn,Hn],te=()=>["auto",ms,Le],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Le],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[ms,Le];return{cacheSize:500,separator:":",theme:{colors:[fo],spacing:[cn,Hn],blur:["none","",Yn,Le],brightness:_(),borderColor:[t],borderRadius:["none","","full",Yn,Le],borderSpacing:J(),borderWidth:Z(),contrast:_(),grayscale:K(),hueRotate:_(),invert:K(),gap:J(),gradientColorStops:[t],gradientColorStopPositions:[Ow,Hn],inset:Q(),margin:Q(),opacity:_(),padding:J(),saturate:_(),scale:_(),sepia:K(),skew:_(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Le]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uo,Le]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",uo,Le]}],"grid-cols":[{"grid-cols":[fo]}],"col-start-end":[{col:["auto",{span:["full",uo,Le]},Le]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[fo]}],"row-start-end":[{row:["auto",{span:[uo,Le]},Le]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,a]}],"min-w":[{"min-w":[Le,a,"min","max","fit"]}],"max-w":[{"max-w":[Le,a,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[Le,a,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,a,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,a,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,a,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vd]}],"font-family":[{font:[fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",ms,vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cn,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cn,Hn]}],"underline-offset":[{"underline-offset":["auto",cn,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),zw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$w]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bw]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[cn,Le]}],"outline-w":[{outline:[cn,Hn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[cn,Hn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yn,Uw]}],"shadow-color":[{shadow:[fo]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[l]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Yn,Le]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[b]}],saturate:[{saturate:[P]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[uo,Le]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cn,Hn,vd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qw=Pw(Gw);function ot(...t){return qw(gw(t))}const Kw=[{name:"Dashboard",href:"/",icon:dw,description:"Vista matriz de facturación"},{name:"Pendientes",href:"/pendientes",icon:lw,description:"Solicitudes pendientes"},{name:"Reportes",href:"/reportes",icon:kr,description:"Análisis y reportes"},{name:"Empresas",href:"/empresas",icon:ut,description:"Directorio de empresas de energía"},{name:"Análisis",href:"/analisis-demanda",icon:bn,description:"Análisis de demanda temporal"}],Qw=[{name:"Alcaldía de Palmira",slug:"alcaldia-palmira"},{name:"Alcaldía de Tuluá",slug:"alcaldia-tulua"},{name:"Gobernación del Valle",slug:"gobernacion-valle"},{name:"Infibagué",slug:"infibague"}];function dn({children:t}){const a=vn(),[s,l]=g.useState(!1),i=g.useRef(null);return g.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&l(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg border-b border-blue-800",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center py-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("h1",{className:"text-xl font-bold text-white",children:"Control de Facturación - Jikkosoft"}),r.jsx("span",{className:"ml-3 text-blue-200 text-sm hidden md:inline",children:"Gestión de solicitudes por empresa y mes"})]}),r.jsxs("nav",{className:"flex space-x-2",children:[Kw.map(c=>{const u=a.pathname===c.href,f=c.icon;return r.jsxs(Xt,{to:c.href,className:ot("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",u?"bg-white/20 text-white border border-white/30 shadow-sm":"text-blue-100 hover:text-white hover:bg-white/10 border border-transparent"),title:c.description,children:[r.jsx(f,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:c.name}),r.jsx("span",{className:"sm:hidden",children:c.name.charAt(0)})]},c.name)}),r.jsxs("div",{className:"relative",ref:i,children:[r.jsxs("button",{onClick:()=>l(!s),className:ot("flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",s||a.pathname.includes("/entidad/")?"bg-white/20 text-white border border-white/30 shadow-sm":"text-blue-100 hover:text-white hover:bg-white/10 border border-transparent"),title:"Vistas históricas por entidad",children:[r.jsx(Wh,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Histórico"}),r.jsx("span",{className:"sm:hidden",children:"H"}),r.jsx(hi,{className:"h-3 w-3 ml-1"})]}),s&&r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[r.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-100",children:"Vistas Históricas"}),Qw.map(c=>{const u=a.pathname===`/entidad/${c.slug}/historico`;return r.jsx(Xt,{to:`/entidad/${c.slug}/historico`,className:ot("block px-4 py-3 text-sm transition-colors",u?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),onClick:()=>l(!1),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wh,{className:"h-4 w-4 mr-3 text-gray-400"}),c.name]})},c.slug)})]})]})]})]})})}),r.jsx("main",{className:"w-full px-2 sm:px-4 lg:px-6",children:t})]})}const Xw="modulepreload",Jw=function(t){return"/jikko-estimator/facturacion/"+t},Gh={},Ge=function(a,s,l){let i=Promise.resolve();if(s&&s.length>0){let p=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var u=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");i=p(s.map(y=>{if(y=Jw(y),y in Gh)return;Gh[y]=!0;const b=y.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${v}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":Xw,b||(w.as="script"),w.crossOrigin="",w.href=y,m&&w.setAttribute("nonce",m),document.head.appendChild(w),b)return new Promise((S,N)=>{w.addEventListener("load",S),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return i.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return a().catch(c)})},Zw=(t,a,s)=>{const l=t[a];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+a+(a.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};class Be{static apiBaseUrl="http://localhost:3001/api";static async loadDataForEntityYear(a,s){try{const l=await this.loadDataFromJsonFiles(a,s.toString());if(l)return l}catch(l){console.warn(`JSON loading failed for ${a} ${s}:`,l);try{const i=await fetch(`${this.apiBaseUrl}/billing/${encodeURIComponent(a)}/${s}`);if(!i.ok)throw new Error(`La API no pudo cargar los datos: ${i.status}`);return await i.json()}catch{throw l}}throw new Error(`No se pudo cargar los datos para ${a} ${s}`)}static async loadDataFromJsonFiles(a,s){try{const i={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[a];if(!i)throw new Error(`Entidad "${a}" no está configurada en el sistema`);try{const u=(await Zw(Object.assign({"../data/alcaldia-palmira/2017.json":()=>Ge(()=>import("./2017-BVOP-Wl2.js"),[]),"../data/alcaldia-palmira/2018.json":()=>Ge(()=>import("./2018-DZ1DG_5X.js"),[]),"../data/alcaldia-palmira/2019.json":()=>Ge(()=>import("./2019-CsKsMAR0.js"),[]),"../data/alcaldia-palmira/2020.json":()=>Ge(()=>import("./2020-BRZ26RQl.js"),[]),"../data/alcaldia-palmira/2021.json":()=>Ge(()=>import("./2021-DVztz28N.js"),[]),"../data/alcaldia-palmira/2022.json":()=>Ge(()=>import("./2022-C7X1vzRC.js"),[]),"../data/alcaldia-palmira/2023.json":()=>Ge(()=>import("./2023-B57cv0hP.js"),[]),"../data/alcaldia-palmira/2024.json":()=>Ge(()=>import("./2024-DEx_-YoA.js"),[]),"../data/alcaldia-palmira/2025.json":()=>Ge(()=>import("./2025-0RSqV1mP.js"),[]),"../data/alcaldia-tulua/2017.json":()=>Ge(()=>import("./2017-BECROcFg.js"),[]),"../data/alcaldia-tulua/2018.json":()=>Ge(()=>import("./2018-0eCO8QOx.js"),[]),"../data/alcaldia-tulua/2019.json":()=>Ge(()=>import("./2019-C49KecLc.js"),[]),"../data/alcaldia-tulua/2020.json":()=>Ge(()=>import("./2020-DMf6FYnd.js"),[]),"../data/alcaldia-tulua/2021.json":()=>Ge(()=>import("./2021-DvqTzZPh.js"),[]),"../data/alcaldia-tulua/2022.json":()=>Ge(()=>import("./2022-CIvs88wj.js"),[]),"../data/alcaldia-tulua/2023.json":()=>Ge(()=>import("./2023-BeRqBxTJ.js"),[]),"../data/alcaldia-tulua/2024.json":()=>Ge(()=>import("./2024-V3Ks7LuK.js"),[]),"../data/alcaldia-tulua/2025.json":()=>Ge(()=>import("./2025-DPCpFIMP.js"),[]),"../data/gobernacion-valle/2017.json":()=>Ge(()=>import("./2017-RHIzOR10.js"),[]),"../data/gobernacion-valle/2018.json":()=>Ge(()=>import("./2018-DAcL6WxD.js"),[]),"../data/gobernacion-valle/2019.json":()=>Ge(()=>import("./2019-C7J5zEwY.js"),[]),"../data/gobernacion-valle/2020.json":()=>Ge(()=>import("./2020-DLSyYBua.js"),[]),"../data/gobernacion-valle/2021.json":()=>Ge(()=>import("./2021-CTNt0CSD.js"),[]),"../data/gobernacion-valle/2022.json":()=>Ge(()=>import("./2022-CO3HVyE6.js"),[]),"../data/gobernacion-valle/2023.json":()=>Ge(()=>import("./2023-DpQun6Of.js"),[]),"../data/gobernacion-valle/2024.json":()=>Ge(()=>import("./2024-DSDspZiB.js"),[]),"../data/gobernacion-valle/2025.json":()=>Ge(()=>import("./2025-CYNncVje.js"),[]),"../data/infibague/2023.json":()=>Ge(()=>import("./2023-CtR1uZ46.js"),[]),"../data/infibague/2024.json":()=>Ge(()=>import("./2024-CtR1uZ46.js"),[]),"../data/infibague/2025.json":()=>Ge(()=>import("./2025-CvEdKd5S.js"),[])}),`../data/${i}/${s}.json`,4)).default;return this.normalizeDataStructure(u)}catch(c){throw c.message?.includes("Unknown variable dynamic import")?new Error(`No existe el archivo JSON para ${a} del año ${s}`):c}}catch(l){throw console.error("Error loading data from JSON files:",l),l}}static async saveDataForEntityYear(a,s,l){try{const i=this.normalizeDataStructure(l),c=await fetch(`${this.apiBaseUrl}/billing/${encodeURIComponent(a)}/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!c.ok)throw new Error(`API request failed: ${c.status} ${c.statusText}`);const u=await c.json();console.log(`Data saved for ${a} ${s}:`,u.message)}catch(i){throw console.error(`Error saving data for ${a} ${s}:`,i),i}}static async getAvailableEntities(){try{const a=await fetch(`${this.apiBaseUrl}/entities`);if(!a.ok)throw new Error(`API request failed: ${a.status}`);return await a.json()}catch(a){return console.error("Error getting entities:",a),["Alcaldía de Palmira","Alcaldía de Tuluá","Gobernación del Valle del Cauca","Infibagué"]}}static async getAvailableYears(){try{const a=await fetch(`${this.apiBaseUrl}/years`);if(!a.ok)throw new Error(`API request failed: ${a.status}`);return await a.json()}catch(a){return console.error("Error getting years:",a),[2017,2018,2019,2020,2021,2022,2023,2024,2025]}}static normalizeDataStructure(a){const s={};for(const[l,i]of Object.entries(a))if(typeof i=="object"&&i!==null){const c={};for(const[u,f]of Object.entries(i))u==="_metadata"?c._metadata=f:typeof f=="object"&&f!==null&&(c[u]=f);c._metadata||(c._metadata={usuariosCount:null,esIncumbente:!1,tipoEmpresa:null,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}),s[l]=c}return s}static getCompanyMetadata(a){return a._metadata||{usuariosCount:null,esIncumbente:!1,tipoEmpresa:null,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}}static updateCompanyMetadata(a,s){return{...a,_metadata:s}}static getMonthlyBillingData(a,s){const l=a[s];return l&&typeof l=="object"?l:null}static validateCompanyData(a){try{return!(!a._metadata||typeof a._metadata.esIncumbente!="boolean")}catch(s){return console.error("Error validating company data:",s),!1}}static createDataBackup(a){return JSON.parse(JSON.stringify(a))}static validateCompanyRename(a,s,l){return a[s]?a[l]&&s!==l?{isValid:!1,error:`Ya existe una empresa con el nombre "${l}"`}:l.trim()?{isValid:!0}:{isValid:!1,error:"El nombre de la empresa no puede estar vacío"}:{isValid:!1,error:`La empresa "${s}" no existe`}}static loadDataFromLocalStorage(a,s){try{const l=`billing_${a}_${s}`,i=localStorage.getItem(l);return i?this.normalizeDataStructure(JSON.parse(i)):null}catch(l){return console.error(`Error loading from localStorage for ${a} ${s}:`,l),null}}}class xt{static MONTH_NAMES=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];static formatHumanDate(a){if(!a)return"Sin fecha";const s=a.split("-");if(s.length===3&&s[0].length===4){const f=parseInt(s[0]),m=parseInt(s[1])-1,p=parseInt(s[2]);if(!isNaN(f)&&!isNaN(m)&&!isNaN(p)&&m>=0&&m<=11&&p>=1&&p<=31){const y=new Date(f,m,p),b=y.getDate(),v=this.MONTH_NAMES[y.getMonth()],w=y.getFullYear();return`${v} ${b} de ${w}`}}const l=new Date(a),i=l.getDate(),c=this.MONTH_NAMES[l.getMonth()],u=l.getFullYear();return`${c} ${i} de ${u}`}static calculateElapsedDays(a){if(!a)return null;const s=a.split("-");if(s.length===3&&s[0].length===4){const u=parseInt(s[0]),f=parseInt(s[1])-1,m=parseInt(s[2]);if(!isNaN(u)&&!isNaN(f)&&!isNaN(m)&&f>=0&&f<=11&&m>=1&&m<=31){const p=new Date(u,f,m),b=new Date().getTime()-p.getTime();return Math.floor(b/(1e3*3600*24))}}const l=new Date(a),c=new Date().getTime()-l.getTime();return Math.floor(c/(1e3*3600*24))}static shouldShowElapsedDays(a){return a!=="Sin Solicitud"&&a!=="Closed"&&a!=="Removed"}static getElapsedDaysColor(a){return a>30?"text-red-600":a>15?"text-orange-600":"text-gray-600"}static calculateClosedDays(a,s,l){if(l!=null&&l>=0)return l;if(!a||!s)return null;const i=m=>{const p=m.split("-");if(p.length===3&&p[0].length===4){const y=parseInt(p[0]),b=parseInt(p[1])-1,v=parseInt(p[2]);if(!isNaN(y)&&!isNaN(b)&&!isNaN(v)&&b>=0&&b<=11&&v>=1&&v<=31)return new Date(y,b,v)}return null},c=i(a),u=i(s);if(!c||!u)try{const m=new Date(a),y=new Date(s).getTime()-m.getTime();return Math.floor(y/(1e3*3600*24))}catch{return null}const f=u.getTime()-c.getTime();return Math.floor(f/(1e3*3600*24))}static shouldShowClosedDays(a){return a==="Closed"}static getClosedDaysColor(){return"text-gray-600"}static calculateProcessingDaysForStorage(a,s){if(!a||!s)return null;const l=m=>{const p=m.split("-");if(p.length===3&&p[0].length===4){const y=parseInt(p[0]),b=parseInt(p[1])-1,v=parseInt(p[2]);if(!isNaN(y)&&!isNaN(b)&&!isNaN(v)&&b>=0&&b<=11&&v>=1&&v<=31)return new Date(y,b,v)}return null},i=l(a),c=l(s);if(!i||!c)try{const m=new Date(a),y=new Date(s).getTime()-m.getTime(),b=Math.floor(y/(1e3*3600*24));return b>=0?b:null}catch{return null}const u=c.getTime()-i.getTime(),f=Math.floor(u/(1e3*3600*24));return f>=0?f:null}static shouldCalculateAndStoreDays(a,s,l){return a==="Closed"&&!!s&&!!l}}const dt=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];async function ej(t,a){const l={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[t];if(!l)throw new Error(`Entity ${t} not found`);const i=await fetch(`/src/modules/billing/data/${l}/${a}.json`);if(!i.ok)throw new Error(`Failed to load data for ${t} ${a}`);const c=await i.json();return Object.keys(c)}const xr=["Alcaldía de Palmira","Alcaldía de Tuluá","Gobernación del Valle del Cauca","Infibagué"],ku={"Sin Solicitud":"Sin Solicitud",New:"Nuevo",Refinement:"Refinamiento",Ready:"Listo",Active:"Activo","Validación y aprobación de Tributaria - Analítica":"Validación y Aprobación de Tributaria - Analítica","Cargue Archivo Staging":"Cargue Archivo Staging","Validación Tributaria Staging":"Validación Tributaria Staging","Cargue Archivo PROD":"Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD":"Validación y Aprobación de Tributaria - PROD","Facturación en PROD":"Facturación en PROD","Generar Reportes":"Generar Reportes","QA Certification":"Certificación QA","Gestion Tributaria":"Gestión Tributaria",Impediment:"Impedimento",Paused:"Pausado","Peer Review":"Revisión por Pares","Third Party":"Terceros",Staging:"Pre-producción",Production:"Producción",Closed:"Cerrado",Removed:"Removido"};function Zn(t){switch(t){case"Sin Solicitud":return{bg:"bg-gray-100",text:"text-gray-600"};case"New":return{bg:"bg-blue-100",text:"text-blue-800"};case"Refinement":return{bg:"bg-purple-100",text:"text-purple-800"};case"Ready":return{bg:"bg-blue-100",text:"text-blue-800"};case"Active":return{bg:"bg-blue-100",text:"text-blue-800"};case"QA Certification":return{bg:"bg-yellow-100",text:"text-yellow-800"};case"Gestion Tributaria":return{bg:"bg-orange-100",text:"text-orange-800"};case"Impediment":return{bg:"bg-red-100",text:"text-red-800"};case"Paused":return{bg:"bg-gray-100",text:"text-gray-800"};case"Peer Review":return{bg:"bg-indigo-100",text:"text-indigo-800"};case"Third Party":return{bg:"bg-pink-100",text:"text-pink-800"};case"Staging":return{bg:"bg-cyan-100",text:"text-cyan-800"};case"Production":return{bg:"bg-green-100",text:"text-green-800"};case"Closed":return{bg:"bg-green-100",text:"text-green-800"};case"Removed":return{bg:"bg-red-100",text:"text-red-800"};case"Validación y aprobación de Tributaria - Analítica":return{bg:"bg-blue-100",text:"text-gray-800"};case"Cargue Archivo Staging":return{bg:"bg-orange-100",text:"text-gray-800"};case"Validación Tributaria Staging":return{bg:"bg-orange-100",text:"text-gray-800"};case"Cargue Archivo PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Validación y Aprobación de Tributaria - PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Facturación en PROD":return{bg:"bg-green-100",text:"text-gray-800"};case"Validación Tributaria de Facturación":return{bg:"bg-green-100",text:"text-gray-800"};case"Dispersión en BD":return{bg:"bg-blue-100",text:"text-gray-800"};case"Generar Reportes":return{bg:"bg-green-100",text:"text-gray-800"};default:return{bg:"bg-gray-50",text:"text-gray-500"}}}function tj(t){return{"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[t]||""}function gs(t){switch(t){case"Sin Solicitud":return"📝";case"New":return"🆕";case"Refinement":return"🔍";case"Ready":return"🆕";case"Active":return"⚡";case"Limpieza y Transformación":return"🧹";case"Validación y aprobación de Tributaria - Analítica":return"🔍🧹";case"Cargue Archivo Staging":return"📤";case"Validación Tributaria Staging":return"🔍📤";case"Cargue Archivo PROD":return"📦";case"Validación y Aprobación de Tributaria - PROD":return"🔍📦";case"Facturación en PROD":return"💰";case"Validación Tributaria de Facturación":return"🔍💰";case"Dispersión en BD":return"📊💾";case"Generar Reportes":return"📊";case"QA Certification":return"🔍";case"Gestion Tributaria":return"💰";case"Impediment":return"🚫";case"Paused":return"⏸️";case"Peer Review":return"👥";case"Third Party":return"🤝";case"Staging":return"🎭";case"Production":return"🚀";case"Closed":return"✅";case"Removed":return"🗑️";default:return"❓"}}async function rj(t,a){const s={};try{(await ej(t,a)).forEach(i=>{s[i]={},dt.forEach(c=>{s[i][c]={estado:"Sin Solicitud",entidad:"",fechaRecibido:"",fechaCerrado:"",notas:"",workItemId:null}})})}catch(l){throw console.error("Error generating blank data:",l),new Error(`No se pudo generar datos para ${t} ${a}: ${l instanceof Error?l.message:"Error desconocido"}`)}return s}class xo{static renameCompany(a,s,l){if(s===l)return a;const i=Be.validateCompanyRename(a,s,l);if(!i.isValid)throw new Error(i.error);const c=Be.createDataBackup(a),u={};try{for(const[f,m]of Object.entries(a))f===s?(Be.validateCompanyData(m)||console.warn(`Company data validation failed for ${s}, proceeding anyway`),u[l]=m):u[f]=m;return u}catch(f){return console.error("Error during company rename, restoring backup:",f),c}}static addNewCompany(a,s,l){const i=s.trim();if(!i)throw new Error("El nombre de la empresa no puede estar vacío");if(a[i])throw new Error(`Ya existe una empresa con el nombre "${i}"`);const c={_metadata:l};if(!Be.validateCompanyData(c))throw new Error("Los datos de la nueva empresa no son válidos");return{...a,[i]:c}}static getCompanyNames(a){return Object.keys(a)}static validateCompanyName(a,s,l){const i=a.trim();return i?i!==l&&s.includes(i)?{isValid:!1,error:"Ya existe una empresa con este nombre"}:{isValid:!0}:{isValid:!1,error:"El nombre de la empresa es requerido"}}static hasAnyBillingData(a){for(const[s,l]of Object.entries(a))if(s!=="_metadata"&&l&&typeof l=="object")return!0;return!1}static sortCompanies(a,s,l=!1){return a.sort((i,c)=>{if(l){const u=this.hasAnyBillingData(s[i]||{}),f=this.hasAnyBillingData(s[c]||{});if(u&&!f)return-1;if(!u&&f)return 1}return i.localeCompare(c,"es")})}static async validateCompanyMultiYear(a,s,l,i){const c=a.trim(),u=[],f={};for(const v of s)try{const w=await Be.loadDataForEntityYear(l,v);f[v]=w}catch{f[v]={}}for(const v of s){const w=f[v];if(!!w[c])u.push({year:v,exists:!0,canCreate:!1,message:"Ya existe empresa con este nombre"});else{const N=this.calculateAlphabeticalPosition(c,Object.keys(w));u.push({year:v,exists:!1,canCreate:!0,message:`Se creará en posición alfabética #${N}`,position:N})}}const m=u.filter(v=>v.canCreate),p=u.filter(v=>!v.canCreate),y=[],b=m.length>0&&m[0].position||1;return{companyName:c,successYears:m,skippedYears:p,errors:y,alphabeticalPosition:b,totalChanges:m.length}}static async createCompanyMultiYear(a,s,l){const{companyName:i,successYears:c}=a;for(const u of c)try{let f;try{f=await Be.loadDataForEntityYear(l,u.year)}catch{f={}}const m={_metadata:s},p={...f,[i]:m},y=this.sortBillingDataAlphabetically(p);await Be.saveDataForEntityYear(l,u.year,y)}catch(f){throw console.error(`Error creating company in year ${u.year}:`,f),new Error(`Failed to create company in year ${u.year}: ${f}`)}}static calculateAlphabeticalPosition(a,s){return[...s,a].sort((i,c)=>i.localeCompare(c,"es")).indexOf(a)+1}static sortBillingDataAlphabetically(a){const s=Object.entries(a).sort(([l],[i])=>l.localeCompare(i,"es"));return Object.fromEntries(s)}static async checkCompanyExistsInYear(a,s,l){try{return!!(await Be.loadDataForEntityYear(l,s))[a.trim()]}catch{return!1}}}function Mt(t,a){const[s,l]=g.useState({}),[i,c]=g.useState(!0),[u,f]=g.useState(null),m=g.useRef(null);g.useEffect(()=>{if(!a)return;(async()=>{c(!0),f(null);try{const D=await Be.loadDataForEntityYear(a,t);l(D)}catch(D){console.error("Error loading data:",D),f(`No se pudo cargar los datos para ${a} ${t}`),l({})}finally{c(!1)}})()},[a,t]);const p=g.useCallback(async()=>{if(!(!a||i))try{return await Be.saveDataForEntityYear(a,t,s),console.log("Data saved successfully for",a,t),!0}catch(R){return console.error("Error saving data:",R),!1}},[a,t,s,i]),y=g.useCallback(R=>{!a||i||(m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{try{const D=R||s;await Be.saveDataForEntityYear(a,t,D),console.log("Data auto-saved after user change:",a,t)}catch(D){console.error("Error auto-saving after user change:",D)}},2e3))},[a,t,s,i]),b=g.useCallback((R,D,V,T)=>{l(O=>{const Q=O[R]?.[D],J={...Q,[V]:T};let Z=J;V==="estado"&&T==="Closed"?xt.shouldCalculateAndStoreDays("Closed",J.fechaRecibido,J.fechaCerrado)&&(Z={...J,diasProcesamiento:xt.calculateProcessingDaysForStorage(J.fechaRecibido,J.fechaCerrado)}):(V==="fechaRecibido"||V==="fechaCerrado")&&Q?.estado==="Closed"?xt.shouldCalculateAndStoreDays("Closed",V==="fechaRecibido"?T:J.fechaRecibido,V==="fechaCerrado"?T:J.fechaCerrado)&&(Z={...J,diasProcesamiento:xt.calculateProcessingDaysForStorage(V==="fechaRecibido"?T:J.fechaRecibido,V==="fechaCerrado"?T:J.fechaCerrado)}):V==="estado"&&T!=="Closed"&&Q?.diasProcesamiento!==void 0&&(Z={...J,diasProcesamiento:null});const te={...O,[R]:{...O[R],[D]:Z}};return y(te),te})},[y]),v=g.useCallback((R,D,V)=>{l(T=>{const O=T[R]?.[D];let Q={...O,estado:V};return V==="Closed"&&O?xt.shouldCalculateAndStoreDays("Closed",O.fechaRecibido,O.fechaCerrado)&&(Q={...Q,diasProcesamiento:xt.calculateProcessingDaysForStorage(O.fechaRecibido,O.fechaCerrado)}):V!=="Closed"&&O?.diasProcesamiento!==void 0&&(Q={...Q,diasProcesamiento:null}),{...T,[R]:{...T[R],[D]:Q}}})},[]),w=g.useCallback((R,D)=>{const V=s[R];return V?Be.getMonthlyBillingData(V,D):null},[s]),S=g.useCallback((R,D)=>{l(V=>{const T=V[R]||{},O=Be.updateCompanyMetadata(T,D);return{...V,[R]:O}})},[]),N=g.useCallback(R=>{const D=s[R];return Be.getCompanyMetadata(D||{})},[s]),C=g.useCallback((R,D)=>{l(V=>{try{return xo.renameCompany(V,R,D)}catch(T){throw console.error("Error renaming company:",T),T}})},[]),j=g.useCallback((R,D)=>{l(V=>{try{return xo.addNewCompany(V,R,D)}catch(T){throw console.error("Error adding new company:",T),T}})},[]),k=g.useCallback(()=>xo.getCompanyNames(s),[s]),P=g.useCallback(R=>{l(D=>{const V={...D};return R.forEach(T=>{delete V[T]}),V})},[]),I=g.useCallback(async()=>{try{l(await rj(a,t.toString())),f(null)}catch(R){console.error("Error regenerating data:",R),f(`No se pudo generar datos para ${a} ${t}`),l({})}},[a,t]),M=g.useCallback(async(R,D,V)=>{const T=[],O=new Map,Q=R.allYears?[2017,2018,2019,2020,2021,2022,2023,2024,2025]:[t],J=[a],Z={};let te=0;for(const X of Q)for(const ae of J)try{const $=await Be.loadDataForEntityYear(ae,X);Z[`${ae}-${X}`]=$;const K=R.allCompanies?Object.keys($):R.companies.filter(Y=>$[Y]);for(const Y of K)for(const _ of dt){const q=$[Y]?.[_];if(q?.workItemId){const de={company:Y,month:_,year:X,entity:ae},fe=O.get(q.workItemId)||[];O.set(q.workItemId,[...fe,de]),te++}}}catch($){console.warn(`Could not load data for ${ae} ${X}:`,$)}if(O.size===0)throw new Error("No se encontraron work items para sincronizar");let re=0;try{const X=Array.from(O.keys()),ae=await D.syncMultipleWorkItemsWithDates(X);for(const[$,K]of ae){const Y=O.get($);if(Y)for(const _ of Y){re++,V?.(re,te,`${_.company} - ${_.month}`);const{company:q,month:de,year:fe,entity:Se}=_,we=Z[`${Se}-${fe}`][q]?.[de];if(we){const le=we.estado,me=K.state,Me=le!==me||we.fechaRecibido!==K.fechaRecibido||we.fechaCerrado!==K.fechaCerrado||we.workItemType!==K.workItemType;if(T.push({company:q,month:de,oldState:le,newState:me,fechaRecibido:K.fechaRecibido,fechaCerrado:K.fechaCerrado,success:!0,noChanges:!Me}),fe===t&&Se===a&&Me&&(v(q,de,me),b(q,de,"fechaRecibido",K.fechaRecibido),b(q,de,"fechaCerrado",K.fechaCerrado),b(q,de,"workItemType",K.workItemType)),fe!==t||Se!==a)try{const pe=K.fechaRecibido||we.fechaRecibido,_e=K.fechaCerrado||we.fechaCerrado;let Ue=we.diasProcesamiento;me==="Closed"&&xt.shouldCalculateAndStoreDays("Closed",pe,_e)?Ue=xt.calculateProcessingDaysForStorage(pe,_e):me!=="Closed"&&(Ue=null),Z[`${Se}-${fe}`][q][de]={...we,estado:me,fechaRecibido:pe,fechaCerrado:_e,diasProcesamiento:Ue,workItemType:K.workItemType},await Be.saveDataForEntityYear(Se,fe,Z[`${Se}-${fe}`])}catch(pe){console.error(`Error saving data for ${Se} ${fe}:`,pe)}}}}return T}catch(X){throw console.error("Error during advanced sync:",X),X}},[t,a,b,v]);return{billingData:s,isLoading:i,error:u,updateField:b,updateStatusFromAzure:v,getCellData:w,updateCompanyMetadata:S,getCompanyMetadata:N,renameCompany:C,addNewCompany:j,getCompanyNames:k,deleteCompanies:P,regenerateDataForEntityYear:I,performAdvancedSync:M,saveData:p}}function jo(t){const s={"Sin Solicitud":"Sin Solicitud",New:"New",Refinement:"Refinement",Ready:"Ready",Active:"Active","QA Certification":"QA Certification","Gestion Tributaria":"Gestion Tributaria",Impediment:"Impediment",Paused:"Paused","Peer Review":"Peer Review","Third Party":"Third Party",Staging:"Staging",Production:"Production",Closed:"Closed",Removed:"Removed","Validación y aprobación de Tributaria - Analítica":"Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging":"Cargue Archivo Staging","Validación Tributaria Staging":"Validación Tributaria Staging","Cargue Archivo PROD":"Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD":"Validación y Aprobación de Tributaria - PROD","Facturación en PROD":"Facturación en PROD","Validación Tributaria de Facturación":"Validación Tributaria de Facturación","Dispersión en BD":"Dispersión en BD","Generar Reportes":"Generar Reportes","Validación y Aprobación de Tributaria - BD":"Validación y aprobación de Tributaria - Analítica","Cargue del Archivo en BD":"Cargue Archivo Staging","Facturacion PROD":"Facturación en PROD","Validación Tributaria PROD":"Validación y Aprobación de Tributaria - PROD","En Validación":"Peer Review","Pendiente Aprobación":"Ready","En Proceso":"Active",Finalizado:"Closed",Cancelado:"Removed","Limpieza y Transformacion":"Active"}[t];return s||(["Sin Solicitud","New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production","Closed","Removed","Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging","Validación Tributaria Staging","Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD","Facturación en PROD","Validación Tributaria de Facturación","Dispersión en BD","Generar Reportes"].includes(t)?t:(console.warn(`[State Mapper] Unrecognized state value: "${t}". Mapping to 'Sin Solicitud'.`),"Sin Solicitud"))}const nj={FT01:{type:"FT01",name:"FT01 - Consumos",description:"Archivo de consumos de energía eléctrica"},FT03:{type:"FT03",name:"FT03 - Recaudos",description:"Archivo de recaudos reportados por comercializadora"},FT06:{type:"FT06",name:"FT06 - Excluidos",description:"Archivo de usuarios excluidos (pagan directo a alcaldía)"}};function aj(t){return`${t.ft01}${t.ft03}${t.ft06}`}function lg(t){const a={ft01:"-",ft03:"-",ft06:"-"};if(!t||t.length!==3)return a;const[s,l,i]=t.split(""),c=["P","N","-"];return!c.includes(s)||!c.includes(l)||!c.includes(i)?a:{ft01:s,ft03:l,ft06:i}}function sj(t){const a=[t.ft01,t.ft03,t.ft06],s=a.filter(c=>c==="P").length,l=a.filter(c=>c==="N").length;return a.filter(c=>c==="-").length===0?"complete":s>0||l>0?"partial":"pending"}function ig(t){const a=[t.ft01,t.ft03,t.ft06],s=a.filter(u=>u==="P").length,l=a.filter(u=>u==="N").length,i=a.filter(u=>u==="-").length;return{overallStatus:sj(t),processed:s,noApply:l,pending:i,details:t}}function Wd(t){const a=lg(t);return ig(a)}function bd(t){switch(t){case"complete":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"partial":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"pending":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}}function cg(t){switch(t){case"complete":return"Completo";case"partial":return"Parcial";case"pending":return"Pendiente";default:return"Desconocido"}}function oj(t){switch(t){case"P":return"Procesado";case"N":return"No Aplica";case"-":return"Pendiente";default:return"Desconocido"}}function Ru(t){switch(t){case"complete":return"✅";case"partial":return"🟡";case"pending":return"🔴";default:return"❓"}}function lj(t){switch(t){case"-":return"P";case"P":return"N";case"N":return"-";default:return"-"}}function ij(t){const[a,s]=g.useState(2025),[l,i]=g.useState(""),[c,u]=g.useState(""),[f,m]=g.useState([]),[p,y]=g.useState(null),b=g.useMemo(()=>Object.keys(t),[t]),v=g.useMemo(()=>b.filter(D=>{const V=D.toLowerCase().includes(l.toLowerCase()),T=c===""||dt.some(J=>Be.getMonthlyBillingData(t[D]||{},J)?.entidad===c);let O=!0;if(p&&(O=dt.some(J=>{const Z=Be.getMonthlyBillingData(t[D]||{},J);return Z?Wd(Z.ft).overallStatus===p:!1})),f.length===0)return V&&T&&O;const Q=dt.some(J=>{const Z=Be.getMonthlyBillingData(t[D]||{},J);if(!Z)return f.includes("Sin Solicitud");const te=jo(Z.estado);return f.includes(Z.estado)||f.includes(te)});return V&&T&&Q&&O}),[b,l,c,f,p,t]),w=g.useMemo(()=>{const D={"Sin Solicitud":0,New:0,Refinement:0,Ready:0,Active:0,"Validación y aprobación de Tributaria - Analítica":0,"Cargue Archivo Staging":0,"Validación Tributaria Staging":0,"Cargue Archivo PROD":0,"Validación y Aprobación de Tributaria - PROD":0,"Facturación en PROD":0,"Validación Tributaria de Facturación":0,"Dispersión en BD":0,"Generar Reportes":0,"QA Certification":0,"Gestion Tributaria":0,Impediment:0,Paused:0,"Peer Review":0,"Third Party":0,Staging:0,Production:0,Closed:0,Removed:0,conWorkItems:0};return v.forEach(V=>{dt.forEach(T=>{const O=Be.getMonthlyBillingData(t[V]||{},T);if(O){const Q=jo(O.estado);D[Q]++,O.workItemId&&D.conWorkItems++}})}),D},[v,t]),S=g.useMemo(()=>{const D={conWorkItems:0};return v.forEach(V=>{dt.forEach(T=>{const O=Be.getMonthlyBillingData(t[V]||{},T);if(O){const Q=O.estado;D[Q]?D[Q]++:D[Q]=1,O.workItemId&&D.conWorkItems++}})}),D},[v,t]),N=g.useCallback(D=>{m(V=>V.includes(D)?V.filter(T=>T!==D):[...V,D])},[]),C=g.useCallback(()=>{m([]),y(null)},[]),j=f.length>0||p!==null,k=g.useMemo(()=>({selectedStatuses:f,toggleStatus:N,clearFilters:C,isFilterActive:j}),[f,N,C,j]),P=g.useMemo(()=>{const D={complete:0,partial:0,pending:0,total:0};return v.forEach(V=>{dt.forEach(T=>{const O=Be.getMonthlyBillingData(t[V]||{},T);if(O&&O.estado!=="Sin Solicitud"){const Q=Wd(O.ft);D[Q.overallStatus]++,D.total++}})}),D},[v,t]),I=g.useCallback(D=>{i(D)},[]),M=g.useCallback(D=>{u(D)},[]),R=g.useCallback(D=>{y(D)},[]);return{selectedYear:a,setSelectedYear:s,searchTerm:l,setSearchTerm:I,selectedEntity:c,setSelectedEntity:M,filteredCompanies:v,statistics:w,realStateStatistics:S,statusFilters:k,selectedFTStatus:p,setSelectedFTStatus:R,ftStatistics:P}}class Kn{static convertAzureDate(a){if(!a)return"";try{return new Date(a).toISOString().split("T")[0]}catch(s){return console.error("Error converting Azure date:",s),""}}static calculateDuration(a,s){if(!a||!s)return null;try{const l=this.parseLocalDate(a),c=this.parseLocalDate(s).getTime()-l.getTime();return Math.ceil(c/(1e3*60*60*24))}catch(l){return console.error("Error calculating duration:",l),null}}static parseLocalDate(a){const s=a.split("-");if(s.length===3&&s[0].length===4){const l=parseInt(s[0]),i=parseInt(s[1])-1,c=parseInt(s[2]);if(!isNaN(l)&&!isNaN(i)&&!isNaN(c)&&i>=0&&i<=11&&c>=1&&c<=31)return new Date(l,i,c)}return new Date(a)}static calculateRequestDuration(a,s){return!a||!s?null:this.calculateDuration(a,s)}static calculateDaysSinceCreation(a){if(!a)return null;const s=new Date,l=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`;return this.calculateDuration(a,l)}static formatDisplayDate(a){if(!a)return"Sin fecha";try{return this.parseLocalDate(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}catch(s){return console.error("Error formatting date:",s),"Fecha inválida"}}static getDurationColor(a){return a>30?"text-red-600":a>15?"text-orange-600":a>7?"text-yellow-600":"text-green-600"}static formatDurationText(a){return a===null?"Sin calcular":a===0?"Mismo día":a===1?"1 día":`${a} días`}}class cj{config;constructor(a){this.config=a}updateConfig(a){this.config=a}isEnabled(){return this.config.enabled&&!!this.config.pat&&!!this.config.organization&&!!this.config.project}async getWorkItem(a){if(!this.isEnabled()||!a)return null;try{const s=`https://dev.azure.com/${this.config.organization}/${this.config.project}/_apis/wit/workitems/${a}?api-version=7.0`,l=await fetch(s,{headers:{Authorization:`Basic ${btoa(`:${this.config.pat}`)}`}});if(l.ok){const i=await l.json(),c=i.fields["System.BoardColumn"],u=i.fields["System.State"];let f;return c&&c.trim()!==""?f=c:f=u||"Sin Solicitud",{state:f,title:i.fields["System.Title"],url:i._links.html.href,createdDate:i.fields["System.CreatedDate"]||"",changedDate:i.fields["System.ChangedDate"]||"",closedDate:i.fields["Microsoft.VSTS.Common.ClosedDate"]||null,workItemType:i.fields["System.WorkItemType"]||"Unknown"}}}catch(s){console.error("Error fetching work item:",s)}return null}async createWorkItem(a,s,l,i){if(!this.isEnabled())return null;try{const c=`https://dev.azure.com/${this.config.organization}/${this.config.project}/_apis/wit/workitems/$Task?api-version=7.0`,u=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json-patch+json",Authorization:`Basic ${btoa(`:${this.config.pat}`)}`},body:JSON.stringify([{op:"add",path:"/fields/System.Title",value:`Facturación ${a} - ${s} ${l}`},{op:"add",path:"/fields/System.Description",value:`Solicitud de facturación para ${a} correspondiente a ${s} ${l}. Entidad solicitante: ${i}`},{op:"add",path:"/fields/System.Tags",value:`Facturación; ${a}; ${s}; ${l}`}])});if(u.ok)return(await u.json()).id}catch(c){console.error("Error creating work item:",c)}return null}async syncFromAzure(a){const s=await this.getWorkItem(a);return s?s.state:null}async syncWorkItemData(a){const s=await this.getWorkItem(a);return s?{state:s.state,fechaRecibido:Kn.convertAzureDate(s.createdDate),fechaCerrado:s.closedDate?Kn.convertAzureDate(s.closedDate):"",workItemType:s.workItemType}:null}async syncMultipleWorkItems(a){const s=new Map;if(!this.isEnabled()||a.length===0)return s;const l=10;for(let i=0;i<a.length;i+=l){const u=a.slice(i,i+l).map(async f=>{try{const m=await this.syncFromAzure(f);m&&s.set(f,m)}catch(m){console.error(`Error syncing work item ${f}:`,m)}});await Promise.all(u),i+l<a.length&&await new Promise(f=>setTimeout(f,100))}return s}async syncMultipleWorkItemsWithDates(a){const s=new Map;if(!this.isEnabled()||a.length===0)return s;const l=10;for(let i=0;i<a.length;i+=l){const u=a.slice(i,i+l).map(async f=>{try{const m=await this.syncWorkItemData(f);m&&s.set(f,m)}catch(m){console.error(`Error syncing work item ${f}:`,m)}});await Promise.all(u),i+l<a.length&&await new Promise(f=>setTimeout(f,100))}return s}getWorkItemUrl(a){return`https://dev.azure.com/${this.config.organization}/${this.config.project}/_workitems/edit/${a}`}}const dj=()=>{try{const t=localStorage.getItem("azure-devops-config");if(t)return JSON.parse(t)}catch(t){console.warn("Error loading Azure DevOps config from localStorage:",t)}return{organization:"",project:"",pat:"",enabled:!1}},uj=t=>{try{localStorage.setItem("azure-devops-config",JSON.stringify(t))}catch(a){console.warn("Error saving Azure DevOps config to localStorage:",a)}};function fj(){const[t,a]=g.useState(dj),[s,l]=g.useState(!1),[i]=g.useState(()=>new cj(t)),c=g.useCallback(w=>{a(w),i.updateConfig(w),uj(w)},[i]),u=g.useCallback(async(w,S,N,C)=>{if(!i.isEnabled())return null;l(!0);try{return await i.createWorkItem(w,S,N,C)}finally{l(!1)}},[i]),f=g.useCallback(async w=>{if(!i.isEnabled()||!w)return null;l(!0);try{return await i.syncFromAzure(w)}finally{l(!1)}},[i]),m=g.useCallback(w=>i.getWorkItemUrl(w),[i]),p=g.useCallback(async w=>{if(!i.isEnabled()||w.length===0)return new Map;l(!0);try{return await i.syncMultipleWorkItems(w)}finally{l(!1)}},[i]),y=g.useCallback(async w=>{if(!i.isEnabled()||w.length===0)return new Map;l(!0);try{return await i.syncMultipleWorkItemsWithDates(w)}finally{l(!1)}},[i]),b=g.useCallback(async w=>{if(!i.isEnabled()||!w)return null;l(!0);try{return await i.syncWorkItemData(w)}finally{l(!1)}},[i]),v=g.useCallback(()=>i.isEnabled(),[i]);return{azureConfig:t,updateConfig:c,syncing:s,createWorkItem:u,syncFromAzure:f,syncMultipleWorkItems:p,syncMultipleWorkItemsWithDates:y,syncWorkItemData:b,getWorkItemUrl:m,isEnabled:v}}function mj({selectedYear:t,onYearChange:a,searchTerm:s,onSearchChange:l,selectedEntity:i,onEntityChange:c,realStateStatistics:u,azureConfig:f,onConfigClick:m,onSyncClick:p,onCreateRequestClick:y,onNewCompanyClick:b,onNewCompanyMultiYearClick:v,onCompareCompaniesClick:w,onImportDataClick:S,onDeleteEmptyCompaniesClick:N,syncing:C,statusFilters:j,selectedFTStatus:k,onFTStatusChange:P,ftStatistics:I}){const[M,R]=g.useState(!1),D=T=>{switch(jo(T)){case"Sin Solicitud":return"bg-gray-100 text-gray-600 border-gray-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-100 text-red-800 border-red-200";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-100 text-green-800 border-green-200";case"Closed":return"bg-gray-100 text-gray-800 border-gray-200";case"Removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-50 text-gray-500 border-gray-100"}},V=T=>{const O=jo(T);return D(O)};return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-6 p-4 lg:p-6",children:[r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-6 h-6 text-blue-600"}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:i})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx("span",{children:"•"}),r.jsxs("span",{children:["Año ",t]})]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Dashboard de Control"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Acciones Principales"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[r.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 bg-green-600 text-white px-3 py-2.5 rounded-lg hover:bg-green-700 transition-colors shadow-sm font-medium",children:[r.jsx(zd,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nueva Solicitud"}),r.jsx("span",{className:"sm:hidden",children:"Solicitud"})]}),r.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-3 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nueva Empresa"}),r.jsx("span",{className:"sm:hidden",children:"Empresa"})]}),r.jsxs("button",{onClick:v,className:"flex items-center justify-center gap-2 bg-purple-600 text-white px-3 py-2.5 rounded-lg hover:bg-purple-700 transition-colors shadow-sm font-medium",title:"Crear empresa en múltiples años",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsx(vt,{className:"w-3 h-3"}),r.jsx("span",{className:"hidden sm:inline",children:"Multi-Año"}),r.jsx("span",{className:"sm:hidden",children:"Multi"})]}),r.jsxs("button",{onClick:w,className:"flex items-center justify-center gap-2 bg-gray-600 text-white px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors shadow-sm font-medium",title:"Comparar empresas entre años",children:[r.jsx(Vd,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Comparar"}),r.jsx("span",{className:"sm:hidden",children:"Comp"})]}),r.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 bg-orange-600 text-white px-3 py-2.5 rounded-lg hover:bg-orange-700 transition-colors shadow-sm font-medium",title:"Importar datos desde JSON",children:[r.jsx(Bd,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Importar"}),r.jsx("span",{className:"sm:hidden",children:"Import"})]}),r.jsxs("button",{onClick:N,className:"flex items-center justify-center gap-2 bg-red-600 text-white px-3 py-2.5 rounded-lg hover:bg-red-700 transition-colors shadow-sm font-medium",title:"Eliminar empresas sin solicitudes",children:[r.jsx(eg,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Limpiar"}),r.jsx("span",{className:"sm:hidden",children:"Clean"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Azure DevOps"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:m,className:"relative flex items-center justify-center bg-purple-600 text-white w-10 h-10 rounded-lg hover:bg-purple-700 transition-colors shadow-sm",title:"Configurar Azure DevOps",children:[r.jsx(Zp,{className:"w-4 h-4"}),f.enabled&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),f.enabled&&r.jsxs("button",{onClick:p,disabled:C,className:"flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-lg hover:bg-indigo-700 transition-colors shadow-sm font-medium disabled:opacity-50 flex-1",title:"Sincronizar estados desde Azure DevOps",children:[r.jsx(go,{className:`w-4 h-4 ${C?"animate-spin":""}`}),r.jsx("span",{children:C?"Sincronizando...":"Sincronizar"})]}),!f.enabled&&r.jsx("div",{className:"flex-1 text-sm text-gray-600 bg-gray-100 px-3 py-2.5 rounded-lg border border-gray-200",children:r.jsx("span",{className:"text-gray-500",children:"No configurado"})})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Filtros y Búsqueda"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 rounded-lg px-3 py-2 border border-blue-200 flex-1",children:[r.jsx(vt,{className:"w-4 h-4 text-blue-600"}),r.jsxs("select",{value:t,onChange:T=>a(parseInt(T.target.value)),className:"bg-transparent border-none outline-none font-medium text-blue-800 w-full",children:[r.jsx("option",{value:2017,children:"2017"}),r.jsx("option",{value:2018,children:"2018"}),r.jsx("option",{value:2019,children:"2019"}),r.jsx("option",{value:2020,children:"2020"}),r.jsx("option",{value:2021,children:"2021"}),r.jsx("option",{value:2022,children:"2022"}),r.jsx("option",{value:2023,children:"2023"}),r.jsx("option",{value:2024,children:"2024"}),r.jsx("option",{value:2025,children:"2025"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[r.jsx(ut,{className:"w-4 h-4 text-gray-600"}),r.jsx("select",{value:i,onChange:T=>c(T.target.value),className:"bg-transparent border-none outline-none font-medium text-gray-800 w-full text-sm",children:xr.map(T=>r.jsx("option",{value:T,children:T.length>20?T.substring(0,20)+"...":T},T))})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Cu,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Buscar empresa...",value:s,onChange:T=>l(T.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>R(!M),className:`w-full flex items-center justify-center gap-2 px-3 py-2 border rounded-lg transition-colors ${j.isFilterActive?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:[r.jsx(Po,{className:"w-4 h-4"}),r.jsx("span",{children:"Filtros"}),j.isFilterActive&&r.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:j.selectedStatuses.length+(k?1:0)}),r.jsx(hi,{className:`w-4 h-4 transition-transform ${M?"rotate-180":""}`})]}),M&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-80 z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros Avanzados"}),j.isFilterActive&&r.jsxs("button",{onClick:j.clearFilters,className:"text-gray-500 hover:text-gray-700 flex items-center gap-1 text-sm",children:[r.jsx(lr,{className:"w-3 h-3"}),"Limpiar Todo"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h4",{className:"font-medium text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx(Xp,{className:"w-4 h-4 text-purple-600"}),"Estado de Archivos FT"]}),r.jsxs("div",{className:"space-y-2",children:[["complete","partial","pending"].map(T=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"radio",name:"ftStatus",checked:k===T,onChange:()=>P(k===T?null:T),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:Ru(T)}),r.jsx("span",{className:"text-sm font-medium",children:cg(T)}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",T==="complete"?I.complete:T==="partial"?I.partial:I.pending,")"]})]})]},T)),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"radio",name:"ftStatus",checked:k===null,onChange:()=>P(null),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Todos"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Filtrar por Estado"}),r.jsx("div",{className:"space-y-2",children:["Sin Solicitud","New","Ready","Active","Gestion Tributaria","Validación y aprobación de Tributaria - Analítica","Cargue Archivo Staging","Validación Tributaria Staging","Cargue Archivo PROD","Validación y Aprobación de Tributaria - PROD","Facturación en PROD","Validación Tributaria de Facturación","Dispersión en BD","Generar Reportes","QA Certification","Impediment","Paused","Closed"].map(T=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:j.selectedStatuses.includes(T),onChange:()=>j.toggleStatus(T),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:gs(T)}),r.jsx("span",{className:"text-sm font-medium",children:T})]})]},T))})]})]})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mt-6",children:[Object.entries(u).filter(([T])=>T!=="conWorkItems").filter(([,T])=>T>0).map(([T,O])=>r.jsx("div",{className:`p-3 rounded-lg border ${V(T)}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:gs(T)}),r.jsx("span",{className:"font-medium text-sm truncate",title:T,children:T.length>15?T.slice(-15):T})]}),r.jsx("span",{className:"text-lg font-bold",children:O})]})},T)),r.jsx("div",{className:"p-3 rounded-lg border bg-purple-100 text-purple-800 border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wo,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium text-sm",children:"Con Work Items"})]}),r.jsx("span",{className:"text-lg font-bold",children:u.conWorkItems})]})}),I.total>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-3 rounded-lg border bg-green-100 text-green-800 border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"✅"}),r.jsx("span",{className:"font-medium text-sm",children:"FT Completos"})]}),r.jsx("span",{className:"text-lg font-bold",children:I.complete})]})}),r.jsx("div",{className:"p-3 rounded-lg border bg-yellow-100 text-yellow-800 border-yellow-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"🟡"}),r.jsx("span",{className:"font-medium text-sm",children:"FT Parciales"})]}),r.jsx("span",{className:"text-lg font-bold",children:I.partial})]})}),r.jsx("div",{className:"p-3 rounded-lg border bg-red-100 text-red-800 border-red-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"🔴"}),r.jsx("span",{className:"font-medium text-sm",children:"FT Pendientes"})]}),r.jsx("span",{className:"text-lg font-bold",children:I.pending})]})})]})]})]})}function hj(t,a=20){return t.length<=a?t:"..."+t.slice(-a)}function Pu(t){const a={"Sin Solicitud":"Sin Solicitud","Validación y aprobación de Tributaria - Analítica":"...Tributaria - Analítica","Limpieza y Transformación":"...Limpieza y Transformación","Cargue Archivo Staging":"...Cargue Archivo Staging","QA Certification":"QA Certification"};return a[t]?a[t]:hj(t,20)}function pj({data:t,onCellClick:a}){const s=jo(t.estado),l=Wd(t.ft),i=Ru(l.overallStatus),c=m=>{switch(m){case"Sin Solicitud":return"bg-gray-100 text-gray-600 border-gray-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-200 text-red-900 border-red-300";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-200 text-green-900 border-green-300";case"Closed":return"bg-green-300 text-green-900 border-green-400";case"Removed":return"bg-red-200 text-red-900 border-red-300";default:return"bg-gray-50 text-gray-500 border-gray-100"}},u=xt.shouldShowElapsedDays(s)?xt.calculateElapsedDays(t.fechaRecibido):null,f=xt.shouldShowClosedDays(s)?xt.calculateClosedDays(t.fechaRecibido,t.fechaCerrado,t.diasProcesamiento):null;return r.jsx("button",{onClick:a,className:`w-full h-8 rounded border ${c(s)} 
        hover:shadow-sm transition-all duration-150 hover:brightness-95
        focus:outline-none focus:ring-1 focus:ring-blue-500 relative text-left`,children:r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 h-full relative",children:[r.jsx("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:r.jsx("span",{className:"text-xs font-medium truncate",title:t.estado,children:Pu(t.estado)})}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[u!==null&&r.jsxs("span",{className:`text-xs font-bold ${xt.getElapsedDaysColor(u)}`,children:[u,"d"]}),f!==null&&r.jsxs("span",{className:`text-xs font-bold ${xt.getClosedDaysColor()}`,children:[f,"d"]}),t.workItemId&&r.jsx("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),t.ft&&r.jsx("span",{className:"text-xs leading-none",title:`FT Status: Procesados ${l.processed}, No Aplican ${l.noApply}, Pendientes ${l.pending}`,children:i})]})]})})}function gj({filteredCompanies:t,billingData:a,onCellClick:s,onCompanyClick:l}){return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-max",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-3 py-2 font-semibold text-gray-900 sticky left-0 bg-gray-50 z-10 min-w-48 text-sm",children:"Empresa de Energía"}),dt.map(i=>r.jsx("th",{className:"text-center px-2 py-2 font-semibold text-gray-900 min-w-24 text-sm",children:i},i))]})}),r.jsx("tbody",{children:t.map((i,c)=>{const u=a[i],f=Be.getCompanyMetadata(u||{});return r.jsxs("tr",{className:c%2===0?"bg-white hover:bg-gray-50":"bg-gray-50 hover:bg-gray-100",children:[r.jsx("td",{className:"px-3 py-1 font-medium text-gray-900 sticky left-0 bg-inherit z-10 border-r border-gray-200",children:r.jsxs("button",{onClick:m=>l(i,m),className:"flex items-center gap-2 truncate max-w-44 hover:text-blue-600 transition-colors text-left text-sm",title:`${i} - Click para editar información, Ctrl+Click para ver perfil`,children:[r.jsx("span",{className:"truncate",children:i}),f.esIncumbente&&r.jsx(pi,{className:"w-3 h-3 text-yellow-500 flex-shrink-0",fill:"currentColor"})]})}),dt.map(m=>{const p=Be.getMonthlyBillingData(u||{},m);return p?r.jsx("td",{className:"p-1",children:r.jsx(pj,{data:p,onCellClick:()=>s(i,m)})},m):r.jsx("td",{className:"p-1"},m)})]},i)})})]})})})}function os(t){return t==null||isNaN(t)?"":new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function wd(t){if(!t||t.trim()==="")return null;const a=t.replace(/\./g,"").replace(/,/g,""),s=parseInt(a,10);return isNaN(s)?null:s}function xj({selectedCell:t,currentData:a,selectedYear:s,azureConfig:l,syncing:i,onClose:c,onUpdateData:u,onCreateWorkItem:f,onSyncFromAzure:m,getWorkItemUrl:p}){const[y,b]=g.useState(null),v=lg(a?.ft),w=ig(v),S=C=>{const j=lj(v[C]),k={...v,[C]:j},P=aj(k);u(t.empresa,t.mes,"ft",P)};if(!t||!a)return null;const N=C=>{const j=Zn(C),k={"bg-gray-100":"border-gray-200","bg-blue-100":"border-blue-200","bg-purple-100":"border-purple-200","bg-green-100":"border-green-200","bg-yellow-100":"border-yellow-200","bg-orange-100":"border-orange-200","bg-red-100":"border-red-200","bg-indigo-100":"border-indigo-200","bg-pink-100":"border-pink-200","bg-cyan-100":"border-cyan-200","bg-gray-50":"border-gray-100"},P=j.bg.match(/bg-\w+-\d+/),I=P&&k[P[0]]||"border-gray-200";return`${j.bg} ${j.text} ${I}`};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"w-6 h-6"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:t.empresa}),r.jsxs("p",{className:"text-blue-100 text-sm",children:[t.mes," ",s]})]})]}),r.jsx("button",{onClick:c,className:"text-blue-100 hover:text-white transition-colors p-2 hover:bg-blue-800 rounded-lg",children:r.jsx(lr,{className:"w-6 h-6"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 p-6 max-h-[calc(95vh-120px)] overflow-y-auto",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Da,{className:"w-5 h-5 text-blue-600"}),"Estado y Progreso"]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estado Actual"}),a.workItemId&&l.enabled&&r.jsxs("button",{onClick:()=>a.workItemId&&m(t.empresa,t.mes,a.workItemId),disabled:i,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 transition-colors text-xs disabled:opacity-50 bg-blue-50 px-2 py-1 rounded-lg",children:[r.jsx(go,{className:`w-3 h-3 ${i?"animate-spin":""}`}),"Sync Azure"]})]}),r.jsxs("div",{className:`inline-flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium ${N(a.estado)}`,children:[r.jsx("span",{className:"text-lg",children:gs(a.estado)}),r.jsx("span",{children:a.estado})]}),xt.shouldShowElapsedDays(a.estado)&&r.jsx("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg border border-amber-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{className:"w-4 h-4 text-amber-600"}),r.jsxs("span",{className:"text-sm text-amber-800",children:["Días transcurridos:",r.jsxs("span",{className:`ml-1 font-bold ${xt.getElapsedDaysColor(xt.calculateElapsedDays(a.fechaRecibido)||0)}`,children:[xt.calculateElapsedDays(a.fechaRecibido)||0," días"]})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(wo,{className:"w-4 h-4 text-purple-600"}),"Azure DevOps Work Item"]}),r.jsx("button",{onClick:()=>b(y==="workItemId"?null:"workItemId"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-50 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="workItemId"?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",value:a.workItemId||"",onChange:C=>u(t.empresa,t.mes,"workItemId",C.target.value?parseInt(C.target.value):null),placeholder:"ID del Work Item",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),r.jsx("button",{onClick:()=>b(null),className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:r.jsx(mw,{className:"w-4 h-4"})})]}):r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-2",children:a.workItemId?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"font-medium",children:["#",a.workItemId]}),r.jsx("a",{href:p(a.workItemId),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",children:r.jsx(wo,{className:"w-4 h-4"})})]}):r.jsx("span",{className:"text-gray-500 italic",children:"Sin Work Item"})}),l.enabled&&!a.workItemId&&r.jsx("button",{onClick:()=>f(t.empresa,t.mes,a.entidad),disabled:i,className:"bg-purple-600 text-white px-3 py-1 rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors text-sm font-medium",children:"Crear Work Item"})]})]})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-green-600"}),"Entidad Pública"]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Entidad Asignada"}),r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("span",{className:a.entidad?"text-gray-900 font-medium":"text-gray-500 italic",children:a.entidad||"Sin asignar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Ia,{className:"w-4 h-4 text-green-600"}),"Notas y Comentarios"]}),r.jsx("button",{onClick:()=>b(y==="notas"?null:"notas"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="notas"?r.jsx("textarea",{value:a.notas,onChange:C=>u(t.empresa,t.mes,"notas",C.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none bg-white",rows:6,placeholder:"Agregar notas, observaciones o comentarios sobre esta solicitud...",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-32",children:r.jsx("span",{className:a.notas?"text-gray-900 whitespace-pre-wrap":"text-gray-500 italic",children:a.notas||"Sin notas o comentarios"})})]})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-purple-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Xp,{className:"w-5 h-5 text-purple-600"}),"Control de Archivos FT"]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estado General"}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${bd(w.overallStatus).bg} ${bd(w.overallStatus).text} ${bd(w.overallStatus).border}`,children:[Ru(w.overallStatus)," ",cg(w.overallStatus)]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Procesados: ",w.processed," • No Aplican: ",w.noApply," • Pendientes: ",w.pending]})]}),r.jsx("div",{className:"space-y-3",children:Object.entries(nj).map(([C,j])=>{const k=C.toLowerCase(),P=v[k],I=oj(P),M=R=>{switch(R){case"P":return"bg-green-100 text-green-800 border-green-200 hover:bg-green-200";case"N":return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";case"-":return"bg-red-100 text-red-800 border-red-200 hover:bg-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200"}};return r.jsx("div",{className:"bg-white rounded-lg border border-purple-200 p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:j.name}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:j.description})]}),r.jsx("button",{onClick:()=>S(k),className:`px-3 py-2 rounded-lg border text-sm font-medium transition-colors ${M(P)}`,title:`Click para cambiar estado. Actual: ${I}`,children:I})]})},k)})}),r.jsxs("div",{className:"mt-4 p-3 bg-purple-100 rounded-lg",children:[r.jsxs("div",{className:"text-xs text-purple-800",children:[r.jsx("strong",{children:"Estados:"})," Pendiente → Procesado → No Aplica → Pendiente"]}),r.jsx("div",{className:"text-xs text-purple-700 mt-1",children:"Haz click en cada botón para cambiar el estado del archivo FT correspondiente."})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(vt,{className:"w-5 h-5 text-blue-600"}),"Fechas Importantes"]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Recibido"}),r.jsx("button",{onClick:()=>b(y==="fechaRecibido"?null:"fechaRecibido"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="fechaRecibido"?r.jsx("input",{type:"date",value:a.fechaRecibido,onChange:C=>u(t.empresa,t.mes,"fechaRecibido",C.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("span",{className:a.fechaRecibido?"text-gray-900 font-medium":"text-gray-500 italic",children:xt.formatHumanDate(a.fechaRecibido)||"Sin fecha"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Cerrado"}),r.jsx("button",{onClick:()=>b(y==="fechaCerrado"?null:"fechaCerrado"),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 hover:bg-blue-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="fechaCerrado"?r.jsx("input",{type:"date",value:a.fechaCerrado,onChange:C=>u(t.empresa,t.mes,"fechaCerrado",C.target.value),onBlur:()=>b(null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:r.jsx("span",{className:a.fechaCerrado?"text-gray-900 font-medium":"text-gray-500 italic",children:xt.formatHumanDate(a.fechaCerrado)||"Sin fecha"})})]})]}),(a.fechaRecibido||a.fechaCerrado)&&r.jsxs("div",{className:"bg-indigo-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(hw,{className:"w-5 h-5 text-indigo-600"}),"Duración y Métricas"]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.fechaRecibido&&a.fechaCerrado&&r.jsxs("div",{className:"bg-white rounded-lg border border-indigo-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(pn,{className:"w-4 h-4 text-indigo-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Duración Total"})]}),r.jsx("div",{className:"text-lg font-bold text-indigo-900",children:Kn.formatDurationText(Kn.calculateDuration(a.fechaRecibido,a.fechaCerrado))}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Desde recepción hasta cierre"})]}),a.fechaRecibido&&!a.fechaCerrado&&r.jsxs("div",{className:"bg-white rounded-lg border border-indigo-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(vt,{className:"w-4 h-4 text-indigo-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Días Transcurridos"})]}),r.jsx("div",{className:`text-lg font-bold ${Kn.getDurationColor(Kn.calculateDaysSinceCreation(a.fechaRecibido)||0)}`,children:Kn.formatDurationText(Kn.calculateDaysSinceCreation(a.fechaRecibido))}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Desde la recepción"})]})]})]})]}),r.jsx("div",{className:"xl:col-span-3 mt-6",children:r.jsxs("div",{className:"bg-green-50 rounded-xl p-5",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ho,{className:"w-5 h-5 text-green-600"}),"Datos de Facturación"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Cantidad de Facturas"]}),r.jsx("button",{onClick:()=>b(y==="cantidadFacturas"?null:"cantidadFacturas"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="cantidadFacturas"?r.jsx("input",{type:"number",value:a.cantidadFacturas||"",onChange:C=>u(t.empresa,t.mes,"cantidadFacturas",C.target.value?parseInt(C.target.value):null),onBlur:()=>b(null),placeholder:"Número de facturas generadas",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:a.cantidadFacturas?"text-gray-900 font-medium":"text-gray-500 italic",children:a.cantidadFacturas?a.cantidadFacturas.toLocaleString("es-CO"):"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Cantidad de Medidores"]}),r.jsx("button",{onClick:()=>b(y==="cantidadMedidores"?null:"cantidadMedidores"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="cantidadMedidores"?r.jsx("input",{type:"number",value:a.cantidadMedidores||"",onChange:C=>u(t.empresa,t.mes,"cantidadMedidores",C.target.value?parseInt(C.target.value):null),onBlur:()=>b(null),placeholder:"Número de medidores reportados",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:a.cantidadMedidores?"text-gray-900 font-medium":"text-gray-500 italic",children:a.cantidadMedidores?a.cantidadMedidores.toLocaleString("es-CO"):"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(Xl,{className:"w-4 h-4"}),"Cantidad de Excluidos"]}),r.jsx("button",{onClick:()=>b(y==="cantidadExcluidos"?null:"cantidadExcluidos"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="cantidadExcluidos"?r.jsx("input",{type:"number",value:a.cantidadExcluidos||"",onChange:C=>u(t.empresa,t.mes,"cantidadExcluidos",C.target.value?parseInt(C.target.value):null),onBlur:()=>b(null),placeholder:"Número de medidores excluidos",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:a.cantidadExcluidos?"text-gray-900 font-medium":"text-gray-500 italic",children:a.cantidadExcluidos?a.cantidadExcluidos.toLocaleString("es-CO"):"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Valor FT01 (Consumos kWh)"]}),r.jsx("button",{onClick:()=>b(y==="valorFT01"?null:"valorFT01"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="valorFT01"?r.jsx("input",{type:"text",value:a.valorFT01?os(a.valorFT01):"",onChange:C=>{const j=wd(C.target.value);u(t.empresa,t.mes,"valorFT01",j)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:a.valorFT01?"text-gray-900 font-medium":"text-gray-500 italic",children:a.valorFT01?`$${os(a.valorFT01)}`:"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Valor FT03 (Recaudado)"]}),r.jsx("button",{onClick:()=>b(y==="valorFT03"?null:"valorFT03"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="valorFT03"?r.jsx("input",{type:"text",value:a.valorFT03?os(a.valorFT03):"",onChange:C=>{const j=wd(C.target.value);u(t.empresa,t.mes,"valorFT03",j)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:a.valorFT03?"text-gray-900 font-medium":"text-gray-500 italic",children:a.valorFT03?`$${os(a.valorFT03)}`:"Sin especificar"})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Valor FT06 (Medidores Excluidos)"]}),r.jsx("button",{onClick:()=>b(y==="valorFT06"?null:"valorFT06"),className:"text-green-600 hover:text-green-800 transition-colors p-1 hover:bg-green-100 rounded",children:r.jsx(Br,{className:"w-4 h-4"})})]}),y==="valorFT06"?r.jsx("input",{type:"text",value:a.valorFT06?os(a.valorFT06):"",onChange:C=>{const j=wd(C.target.value);u(t.empresa,t.mes,"valorFT06",j)},onBlur:()=>b(null),placeholder:"Valor en pesos (ej: 1.234.567)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-white",autoFocus:!0}):r.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-200 min-h-[52px] flex items-center",children:r.jsx("span",{className:a.valorFT06?"text-gray-900 font-medium":"text-gray-500 italic",children:a.valorFT06?`$${os(a.valorFT06)}`:"Sin especificar"})})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-green-100 rounded-lg",children:[r.jsxs("div",{className:"text-xs text-green-800",children:[r.jsx("strong",{children:"Información de Facturación:"})," Complete estos campos cuando tenga datos disponibles."]}),r.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Los valores monetarios se formatean automáticamente con separador de miles."})]})]})})]}),r.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-sm text-gray-600",children:r.jsx("span",{children:"Última modificación automática guardada"})}),r.jsxs("button",{onClick:c,className:"bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2",children:[r.jsx(Da,{className:"w-4 h-4"}),"Cerrar"]})]})})]})})}function yj({isOpen:t,onClose:a,config:s,onUpdateConfig:l}){if(!t)return null;const i=()=>{a(),console.log("Azure DevOps configuration saved")};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Zp,{className:"w-5 h-5 text-purple-600"}),"Configuración Azure DevOps"]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organización"}),r.jsx("input",{type:"text",value:s.organization,onChange:c=>l({...s,organization:c.target.value}),placeholder:"nombre-organizacion",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proyecto"}),r.jsx("input",{type:"text",value:s.project,onChange:c=>l({...s,project:c.target.value}),placeholder:"nombre-proyecto",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Access Token (PAT)"}),r.jsx("input",{type:"password",value:s.pat,onChange:c=>l({...s,pat:c.target.value}),placeholder:"tu-personal-access-token",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Necesita permisos: Work Items (Read) + Work Items (Write para crear nuevos)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"enableAzure",checked:s.enabled,onChange:c=>l({...s,enabled:c.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),r.jsx("label",{htmlFor:"enableAzure",className:"text-sm font-medium text-gray-700",children:"Habilitar sincronización automática"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sincronización:"}),r.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[r.jsxs("div",{children:["• ",r.jsx("strong",{children:"Estados:"})," Solo lectura desde Azure DevOps"]}),r.jsxs("div",{children:["• ",r.jsx("strong",{children:"Work Items:"})," Se crean automáticamente"]}),r.jsxs("div",{children:["• ",r.jsx("strong",{children:"Mapeo:"})," New→Sin Solicitud, Active→En Progreso, Resolved→Con Impedimento, Closed→Terminado"]})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx("button",{onClick:a,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),r.jsx("button",{onClick:i,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Guardar"})]})]})})})}function vj({isOpen:t,onClose:a,billingData:s,selectedEntity:l,selectedYear:i,azureConfig:c,onCreateRequest:u}){const[f,m]=g.useState(""),[p,y]=g.useState([]),[b,v]=g.useState(""),[w,S]=g.useState(""),[N,C]=g.useState(!1),[j,k]=g.useState([]),P=Object.keys(s);g.useEffect(()=>{t&&(m(""),y([]),v(""),S(""),k([]))},[t]);const I=T=>{y(O=>O.includes(T)?O.filter(Q=>Q!==T):[...O,T])},M=()=>{const T=[];if(f||T.push("Debe seleccionar una empresa de energía"),p.length===0&&T.push("Debe seleccionar al menos un mes"),f&&p.length>0){const O=p.filter(Q=>{const J=s[f]?.[Q];return J&&J.estado!=="Sin Solicitud"});O.length>0&&T.push(`Los siguientes meses ya tienen solicitudes: ${O.join(", ")}`)}return k(T),T.length===0},R=async()=>{if(M()){C(!0);try{await u(f,p,b,w),a()}catch(T){console.error("Error creating request:",T),k(["Error al crear la solicitud. Por favor, inténtalo nuevamente."])}finally{C(!1)}}},D=T=>{if(!f)return"available";const O=s[f]?.[T];return!O||O.estado==="Sin Solicitud"?"available":O.estado},V=T=>{switch(T){case"available":return"bg-green-100 text-green-800 border-green-200";case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"Refinement":return"bg-purple-100 text-purple-800 border-purple-200";case"Ready":return"bg-green-100 text-green-800 border-green-200";case"Active":return"bg-blue-100 text-blue-800 border-blue-200";case"QA Certification":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Gestion Tributaria":return"bg-orange-100 text-orange-800 border-orange-200";case"Impediment":return"bg-red-100 text-red-800 border-red-200";case"Paused":return"bg-gray-100 text-gray-800 border-gray-200";case"Peer Review":return"bg-indigo-100 text-indigo-800 border-indigo-200";case"Third Party":return"bg-pink-100 text-pink-800 border-pink-200";case"Staging":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"Production":return"bg-green-100 text-green-800 border-green-200";case"Closed":return"bg-gray-100 text-gray-800 border-gray-200";case"Removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(zd,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Nueva Solicitud de Facturación"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[l," - ",i]})]})]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[j.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(hn,{className:"w-5 h-5 text-red-600"}),r.jsx("h3",{className:"font-medium text-red-800",children:"Errores de validación"})]}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-700",children:j.map((T,O)=>r.jsx("li",{children:T},O))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ut,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Empresa de Energía"})]}),r.jsxs("select",{value:f,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Seleccionar empresa..."}),P.map(T=>r.jsx("option",{value:T,children:T},T))]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Meses a solicitar"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:dt.map(T=>{const O=D(T),Q=O==="available",J=p.includes(T);return r.jsxs("button",{onClick:()=>Q&&I(T),disabled:!Q,className:`
                      p-3 rounded-md border text-sm font-medium transition-all
                      ${J?"bg-blue-600 text-white border-blue-600":Q?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":`${V(O)} cursor-not-allowed opacity-60`}
                    `,children:[r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("span",{children:T}),J&&r.jsx(Da,{className:"w-4 h-4"})]}),!Q&&r.jsx("div",{className:"text-xs mt-1 opacity-75",children:O})]},T)})}),r.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona los meses para los cuales quieres crear solicitudes. Los meses en gris ya tienen solicitudes existentes."})]}),c.organization&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(wo,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID del Work Item en Azure DevOps (opcional)"})]}),r.jsx("input",{type:"text",value:w,onChange:T=>S(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: 12345"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Si ya tienes un work item en Azure DevOps relacionado con esta solicitud, ingresa su ID aquí."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-gray-600"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notas (opcional)"})]}),r.jsx("textarea",{value:b,onChange:T=>v(T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Agregar notas sobre la solicitud..."})]}),c.organization&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Integración con Azure DevOps"})]}),r.jsx("p",{className:"text-sm text-blue-700",children:w?`Se asociará el work item #${w} con todas las solicitudes creadas. El estado actual del work item se sincronizará automáticamente.`:"Las solicitudes se crearán sin work item asociado. Puedes agregar uno más tarde."})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[r.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cancelar"}),r.jsx("button",{onClick:R,disabled:N||!f||p.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:N?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Creando..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(zd,{className:"w-4 h-4"}),r.jsx("span",{children:"Crear Solicitud"})]})})]})]})}):null}function bj({isOpen:t,onClose:a,azureConfig:s,filteredCompanies:l,selectedYear:i,onSync:c}){const[u,f]=g.useState("config"),[m,p]=g.useState(!1),[y,b]=g.useState(!0),[v,w]=g.useState([]),[S,N]=g.useState({current:0,total:0,currentItem:""}),[C,j]=g.useState(!1);if(!t)return null;const k=async()=>{f("syncing"),N({current:0,total:0,currentItem:"Iniciando sincronización..."});const D={allYears:m,allCompanies:y,companies:y?[]:l,years:m?[2017,2018,2019,2020,2021,2022,2023,2024,2025]:[i]};try{const V=await c(D);w(V),f("results")}catch(V){console.error("Sync failed:",V),f("config")}},P=()=>{const D=I();navigator.clipboard.writeText(D).then(()=>{j(!0),setTimeout(()=>j(!1),2e3)})},I=()=>{const D=v.filter(Q=>Q.success&&!Q.noChanges),V=v.filter(Q=>Q.noChanges),T=v.filter(Q=>!Q.success);let O=`=== RESUMEN DE SINCRONIZACIÓN AZURE DEVOPS ===

`;return O+=`Fecha: ${new Date().toLocaleString("es-ES")}
`,O+=`Alcance: ${m?"Todos los años":`Año ${i}`} | ${y?"Todos los clientes":"Clientes filtrados"}

`,O+=`📊 ESTADÍSTICAS:
`,O+=`✅ Actualizados: ${D.length}
`,O+=`➖ Sin cambios: ${V.length}
`,O+=`❌ Errores: ${T.length}

`,D.length>0&&(O+=`📋 CAMBIOS REALIZADOS:
`,D.forEach(Q=>{O+=`${Q.company} - ${Q.month}: "${Q.oldState}" → "${Q.newState}"
`}),O+=`
`),T.length>0&&(O+=`⚠️ ERRORES:
`,T.forEach(Q=>{O+=`${Q.company} - ${Q.month}: ${Q.error}
`})),O},M=()=>({updated:v.filter(D=>D.success&&!D.noChanges).length,noChanges:v.filter(D=>D.noChanges).length,errors:v.filter(D=>!D.success).length}),R=()=>{f("config"),w([]),N({current:0,total:0,currentItem:""}),j(!1),a()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(go,{className:"w-5 h-5 text-blue-600"}),"Sincronización con Azure DevOps"]}),r.jsx("button",{onClick:R,disabled:u==="syncing",className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(lr,{className:"w-5 h-5"})})]}),u==="config"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(hn,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"¿Qué hará esta sincronización?"}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Esta opción actualizará los estados de las solicitudes desde Azure DevOps para los clientes y años seleccionados. Se sincronizarán los estados, fechas de recibido y fechas de cierre de todos los work items configurados."})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Alcance Temporal"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:!m,onChange:()=>p(!1),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Solo año actual"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Sincronizar únicamente ",i]})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:m,onChange:()=>p(!0),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Todos los años"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Sincronizar desde 2017 hasta 2025"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Alcance de Clientes"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:y,onChange:()=>b(!0),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Todos los clientes"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Sincronizar todas las empresas"})]})]}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"radio",checked:!y,onChange:()=>b(!1),className:"text-blue-600 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Solo clientes filtrados"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Sincronizar únicamente los ",l.length," clientes actualmente visibles"]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx("button",{onClick:R,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsxs("button",{onClick:k,disabled:!s.enabled,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(go,{className:"w-4 h-4"}),"Iniciar Sincronización"]})]})]}),u==="syncing"&&r.jsxs("div",{className:"text-center py-12 space-y-6",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(go,{className:"w-12 h-12 text-blue-600 animate-spin"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sincronizando con Azure DevOps..."}),r.jsx("p",{className:"text-gray-600 mb-4",children:S.currentItem}),S.total>0&&r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[r.jsx("span",{children:"Progreso"}),r.jsxs("span",{children:[S.current," de ",S.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.current/S.total*100}%`}})})]})]})]}),u==="results"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-3 gap-4",children:(()=>{const D=M();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[r.jsx(Vt,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-800",children:D.updated}),r.jsx("div",{className:"text-sm text-green-700",children:"Actualizados"})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[r.jsx(pn,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:D.noChanges}),r.jsx("div",{className:"text-sm text-gray-700",children:"Sin cambios"})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[r.jsx($d,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-red-800",children:D.errors}),r.jsx("div",{className:"text-sm text-red-700",children:"Errores"})]})]})})()}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Detalle de Sincronización"}),r.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(iw,{className:"w-4 h-4"}),C?"¡Copiado!":"Copiar al portapapeles"]})]}),r.jsx("div",{className:"space-y-2",children:v.map((D,V)=>r.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${D.success?D.noChanges?"bg-gray-50 border border-gray-200":"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[r.jsx("div",{className:"flex-shrink-0",children:D.success?D.noChanges?r.jsx(pn,{className:"w-5 h-5 text-gray-600"}):r.jsx(Vt,{className:"w-5 h-5 text-green-600"}):r.jsx($d,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:D.company}),r.jsx("span",{className:"text-gray-500",children:"—"}),r.jsx("span",{className:"font-medium",children:D.month})]}),D.success?D.noChanges?r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Sin cambios detectados"}):r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:['"',D.oldState,'" → "',D.newState,'"']}):r.jsx("div",{className:"text-sm text-red-700 mt-1",children:D.error})]})]},V))})]}),r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:r.jsx("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})})]})]})})})}function wj({isOpen:t,onClose:a,companyName:s,currentMetadata:l,existingCompanies:i,isNewCompany:c=!1,onSave:u}){const[f,m]=g.useState(s),[p,y]=g.useState(null),[b,v]=g.useState(!1),[w,S]=g.useState(null),[N,C]=g.useState(null),[j,k]=g.useState(null),[P,I]=g.useState(!1),[M,R]=g.useState(!1),[D,V]=g.useState(!1),[T,O]=g.useState(null);g.useEffect(()=>{t&&(m(s),O(null),l?(y(l.usuariosCount),v(l.esIncumbente),S(l.tipoEmpresa),C(l.email||null),k(l.nit||null),I(l.esAutoconsumidora||!1),R(l.esOperadorRed||!1),V(l.recauda||!1)):(y(null),v(!1),S(null),C(null),k(null),I(!1),R(!1),V(!1)))},[l,t,s]);const Q=re=>re.trim()?re.trim()!==s&&i.includes(re.trim())?"Ya existe una empresa con este nombre":null:"El nombre de la empresa es requerido",J=re=>{m(re),O(Q(re))},Z=()=>{const re=f.trim(),X=Q(re);if(X){O(X);return}u({usuariosCount:p,esIncumbente:b,tipoEmpresa:w,email:N,nit:j,esAutoconsumidora:P,esOperadorRed:M,recauda:D},re!==s?re:void 0),a()},te=re=>{const X=parseInt(re);y(isNaN(X)?null:X)};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-blue-600"}),c?"Nueva Empresa":"Información de Empresa"]}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Empresa"}),r.jsx("input",{type:"text",value:f,onChange:re=>J(re.target.value),placeholder:"Ingrese el nombre de la empresa",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T?"border-red-500":"border-gray-300"}`}),T&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:T})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Cantidad de Usuarios"]}),r.jsx("input",{type:"number",value:p||"",onChange:re=>te(re.target.value),placeholder:"Ingrese el número de usuarios",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(oi,{className:"w-4 h-4 inline mr-1"}),"Tipo de Empresa"]}),r.jsxs("select",{value:w||"",onChange:re=>S(re.target.value||null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Seleccione un tipo"}),r.jsx("option",{value:"Generadora",children:"Generadora"}),r.jsx("option",{value:"Comercializadora",children:"Comercializadora"}),r.jsx("option",{value:"Ambas",children:"Ambas"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(uw,{className:"w-4 h-4 inline mr-1"}),"Email de la Empresa"]}),r.jsx("input",{type:"email",value:N||"",onChange:re=>C(re.target.value||null),placeholder:"ejemplo@empresa.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Ia,{className:"w-4 h-4 inline mr-1"}),"NIT (incluye dígito de verificación)"]}),r.jsx("input",{type:"text",value:j||"",onChange:re=>k(re.target.value||null),placeholder:"900123456-7",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:re=>v(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(pi,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es empresa incumbente del municipio"})]})}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Propiedades Adicionales"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:P,onChange:re=>I(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(oi,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Autoconsumidora"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:M,onChange:re=>R(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(fw,{className:"w-4 h-4 text-orange-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Operador de Red"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:D,onChange:re=>V(re.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(ho,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Recauda"})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:Z,disabled:!!T||!f.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:c?"Crear Empresa":"Guardar"})]})]})}):null}class jd{static BASE_PATH="/src/modules/billing/data";static getEntityFolder(a){return{"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"}[a]||""}static async loadCompaniesForYear(a,s){try{const l=this.getEntityFolder(a);if(!l)throw new Error(`Entidad no encontrada: ${a}`);const i=await fetch(`${this.BASE_PATH}/${l}/${s}.json`);if(!i.ok)throw new Error(`No se pudieron cargar los datos para ${a} ${s}`);const c=await i.json();return Object.keys(c)}catch(l){return console.warn(`Error loading companies for ${a} ${s}:`,l),[]}}static async generateComparisonData(a){const{entity:s,years:l}=a,i={};for(const m of l)i[m]=await this.loadCompaniesForYear(s,m);const c=new Set;Object.values(i).forEach(m=>{m.forEach(p=>c.add(p))});const u=Array.from(c).sort().map(m=>{const p={name:m};return l.forEach(y=>{p[y.toString()]=i[y].includes(m)}),p}),f={};return l.forEach(m=>{f[m.toString()]=i[m].length}),{entity:s,years:l,companies:u,summary:f}}static exportToJSON(a){const s=JSON.stringify(a,null,2),l=new Blob([s],{type:"application/json"}),i=URL.createObjectURL(l),c=document.createElement("a");c.href=i,c.download=`comparativa-empresas-${a.entity.replace(/\s+/g,"-").toLowerCase()}-${a.years.join("-")}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)}static exportToCSV(a){const l=[["Empresa",...a.years.map(p=>p.toString())].join(",")];a.companies.forEach(p=>{const y=[`"${p.name}"`,...a.years.map(b=>p[b.toString()]?"Sí":"No")];l.push(y.join(","))}),l.push(""),l.push("RESUMEN");const i=["Total de empresas",...a.years.map(p=>a.summary[p.toString()].toString())];l.push(i.join(","));const c=l.join(`
`),u=new Blob([c],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(u),m=document.createElement("a");m.href=f,m.download=`comparativa-empresas-${a.entity.replace(/\s+/g,"-").toLowerCase()}-${a.years.join("-")}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(f)}}function jj({isOpen:t,onClose:a,defaultEntity:s="Alcaldía de Palmira"}){const[l,i]=g.useState({entity:s,years:[2024,2025]}),[c,u]=g.useState(null),[f,m]=g.useState(!1),[p,y]=g.useState(null),b=[2017,2018,2019,2020,2021,2022,2023,2024,2025],v=C=>{i(j=>({...j,years:j.years.includes(C)?j.years.filter(k=>k!==C):[...j.years,C].sort()}))},w=async()=>{if(l.years.length<2){y("Selecciona al menos 2 años para comparar");return}m(!0),y(null);try{const C=await jd.generateComparisonData(l);u(C)}catch(C){y(C instanceof Error?C.message:"Error al generar comparación")}finally{m(!1)}},S=()=>{c&&jd.exportToJSON(c)},N=()=>{c&&jd.exportToCSV(c)};return g.useEffect(()=>{t&&!c&&w()},[t]),t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vd,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Comparativa de Empresas"})]}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[r.jsx(ut,{className:"w-4 h-4"}),"Entidad"]}),r.jsx("select",{value:l.entity,onChange:C=>i(j=>({...j,entity:C.target.value})),className:"w-full p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:xr.map(C=>r.jsx("option",{value:C,children:C},C))})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[r.jsx(vt,{className:"w-4 h-4"}),"Años a Comparar"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:b.map(C=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.years.includes(C),onChange:()=>v(C),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:C})]},C))})]})]}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("button",{onClick:w,disabled:f||l.years.length<2,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[f?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Vd,{className:"w-4 h-4"}),f?"Generando...":"Generar Comparación"]})}),p&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-600 text-sm",children:p})}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Resumen"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.years.map(C=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.summary[C.toString()]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Empresas en ",C]})]},C))})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[r.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Ia,{className:"w-4 h-4"}),"Exportar JSON"]}),r.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[r.jsx(ju,{className:"w-4 h-4"}),"Exportar CSV"]})]}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700 border-r",children:"Empresa"}),c.years.map(C=>r.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700 border-r last:border-r-0",children:C},C))]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:c.companies.map((C,j)=>r.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50/50",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border-r font-medium",children:C.name}),c.years.map(k=>r.jsx("td",{className:"px-4 py-3 text-center border-r last:border-r-0",children:C[k.toString()]?r.jsx(Vt,{className:"w-5 h-5 text-green-600 mx-auto"}):r.jsx($d,{className:"w-5 h-5 text-red-400 mx-auto"})},k))]},C.name))})]})})})]})]}),r.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"})})})]})}):null}function Nj({isOpen:t,onClose:a,onImport:s,selectedEntity:l,selectedYear:i}){const[c,u]=g.useState(""),[f,m]=g.useState(!1),[p,y]=g.useState(null),b=async()=>{if(c.trim()){m(!0),y(null);try{const S=await s(c.trim());y(S)}catch(S){y({total:0,imported:[],skipped:[],errors:[{company:"",month:"",status:"error",message:S instanceof Error?S.message:"Error desconocido al procesar"}]})}finally{m(!1)}}},v=()=>{u(""),y(null),a()},w=(S,N)=>{const C=()=>{switch(S.status){case"success":return r.jsx(Vt,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"});case"skipped":return r.jsx(pn,{className:"w-4 h-4 text-yellow-600 flex-shrink-0 mt-0.5"});case"error":return r.jsx(hn,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"})}},j=()=>{switch(S.status){case"success":return"bg-green-50 border-green-200";case"skipped":return"bg-yellow-50 border-yellow-200";case"error":return"bg-red-50 border-red-200"}};return r.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${j()}`,children:[C(),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[S.company&&r.jsx("span",{className:"text-gray-900",children:S.company}),S.month&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"-"}),r.jsx("span",{className:"text-gray-700",children:S.month})]}),S.workItemId&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"-"}),r.jsxs("span",{className:"text-blue-600",children:["#",S.workItemId]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.message})]})]},N)};return t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Bd,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Importar Datos"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Contexto actual: ",l," - ",i]}),r.jsx("p",{className:"text-xs text-blue-600",children:"✨ Soporte multi-año: Puede importar datos de cualquier año y entidad"})]})]}),r.jsx("button",{onClick:v,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"JSON de Importación"}),r.jsx("textarea",{value:c,onChange:S=>u(S.target.value),placeholder:'{\\n  "EMGESA S.A. E.S.P.": {\\n    "Enero": {\\n      "entidad": "Alcaldía de Tuluá",\\n      "workItemId": 26373,\\n      "anio": 2024\\n    }\\n  }\\n}',className:"w-full h-40 p-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",disabled:f}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[r.jsx("p",{children:"Pega aquí el JSON con los datos a importar. Se validará cada empresa y Work Item con Azure DevOps."}),r.jsx("p",{className:"text-blue-600",children:"💡 Los datos se guardarán automáticamente en el archivo correspondiente según el año y entidad de cada registro."}),r.jsx("p",{className:"text-green-600",children:'📝 Ejemplo: Los registros con "anio": 2018 se guardarán en el archivo de 2018, independiente del año actual.'})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:b,disabled:!c.trim()||f,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:f?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Procesando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Bd,{className:"w-4 h-4"}),"Importar"]})}),c.trim()&&r.jsx("button",{onClick:()=>u(""),disabled:f,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",children:"Limpiar"})]})]}),p&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Procesados"})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.imported.length}),r.jsx("div",{className:"text-sm text-green-700",children:"Importados"})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p.skipped.length}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Ya Existían"})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.errors.length}),r.jsx("div",{className:"text-sm text-red-700",children:"Errores"})]})]}),r.jsxs("div",{className:"space-y-4",children:[p.imported.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-green-700 mb-3",children:[r.jsx(Vt,{className:"w-5 h-5"}),"Importados Exitosamente (",p.imported.length,")"]}),r.jsx("div",{className:"space-y-2",children:p.imported.map((S,N)=>w(S,N))})]}),p.skipped.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-yellow-700 mb-3",children:[r.jsx(pn,{className:"w-5 h-5"}),"Ya Existían (",p.skipped.length,")"]}),r.jsx("div",{className:"space-y-2",children:p.skipped.map((S,N)=>w(S,N))})]}),p.errors.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-red-700 mb-3",children:[r.jsx(hn,{className:"w-5 h-5"}),"Errores (",p.errors.length,")"]}),r.jsx("div",{className:"space-y-2",children:p.errors.map((S,N)=>w(S,N))})]})]})]})]}),r.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cerrar"})})})]})}):null}const Cj=[2017,2018,2019,2020,2021,2022,2023,2024,2025];function Sj({isOpen:t,onClose:a,selectedEntity:s,onValidate:l,onConfirmCreation:i}){const[c,u]=g.useState("configure"),[f,m]=g.useState(""),[p,y]=g.useState([]),[b,v]=g.useState(null),[w,S]=g.useState(!1),[N,C]=g.useState(null),[j,k]=g.useState(!1),[P,I]=g.useState(null),[M,R]=g.useState(null),[D,V]=g.useState(!1);g.useEffect(()=>{t&&(u("configure"),m(""),y([]),v(null),S(!1),C(null),I(null),R(null),k(!1),V(!1))},[t]);const T=$=>$.trim()?$.trim().length<3?"El nombre debe tener al menos 3 caracteres":null:"El nombre de la empresa es requerido",O=$=>{m($),R(T($))},Q=$=>{y(K=>K.includes($)?K.filter(Y=>Y!==$):[...K,$].sort())},J=$=>{const K=parseInt($);v(isNaN(K)?null:K)},Z=()=>f.trim()&&p.length>0&&!M,te=async()=>{if(Z()){k(!0);try{const $={usuariosCount:b,esIncumbente:w,tipoEmpresa:N,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1},K=await l(f.trim(),p,$);I(K),u("preview")}catch($){console.error("Error during validation:",$),alert("Error al validar la empresa. Por favor, inténtalo nuevamente.")}finally{k(!1)}}},re=async()=>{if(P){V(!0);try{await i(P,{usuariosCount:b,esIncumbente:w,tipoEmpresa:N,email:null,nit:null,esAutoconsumidora:!1,esOperadorRed:!1,recauda:!1}),u("completed")}catch($){console.error("Error during company creation:",$),alert("Error al crear la empresa. Por favor, inténtalo nuevamente.")}finally{V(!1)}}},X=()=>{u("configure"),I(null)},ae=()=>{u("configure"),I(null),a()};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[c==="configure"&&"Nueva Empresa Multi-Año",c==="preview"&&"Previsualización de Cambios",c==="completed"&&"Empresa Creada Exitosamente"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[c==="configure"&&`Entidad: ${s}`,c==="preview"&&"Revisa los cambios antes de confirmar",c==="completed"&&"La empresa ha sido creada en los años seleccionados"]})]})]}),r.jsx("button",{onClick:ae,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[c==="configure"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa *"}),r.jsx("input",{type:"text",value:f,onChange:$=>O($.target.value),placeholder:"Ej: EMGESA S.A. E.S.P.",className:`w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${M?"border-red-500":"border-gray-300"}`}),M&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:M})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Años en los que crear la empresa *"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:Cj.map($=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:p.includes($),onChange:()=>Q($),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:$})]},$))}),p.length===0&&r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Selecciona al menos un año"}),p.length>0&&r.jsxs("p",{className:"text-blue-600 text-sm mt-1",children:["Seleccionados: ",p.join(", ")," (",p.length," años)"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Do,{className:"w-4 h-4 inline mr-1"}),"Cantidad de Usuarios"]}),r.jsx("input",{type:"number",value:b||"",onChange:$=>J($.target.value),placeholder:"Opcional",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(oi,{className:"w-4 h-4 inline mr-1"}),"Tipo de Empresa"]}),r.jsxs("select",{value:N||"",onChange:$=>C($.target.value||null),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Seleccione un tipo"}),r.jsx("option",{value:"Generadora",children:"Generadora"}),r.jsx("option",{value:"Comercializadora",children:"Comercializadora"}),r.jsx("option",{value:"Ambas",children:"Ambas"})]})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:w,onChange:$=>S($.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx(pi,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es empresa incumbente del municipio"})]})})]}),c==="preview"&&P&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Resumen de Cambios"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.successYears.length}),r.jsx("div",{className:"text-green-700",children:"Se crearán"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:P.skippedYears.length}),r.jsx("div",{className:"text-yellow-700",children:"Se omitirán"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.errors.length}),r.jsx("div",{className:"text-red-700",children:"Errores"})]})]})]}),P.successYears.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"flex items-center gap-2 font-medium text-green-700 mb-3",children:[r.jsx(Vt,{className:"w-4 h-4"}),"Se creará en estos años (",P.successYears.length,")"]}),r.jsx("div",{className:"space-y-2",children:P.successYears.map($=>r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-green-800",children:$.year}),r.jsx("span",{className:"text-sm text-green-600",children:$.message})]})},$.year))})]}),P.skippedYears.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"flex items-center gap-2 font-medium text-yellow-700 mb-3",children:[r.jsx(Rr,{className:"w-4 h-4"}),"Se omitirán estos años (",P.skippedYears.length,")"]}),r.jsx("div",{className:"space-y-2",children:P.skippedYears.map($=>r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-yellow-800",children:$.year}),r.jsx("span",{className:"text-sm text-yellow-600",children:$.message})]})},$.year))})]}),P.errors.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"flex items-center gap-2 font-medium text-red-700 mb-3",children:[r.jsx(lr,{className:"w-4 h-4"}),"Errores encontrados (",P.errors.length,")"]}),r.jsx("div",{className:"space-y-2",children:P.errors.map($=>r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-red-800",children:$.year}),r.jsx("span",{className:"text-sm text-red-600",children:$.message})]})},$.year))})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Posición Alfabética"}),r.jsxs("p",{className:"text-sm text-gray-600",children:['La empresa "',P.companyName,'" se insertará en la posición #',P.alphabeticalPosition," del listado alfabético."]})]})]}),c==="completed"&&r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(Vt,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"¡Empresa Creada Exitosamente!"}),r.jsx("p",{className:"text-gray-600",children:"La empresa ha sido creada en los años seleccionados y ordenada alfabéticamente en cada archivo."})]})]}),r.jsx("div",{className:"border-t bg-gray-50 px-6 py-4",children:r.jsxs("div",{className:"flex justify-between",children:[c==="configure"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:ae,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:te,disabled:!Z()||j,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:j?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Validando..."]}):r.jsxs(r.Fragment,{children:["Validar Empresa",r.jsx(Zb,{className:"w-4 h-4"})]})})]}),c==="preview"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:X,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"← Regresar"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:ae,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:re,disabled:D||P?.successYears.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:D?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vt,{className:"w-4 h-4"}),"Confirmar Creación"]})})]})]}),c==="completed"&&r.jsx("button",{onClick:ae,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})]})})]})}):null}function Ej({isOpen:t,onClose:a,emptyCompanies:s,onConfirmDelete:l}){const[i,c]=g.useState(new Set),[u,f]=g.useState(!1),[m,p]=g.useState(null);if(!t)return null;const y=j=>{const k=new Set(i);k.has(j)?k.delete(j):k.add(j),c(k)},b=()=>{c(new Set(s.map(j=>j.name)))},v=()=>{c(new Set)},w=async()=>{if(i.size!==0){f(!0);try{const j=await l(Array.from(i));p(j),c(new Set)}catch(j){console.error("Error deleting companies:",j),alert("Error al eliminar empresas: "+(j instanceof Error?j.message:"Error desconocido"))}finally{f(!1)}}},S=()=>{c(new Set),p(null),a()},N=j=>{switch(j){case"Generadora":return r.jsx(oi,{className:"w-4 h-4 text-blue-600"});case"Comercializadora":return r.jsx(Do,{className:"w-4 h-4 text-green-600"});case"Ambas":return r.jsx(ut,{className:"w-4 h-4 text-purple-600"});default:return r.jsx(ut,{className:"w-4 h-4 text-gray-400"})}},C=j=>j||"No especificado";return m?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vt,{className:"w-6 h-6 text-green-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eliminación Completada"})]}),r.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Resumen de la eliminación"}),r.jsxs("p",{className:"text-green-700",children:["Se eliminaron exitosamente ",r.jsx("strong",{children:m.totalDeleted})," empresas sin solicitudes."]}),r.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Se preservaron ",r.jsx("strong",{children:m.preservedCompanies.length})," empresas con solicitudes activas."]})]})}),m.deletedCompanies.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Empresas eliminadas (",m.deletedCompanies.length,")"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.deletedCompanies.map(j=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[N(j.metadata.tipoEmpresa),r.jsx("span",{className:"font-medium text-gray-900",children:j.name})]}),r.jsx("span",{className:"text-sm text-gray-500",children:C(j.metadata.tipoEmpresa)})]}),(j.metadata.usuariosCount||j.metadata.esIncumbente)&&r.jsxs("div",{className:"mt-2 text-xs text-gray-600 space-y-1",children:[j.metadata.usuariosCount&&r.jsxs("p",{children:["Usuarios: ",j.metadata.usuariosCount.toLocaleString()]}),j.metadata.esIncumbente&&r.jsx("p",{children:"Empresa incumbente"})]})]},j.name))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cerrar"})})]})]})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rr,{className:"w-6 h-6 text-orange-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Eliminar Empresas Sin Solicitudes"})]}),r.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(lr,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-6",children:s.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay empresas para eliminar"}),r.jsx("p",{className:"text-gray-600",children:"Todas las empresas en el sistema tienen al menos una solicitud activa."})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[r.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"⚠️ Confirmación de eliminación"}),r.jsxs("p",{className:"text-orange-700",children:["Se encontraron ",r.jsx("strong",{children:s.length})," empresas sin solicitudes activas. Esta acción eliminará permanentemente las empresas seleccionadas del sistema."]}),r.jsx("p",{className:"text-orange-700 text-sm mt-2",children:"Las empresas eliminadas no podrán ser recuperadas. Revisa cuidadosamente la lista antes de continuar."})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{onClick:b,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Seleccionar todas"}),r.jsx("button",{onClick:v,className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Deseleccionar todas"}),r.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[i.size," de ",s.length," seleccionadas"]})]})]}),r.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto mb-6",children:s.map(j=>r.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${i.has(j.name)?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>y(j.name),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:i.has(j.name),onChange:()=>y(j.name),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N(j.metadata.tipoEmpresa),r.jsx("span",{className:"font-semibold text-gray-900",children:j.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",C(j.metadata.tipoEmpresa),")"]})]}),(j.metadata.usuariosCount||j.metadata.esIncumbente)&&r.jsxs("div",{className:"text-sm text-gray-600 space-x-4",children:[j.metadata.usuariosCount&&r.jsxs("span",{children:["👥 ",j.metadata.usuariosCount.toLocaleString()," usuarios"]}),j.metadata.esIncumbente&&r.jsx("span",{children:"⭐ Incumbente"})]})]})]})},j.name))}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:S,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),r.jsxs("button",{onClick:w,disabled:i.size===0||u,className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(eg,{className:"w-4 h-4"}),u?"Eliminando...":`Eliminar ${i.size} empresas`]})]})]})})]})})}function kj(){const[t,a]=g.useState(!1),s=g.useCallback(()=>{a(!0)},[]),l=g.useCallback(()=>{a(!1)},[]);return{showComparisonModal:t,openComparisonModal:s,closeComparisonModal:l}}class Rj{static normalizeCompanyName(a){return a.replace(/\s*\(\d{4}\)\s*$/,"").trim()}static async processImportData(a,s,l,i,c,u){const f=[];try{const m=JSON.parse(a);if(!m||typeof m!="object")throw new Error("JSON inválido: debe ser un objeto con empresas");for(const[p,y]of Object.entries(m)){if(!y||typeof y!="object"){f.push({company:p,month:"",status:"error",message:"Datos de empresa inválidos"});continue}for(const[b,v]of Object.entries(y))try{const w=this.normalizeCompanyName(p),S=await this.processCompanyMonthRecord(w,b,v,s,l,i,c,u);f.push(S)}catch(w){f.push({company:this.normalizeCompanyName(p),month:b,status:"error",message:w instanceof Error?w.message:"Error desconocido"})}}}catch(m){f.push({company:"",month:"",status:"error",message:m instanceof Error?`Error de formato JSON: ${m.message}`:"JSON inválido"})}return this.createSummary(f)}static async processCompanyMonthRecord(a,s,l,i,c,u,f,m){if(!l||typeof l!="object")return{company:a,month:s,status:"error",message:"Datos de solicitud inválidos"};const{entidad:p,workItemId:y,anio:b}=l;if(!p||!y||!b)return{company:a,month:s,status:"error",message:"Faltan campos requeridos: entidad, workItemId, anio"};const v=typeof y=="number"?y:parseInt(y);if(isNaN(v))return{company:a,month:s,status:"error",message:"workItemId debe ser un número válido"};const w=typeof b=="number"?b:parseInt(b);if(isNaN(w)||w<2017||w>2030)return{company:a,month:s,status:"error",message:`Año ${w} no es válido (debe estar entre 2017 y 2030)`};if(!dt.includes(s))return{company:a,month:s,status:"error",message:`Mes "${s}" no es válido. Debe ser uno de: ${dt.join(", ")}`};const S=`${p}-${w}`,N=m?.[S]||i;if(!N[a])return{company:a,month:s,status:"error",message:`Empresa "${a}" no encontrada en ${p} ${w}`};const C=N[a][s];if(C&&typeof C=="object"&&C.workItemId)return{company:a,month:s,status:"skipped",message:`Ya existe registro para ${p} ${w} con Work Item ${C.workItemId}`,workItemId:C.workItemId};try{const j=await f(v);return j?{company:a,month:s,status:"success",message:`Work Item ${v} validado para ${w} (Estado: ${j})`,workItemId:v}:{company:a,month:s,status:"error",message:`Work Item ${v} no existe o no es accesible en Azure DevOps`,workItemId:v}}catch(j){return{company:a,month:s,status:"error",message:`Error al validar Work Item ${v}: ${j instanceof Error?j.message:"Error desconocido"}`,workItemId:v}}}static createSummary(a){const s=a.filter(c=>c.status==="success"),l=a.filter(c=>c.status==="skipped"),i=a.filter(c=>c.status==="error");return{total:a.length,imported:s,skipped:l,errors:i}}}function Pj({billingData:t,selectedYear:a,selectedEntity:s,updateField:l,updateStatusFromAzure:i,syncFromAzure:c,syncWorkItemData:u}){const[f,m]=g.useState(!1),p=g.useCallback(()=>{m(!0)},[]),y=g.useCallback(()=>{m(!1)},[]),b=g.useCallback(async v=>{let w={};try{w=JSON.parse(v)}catch{throw new Error("JSON inválido")}const S=new Set;for(const[,j]of Object.entries(w))if(typeof j=="object"&&j)for(const[,k]of Object.entries(j))typeof k=="object"&&k&&k.anio&&k.entidad&&S.add(`${k.entidad}-${k.anio}`);const N={};for(const j of S){const[k,P]=j.split("-"),I=parseInt(P);try{const M=await Be.loadDataForEntityYear(k,I);N[j]=M}catch(M){console.warn(`Could not load data for ${k} ${I}:`,M),N[j]={}}}const C=await Rj.processImportData(v,t,a,s,c,N);for(const j of C.imported)if(j.workItemId&&j.message){const k=j.message.match(/validado para (\d{4})/),P=k?parseInt(k[1]):a,I=Object.keys(w).find(D=>D.replace(/\s*\(\d{4}\)\s*$/,"").trim()===j.company);let M=s;I&&w[I]?.[j.month]?.entidad&&(M=w[I][j.month].entidad);const R=`${M}-${P}`;try{const D=await u(j.workItemId),V=new Date().toISOString().split("T")[0],T={workItemId:j.workItemId,entidad:M,notas:"",estado:D?.state||"New",fechaRecibido:D?.fechaRecibido||V,fechaCerrado:D?.fechaCerrado||"",workItemType:D?.workItemType};N[R]&&(N[R][j.company]||(N[R][j.company]={}),N[R][j.company][j.month]=T,await Be.saveDataForEntityYear(M,P,N[R])),P===a&&M===s&&(l(j.company,j.month,"workItemId",j.workItemId),l(j.company,j.month,"entidad",M),l(j.company,j.month,"notas",""),l(j.company,j.month,"fechaRecibido",T.fechaRecibido),l(j.company,j.month,"fechaCerrado",T.fechaCerrado),l(j.company,j.month,"workItemType",T.workItemType),i(j.company,j.month,T.estado))}catch(D){console.error(`Error syncing data for ${j.company} - ${j.month}:`,D)}}return C},[t,a,s,l,i,c,u]);return{showImportModal:f,openImportModal:p,closeImportModal:y,processImport:b}}function Dj(){const t=g.useCallback(s=>{const l=[];for(const[i,c]of Object.entries(s)){let u=!1;for(const f of dt){const m=Be.getMonthlyBillingData(c,f);if(m&&m.estado!=="Sin Solicitud"){u=!0;break}}if(!u){const f=Be.getCompanyMetadata(c);l.push({name:i,metadata:f,monthsChecked:[...dt]})}}return l},[]),a=g.useCallback((s,l)=>{const i={...s},c=[],u=[];l.forEach(m=>{if(i[m]){const p=Be.getCompanyMetadata(i[m]);c.push({name:m,metadata:p,monthsChecked:[...dt]}),delete i[m]}}),Object.keys(s).forEach(m=>{l.includes(m)||u.push(m)});const f={deletedCompanies:c,totalDeleted:c.length,preservedCompanies:u};return{updatedData:i,result:f}},[]);return{findEmptyCompanies:t,deleteEmptyCompanies:a}}function qh(){const{year:t,entity:a}=xu(),s=Up(),l=vn(),[i,c]=g.useState(null),[u,f]=g.useState(!1),[m,p]=g.useState(!1),[y,b]=g.useState(!1),[v,w]=g.useState(null),[S,N]=g.useState(!1),[C,j]=g.useState(!1),[k,P]=g.useState(!1),I=t?parseInt(t):2025,M=a?decodeURIComponent(a):"Alcaldía de Palmira",{billingData:R,isLoading:D,error:V,updateField:T,updateStatusFromAzure:O,getCellData:Q,updateCompanyMetadata:J,getCompanyMetadata:Z,renameCompany:te,addNewCompany:re,getCompanyNames:X,deleteCompanies:ae,performAdvancedSync:$}=Mt(I,M),K=ij(R),Y=fj(),_=kj(),q=Pj({billingData:R,selectedYear:I,selectedEntity:M,updateField:T,updateStatusFromAzure:O,syncFromAzure:Y.syncFromAzure,syncWorkItemData:Y.syncWorkItemData}),de=Dj();g.useEffect(()=>{const Ie=new URLSearchParams(l.search).get("search");Ie&&K.setSearchTerm(Ie)},[l.search,K.setSearchTerm]),g.useEffect(()=>{(!t||!a)&&l.pathname==="/"&&s(`/2025/${encodeURIComponent("Alcaldía de Palmira")}`,{replace:!0})},[t,a,l.pathname,s]);const fe=g.useCallback(ve=>{s(`/${ve}/${encodeURIComponent(M)}`,{replace:!0})},[s,M]),Se=g.useCallback(ve=>{s(`/${I}/${encodeURIComponent(ve)}`,{replace:!0})},[s,I]),we=g.useCallback((ve,Ie)=>{c({empresa:ve,mes:Ie})},[]),le=g.useCallback(()=>{c(null)},[]),me=g.useCallback(async(ve,Ie,Ze,et)=>{if(Ze!=="estado"&&T(ve,Ie,Ze,et),Ze==="workItemId"&&et&&!Q(ve,Ie)?.workItemId){const wt=await Y.createWorkItem(ve,Ie,I,Q(ve,Ie)?.entidad||"");wt&&T(ve,Ie,"workItemId",wt)}if(Ze==="workItemId"&&et&&Q(ve,Ie)?.workItemId!==et){const wt=await Y.syncFromAzure(et);wt&&O(ve,Ie,wt)}},[T,O,Q,Y,I]),Me=g.useCallback(async(ve,Ie,Ze)=>{const et=await Y.createWorkItem(ve,Ie,I,Ze);et&&T(ve,Ie,"workItemId",et)},[Y,T,I]),pe=g.useCallback(async(ve,Ie,Ze)=>{const et=await Y.syncFromAzure(Ze);et&&O(ve,Ie,et)},[Y,O]),_e=g.useCallback(()=>{b(!0)},[]),Ue=g.useCallback(async ve=>await $(ve,Y,(Ie,Ze,et)=>{console.log(`Syncing ${Ie}/${Ze}: ${et}`)}),[$,Y]),ft=g.useCallback((ve,Ie)=>{Ie&&(Ie.ctrlKey||Ie.metaKey)?s(`/empresa/${encodeURIComponent(ve)}`):(w(ve),N(!1))},[s]),mt=g.useCallback(()=>{w("Nueva Empresa"),N(!0)},[]),Tr=g.useCallback(()=>{j(!0)},[]),Mr=g.useCallback(async(ve,Ie,Ze)=>await xo.validateCompanyMultiYear(ve,Ie,M,Ze),[M]),ir=g.useCallback(async(ve,Ie)=>{await xo.createCompanyMultiYear(ve,Ie,M),ve.successYears.some(et=>et.year===I)&&window.location.reload()},[M,I]),_a=g.useCallback((ve,Ie)=>{try{if(S){if(!Ie)throw new Error("Se requiere el nombre de la empresa para crear una nueva empresa");re(Ie,ve)}else v&&(Ie&&Ie!==v?te(v,Ie):J(v,ve));w(null),N(!1)}catch(Ze){console.error("Error saving company info:",Ze),alert(Ze instanceof Error?Ze.message:"Error al guardar la información de la empresa")}},[S,v,re,te,J]),la=g.useCallback(async(ve,Ie,Ze,et)=>{for(const wt of Ie)if(T(ve,wt,"estado","New"),T(ve,wt,"entidad",M),T(ve,wt,"fechaRecibido",new Date().toISOString().split("T")[0]),T(ve,wt,"notas",Ze),et&&et.trim()){const _r=parseInt(et.trim());if(T(ve,wt,"workItemId",_r),Y.azureConfig.enabled)try{const At=await Y.syncWorkItemData(_r);At&&(O(ve,wt,At.state),T(ve,wt,"fechaRecibido",At.fechaRecibido),T(ve,wt,"fechaCerrado",At.fechaCerrado),T(ve,wt,"workItemType",At.workItemType))}catch(At){console.error(`Error syncing Azure data for work item ${_r}:`,At)}}},[T,M,Y,O]),Kr=g.useCallback(()=>{P(!0)},[]),Ar=g.useCallback(()=>f(!1),[]),Jt=g.useCallback(()=>p(!1),[]),Ir=g.useCallback(()=>b(!1),[]),ia=g.useCallback(()=>j(!1),[]),wn=g.useCallback(()=>P(!1),[]),Zt=g.useCallback(()=>f(!0),[]),Ft=g.useCallback(()=>p(!0),[]),Qr=g.useCallback(()=>{w(null),N(!1)},[]),jn=g.useCallback(async ve=>{const{result:Ie}=de.deleteEmptyCompanies(R,ve);return ae(ve),Ie},[R,de,ae]),Xr=i?Q(i.empresa,i.mes):null;return D?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsxs("p",{className:"text-gray-600",children:["Cargando datos de ",M,"..."]})]})}):V?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("h3",{className:"font-bold",children:"Error al cargar datos"}),r.jsx("p",{children:V})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Por favor, verifica que existan los datos para esta entidad y año."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:r.jsxs("div",{className:"w-full",children:[r.jsx(mj,{selectedYear:I,onYearChange:fe,searchTerm:K.searchTerm,onSearchChange:K.setSearchTerm,selectedEntity:M,onEntityChange:Se,realStateStatistics:K.realStateStatistics,azureConfig:Y.azureConfig,onConfigClick:Zt,onSyncClick:_e,onCreateRequestClick:Ft,onNewCompanyClick:mt,onNewCompanyMultiYearClick:Tr,onCompareCompaniesClick:_.openComparisonModal,onImportDataClick:q.openImportModal,onDeleteEmptyCompaniesClick:Kr,syncing:Y.syncing,statusFilters:K.statusFilters,selectedFTStatus:K.selectedFTStatus,onFTStatusChange:K.setSelectedFTStatus,ftStatistics:K.ftStatistics}),r.jsx(gj,{filteredCompanies:K.filteredCompanies,billingData:R,onCellClick:we,onCompanyClick:ft}),r.jsx(xj,{selectedCell:i,currentData:Xr,selectedYear:I,azureConfig:Y.azureConfig,syncing:Y.syncing,onClose:le,onUpdateData:me,onCreateWorkItem:Me,onSyncFromAzure:pe,getWorkItemUrl:Y.getWorkItemUrl}),r.jsx(yj,{isOpen:u,onClose:Ar,config:Y.azureConfig,onUpdateConfig:Y.updateConfig}),r.jsx(vj,{isOpen:m,onClose:Jt,billingData:R,selectedEntity:M,selectedYear:I,azureConfig:Y.azureConfig,onCreateRequest:la}),r.jsx(bj,{isOpen:y,onClose:Ir,azureConfig:Y.azureConfig,filteredCompanies:K.filteredCompanies,selectedYear:I,onSync:Ue}),r.jsx(wj,{isOpen:!!v,onClose:Qr,companyName:v||"",currentMetadata:v&&!S?Z(v):void 0,existingCompanies:X(),isNewCompany:S,onSave:_a}),r.jsx(jj,{isOpen:_.showComparisonModal,onClose:_.closeComparisonModal,defaultEntity:M}),r.jsx(Nj,{isOpen:q.showImportModal,onClose:q.closeImportModal,onImport:q.processImport,selectedEntity:M,selectedYear:I}),r.jsx(Sj,{isOpen:C,onClose:ia,selectedEntity:M,onValidate:Mr,onConfirmCreation:ir}),r.jsx(Ej,{isOpen:k,onClose:wn,emptyCompanies:de.findEmptyCompanies(R),onConfirmDelete:jn})]})})}function Tj(){const t=Mt(2025,"Alcaldía de Palmira"),a=Mt(2025,"Alcaldía de Tuluá"),s=Mt(2025,"Gobernación del Valle del Cauca"),l=Mt(2025,"Infibagué"),i=Mt(2024,"Alcaldía de Palmira"),c=Mt(2024,"Alcaldía de Tuluá"),u=Mt(2024,"Gobernación del Valle del Cauca"),f=Mt(2024,"Infibagué"),m=Mt(2023,"Alcaldía de Palmira"),p=Mt(2023,"Alcaldía de Tuluá"),y=Mt(2023,"Gobernación del Valle del Cauca"),b=Mt(2023,"Infibagué"),v=g.useMemo(()=>{const j={},k=[{entity:"Alcaldía de Palmira",data:t},{entity:"Alcaldía de Tuluá",data:a},{entity:"Gobernación del Valle del Cauca",data:s},{entity:"Infibagué",data:l}].filter(({data:M})=>!M.error&&M.billingData&&Object.keys(M.billingData).length>0);k.length>0&&(j[2025]=k);const P=[{entity:"Alcaldía de Palmira",data:i},{entity:"Alcaldía de Tuluá",data:c},{entity:"Gobernación del Valle del Cauca",data:u},{entity:"Infibagué",data:f}].filter(({data:M})=>!M.error&&M.billingData&&Object.keys(M.billingData).length>0);P.length>0&&(j[2024]=P);const I=[{entity:"Alcaldía de Palmira",data:m},{entity:"Alcaldía de Tuluá",data:p},{entity:"Gobernación del Valle del Cauca",data:y},{entity:"Infibagué",data:b}].filter(({data:M})=>!M.error&&M.billingData&&Object.keys(M.billingData).length>0);return I.length>0&&(j[2023]=I),j},[t,a,s,l,i,c,u,f,m,p,y,b]),w=g.useMemo(()=>[t,a,s,l,i,c,u,f,m,p,y,b].some(k=>k.isLoading),[t,a,s,l,i,c,u,f,m,p,y,b]),S=g.useMemo(()=>[t,a,s,l,i,c,u,f,m,p,y,b].map(k=>k.error).filter(k=>k&&!k.includes("No se pudo cargar")&&!k.includes("Failed to load")),[t,a,s,l,i,c,u,f,m,p,y,b]),N=g.useMemo(()=>Object.keys(v).map(j=>parseInt(j)).sort((j,k)=>k-j),[v]),C=g.useMemo(()=>{const j=new Set;return Object.values(v).forEach(k=>{k.forEach(({entity:P})=>j.add(P))}),Array.from(j)},[v]);return{entityDataByYear:v,isLoading:w,criticalErrors:S,availableYears:N,availableEntities:C}}function Mj(){const[t,a]=g.useState("all"),[s,l]=g.useState(2025),[i,c]=g.useState(""),[u,f]=g.useState("all"),m=Tj(),p=Mt(s==="all"?2025:s,"Alcaldía de Palmira"),y=Mt(s==="all"?2025:s,"Alcaldía de Tuluá"),b=Mt(s==="all"?2025:s,"Gobernación del Valle del Cauca"),v=Mt(s==="all"?2025:s,"Infibagué"),w=g.useMemo(()=>{if(s==="all"){const M=[];return Object.values(m.entityDataByYear).forEach(R=>{R.forEach(({entity:D,data:V})=>{M.find(O=>O.key===D)||M.push({key:D,data:V})})}),M}else{const M=[];return!p.error&&p.billingData&&Object.keys(p.billingData).length>0&&M.push({key:"Alcaldía de Palmira",data:p}),!y.error&&y.billingData&&Object.keys(y.billingData).length>0&&M.push({key:"Alcaldía de Tuluá",data:y}),!b.error&&b.billingData&&Object.keys(b.billingData).length>0&&M.push({key:"Gobernación del Valle del Cauca",data:b}),!v.error&&v.billingData&&Object.keys(v.billingData).length>0&&M.push({key:"Infibagué",data:v}),M}},[s,m.entityDataByYear,p,y,b,v]),S=g.useMemo(()=>{const M=[],R=(D,V,T)=>{D&&Object.entries(D).forEach(([O,Q])=>{Q&&Object.entries(Q).forEach(([J,Z])=>{if(J==="_metadata"||!Z||typeof Z!="object")return;const te=Z;te.estado&&te.estado!=="Closed"&&te.estado!=="Sin Solicitud"&&M.push({...te,entityName:V,companyName:O,monthName:J,year:T})})})};return s==="all"?Object.entries(m.entityDataByYear).forEach(([D,V])=>{const T=parseInt(D);V.forEach(({entity:O,data:Q})=>{R(Q.billingData,O,T)})}):w.forEach(({key:D,data:V})=>{R(V.billingData,D,s)}),M},[s,w,m.entityDataByYear]),N=g.useMemo(()=>S.filter(M=>{if(t!=="all"&&M.entityName!==t||u!=="all"&&M.estado!==u)return!1;if(i){const R=i.toLowerCase();return M.companyName.toLowerCase().includes(R)||M.entityName.toLowerCase().includes(R)||M.monthName.toLowerCase().includes(R)||M.notas&&M.notas.toLowerCase().includes(R)||M.workItemId&&M.workItemId.toString().includes(R)}return!0}),[S,t,u,i]),C=g.useMemo(()=>{const M=new Map;return N.forEach(R=>{const D=`${R.companyName}|${R.entityName}`;M.has(D)||M.set(D,{entityName:R.entityName,companyName:R.companyName,periods:[],pendingCount:0});const V=M.get(D);V.periods.push({monthName:R.monthName,year:R.year,estado:R.estado,fechaRecibido:R.fechaRecibido,fechaCerrado:R.fechaCerrado,diasProcesamiento:R.diasProcesamiento,notas:R.notas,workItemId:R.workItemId}),V.pendingCount=V.periods.length}),Array.from(M.values()).sort((R,D)=>{if(R.pendingCount!==D.pendingCount)return D.pendingCount-R.pendingCount;const V=R.entityName.localeCompare(D.entityName);return V!==0?V:R.companyName.localeCompare(D.companyName)})},[N]),j=g.useMemo(()=>{const M={"Sin Solicitud":0,New:0,Refinement:0,Ready:0,Active:0,"Validación y aprobación de Tributaria - Analítica":0,"Cargue Archivo Staging":0,"Validación Tributaria Staging":0,"Cargue Archivo PROD":0,"Validación y Aprobación de Tributaria - PROD":0,"Facturación en PROD":0,"Validación Tributaria de Facturación":0,"Dispersión en BD":0,"Generar Reportes":0,"QA Certification":0,"Gestion Tributaria":0,Impediment:0,Paused:0,"Peer Review":0,"Third Party":0,Staging:0,Production:0,Closed:0,Removed:0},R={},D={},V={};N.forEach(O=>{M[O.estado]=(M[O.estado]||0)+1,R[O.entityName]=(R[O.entityName]||0)+1,D[O.companyName]=(D[O.companyName]||0)+1,V[O.year]=(V[O.year]||0)+1});const T={total:N.length,byStatus:M,byEntity:R,byCompany:D};return s==="all"&&(T.byYear=V),T},[N,s]),k=g.useMemo(()=>s==="all"?m.isLoading:p.isLoading||y.isLoading||b.isLoading||v.isLoading,[s,m.isLoading,p.isLoading,y.isLoading,b.isLoading,v.isLoading]),P=g.useMemo(()=>s==="all"?m.criticalErrors:[p.error,y.error,b.error,v.error].filter(M=>M&&!M.includes("No se pudo cargar")&&!M.includes("Failed to load")),[s,m.criticalErrors,p.error,y.error,b.error,v.error]),I=g.useMemo(()=>s==="all"?m.availableEntities:w.map(M=>M.key),[s,m.availableEntities,w]);return{requests:N,groupedRequests:C,stats:j,selectedEntity:t,setSelectedEntity:a,selectedYear:s,setSelectedYear:l,searchTerm:i,setSearchTerm:c,statusFilter:u,setStatusFilter:f,isLoading:k,error:P.length>0?P.join("; "):null,entities:I,allEntities:xr,years:s==="all"?m.availableYears:[2017,2018,2019,2020,2021,2022,2023,2024,2025],availableYears:m.availableYears,statuses:["New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production"]}}const fn=g.forwardRef(({className:t,...a},s)=>r.jsx("div",{ref:s,className:ot("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));fn.displayName="Card";const Ra=g.forwardRef(({className:t,...a},s)=>r.jsx("div",{ref:s,className:ot("flex flex-col space-y-1.5 p-6",t),...a}));Ra.displayName="CardHeader";const us=g.forwardRef(({className:t,...a},s)=>r.jsx("h3",{ref:s,className:ot("text-2xl font-semibold leading-none tracking-tight",t),...a}));us.displayName="CardTitle";const Aj=g.forwardRef(({className:t,...a},s)=>r.jsx("p",{ref:s,className:ot("text-sm text-muted-foreground",t),...a}));Aj.displayName="CardDescription";const mn=g.forwardRef(({className:t,...a},s)=>r.jsx("div",{ref:s,className:ot("p-6 pt-0",t),...a}));mn.displayName="CardContent";const Ij=g.forwardRef(({className:t,...a},s)=>r.jsx("div",{ref:s,className:ot("flex items-center p-6 pt-0",t),...a}));Ij.displayName="CardFooter";function dg(t){var a,s,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t))for(a=0;a<t.length;a++)t[a]&&(s=dg(t[a]))&&(l&&(l+=" "),l+=s);else for(a in t)t[a]&&(l&&(l+=" "),l+=a);return l}function _j(){for(var t,a,s=0,l="";s<arguments.length;)(t=arguments[s++])&&(a=dg(t))&&(l&&(l+=" "),l+=a);return l}const Kh=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Qh=_j,ug=(t,a)=>s=>{var l;if(a?.variants==null)return Qh(t,s?.class,s?.className);const{variants:i,defaultVariants:c}=a,u=Object.keys(i).map(p=>{const y=s?.[p],b=c?.[p];if(y===null)return null;const v=Kh(y)||Kh(b);return i[p][v]}),f=s&&Object.entries(s).reduce((p,y)=>{let[b,v]=y;return v===void 0||(p[b]=v),p},{}),m=a==null||(l=a.compoundVariants)===null||l===void 0?void 0:l.reduce((p,y)=>{let{class:b,className:v,...w}=y;return Object.entries(w).every(S=>{let[N,C]=S;return Array.isArray(C)?C.includes({...c,...f}[N]):{...c,...f}[N]===C})?[...p,b,v]:p},[]);return Qh(t,u,m,s?.class,s?.className)},Lj=ug("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fg({className:t,variant:a,...s}){return r.jsx("div",{className:ot(Lj({variant:a}),t),...s})}function mg({size:t="md",className:a}){const s={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return r.jsx("div",{className:ot("animate-spin rounded-full border-2 border-gray-300 border-t-blue-600",s[t],a)})}function Oj({stats:t,isLoading:a}){if(a)return r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(u=>r.jsx(fn,{children:r.jsx(mn,{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(mg,{size:"md"})})})},u))});const s=Object.entries(t.byEntity).sort(([,u],[,f])=>f-u).slice(0,3),l=Object.entries(t.byCompany).sort(([,u],[,f])=>f-u).slice(0,3),i=t.byYear&&Object.keys(t.byYear).length>0;return r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(fn,{children:[r.jsxs(Ra,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(us,{className:"text-sm font-medium",children:"Total Pendientes"}),r.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(mn,{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.total}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Solicitudes no cerradas"})]})]}),r.jsxs(fn,{children:[r.jsxs(Ra,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(us,{className:"text-sm font-medium",children:"Por Estado"}),r.jsx(bn,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(mn,{children:r.jsx("div",{className:"space-y-2",children:Object.entries(t.byStatus).filter(([,u])=>u>0).map(([u,f])=>{const m=Zn(u),p=ku[u]||u;return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(fg,{variant:"outline",className:`text-xs ${m.bg} ${m.text} border-current`,children:p}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)})})})]}),r.jsxs(fn,{children:[r.jsxs(Ra,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(us,{className:"text-sm font-medium",children:"Por Entidad"}),r.jsx(ut,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(mn,{children:r.jsx("div",{className:"space-y-2",children:s.length>0?s.map(([u,f])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground truncate",children:u}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)):r.jsx("p",{className:"text-xs text-muted-foreground",children:"Sin datos"})})})]}),r.jsxs(fn,{children:[r.jsxs(Ra,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(us,{className:"text-sm font-medium",children:"Top Empresas"}),r.jsx(Do,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(mn,{children:r.jsx("div",{className:"space-y-2",children:l.length>0?l.map(([u,f])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground truncate",children:u.length>15?`${u.substring(0,15)}...`:u}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)):r.jsx("p",{className:"text-xs text-muted-foreground",children:"Sin datos"})})})]}),i&&r.jsxs(fn,{children:[r.jsxs(Ra,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(us,{className:"text-sm font-medium",children:"Por Año"}),r.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(mn,{children:r.jsxs("div",{className:"space-y-2",children:[Object.entries(t.byYear).sort(([u],[f])=>parseInt(f)-parseInt(u)).slice(0,3).map(([u,f])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:u}),r.jsx("span",{className:"text-sm font-medium",children:f})]},u)),Object.keys(t.byYear).length>3&&r.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-1",children:["+",Object.keys(t.byYear).length-3," más"]})]})})]})]})}const hg=g.forwardRef(({className:t,type:a,...s},l)=>r.jsx("input",{type:a,className:ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:l,...s}));hg.displayName="Input";function Xh(t,[a,s]){return Math.min(s,Math.max(a,t))}function Je(t,a,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t?.(i),s===!1||!i.defaultPrevented)return a?.(i)}}function Fj(t,a=[]){let s=[];function l(c,u){const f=g.createContext(u),m=s.length;s=[...s,u];function p(b){const{scope:v,children:w,...S}=b,N=v?.[t][m]||f,C=g.useMemo(()=>S,Object.values(S));return r.jsx(N.Provider,{value:C,children:w})}function y(b,v){const w=v?.[t][m]||f,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return p.displayName=c+"Provider",[p,y]}const i=()=>{const c=s.map(u=>g.createContext(u));return function(f){const m=f?.[t]||c;return g.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[l,$j(i,...a)]}function $j(...t){const a=t[0];if(t.length===1)return a;const s=()=>{const l=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=l.reduce((f,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...f,...b}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:u}),[u])}};return s.scopeName=a.scopeName,s}function zj(t,a){typeof t=="function"?t(a):t!=null&&(t.current=a)}function pg(...t){return a=>t.forEach(s=>zj(s,a))}function bt(...t){return g.useCallback(pg(...t),t)}var No=g.forwardRef((t,a)=>{const{children:s,...l}=t,i=g.Children.toArray(s),c=i.find(Vj);if(c){const u=c.props.children,f=i.map(m=>m===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:m);return r.jsx(Hd,{...l,ref:a,children:g.isValidElement(u)?g.cloneElement(u,void 0,f):null})}return r.jsx(Hd,{...l,ref:a,children:s})});No.displayName="Slot";var Hd=g.forwardRef((t,a)=>{const{children:s,...l}=t;if(g.isValidElement(s)){const i=Uj(s);return g.cloneElement(s,{...Bj(l,s.props),ref:a?pg(a,i):i})}return g.Children.count(s)>1?g.Children.only(null):null});Hd.displayName="SlotClone";var gg=({children:t})=>r.jsx(r.Fragment,{children:t});function Vj(t){return g.isValidElement(t)&&t.type===gg}function Bj(t,a){const s={...a};for(const l in a){const i=t[l],c=a[l];/^on[A-Z]/.test(l)?i&&c?s[l]=(...f)=>{c(...f),i(...f)}:i&&(s[l]=i):l==="style"?s[l]={...i,...c}:l==="className"&&(s[l]=[i,c].filter(Boolean).join(" "))}return{...t,...s}}function Uj(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Wj(t){const a=t+"CollectionProvider",[s,l]=Fj(a),[i,c]=s(a,{collectionRef:{current:null},itemMap:new Map}),u=w=>{const{scope:S,children:N}=w,C=un.useRef(null),j=un.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:j,collectionRef:C,children:N})};u.displayName=a;const f=t+"CollectionSlot",m=un.forwardRef((w,S)=>{const{scope:N,children:C}=w,j=c(f,N),k=bt(S,j.collectionRef);return r.jsx(No,{ref:k,children:C})});m.displayName=f;const p=t+"CollectionItemSlot",y="data-radix-collection-item",b=un.forwardRef((w,S)=>{const{scope:N,children:C,...j}=w,k=un.useRef(null),P=bt(S,k),I=c(p,N);return un.useEffect(()=>(I.itemMap.set(k,{ref:k,...j}),()=>void I.itemMap.delete(k))),r.jsx(No,{[y]:"",ref:P,children:C})});b.displayName=p;function v(w){const S=c(t+"CollectionConsumer",w);return un.useCallback(()=>{const C=S.collectionRef.current;if(!C)return[];const j=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((I,M)=>j.indexOf(I.ref.current)-j.indexOf(M.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:b},v,l]}function xg(t,a=[]){let s=[];function l(c,u){const f=g.createContext(u),m=s.length;s=[...s,u];const p=b=>{const{scope:v,children:w,...S}=b,N=v?.[t]?.[m]||f,C=g.useMemo(()=>S,Object.values(S));return r.jsx(N.Provider,{value:C,children:w})};p.displayName=c+"Provider";function y(b,v){const w=v?.[t]?.[m]||f,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[p,y]}const i=()=>{const c=s.map(u=>g.createContext(u));return function(f){const m=f?.[t]||c;return g.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[l,Hj(i,...a)]}function Hj(...t){const a=t[0];if(t.length===1)return a;const s=()=>{const l=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=l.reduce((f,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...f,...b}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:u}),[u])}};return s.scopeName=a.scopeName,s}var Yj=g.createContext(void 0);function Gj(t){const a=g.useContext(Yj);return t||a||"ltr"}var qj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pt=qj.reduce((t,a)=>{const s=g.forwardRef((l,i)=>{const{asChild:c,...u}=l,f=c?No:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(f,{...u,ref:i})});return s.displayName=`Primitive.${a}`,{...t,[a]:s}},{});function Kj(t,a){t&&vs.flushSync(()=>t.dispatchEvent(a))}function gn(t){const a=g.useRef(t);return g.useEffect(()=>{a.current=t}),g.useMemo(()=>(...s)=>a.current?.(...s),[])}function Qj(t,a=globalThis?.document){const s=gn(t);g.useEffect(()=>{const l=i=>{i.key==="Escape"&&s(i)};return a.addEventListener("keydown",l,{capture:!0}),()=>a.removeEventListener("keydown",l,{capture:!0})},[s,a])}var Xj="DismissableLayer",Yd="dismissableLayer.update",Jj="dismissableLayer.pointerDownOutside",Zj="dismissableLayer.focusOutside",Jh,yg=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Du=g.forwardRef((t,a)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...m}=t,p=g.useContext(yg),[y,b]=g.useState(null),v=y?.ownerDocument??globalThis?.document,[,w]=g.useState({}),S=bt(a,D=>b(D)),N=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=N.indexOf(C),k=y?N.indexOf(y):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,I=k>=j,M=rN(D=>{const V=D.target,T=[...p.branches].some(O=>O.contains(V));!I||T||(i?.(D),u?.(D),D.defaultPrevented||f?.())},v),R=nN(D=>{const V=D.target;[...p.branches].some(O=>O.contains(V))||(c?.(D),u?.(D),D.defaultPrevented||f?.())},v);return Qj(D=>{k===p.layers.size-1&&(l?.(D),!D.defaultPrevented&&f&&(D.preventDefault(),f()))},v),g.useEffect(()=>{if(y)return s&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Jh=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Zh(),()=>{s&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Jh)}},[y,v,s,p]),g.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Zh())},[y,p]),g.useEffect(()=>{const D=()=>w({});return document.addEventListener(Yd,D),()=>document.removeEventListener(Yd,D)},[]),r.jsx(pt.div,{...m,ref:S,style:{pointerEvents:P?I?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,M.onPointerDownCapture)})});Du.displayName=Xj;var eN="DismissableLayerBranch",tN=g.forwardRef((t,a)=>{const s=g.useContext(yg),l=g.useRef(null),i=bt(a,l);return g.useEffect(()=>{const c=l.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),r.jsx(pt.div,{...t,ref:i})});tN.displayName=eN;function rN(t,a=globalThis?.document){const s=gn(t),l=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const c=f=>{if(f.target&&!l.current){let m=function(){vg(Jj,s,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=m,a.addEventListener("click",i.current,{once:!0})):m()}else a.removeEventListener("click",i.current);l.current=!1},u=window.setTimeout(()=>{a.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),a.removeEventListener("pointerdown",c),a.removeEventListener("click",i.current)}},[a,s]),{onPointerDownCapture:()=>l.current=!0}}function nN(t,a=globalThis?.document){const s=gn(t),l=g.useRef(!1);return g.useEffect(()=>{const i=c=>{c.target&&!l.current&&vg(Zj,s,{originalEvent:c},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,s]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function Zh(){const t=new CustomEvent(Yd);document.dispatchEvent(t)}function vg(t,a,s,{discrete:l}){const i=s.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});a&&i.addEventListener(t,a,{once:!0}),l?Kj(i,c):i.dispatchEvent(c)}var Nd=0;function aN(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ep()),document.body.insertAdjacentElement("beforeend",t[1]??ep()),Nd++,()=>{Nd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Nd--}},[])}function ep(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cd="focusScope.autoFocusOnMount",Sd="focusScope.autoFocusOnUnmount",tp={bubbles:!1,cancelable:!0},sN="FocusScope",bg=g.forwardRef((t,a)=>{const{loop:s=!1,trapped:l=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...u}=t,[f,m]=g.useState(null),p=gn(i),y=gn(c),b=g.useRef(null),v=bt(a,N=>m(N)),w=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(l){let N=function(P){if(w.paused||!f)return;const I=P.target;f.contains(I)?b.current=I:qn(b.current,{select:!0})},C=function(P){if(w.paused||!f)return;const I=P.relatedTarget;I!==null&&(f.contains(I)||qn(b.current,{select:!0}))},j=function(P){if(document.activeElement===document.body)for(const M of P)M.removedNodes.length>0&&qn(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",C);const k=new MutationObserver(j);return f&&k.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",C),k.disconnect()}}},[l,f,w.paused]),g.useEffect(()=>{if(f){np.add(w);const N=document.activeElement;if(!f.contains(N)){const j=new CustomEvent(Cd,tp);f.addEventListener(Cd,p),f.dispatchEvent(j),j.defaultPrevented||(oN(uN(wg(f)),{select:!0}),document.activeElement===N&&qn(f))}return()=>{f.removeEventListener(Cd,p),setTimeout(()=>{const j=new CustomEvent(Sd,tp);f.addEventListener(Sd,y),f.dispatchEvent(j),j.defaultPrevented||qn(N??document.body,{select:!0}),f.removeEventListener(Sd,y),np.remove(w)},0)}}},[f,p,y,w]);const S=g.useCallback(N=>{if(!s&&!l||w.paused)return;const C=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,j=document.activeElement;if(C&&j){const k=N.currentTarget,[P,I]=lN(k);P&&I?!N.shiftKey&&j===I?(N.preventDefault(),s&&qn(P,{select:!0})):N.shiftKey&&j===P&&(N.preventDefault(),s&&qn(I,{select:!0})):j===k&&N.preventDefault()}},[s,l,w.paused]);return r.jsx(pt.div,{tabIndex:-1,...u,ref:v,onKeyDown:S})});bg.displayName=sN;function oN(t,{select:a=!1}={}){const s=document.activeElement;for(const l of t)if(qn(l,{select:a}),document.activeElement!==s)return}function lN(t){const a=wg(t),s=rp(a,t),l=rp(a.reverse(),t);return[s,l]}function wg(t){const a=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const i=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||i?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)a.push(s.currentNode);return a}function rp(t,a){for(const s of t)if(!iN(s,{upTo:a}))return s}function iN(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cN(t){return t instanceof HTMLInputElement&&"select"in t}function qn(t,{select:a=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&cN(t)&&a&&t.select()}}var np=dN();function dN(){let t=[];return{add(a){const s=t[0];a!==s&&s?.pause(),t=ap(t,a),t.unshift(a)},remove(a){t=ap(t,a),t[0]?.resume()}}}function ap(t,a){const s=[...t],l=s.indexOf(a);return l!==-1&&s.splice(l,1),s}function uN(t){return t.filter(a=>a.tagName!=="A")}var Bt=globalThis?.document?g.useLayoutEffect:()=>{},fN=Ly.useId||(()=>{}),mN=0;function gi(t){const[a,s]=g.useState(fN());return Bt(()=>{s(l=>l??String(mN++))},[t]),a?`radix-${a}`:""}const hN=["top","right","bottom","left"],ea=Math.min,sr=Math.max,li=Math.round,Vl=Math.floor,ta=t=>({x:t,y:t}),pN={left:"right",right:"left",bottom:"top",top:"bottom"},gN={start:"end",end:"start"};function Gd(t,a,s){return sr(t,ea(a,s))}function xn(t,a){return typeof t=="function"?t(a):t}function yn(t){return t.split("-")[0]}function ws(t){return t.split("-")[1]}function Tu(t){return t==="x"?"y":"x"}function Mu(t){return t==="y"?"height":"width"}function ra(t){return["top","bottom"].includes(yn(t))?"y":"x"}function Au(t){return Tu(ra(t))}function xN(t,a,s){s===void 0&&(s=!1);const l=ws(t),i=Au(t),c=Mu(i);let u=i==="x"?l===(s?"end":"start")?"right":"left":l==="start"?"bottom":"top";return a.reference[c]>a.floating[c]&&(u=ii(u)),[u,ii(u)]}function yN(t){const a=ii(t);return[qd(t),a,qd(a)]}function qd(t){return t.replace(/start|end/g,a=>gN[a])}function vN(t,a,s){const l=["left","right"],i=["right","left"],c=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return s?a?i:l:a?l:i;case"left":case"right":return a?c:u;default:return[]}}function bN(t,a,s,l){const i=ws(t);let c=vN(yn(t),s==="start",l);return i&&(c=c.map(u=>u+"-"+i),a&&(c=c.concat(c.map(qd)))),c}function ii(t){return t.replace(/left|right|bottom|top/g,a=>pN[a])}function wN(t){return{top:0,right:0,bottom:0,left:0,...t}}function jg(t){return typeof t!="number"?wN(t):{top:t,right:t,bottom:t,left:t}}function ci(t){const{x:a,y:s,width:l,height:i}=t;return{width:l,height:i,top:s,left:a,right:a+l,bottom:s+i,x:a,y:s}}function sp(t,a,s){let{reference:l,floating:i}=t;const c=ra(a),u=Au(a),f=Mu(u),m=yn(a),p=c==="y",y=l.x+l.width/2-i.width/2,b=l.y+l.height/2-i.height/2,v=l[f]/2-i[f]/2;let w;switch(m){case"top":w={x:y,y:l.y-i.height};break;case"bottom":w={x:y,y:l.y+l.height};break;case"right":w={x:l.x+l.width,y:b};break;case"left":w={x:l.x-i.width,y:b};break;default:w={x:l.x,y:l.y}}switch(ws(a)){case"start":w[u]-=v*(s&&p?-1:1);break;case"end":w[u]+=v*(s&&p?-1:1);break}return w}const jN=async(t,a,s)=>{const{placement:l="bottom",strategy:i="absolute",middleware:c=[],platform:u}=s,f=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(a));let p=await u.getElementRects({reference:t,floating:a,strategy:i}),{x:y,y:b}=sp(p,l,m),v=l,w={},S=0;for(let N=0;N<f.length;N++){const{name:C,fn:j}=f[N],{x:k,y:P,data:I,reset:M}=await j({x:y,y:b,initialPlacement:l,placement:v,strategy:i,middlewareData:w,rects:p,platform:u,elements:{reference:t,floating:a}});y=k??y,b=P??b,w={...w,[C]:{...w[C],...I}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(v=M.placement),M.rects&&(p=M.rects===!0?await u.getElementRects({reference:t,floating:a,strategy:i}):M.rects),{x:y,y:b}=sp(p,v,m)),N=-1)}return{x:y,y:b,placement:v,strategy:i,middlewareData:w}};async function Co(t,a){var s;a===void 0&&(a={});const{x:l,y:i,platform:c,rects:u,elements:f,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:v=!1,padding:w=0}=xn(a,t),S=jg(w),C=f[v?b==="floating"?"reference":"floating":b],j=ci(await c.getClippingRect({element:(s=await(c.isElement==null?void 0:c.isElement(C)))==null||s?C:C.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:m})),k=b==="floating"?{x:l,y:i,width:u.floating.width,height:u.floating.height}:u.reference,P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),I=await(c.isElement==null?void 0:c.isElement(P))?await(c.getScale==null?void 0:c.getScale(P))||{x:1,y:1}:{x:1,y:1},M=ci(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:k,offsetParent:P,strategy:m}):k);return{top:(j.top-M.top+S.top)/I.y,bottom:(M.bottom-j.bottom+S.bottom)/I.y,left:(j.left-M.left+S.left)/I.x,right:(M.right-j.right+S.right)/I.x}}const NN=t=>({name:"arrow",options:t,async fn(a){const{x:s,y:l,placement:i,rects:c,platform:u,elements:f,middlewareData:m}=a,{element:p,padding:y=0}=xn(t,a)||{};if(p==null)return{};const b=jg(y),v={x:s,y:l},w=Au(i),S=Mu(w),N=await u.getDimensions(p),C=w==="y",j=C?"top":"left",k=C?"bottom":"right",P=C?"clientHeight":"clientWidth",I=c.reference[S]+c.reference[w]-v[w]-c.floating[S],M=v[w]-c.reference[w],R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let D=R?R[P]:0;(!D||!await(u.isElement==null?void 0:u.isElement(R)))&&(D=f.floating[P]||c.floating[S]);const V=I/2-M/2,T=D/2-N[S]/2-1,O=ea(b[j],T),Q=ea(b[k],T),J=O,Z=D-N[S]-Q,te=D/2-N[S]/2+V,re=Gd(J,te,Z),X=!m.arrow&&ws(i)!=null&&te!==re&&c.reference[S]/2-(te<J?O:Q)-N[S]/2<0,ae=X?te<J?te-J:te-Z:0;return{[w]:v[w]+ae,data:{[w]:re,centerOffset:te-re-ae,...X&&{alignmentOffset:ae}},reset:X}}}),CN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var s,l;const{placement:i,middlewareData:c,rects:u,initialPlacement:f,platform:m,elements:p}=a,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,...C}=xn(t,a);if((s=c.arrow)!=null&&s.alignmentOffset)return{};const j=yn(i),k=ra(f),P=yn(f)===f,I=await(m.isRTL==null?void 0:m.isRTL(p.floating)),M=v||(P||!N?[ii(f)]:yN(f)),R=S!=="none";!v&&R&&M.push(...bN(f,N,S,I));const D=[f,...M],V=await Co(a,C),T=[];let O=((l=c.flip)==null?void 0:l.overflows)||[];if(y&&T.push(V[j]),b){const te=xN(i,u,I);T.push(V[te[0]],V[te[1]])}if(O=[...O,{placement:i,overflows:T}],!T.every(te=>te<=0)){var Q,J;const te=(((Q=c.flip)==null?void 0:Q.index)||0)+1,re=D[te];if(re)return{data:{index:te,overflows:O},reset:{placement:re}};let X=(J=O.filter(ae=>ae.overflows[0]<=0).sort((ae,$)=>ae.overflows[1]-$.overflows[1])[0])==null?void 0:J.placement;if(!X)switch(w){case"bestFit":{var Z;const ae=(Z=O.filter($=>{if(R){const K=ra($.placement);return K===k||K==="y"}return!0}).map($=>[$.placement,$.overflows.filter(K=>K>0).reduce((K,Y)=>K+Y,0)]).sort(($,K)=>$[1]-K[1])[0])==null?void 0:Z[0];ae&&(X=ae);break}case"initialPlacement":X=f;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function op(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function lp(t){return hN.some(a=>t[a]>=0)}const SN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:s}=a,{strategy:l="referenceHidden",...i}=xn(t,a);switch(l){case"referenceHidden":{const c=await Co(a,{...i,elementContext:"reference"}),u=op(c,s.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:lp(u)}}}case"escaped":{const c=await Co(a,{...i,altBoundary:!0}),u=op(c,s.floating);return{data:{escapedOffsets:u,escaped:lp(u)}}}default:return{}}}}};async function EN(t,a){const{placement:s,platform:l,elements:i}=t,c=await(l.isRTL==null?void 0:l.isRTL(i.floating)),u=yn(s),f=ws(s),m=ra(s)==="y",p=["left","top"].includes(u)?-1:1,y=c&&m?-1:1,b=xn(a,t);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof S=="number"&&(w=f==="end"?S*-1:S),m?{x:w*y,y:v*p}:{x:v*p,y:w*y}}const kN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var s,l;const{x:i,y:c,placement:u,middlewareData:f}=a,m=await EN(a,t);return u===((s=f.offset)==null?void 0:s.placement)&&(l=f.arrow)!=null&&l.alignmentOffset?{}:{x:i+m.x,y:c+m.y,data:{...m,placement:u}}}}},RN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:s,y:l,placement:i}=a,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:j,y:k}=C;return{x:j,y:k}}},...m}=xn(t,a),p={x:s,y:l},y=await Co(a,m),b=ra(yn(i)),v=Tu(b);let w=p[v],S=p[b];if(c){const C=v==="y"?"top":"left",j=v==="y"?"bottom":"right",k=w+y[C],P=w-y[j];w=Gd(k,w,P)}if(u){const C=b==="y"?"top":"left",j=b==="y"?"bottom":"right",k=S+y[C],P=S-y[j];S=Gd(k,S,P)}const N=f.fn({...a,[v]:w,[b]:S});return{...N,data:{x:N.x-s,y:N.y-l,enabled:{[v]:c,[b]:u}}}}}},PN=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:s,y:l,placement:i,rects:c,middlewareData:u}=a,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=xn(t,a),y={x:s,y:l},b=ra(i),v=Tu(b);let w=y[v],S=y[b];const N=xn(f,a),C=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const P=v==="y"?"height":"width",I=c.reference[v]-c.floating[P]+C.mainAxis,M=c.reference[v]+c.reference[P]-C.mainAxis;w<I?w=I:w>M&&(w=M)}if(p){var j,k;const P=v==="y"?"width":"height",I=["top","left"].includes(yn(i)),M=c.reference[b]-c.floating[P]+(I&&((j=u.offset)==null?void 0:j[b])||0)+(I?0:C.crossAxis),R=c.reference[b]+c.reference[P]+(I?0:((k=u.offset)==null?void 0:k[b])||0)-(I?C.crossAxis:0);S<M?S=M:S>R&&(S=R)}return{[v]:w,[b]:S}}}},DN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var s,l;const{placement:i,rects:c,platform:u,elements:f}=a,{apply:m=()=>{},...p}=xn(t,a),y=await Co(a,p),b=yn(i),v=ws(i),w=ra(i)==="y",{width:S,height:N}=c.floating;let C,j;b==="top"||b==="bottom"?(C=b,j=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(j=b,C=v==="end"?"top":"bottom");const k=N-y.top-y.bottom,P=S-y.left-y.right,I=ea(N-y[C],k),M=ea(S-y[j],P),R=!a.middlewareData.shift;let D=I,V=M;if((s=a.middlewareData.shift)!=null&&s.enabled.x&&(V=P),(l=a.middlewareData.shift)!=null&&l.enabled.y&&(D=k),R&&!v){const O=sr(y.left,0),Q=sr(y.right,0),J=sr(y.top,0),Z=sr(y.bottom,0);w?V=S-2*(O!==0||Q!==0?O+Q:sr(y.left,y.right)):D=N-2*(J!==0||Z!==0?J+Z:sr(y.top,y.bottom))}await m({...a,availableWidth:V,availableHeight:D});const T=await u.getDimensions(f.floating);return S!==T.width||N!==T.height?{reset:{rects:!0}}:{}}}};function xi(){return typeof window<"u"}function js(t){return Ng(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function qr(t){var a;return(a=(Ng(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function Ng(t){return xi()?t instanceof Node||t instanceof or(t).Node:!1}function Pr(t){return xi()?t instanceof Element||t instanceof or(t).Element:!1}function Hr(t){return xi()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function ip(t){return!xi()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}function To(t){const{overflow:a,overflowX:s,overflowY:l,display:i}=Dr(t);return/auto|scroll|overlay|hidden|clip/.test(a+l+s)&&!["inline","contents"].includes(i)}function TN(t){return["table","td","th"].includes(js(t))}function yi(t){return[":popover-open",":modal"].some(a=>{try{return t.matches(a)}catch{return!1}})}function Iu(t){const a=_u(),s=Pr(t)?Dr(t):t;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!a&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!a&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(l=>(s.willChange||"").includes(l))||["paint","layout","strict","content"].some(l=>(s.contain||"").includes(l))}function MN(t){let a=na(t);for(;Hr(a)&&!xs(a);){if(Iu(a))return a;if(yi(a))return null;a=na(a)}return null}function _u(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xs(t){return["html","body","#document"].includes(js(t))}function Dr(t){return or(t).getComputedStyle(t)}function vi(t){return Pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(js(t)==="html")return t;const a=t.assignedSlot||t.parentNode||ip(t)&&t.host||qr(t);return ip(a)?a.host:a}function Cg(t){const a=na(t);return xs(a)?t.ownerDocument?t.ownerDocument.body:t.body:Hr(a)&&To(a)?a:Cg(a)}function So(t,a,s){var l;a===void 0&&(a=[]),s===void 0&&(s=!0);const i=Cg(t),c=i===((l=t.ownerDocument)==null?void 0:l.body),u=or(i);if(c){const f=Kd(u);return a.concat(u,u.visualViewport||[],To(i)?i:[],f&&s?So(f):[])}return a.concat(i,So(i,[],s))}function Kd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sg(t){const a=Dr(t);let s=parseFloat(a.width)||0,l=parseFloat(a.height)||0;const i=Hr(t),c=i?t.offsetWidth:s,u=i?t.offsetHeight:l,f=li(s)!==c||li(l)!==u;return f&&(s=c,l=u),{width:s,height:l,$:f}}function Lu(t){return Pr(t)?t:t.contextElement}function hs(t){const a=Lu(t);if(!Hr(a))return ta(1);const s=a.getBoundingClientRect(),{width:l,height:i,$:c}=Sg(a);let u=(c?li(s.width):s.width)/l,f=(c?li(s.height):s.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const AN=ta(0);function Eg(t){const a=or(t);return!_u()||!a.visualViewport?AN:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function IN(t,a,s){return a===void 0&&(a=!1),!s||a&&s!==or(t)?!1:a}function Ta(t,a,s,l){a===void 0&&(a=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),c=Lu(t);let u=ta(1);a&&(l?Pr(l)&&(u=hs(l)):u=hs(t));const f=IN(c,s,l)?Eg(c):ta(0);let m=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,y=i.width/u.x,b=i.height/u.y;if(c){const v=or(c),w=l&&Pr(l)?or(l):l;let S=v,N=Kd(S);for(;N&&l&&w!==S;){const C=hs(N),j=N.getBoundingClientRect(),k=Dr(N),P=j.left+(N.clientLeft+parseFloat(k.paddingLeft))*C.x,I=j.top+(N.clientTop+parseFloat(k.paddingTop))*C.y;m*=C.x,p*=C.y,y*=C.x,b*=C.y,m+=P,p+=I,S=or(N),N=Kd(S)}}return ci({width:y,height:b,x:m,y:p})}function _N(t){let{elements:a,rect:s,offsetParent:l,strategy:i}=t;const c=i==="fixed",u=qr(l),f=a?yi(a.floating):!1;if(l===u||f&&c)return s;let m={scrollLeft:0,scrollTop:0},p=ta(1);const y=ta(0),b=Hr(l);if((b||!b&&!c)&&((js(l)!=="body"||To(u))&&(m=vi(l)),Hr(l))){const v=Ta(l);p=hs(l),y.x=v.x+l.clientLeft,y.y=v.y+l.clientTop}return{width:s.width*p.x,height:s.height*p.y,x:s.x*p.x-m.scrollLeft*p.x+y.x,y:s.y*p.y-m.scrollTop*p.y+y.y}}function LN(t){return Array.from(t.getClientRects())}function Qd(t,a){const s=vi(t).scrollLeft;return a?a.left+s:Ta(qr(t)).left+s}function ON(t){const a=qr(t),s=vi(t),l=t.ownerDocument.body,i=sr(a.scrollWidth,a.clientWidth,l.scrollWidth,l.clientWidth),c=sr(a.scrollHeight,a.clientHeight,l.scrollHeight,l.clientHeight);let u=-s.scrollLeft+Qd(t);const f=-s.scrollTop;return Dr(l).direction==="rtl"&&(u+=sr(a.clientWidth,l.clientWidth)-i),{width:i,height:c,x:u,y:f}}function FN(t,a){const s=or(t),l=qr(t),i=s.visualViewport;let c=l.clientWidth,u=l.clientHeight,f=0,m=0;if(i){c=i.width,u=i.height;const p=_u();(!p||p&&a==="fixed")&&(f=i.offsetLeft,m=i.offsetTop)}return{width:c,height:u,x:f,y:m}}function $N(t,a){const s=Ta(t,!0,a==="fixed"),l=s.top+t.clientTop,i=s.left+t.clientLeft,c=Hr(t)?hs(t):ta(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,m=i*c.x,p=l*c.y;return{width:u,height:f,x:m,y:p}}function cp(t,a,s){let l;if(a==="viewport")l=FN(t,s);else if(a==="document")l=ON(qr(t));else if(Pr(a))l=$N(a,s);else{const i=Eg(t);l={...a,x:a.x-i.x,y:a.y-i.y}}return ci(l)}function kg(t,a){const s=na(t);return s===a||!Pr(s)||xs(s)?!1:Dr(s).position==="fixed"||kg(s,a)}function zN(t,a){const s=a.get(t);if(s)return s;let l=So(t,[],!1).filter(f=>Pr(f)&&js(f)!=="body"),i=null;const c=Dr(t).position==="fixed";let u=c?na(t):t;for(;Pr(u)&&!xs(u);){const f=Dr(u),m=Iu(u);!m&&f.position==="fixed"&&(i=null),(c?!m&&!i:!m&&f.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||To(u)&&!m&&kg(t,u))?l=l.filter(y=>y!==u):i=f,u=na(u)}return a.set(t,l),l}function VN(t){let{element:a,boundary:s,rootBoundary:l,strategy:i}=t;const u=[...s==="clippingAncestors"?yi(a)?[]:zN(a,this._c):[].concat(s),l],f=u[0],m=u.reduce((p,y)=>{const b=cp(a,y,i);return p.top=sr(b.top,p.top),p.right=ea(b.right,p.right),p.bottom=ea(b.bottom,p.bottom),p.left=sr(b.left,p.left),p},cp(a,f,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function BN(t){const{width:a,height:s}=Sg(t);return{width:a,height:s}}function UN(t,a,s){const l=Hr(a),i=qr(a),c=s==="fixed",u=Ta(t,!0,c,a);let f={scrollLeft:0,scrollTop:0};const m=ta(0);if(l||!l&&!c)if((js(a)!=="body"||To(i))&&(f=vi(a)),l){const w=Ta(a,!0,c,a);m.x=w.x+a.clientLeft,m.y=w.y+a.clientTop}else i&&(m.x=Qd(i));let p=0,y=0;if(i&&!l&&!c){const w=i.getBoundingClientRect();y=w.top+f.scrollTop,p=w.left+f.scrollLeft-Qd(i,w)}const b=u.left+f.scrollLeft-m.x-p,v=u.top+f.scrollTop-m.y-y;return{x:b,y:v,width:u.width,height:u.height}}function Ed(t){return Dr(t).position==="static"}function dp(t,a){if(!Hr(t)||Dr(t).position==="fixed")return null;if(a)return a(t);let s=t.offsetParent;return qr(t)===s&&(s=s.ownerDocument.body),s}function Rg(t,a){const s=or(t);if(yi(t))return s;if(!Hr(t)){let i=na(t);for(;i&&!xs(i);){if(Pr(i)&&!Ed(i))return i;i=na(i)}return s}let l=dp(t,a);for(;l&&TN(l)&&Ed(l);)l=dp(l,a);return l&&xs(l)&&Ed(l)&&!Iu(l)?s:l||MN(t)||s}const WN=async function(t){const a=this.getOffsetParent||Rg,s=this.getDimensions,l=await s(t.floating);return{reference:UN(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function HN(t){return Dr(t).direction==="rtl"}const YN={convertOffsetParentRelativeRectToViewportRelativeRect:_N,getDocumentElement:qr,getClippingRect:VN,getOffsetParent:Rg,getElementRects:WN,getClientRects:LN,getDimensions:BN,getScale:hs,isElement:Pr,isRTL:HN};function GN(t,a){let s=null,l;const i=qr(t);function c(){var f;clearTimeout(l),(f=s)==null||f.disconnect(),s=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),c();const{left:p,top:y,width:b,height:v}=t.getBoundingClientRect();if(f||a(),!b||!v)return;const w=Vl(y),S=Vl(i.clientWidth-(p+b)),N=Vl(i.clientHeight-(y+v)),C=Vl(p),k={rootMargin:-w+"px "+-S+"px "+-N+"px "+-C+"px",threshold:sr(0,ea(1,m))||1};let P=!0;function I(M){const R=M[0].intersectionRatio;if(R!==m){if(!P)return u();R?u(!1,R):l=setTimeout(()=>{u(!1,1e-7)},1e3)}P=!1}try{s=new IntersectionObserver(I,{...k,root:i.ownerDocument})}catch{s=new IntersectionObserver(I,k)}s.observe(t)}return u(!0),c}function qN(t,a,s,l){l===void 0&&(l={});const{ancestorScroll:i=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=l,p=Lu(t),y=i||c?[...p?So(p):[],...So(a)]:[];y.forEach(j=>{i&&j.addEventListener("scroll",s,{passive:!0}),c&&j.addEventListener("resize",s)});const b=p&&f?GN(p,s):null;let v=-1,w=null;u&&(w=new ResizeObserver(j=>{let[k]=j;k&&k.target===p&&w&&(w.unobserve(a),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(a)})),s()}),p&&!m&&w.observe(p),w.observe(a));let S,N=m?Ta(t):null;m&&C();function C(){const j=Ta(t);N&&(j.x!==N.x||j.y!==N.y||j.width!==N.width||j.height!==N.height)&&s(),N=j,S=requestAnimationFrame(C)}return s(),()=>{var j;y.forEach(k=>{i&&k.removeEventListener("scroll",s),c&&k.removeEventListener("resize",s)}),b?.(),(j=w)==null||j.disconnect(),w=null,m&&cancelAnimationFrame(S)}}const KN=kN,QN=RN,XN=CN,JN=DN,ZN=SN,up=NN,e1=PN,t1=(t,a,s)=>{const l=new Map,i={platform:YN,...s},c={...i.platform,_c:l};return jN(t,a,{...i,platform:c})};var Jl=typeof document<"u"?g.useLayoutEffect:g.useEffect;function di(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let s,l,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==a.length)return!1;for(l=s;l--!==0;)if(!di(t[l],a[l]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(a).length)return!1;for(l=s;l--!==0;)if(!{}.hasOwnProperty.call(a,i[l]))return!1;for(l=s;l--!==0;){const c=i[l];if(!(c==="_owner"&&t.$$typeof)&&!di(t[c],a[c]))return!1}return!0}return t!==t&&a!==a}function Pg(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fp(t,a){const s=Pg(t);return Math.round(a*s)/s}function kd(t){const a=g.useRef(t);return Jl(()=>{a.current=t}),a}function r1(t){t===void 0&&(t={});const{placement:a="bottom",strategy:s="absolute",middleware:l=[],platform:i,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:m,open:p}=t,[y,b]=g.useState({x:0,y:0,strategy:s,placement:a,middlewareData:{},isPositioned:!1}),[v,w]=g.useState(l);di(v,l)||w(l);const[S,N]=g.useState(null),[C,j]=g.useState(null),k=g.useCallback($=>{$!==R.current&&(R.current=$,N($))},[]),P=g.useCallback($=>{$!==D.current&&(D.current=$,j($))},[]),I=c||S,M=u||C,R=g.useRef(null),D=g.useRef(null),V=g.useRef(y),T=m!=null,O=kd(m),Q=kd(i),J=kd(p),Z=g.useCallback(()=>{if(!R.current||!D.current)return;const $={placement:a,strategy:s,middleware:v};Q.current&&($.platform=Q.current),t1(R.current,D.current,$).then(K=>{const Y={...K,isPositioned:J.current!==!1};te.current&&!di(V.current,Y)&&(V.current=Y,vs.flushSync(()=>{b(Y)}))})},[v,a,s,Q,J]);Jl(()=>{p===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,b($=>({...$,isPositioned:!1})))},[p]);const te=g.useRef(!1);Jl(()=>(te.current=!0,()=>{te.current=!1}),[]),Jl(()=>{if(I&&(R.current=I),M&&(D.current=M),I&&M){if(O.current)return O.current(I,M,Z);Z()}},[I,M,Z,O,T]);const re=g.useMemo(()=>({reference:R,floating:D,setReference:k,setFloating:P}),[k,P]),X=g.useMemo(()=>({reference:I,floating:M}),[I,M]),ae=g.useMemo(()=>{const $={position:s,left:0,top:0};if(!X.floating)return $;const K=fp(X.floating,y.x),Y=fp(X.floating,y.y);return f?{...$,transform:"translate("+K+"px, "+Y+"px)",...Pg(X.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:K,top:Y}},[s,f,X.floating,y.x,y.y]);return g.useMemo(()=>({...y,update:Z,refs:re,elements:X,floatingStyles:ae}),[y,Z,re,X,ae])}const n1=t=>{function a(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:l,padding:i}=typeof t=="function"?t(s):t;return l&&a(l)?l.current!=null?up({element:l.current,padding:i}).fn(s):{}:l?up({element:l,padding:i}).fn(s):{}}}},a1=(t,a)=>({...KN(t),options:[t,a]}),s1=(t,a)=>({...QN(t),options:[t,a]}),o1=(t,a)=>({...e1(t),options:[t,a]}),l1=(t,a)=>({...XN(t),options:[t,a]}),i1=(t,a)=>({...JN(t),options:[t,a]}),c1=(t,a)=>({...ZN(t),options:[t,a]}),d1=(t,a)=>({...n1(t),options:[t,a]});var u1="Arrow",Dg=g.forwardRef((t,a)=>{const{children:s,width:l=10,height:i=5,...c}=t;return r.jsx(pt.svg,{...c,ref:a,width:l,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dg.displayName=u1;var f1=Dg;function m1(t,a=[]){let s=[];function l(c,u){const f=g.createContext(u),m=s.length;s=[...s,u];function p(b){const{scope:v,children:w,...S}=b,N=v?.[t][m]||f,C=g.useMemo(()=>S,Object.values(S));return r.jsx(N.Provider,{value:C,children:w})}function y(b,v){const w=v?.[t][m]||f,S=g.useContext(w);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${c}\``)}return p.displayName=c+"Provider",[p,y]}const i=()=>{const c=s.map(u=>g.createContext(u));return function(f){const m=f?.[t]||c;return g.useMemo(()=>({[`__scope${t}`]:{...f,[t]:m}}),[f,m])}};return i.scopeName=t,[l,h1(i,...a)]}function h1(...t){const a=t[0];if(t.length===1)return a;const s=()=>{const l=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=l.reduce((f,{useScope:m,scopeName:p})=>{const b=m(c)[`__scope${p}`];return{...f,...b}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:u}),[u])}};return s.scopeName=a.scopeName,s}function p1(t){const[a,s]=g.useState(void 0);return Bt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const l=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const c=i[0];let u,f;if("borderBoxSize"in c){const m=c.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;s({width:u,height:f})});return l.observe(t,{box:"border-box"}),()=>l.unobserve(t)}else s(void 0)},[t]),a}var Ou="Popper",[Tg,bi]=m1(Ou),[g1,Mg]=Tg(Ou),Ag=t=>{const{__scopePopper:a,children:s}=t,[l,i]=g.useState(null);return r.jsx(g1,{scope:a,anchor:l,onAnchorChange:i,children:s})};Ag.displayName=Ou;var Ig="PopperAnchor",_g=g.forwardRef((t,a)=>{const{__scopePopper:s,virtualRef:l,...i}=t,c=Mg(Ig,s),u=g.useRef(null),f=bt(a,u);return g.useEffect(()=>{c.onAnchorChange(l?.current||u.current)}),l?null:r.jsx(pt.div,{...i,ref:f})});_g.displayName=Ig;var Fu="PopperContent",[x1,y1]=Tg(Fu),Lg=g.forwardRef((t,a)=>{const{__scopePopper:s,side:l="bottom",sideOffset:i=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:S,...N}=t,C=Mg(Fu,s),[j,k]=g.useState(null),P=bt(a,le=>k(le)),[I,M]=g.useState(null),R=p1(I),D=R?.width??0,V=R?.height??0,T=l+(c!=="center"?"-"+c:""),O=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Q=Array.isArray(p)?p:[p],J=Q.length>0,Z={padding:O,boundary:Q.filter(b1),altBoundary:J},{refs:te,floatingStyles:re,placement:X,isPositioned:ae,middlewareData:$}=r1({strategy:"fixed",placement:T,whileElementsMounted:(...le)=>qN(...le,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[a1({mainAxis:i+V,alignmentAxis:u}),m&&s1({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?o1():void 0,...Z}),m&&l1({...Z}),i1({...Z,apply:({elements:le,rects:me,availableWidth:Me,availableHeight:pe})=>{const{width:_e,height:Ue}=me.reference,ft=le.floating.style;ft.setProperty("--radix-popper-available-width",`${Me}px`),ft.setProperty("--radix-popper-available-height",`${pe}px`),ft.setProperty("--radix-popper-anchor-width",`${_e}px`),ft.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),I&&d1({element:I,padding:f}),w1({arrowWidth:D,arrowHeight:V}),v&&c1({strategy:"referenceHidden",...Z})]}),[K,Y]=$g(X),_=gn(S);Bt(()=>{ae&&_?.()},[ae,_]);const q=$.arrow?.x,de=$.arrow?.y,fe=$.arrow?.centerOffset!==0,[Se,we]=g.useState();return Bt(()=>{j&&we(window.getComputedStyle(j).zIndex)},[j]),r.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ae?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(x1,{scope:s,placedSide:K,onArrowChange:M,arrowX:q,arrowY:de,shouldHideArrow:fe,children:r.jsx(pt.div,{"data-side":K,"data-align":Y,...N,ref:P,style:{...N.style,animation:ae?void 0:"none"}})})})});Lg.displayName=Fu;var Og="PopperArrow",v1={top:"bottom",right:"left",bottom:"top",left:"right"},Fg=g.forwardRef(function(a,s){const{__scopePopper:l,...i}=a,c=y1(Og,l),u=v1[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(f1,{...i,ref:s,style:{...i.style,display:"block"}})})});Fg.displayName=Og;function b1(t){return t!==null}var w1=t=>({name:"transformOrigin",options:t,fn(a){const{placement:s,rects:l,middlewareData:i}=a,u=i.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,m=u?0:t.arrowHeight,[p,y]=$g(s),b={start:"0%",center:"50%",end:"100%"}[y],v=(i.arrow?.x??0)+f/2,w=(i.arrow?.y??0)+m/2;let S="",N="";return p==="bottom"?(S=u?b:`${v}px`,N=`${-m}px`):p==="top"?(S=u?b:`${v}px`,N=`${l.floating.height+m}px`):p==="right"?(S=`${-m}px`,N=u?b:`${w}px`):p==="left"&&(S=`${l.floating.width+m}px`,N=u?b:`${w}px`),{data:{x:S,y:N}}}});function $g(t){const[a,s="center"]=t.split("-");return[a,s]}var zg=Ag,Vg=_g,Bg=Lg,Ug=Fg,j1="Portal",Wg=g.forwardRef((t,a)=>{const{container:s,...l}=t,[i,c]=g.useState(!1);Bt(()=>c(!0),[]);const u=s||i&&globalThis?.document?.body;return u?Gb.createPortal(r.jsx(pt.div,{...l,ref:a}),u):null});Wg.displayName=j1;function Xd({prop:t,defaultProp:a,onChange:s=()=>{}}){const[l,i]=N1({defaultProp:a,onChange:s}),c=t!==void 0,u=c?t:l,f=gn(s),m=g.useCallback(p=>{if(c){const b=typeof p=="function"?p(t):p;b!==t&&f(b)}else i(p)},[c,t,i,f]);return[u,m]}function N1({defaultProp:t,onChange:a}){const s=g.useState(t),[l]=s,i=g.useRef(l),c=gn(a);return g.useEffect(()=>{i.current!==l&&(c(l),i.current=l)},[l,i,c]),s}function C1(t){const a=g.useRef({value:t,previous:t});return g.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var S1="VisuallyHidden",$u=g.forwardRef((t,a)=>r.jsx(pt.span,{...t,ref:a,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$u.displayName=S1;var E1=$u,k1=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},ls=new WeakMap,Bl=new WeakMap,Ul={},Rd=0,Hg=function(t){return t&&(t.host||Hg(t.parentNode))},R1=function(t,a){return a.map(function(s){if(t.contains(s))return s;var l=Hg(s);return l&&t.contains(l)?l:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},P1=function(t,a,s,l){var i=R1(a,Array.isArray(t)?t:[t]);Ul[s]||(Ul[s]=new WeakMap);var c=Ul[s],u=[],f=new Set,m=new Set(i),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};i.forEach(p);var y=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(v){if(f.has(v))y(v);else try{var w=v.getAttribute(l),S=w!==null&&w!=="false",N=(ls.get(v)||0)+1,C=(c.get(v)||0)+1;ls.set(v,N),c.set(v,C),u.push(v),N===1&&S&&Bl.set(v,!0),C===1&&v.setAttribute(s,"true"),S||v.setAttribute(l,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return y(a),f.clear(),Rd++,function(){u.forEach(function(b){var v=ls.get(b)-1,w=c.get(b)-1;ls.set(b,v),c.set(b,w),v||(Bl.has(b)||b.removeAttribute(l),Bl.delete(b)),w||b.removeAttribute(s)}),Rd--,Rd||(ls=new WeakMap,ls=new WeakMap,Bl=new WeakMap,Ul={})}},D1=function(t,a,s){s===void 0&&(s="data-aria-hidden");var l=Array.from(Array.isArray(t)?t:[t]),i=k1(t);return i?(l.push.apply(l,Array.from(i.querySelectorAll("[aria-live]"))),P1(l,i,s,"aria-hidden")):function(){return null}},Ur=function(){return Ur=Object.assign||function(a){for(var s,l=1,i=arguments.length;l<i;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=s[c])}return a},Ur.apply(this,arguments)};function Yg(t,a){var s={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&a.indexOf(l)<0&&(s[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(t);i<l.length;i++)a.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(t,l[i])&&(s[l[i]]=t[l[i]]);return s}function T1(t,a,s){if(s||arguments.length===2)for(var l=0,i=a.length,c;l<i;l++)(c||!(l in a))&&(c||(c=Array.prototype.slice.call(a,0,l)),c[l]=a[l]);return t.concat(c||Array.prototype.slice.call(a))}var Zl="right-scroll-bar-position",ei="width-before-scroll-bar",M1="with-scroll-bars-hidden",A1="--removed-body-scroll-bar-size";function Pd(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function I1(t,a){var s=g.useState(function(){return{value:t,callback:a,facade:{get current(){return s.value},set current(l){var i=s.value;i!==l&&(s.value=l,s.callback(l,i))}}}})[0];return s.callback=a,s.facade}var _1=typeof window<"u"?g.useLayoutEffect:g.useEffect,mp=new WeakMap;function L1(t,a){var s=I1(null,function(l){return t.forEach(function(i){return Pd(i,l)})});return _1(function(){var l=mp.get(s);if(l){var i=new Set(l),c=new Set(t),u=s.current;i.forEach(function(f){c.has(f)||Pd(f,null)}),c.forEach(function(f){i.has(f)||Pd(f,u)})}mp.set(s,t)},[t]),s}function O1(t){return t}function F1(t,a){a===void 0&&(a=O1);var s=[],l=!1,i={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(c){var u=a(c,l);return s.push(u),function(){s=s.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(l=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(f){return c(f)},filter:function(){return s}}},assignMedium:function(c){l=!0;var u=[];if(s.length){var f=s;s=[],f.forEach(c),u=s}var m=function(){var y=u;u=[],y.forEach(c)},p=function(){return Promise.resolve().then(m)};p(),s={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),s}}}};return i}function $1(t){t===void 0&&(t={});var a=F1(null);return a.options=Ur({async:!0,ssr:!1},t),a}var Gg=function(t){var a=t.sideCar,s=Yg(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=a.read();if(!l)throw new Error("Sidecar medium not found");return g.createElement(l,Ur({},s))};Gg.isSideCarExport=!0;function z1(t,a){return t.useMedium(a),Gg}var qg=$1(),Dd=function(){},wi=g.forwardRef(function(t,a){var s=g.useRef(null),l=g.useState({onScrollCapture:Dd,onWheelCapture:Dd,onTouchMoveCapture:Dd}),i=l[0],c=l[1],u=t.forwardProps,f=t.children,m=t.className,p=t.removeScrollBar,y=t.enabled,b=t.shards,v=t.sideCar,w=t.noIsolation,S=t.inert,N=t.allowPinchZoom,C=t.as,j=C===void 0?"div":C,k=t.gapMode,P=Yg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,M=L1([s,a]),R=Ur(Ur({},P),i);return g.createElement(g.Fragment,null,y&&g.createElement(I,{sideCar:qg,removeScrollBar:p,shards:b,noIsolation:w,inert:S,setCallbacks:c,allowPinchZoom:!!N,lockRef:s,gapMode:k}),u?g.cloneElement(g.Children.only(f),Ur(Ur({},R),{ref:M})):g.createElement(j,Ur({},R,{className:m,ref:M}),f))});wi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wi.classNames={fullWidth:ei,zeroRight:Zl};var V1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function B1(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=V1();return a&&t.setAttribute("nonce",a),t}function U1(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function W1(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var H1=function(){var t=0,a=null;return{add:function(s){t==0&&(a=B1())&&(U1(a,s),W1(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},Y1=function(){var t=H1();return function(a,s){g.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&s])}},Kg=function(){var t=Y1(),a=function(s){var l=s.styles,i=s.dynamic;return t(l,i),null};return a},G1={left:0,top:0,right:0,gap:0},Td=function(t){return parseInt(t||"",10)||0},q1=function(t){var a=window.getComputedStyle(document.body),s=a[t==="padding"?"paddingLeft":"marginLeft"],l=a[t==="padding"?"paddingTop":"marginTop"],i=a[t==="padding"?"paddingRight":"marginRight"];return[Td(s),Td(l),Td(i)]},K1=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return G1;var a=q1(t),s=document.documentElement.clientWidth,l=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,l-s+a[2]-a[0])}},Q1=Kg(),ps="data-scroll-locked",X1=function(t,a,s,l){var i=t.left,c=t.top,u=t.right,f=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(M1,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(f,"px ").concat(l,`;
  }
  body[`).concat(ps,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(l,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(l,`;
    `),s==="padding"&&"padding-right: ".concat(f,"px ").concat(l,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zl,` {
    right: `).concat(f,"px ").concat(l,`;
  }
  
  .`).concat(ei,` {
    margin-right: `).concat(f,"px ").concat(l,`;
  }
  
  .`).concat(Zl," .").concat(Zl,` {
    right: 0 `).concat(l,`;
  }
  
  .`).concat(ei," .").concat(ei,` {
    margin-right: 0 `).concat(l,`;
  }
  
  body[`).concat(ps,`] {
    `).concat(A1,": ").concat(f,`px;
  }
`)},hp=function(){var t=parseInt(document.body.getAttribute(ps)||"0",10);return isFinite(t)?t:0},J1=function(){g.useEffect(function(){return document.body.setAttribute(ps,(hp()+1).toString()),function(){var t=hp()-1;t<=0?document.body.removeAttribute(ps):document.body.setAttribute(ps,t.toString())}},[])},Z1=function(t){var a=t.noRelative,s=t.noImportant,l=t.gapMode,i=l===void 0?"margin":l;J1();var c=g.useMemo(function(){return K1(i)},[i]);return g.createElement(Q1,{styles:X1(c,!a,i,s?"":"!important")})},Jd=!1;if(typeof window<"u")try{var Wl=Object.defineProperty({},"passive",{get:function(){return Jd=!0,!0}});window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Jd=!1}var is=Jd?{passive:!1}:!1,e2=function(t){return t.tagName==="TEXTAREA"},Qg=function(t,a){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[a]!=="hidden"&&!(s.overflowY===s.overflowX&&!e2(t)&&s[a]==="visible")},t2=function(t){return Qg(t,"overflowY")},r2=function(t){return Qg(t,"overflowX")},pp=function(t,a){var s=a.ownerDocument,l=a;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var i=Xg(t,l);if(i){var c=Jg(t,l),u=c[1],f=c[2];if(u>f)return!0}l=l.parentNode}while(l&&l!==s.body);return!1},n2=function(t){var a=t.scrollTop,s=t.scrollHeight,l=t.clientHeight;return[a,s,l]},a2=function(t){var a=t.scrollLeft,s=t.scrollWidth,l=t.clientWidth;return[a,s,l]},Xg=function(t,a){return t==="v"?t2(a):r2(a)},Jg=function(t,a){return t==="v"?n2(a):a2(a)},s2=function(t,a){return t==="h"&&a==="rtl"?-1:1},o2=function(t,a,s,l,i){var c=s2(t,window.getComputedStyle(a).direction),u=c*l,f=s.target,m=a.contains(f),p=!1,y=u>0,b=0,v=0;do{var w=Jg(t,f),S=w[0],N=w[1],C=w[2],j=N-C-c*S;(S||j)&&Xg(t,f)&&(b+=j,v+=S),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(a.contains(f)||a===f));return(y&&Math.abs(b)<1||!y&&Math.abs(v)<1)&&(p=!0),p},Hl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gp=function(t){return[t.deltaX,t.deltaY]},xp=function(t){return t&&"current"in t?t.current:t},l2=function(t,a){return t[0]===a[0]&&t[1]===a[1]},i2=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c2=0,cs=[];function d2(t){var a=g.useRef([]),s=g.useRef([0,0]),l=g.useRef(),i=g.useState(c2++)[0],c=g.useState(Kg)[0],u=g.useRef(t);g.useEffect(function(){u.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var N=T1([t.lockRef.current],(t.shards||[]).map(xp),!0).filter(Boolean);return N.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),N.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var f=g.useCallback(function(N,C){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!u.current.allowPinchZoom;var j=Hl(N),k=s.current,P="deltaX"in N?N.deltaX:k[0]-j[0],I="deltaY"in N?N.deltaY:k[1]-j[1],M,R=N.target,D=Math.abs(P)>Math.abs(I)?"h":"v";if("touches"in N&&D==="h"&&R.type==="range")return!1;var V=pp(D,R);if(!V)return!0;if(V?M=D:(M=D==="v"?"h":"v",V=pp(D,R)),!V)return!1;if(!l.current&&"changedTouches"in N&&(P||I)&&(l.current=M),!M)return!0;var T=l.current||M;return o2(T,C,N,T==="h"?P:I)},[]),m=g.useCallback(function(N){var C=N;if(!(!cs.length||cs[cs.length-1]!==c)){var j="deltaY"in C?gp(C):Hl(C),k=a.current.filter(function(M){return M.name===C.type&&(M.target===C.target||C.target===M.shadowParent)&&l2(M.delta,j)})[0];if(k&&k.should){C.cancelable&&C.preventDefault();return}if(!k){var P=(u.current.shards||[]).map(xp).filter(Boolean).filter(function(M){return M.contains(C.target)}),I=P.length>0?f(C,P[0]):!u.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),p=g.useCallback(function(N,C,j,k){var P={name:N,delta:C,target:j,should:k,shadowParent:u2(j)};a.current.push(P),setTimeout(function(){a.current=a.current.filter(function(I){return I!==P})},1)},[]),y=g.useCallback(function(N){s.current=Hl(N),l.current=void 0},[]),b=g.useCallback(function(N){p(N.type,gp(N),N.target,f(N,t.lockRef.current))},[]),v=g.useCallback(function(N){p(N.type,Hl(N),N.target,f(N,t.lockRef.current))},[]);g.useEffect(function(){return cs.push(c),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:v}),document.addEventListener("wheel",m,is),document.addEventListener("touchmove",m,is),document.addEventListener("touchstart",y,is),function(){cs=cs.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,is),document.removeEventListener("touchmove",m,is),document.removeEventListener("touchstart",y,is)}},[]);var w=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(c,{styles:i2(i)}):null,w?g.createElement(Z1,{gapMode:t.gapMode}):null)}function u2(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const f2=z1(qg,d2);var Zg=g.forwardRef(function(t,a){return g.createElement(wi,Ur({},t,{ref:a,sideCar:f2}))});Zg.classNames=wi.classNames;var m2=[" ","Enter","ArrowUp","ArrowDown"],h2=[" ","Enter"],Mo="Select",[ji,Ni,p2]=Wj(Mo),[Ns,DC]=xg(Mo,[p2,bi]),Ci=bi(),[g2,sa]=Ns(Mo),[x2,y2]=Ns(Mo),e0=t=>{const{__scopeSelect:a,children:s,open:l,defaultOpen:i,onOpenChange:c,value:u,defaultValue:f,onValueChange:m,dir:p,name:y,autoComplete:b,disabled:v,required:w,form:S}=t,N=Ci(a),[C,j]=g.useState(null),[k,P]=g.useState(null),[I,M]=g.useState(!1),R=Gj(p),[D=!1,V]=Xd({prop:l,defaultProp:i,onChange:c}),[T,O]=Xd({prop:u,defaultProp:f,onChange:m}),Q=g.useRef(null),J=C?S||!!C.closest("form"):!0,[Z,te]=g.useState(new Set),re=Array.from(Z).map(X=>X.props.value).join(";");return r.jsx(zg,{...N,children:r.jsxs(g2,{required:w,scope:a,trigger:C,onTriggerChange:j,valueNode:k,onValueNodeChange:P,valueNodeHasChildren:I,onValueNodeHasChildrenChange:M,contentId:gi(),value:T,onValueChange:O,open:D,onOpenChange:V,dir:R,triggerPointerDownPosRef:Q,disabled:v,children:[r.jsx(ji.Provider,{scope:a,children:r.jsx(x2,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(X=>{te(ae=>new Set(ae).add(X))},[]),onNativeOptionRemove:g.useCallback(X=>{te(ae=>{const $=new Set(ae);return $.delete(X),$})},[]),children:s})}),J?r.jsxs(S0,{"aria-hidden":!0,required:w,tabIndex:-1,name:y,autoComplete:b,value:T,onChange:X=>O(X.target.value),disabled:v,form:S,children:[T===void 0?r.jsx("option",{value:""}):null,Array.from(Z)]},re):null]})})};e0.displayName=Mo;var t0="SelectTrigger",r0=g.forwardRef((t,a)=>{const{__scopeSelect:s,disabled:l=!1,...i}=t,c=Ci(s),u=sa(t0,s),f=u.disabled||l,m=bt(a,u.onTriggerChange),p=Ni(s),y=g.useRef("touch"),[b,v,w]=E0(N=>{const C=p().filter(P=>!P.disabled),j=C.find(P=>P.value===u.value),k=k0(C,N,j);k!==void 0&&u.onValueChange(k.value)}),S=N=>{f||(u.onOpenChange(!0),w()),N&&(u.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return r.jsx(Vg,{asChild:!0,...c,children:r.jsx(pt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":C0(u.value)?"":void 0,...i,ref:m,onClick:Je(i.onClick,N=>{N.currentTarget.focus(),y.current!=="mouse"&&S(N)}),onPointerDown:Je(i.onPointerDown,N=>{y.current=N.pointerType;const C=N.target;C.hasPointerCapture(N.pointerId)&&C.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(S(N),N.preventDefault())}),onKeyDown:Je(i.onKeyDown,N=>{const C=b.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&v(N.key),!(C&&N.key===" ")&&m2.includes(N.key)&&(S(),N.preventDefault())})})})});r0.displayName=t0;var n0="SelectValue",a0=g.forwardRef((t,a)=>{const{__scopeSelect:s,className:l,style:i,children:c,placeholder:u="",...f}=t,m=sa(n0,s),{onValueNodeHasChildrenChange:p}=m,y=c!==void 0,b=bt(a,m.onValueNodeChange);return Bt(()=>{p(y)},[p,y]),r.jsx(pt.span,{...f,ref:b,style:{pointerEvents:"none"},children:C0(m.value)?r.jsx(r.Fragment,{children:u}):c})});a0.displayName=n0;var v2="SelectIcon",s0=g.forwardRef((t,a)=>{const{__scopeSelect:s,children:l,...i}=t;return r.jsx(pt.span,{"aria-hidden":!0,...i,ref:a,children:l||"▼"})});s0.displayName=v2;var b2="SelectPortal",o0=t=>r.jsx(Wg,{asChild:!0,...t});o0.displayName=b2;var Ma="SelectContent",l0=g.forwardRef((t,a)=>{const s=sa(Ma,t.__scopeSelect),[l,i]=g.useState();if(Bt(()=>{i(new DocumentFragment)},[]),!s.open){const c=l;return c?vs.createPortal(r.jsx(i0,{scope:t.__scopeSelect,children:r.jsx(ji.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),c):null}return r.jsx(c0,{...t,ref:a})});l0.displayName=Ma;var Er=10,[i0,oa]=Ns(Ma),w2="SelectContentImpl",c0=g.forwardRef((t,a)=>{const{__scopeSelect:s,position:l="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:m,align:p,alignOffset:y,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:N,avoidCollisions:C,...j}=t,k=sa(Ma,s),[P,I]=g.useState(null),[M,R]=g.useState(null),D=bt(a,le=>I(le)),[V,T]=g.useState(null),[O,Q]=g.useState(null),J=Ni(s),[Z,te]=g.useState(!1),re=g.useRef(!1);g.useEffect(()=>{if(P)return D1(P)},[P]),aN();const X=g.useCallback(le=>{const[me,...Me]=J().map(Ue=>Ue.ref.current),[pe]=Me.slice(-1),_e=document.activeElement;for(const Ue of le)if(Ue===_e||(Ue?.scrollIntoView({block:"nearest"}),Ue===me&&M&&(M.scrollTop=0),Ue===pe&&M&&(M.scrollTop=M.scrollHeight),Ue?.focus(),document.activeElement!==_e))return},[J,M]),ae=g.useCallback(()=>X([V,P]),[X,V,P]);g.useEffect(()=>{Z&&ae()},[Z,ae]);const{onOpenChange:$,triggerPointerDownPosRef:K}=k;g.useEffect(()=>{if(P){let le={x:0,y:0};const me=pe=>{le={x:Math.abs(Math.round(pe.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(K.current?.y??0))}},Me=pe=>{le.x<=10&&le.y<=10?pe.preventDefault():P.contains(pe.target)||$(!1),document.removeEventListener("pointermove",me),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Me,{capture:!0})}}},[P,$,K]),g.useEffect(()=>{const le=()=>$(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[$]);const[Y,_]=E0(le=>{const me=J().filter(_e=>!_e.disabled),Me=me.find(_e=>_e.ref.current===document.activeElement),pe=k0(me,le,Me);pe&&setTimeout(()=>pe.ref.current.focus())}),q=g.useCallback((le,me,Me)=>{const pe=!re.current&&!Me;(k.value!==void 0&&k.value===me||pe)&&(T(le),pe&&(re.current=!0))},[k.value]),de=g.useCallback(()=>P?.focus(),[P]),fe=g.useCallback((le,me,Me)=>{const pe=!re.current&&!Me;(k.value!==void 0&&k.value===me||pe)&&Q(le)},[k.value]),Se=l==="popper"?Zd:d0,we=Se===Zd?{side:f,sideOffset:m,align:p,alignOffset:y,arrowPadding:b,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:N,avoidCollisions:C}:{};return r.jsx(i0,{scope:s,content:P,viewport:M,onViewportChange:R,itemRefCallback:q,selectedItem:V,onItemLeave:de,itemTextRefCallback:fe,focusSelectedItem:ae,selectedItemText:O,position:l,isPositioned:Z,searchRef:Y,children:r.jsx(Zg,{as:No,allowPinchZoom:!0,children:r.jsx(bg,{asChild:!0,trapped:k.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Je(i,le=>{k.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:r.jsx(Du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:r.jsx(Se,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:le=>le.preventDefault(),...j,...we,onPlaced:()=>te(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Je(j.onKeyDown,le=>{const me=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!me&&le.key.length===1&&_(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let pe=J().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(le.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const _e=le.target,Ue=pe.indexOf(_e);pe=pe.slice(Ue+1)}setTimeout(()=>X(pe)),le.preventDefault()}})})})})})})});c0.displayName=w2;var j2="SelectItemAlignedPosition",d0=g.forwardRef((t,a)=>{const{__scopeSelect:s,onPlaced:l,...i}=t,c=sa(Ma,s),u=oa(Ma,s),[f,m]=g.useState(null),[p,y]=g.useState(null),b=bt(a,D=>y(D)),v=Ni(s),w=g.useRef(!1),S=g.useRef(!0),{viewport:N,selectedItem:C,selectedItemText:j,focusSelectedItem:k}=u,P=g.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&p&&N&&C&&j){const D=c.trigger.getBoundingClientRect(),V=p.getBoundingClientRect(),T=c.valueNode.getBoundingClientRect(),O=j.getBoundingClientRect();if(c.dir!=="rtl"){const _e=O.left-V.left,Ue=T.left-_e,ft=D.left-Ue,mt=D.width+ft,Tr=Math.max(mt,V.width),Mr=window.innerWidth-Er,ir=Xh(Ue,[Er,Math.max(Er,Mr-Tr)]);f.style.minWidth=mt+"px",f.style.left=ir+"px"}else{const _e=V.right-O.right,Ue=window.innerWidth-T.right-_e,ft=window.innerWidth-D.right-Ue,mt=D.width+ft,Tr=Math.max(mt,V.width),Mr=window.innerWidth-Er,ir=Xh(Ue,[Er,Math.max(Er,Mr-Tr)]);f.style.minWidth=mt+"px",f.style.right=ir+"px"}const Q=v(),J=window.innerHeight-Er*2,Z=N.scrollHeight,te=window.getComputedStyle(p),re=parseInt(te.borderTopWidth,10),X=parseInt(te.paddingTop,10),ae=parseInt(te.borderBottomWidth,10),$=parseInt(te.paddingBottom,10),K=re+X+Z+$+ae,Y=Math.min(C.offsetHeight*5,K),_=window.getComputedStyle(N),q=parseInt(_.paddingTop,10),de=parseInt(_.paddingBottom,10),fe=D.top+D.height/2-Er,Se=J-fe,we=C.offsetHeight/2,le=C.offsetTop+we,me=re+X+le,Me=K-me;if(me<=fe){const _e=Q.length>0&&C===Q[Q.length-1].ref.current;f.style.bottom="0px";const Ue=p.clientHeight-N.offsetTop-N.offsetHeight,ft=Math.max(Se,we+(_e?de:0)+Ue+ae),mt=me+ft;f.style.height=mt+"px"}else{const _e=Q.length>0&&C===Q[0].ref.current;f.style.top="0px";const ft=Math.max(fe,re+N.offsetTop+(_e?q:0)+we)+Me;f.style.height=ft+"px",N.scrollTop=me-fe+N.offsetTop}f.style.margin=`${Er}px 0`,f.style.minHeight=Y+"px",f.style.maxHeight=J+"px",l?.(),requestAnimationFrame(()=>w.current=!0)}},[v,c.trigger,c.valueNode,f,p,N,C,j,c.dir,l]);Bt(()=>P(),[P]);const[I,M]=g.useState();Bt(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const R=g.useCallback(D=>{D&&S.current===!0&&(P(),k?.(),S.current=!1)},[P,k]);return r.jsx(C2,{scope:s,contentWrapper:f,shouldExpandOnScrollRef:w,onScrollButtonChange:R,children:r.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:r.jsx(pt.div,{...i,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});d0.displayName=j2;var N2="SelectPopperPosition",Zd=g.forwardRef((t,a)=>{const{__scopeSelect:s,align:l="start",collisionPadding:i=Er,...c}=t,u=Ci(s);return r.jsx(Bg,{...u,...c,ref:a,align:l,collisionPadding:i,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zd.displayName=N2;var[C2,zu]=Ns(Ma,{}),eu="SelectViewport",u0=g.forwardRef((t,a)=>{const{__scopeSelect:s,nonce:l,...i}=t,c=oa(eu,s),u=zu(eu,s),f=bt(a,c.onViewportChange),m=g.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),r.jsx(ji.Slot,{scope:s,children:r.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:v}=u;if(v?.current&&b){const w=Math.abs(m.current-y.scrollTop);if(w>0){const S=window.innerHeight-Er*2,N=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),j=Math.max(N,C);if(j<S){const k=j+w,P=Math.min(S,k),I=k-P;b.style.height=P+"px",b.style.bottom==="0px"&&(y.scrollTop=I>0?I:0,b.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});u0.displayName=eu;var f0="SelectGroup",[S2,E2]=Ns(f0),k2=g.forwardRef((t,a)=>{const{__scopeSelect:s,...l}=t,i=gi();return r.jsx(S2,{scope:s,id:i,children:r.jsx(pt.div,{role:"group","aria-labelledby":i,...l,ref:a})})});k2.displayName=f0;var m0="SelectLabel",h0=g.forwardRef((t,a)=>{const{__scopeSelect:s,...l}=t,i=E2(m0,s);return r.jsx(pt.div,{id:i.id,...l,ref:a})});h0.displayName=m0;var ui="SelectItem",[R2,p0]=Ns(ui),g0=g.forwardRef((t,a)=>{const{__scopeSelect:s,value:l,disabled:i=!1,textValue:c,...u}=t,f=sa(ui,s),m=oa(ui,s),p=f.value===l,[y,b]=g.useState(c??""),[v,w]=g.useState(!1),S=bt(a,k=>m.itemRefCallback?.(k,l,i)),N=gi(),C=g.useRef("touch"),j=()=>{i||(f.onValueChange(l),f.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(R2,{scope:s,value:l,disabled:i,textId:N,isSelected:p,onItemTextChange:g.useCallback(k=>{b(P=>P||(k?.textContent??"").trim())},[]),children:r.jsx(ji.ItemSlot,{scope:s,value:l,disabled:i,textValue:y,children:r.jsx(pt.div,{role:"option","aria-labelledby":N,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:S,onFocus:Je(u.onFocus,()=>w(!0)),onBlur:Je(u.onBlur,()=>w(!1)),onClick:Je(u.onClick,()=>{C.current!=="mouse"&&j()}),onPointerUp:Je(u.onPointerUp,()=>{C.current==="mouse"&&j()}),onPointerDown:Je(u.onPointerDown,k=>{C.current=k.pointerType}),onPointerMove:Je(u.onPointerMove,k=>{C.current=k.pointerType,i?m.onItemLeave?.():C.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(u.onPointerLeave,k=>{k.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Je(u.onKeyDown,k=>{m.searchRef?.current!==""&&k.key===" "||(h2.includes(k.key)&&j(),k.key===" "&&k.preventDefault())})})})})});g0.displayName=ui;var po="SelectItemText",x0=g.forwardRef((t,a)=>{const{__scopeSelect:s,className:l,style:i,...c}=t,u=sa(po,s),f=oa(po,s),m=p0(po,s),p=y2(po,s),[y,b]=g.useState(null),v=bt(a,j=>b(j),m.onItemTextChange,j=>f.itemTextRefCallback?.(j,m.value,m.disabled)),w=y?.textContent,S=g.useMemo(()=>r.jsx("option",{value:m.value,disabled:m.disabled,children:w},m.value),[m.disabled,m.value,w]),{onNativeOptionAdd:N,onNativeOptionRemove:C}=p;return Bt(()=>(N(S),()=>C(S)),[N,C,S]),r.jsxs(r.Fragment,{children:[r.jsx(pt.span,{id:m.textId,...c,ref:v}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?vs.createPortal(c.children,u.valueNode):null]})});x0.displayName=po;var y0="SelectItemIndicator",v0=g.forwardRef((t,a)=>{const{__scopeSelect:s,...l}=t;return p0(y0,s).isSelected?r.jsx(pt.span,{"aria-hidden":!0,...l,ref:a}):null});v0.displayName=y0;var tu="SelectScrollUpButton",b0=g.forwardRef((t,a)=>{const s=oa(tu,t.__scopeSelect),l=zu(tu,t.__scopeSelect),[i,c]=g.useState(!1),u=bt(a,l.onScrollButtonChange);return Bt(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=m.scrollTop>0;c(p)};const m=s.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),i?r.jsx(j0,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=s;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});b0.displayName=tu;var ru="SelectScrollDownButton",w0=g.forwardRef((t,a)=>{const s=oa(ru,t.__scopeSelect),l=zu(ru,t.__scopeSelect),[i,c]=g.useState(!1),u=bt(a,l.onScrollButtonChange);return Bt(()=>{if(s.viewport&&s.isPositioned){let f=function(){const p=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<p;c(y)};const m=s.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[s.viewport,s.isPositioned]),i?r.jsx(j0,{...t,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=s;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});w0.displayName=ru;var j0=g.forwardRef((t,a)=>{const{__scopeSelect:s,onAutoScroll:l,...i}=t,c=oa("SelectScrollButton",s),u=g.useRef(null),f=Ni(s),m=g.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return g.useEffect(()=>()=>m(),[m]),Bt(()=>{f().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),r.jsx(pt.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(l,50))}),onPointerMove:Je(i.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(l,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{m()})})}),P2="SelectSeparator",N0=g.forwardRef((t,a)=>{const{__scopeSelect:s,...l}=t;return r.jsx(pt.div,{"aria-hidden":!0,...l,ref:a})});N0.displayName=P2;var nu="SelectArrow",D2=g.forwardRef((t,a)=>{const{__scopeSelect:s,...l}=t,i=Ci(s),c=sa(nu,s),u=oa(nu,s);return c.open&&u.position==="popper"?r.jsx(Ug,{...i,...l,ref:a}):null});D2.displayName=nu;function C0(t){return t===""||t===void 0}var S0=g.forwardRef((t,a)=>{const{value:s,...l}=t,i=g.useRef(null),c=bt(a,i),u=C1(s);return g.useEffect(()=>{const f=i.current,m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==s&&y){const b=new Event("change",{bubbles:!0});y.call(f,s),f.dispatchEvent(b)}},[u,s]),r.jsx($u,{asChild:!0,children:r.jsx("select",{...l,ref:c,defaultValue:s})})});S0.displayName="BubbleSelect";function E0(t){const a=gn(t),s=g.useRef(""),l=g.useRef(0),i=g.useCallback(u=>{const f=s.current+u;a(f),function m(p){s.current=p,window.clearTimeout(l.current),p!==""&&(l.current=window.setTimeout(()=>m(""),1e3))}(f)},[a]),c=g.useCallback(()=>{s.current="",window.clearTimeout(l.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(l.current),[]),[s,i,c]}function k0(t,a,s){const i=a.length>1&&Array.from(a).every(p=>p===a[0])?a[0]:a,c=s?t.indexOf(s):-1;let u=T2(t,Math.max(c,0));i.length===1&&(u=u.filter(p=>p!==s));const m=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==s?m:void 0}function T2(t,a){return t.map((s,l)=>t[(a+l)%t.length])}var M2=e0,R0=r0,A2=a0,I2=s0,_2=o0,P0=l0,L2=u0,D0=h0,T0=g0,O2=x0,F2=v0,M0=b0,A0=w0,I0=N0;const Md=M2,Ad=A2,ti=g.forwardRef(({className:t,children:a,...s},l)=>r.jsxs(R0,{ref:l,className:ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[a,r.jsx(I2,{asChild:!0,children:r.jsx(hi,{className:"h-4 w-4 opacity-50"})})]}));ti.displayName=R0.displayName;const _0=g.forwardRef(({className:t,...a},s)=>r.jsx(M0,{ref:s,className:ot("flex cursor-default items-center justify-center py-1",t),...a,children:r.jsx(ow,{className:"h-4 w-4"})}));_0.displayName=M0.displayName;const L0=g.forwardRef(({className:t,...a},s)=>r.jsx(A0,{ref:s,className:ot("flex cursor-default items-center justify-center py-1",t),...a,children:r.jsx(hi,{className:"h-4 w-4"})}));L0.displayName=A0.displayName;const ri=g.forwardRef(({className:t,children:a,position:s="popper",...l},i)=>r.jsx(_2,{children:r.jsxs(P0,{ref:i,className:ot("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...l,children:[r.jsx(_0,{}),r.jsx(L2,{className:ot("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),r.jsx(L0,{})]})}));ri.displayName=P0.displayName;const $2=g.forwardRef(({className:t,...a},s)=>r.jsx(D0,{ref:s,className:ot("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));$2.displayName=D0.displayName;const Ea=g.forwardRef(({className:t,children:a,...s},l)=>r.jsxs(T0,{ref:l,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(F2,{children:r.jsx(nw,{className:"h-4 w-4"})})}),r.jsx(O2,{children:a})]}));Ea.displayName=T0.displayName;const z2=g.forwardRef(({className:t,...a},s)=>r.jsx(I0,{ref:s,className:ot("-mx-1 my-1 h-px bg-muted",t),...a}));z2.displayName=I0.displayName;function V2({selectedEntity:t,setSelectedEntity:a,selectedYear:s,setSelectedYear:l,searchTerm:i,setSearchTerm:c,statusFilter:u,setStatusFilter:f,entities:m,years:p,availableYears:y,statuses:b}){return r.jsx(fn,{children:r.jsx(mn,{className:"p-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(hg,{placeholder:"Buscar empresa, entidad, mes...",value:i,onChange:v=>c(v.target.value),className:"pl-10"})]}),r.jsxs(Md,{value:t,onValueChange:a,children:[r.jsx(ti,{children:r.jsx(Ad,{placeholder:"Todas las entidades"})}),r.jsxs(ri,{children:[r.jsxs(Ea,{value:"all",children:["Todas las entidades (",m.length,")"]}),m.map(v=>r.jsx(Ea,{value:v,children:v},v))]})]}),r.jsxs(Md,{value:s.toString(),onValueChange:v=>l(v==="all"?"all":parseInt(v)),children:[r.jsx(ti,{children:r.jsx(Ad,{})}),r.jsxs(ri,{children:[r.jsxs(Ea,{value:"all",children:["Todos los años ",y&&y.length>0&&`(${y.length})`]}),p.map(v=>r.jsx(Ea,{value:v.toString(),children:v},v))]})]}),r.jsxs(Md,{value:u,onValueChange:v=>f(v),children:[r.jsx(ti,{children:r.jsx(Ad,{placeholder:"Todos los estados"})}),r.jsxs(ri,{children:[r.jsx(Ea,{value:"all",children:"Todos los estados"}),b.map(v=>r.jsx(Ea,{value:v,children:v},v))]})]})]})})})}function B2(t,a){return g.useReducer((s,l)=>a[s][l]??s,t)}var O0=t=>{const{present:a,children:s}=t,l=U2(a),i=typeof s=="function"?s({present:l.isPresent}):g.Children.only(s),c=bt(l.ref,W2(i));return typeof s=="function"||l.isPresent?g.cloneElement(i,{ref:c}):null};O0.displayName="Presence";function U2(t){const[a,s]=g.useState(),l=g.useRef({}),i=g.useRef(t),c=g.useRef("none"),u=t?"mounted":"unmounted",[f,m]=B2(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const p=Yl(l.current);c.current=f==="mounted"?p:"none"},[f]),Bt(()=>{const p=l.current,y=i.current;if(y!==t){const v=c.current,w=Yl(p);t?m("MOUNT"):w==="none"||p?.display==="none"?m("UNMOUNT"):m(y&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),Bt(()=>{if(a){let p;const y=a.ownerDocument.defaultView??window,b=w=>{const N=Yl(l.current).includes(w.animationName);if(w.target===a&&N&&(m("ANIMATION_END"),!i.current)){const C=a.style.animationFillMode;a.style.animationFillMode="forwards",p=y.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=C)})}},v=w=>{w.target===a&&(c.current=Yl(l.current))};return a.addEventListener("animationstart",v),a.addEventListener("animationcancel",b),a.addEventListener("animationend",b),()=>{y.clearTimeout(p),a.removeEventListener("animationstart",v),a.removeEventListener("animationcancel",b),a.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[a,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:g.useCallback(p=>{p&&(l.current=getComputedStyle(p)),s(p)},[])}}function Yl(t){return t?.animationName||"none"}function W2(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var[Si,TC]=xg("Tooltip",[bi]),Ei=bi(),F0="TooltipProvider",H2=700,au="tooltip.open",[Y2,Vu]=Si(F0),$0=t=>{const{__scopeTooltip:a,delayDuration:s=H2,skipDelayDuration:l=300,disableHoverableContent:i=!1,children:c}=t,[u,f]=g.useState(!0),m=g.useRef(!1),p=g.useRef(0);return g.useEffect(()=>{const y=p.current;return()=>window.clearTimeout(y)},[]),r.jsx(Y2,{scope:a,isOpenDelayed:u,delayDuration:s,onOpen:g.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),l)},[l]),isPointerInTransitRef:m,onPointerInTransitChange:g.useCallback(y=>{m.current=y},[]),disableHoverableContent:i,children:c})};$0.displayName=F0;var ki="Tooltip",[G2,Ri]=Si(ki),z0=t=>{const{__scopeTooltip:a,children:s,open:l,defaultOpen:i=!1,onOpenChange:c,disableHoverableContent:u,delayDuration:f}=t,m=Vu(ki,t.__scopeTooltip),p=Ei(a),[y,b]=g.useState(null),v=gi(),w=g.useRef(0),S=u??m.disableHoverableContent,N=f??m.delayDuration,C=g.useRef(!1),[j=!1,k]=Xd({prop:l,defaultProp:i,onChange:D=>{D?(m.onOpen(),document.dispatchEvent(new CustomEvent(au))):m.onClose(),c?.(D)}}),P=g.useMemo(()=>j?C.current?"delayed-open":"instant-open":"closed",[j]),I=g.useCallback(()=>{window.clearTimeout(w.current),C.current=!1,k(!0)},[k]),M=g.useCallback(()=>{window.clearTimeout(w.current),k(!1)},[k]),R=g.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,k(!0)},N)},[N,k]);return g.useEffect(()=>()=>window.clearTimeout(w.current),[]),r.jsx(zg,{...p,children:r.jsx(G2,{scope:a,contentId:v,open:j,stateAttribute:P,trigger:y,onTriggerChange:b,onTriggerEnter:g.useCallback(()=>{m.isOpenDelayed?R():I()},[m.isOpenDelayed,R,I]),onTriggerLeave:g.useCallback(()=>{S?M():window.clearTimeout(w.current)},[M,S]),onOpen:I,onClose:M,disableHoverableContent:S,children:s})})};z0.displayName=ki;var su="TooltipTrigger",V0=g.forwardRef((t,a)=>{const{__scopeTooltip:s,...l}=t,i=Ri(su,s),c=Vu(su,s),u=Ei(s),f=g.useRef(null),m=bt(a,f,i.onTriggerChange),p=g.useRef(!1),y=g.useRef(!1),b=g.useCallback(()=>p.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),r.jsx(Vg,{asChild:!0,...u,children:r.jsx(pt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...l,ref:m,onPointerMove:Je(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Je(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:Je(t.onBlur,i.onClose),onClick:Je(t.onClick,i.onClose)})})});V0.displayName=su;var q2="TooltipPortal",[MC,K2]=Si(q2,{forceMount:void 0}),ys="TooltipContent",B0=g.forwardRef((t,a)=>{const s=K2(ys,t.__scopeTooltip),{forceMount:l=s.forceMount,side:i="top",...c}=t,u=Ri(ys,t.__scopeTooltip);return r.jsx(O0,{present:l||u.open,children:u.disableHoverableContent?r.jsx(U0,{side:i,...c,ref:a}):r.jsx(Q2,{side:i,...c,ref:a})})}),Q2=g.forwardRef((t,a)=>{const s=Ri(ys,t.__scopeTooltip),l=Vu(ys,t.__scopeTooltip),i=g.useRef(null),c=bt(a,i),[u,f]=g.useState(null),{trigger:m,onClose:p}=s,y=i.current,{onPointerInTransitChange:b}=l,v=g.useCallback(()=>{f(null),b(!1)},[b]),w=g.useCallback((S,N)=>{const C=S.currentTarget,j={x:S.clientX,y:S.clientY},k=eC(j,C.getBoundingClientRect()),P=tC(j,k),I=rC(N.getBoundingClientRect()),M=aC([...P,...I]);f(M),b(!0)},[b]);return g.useEffect(()=>()=>v(),[v]),g.useEffect(()=>{if(m&&y){const S=C=>w(C,y),N=C=>w(C,m);return m.addEventListener("pointerleave",S),y.addEventListener("pointerleave",N),()=>{m.removeEventListener("pointerleave",S),y.removeEventListener("pointerleave",N)}}},[m,y,w,v]),g.useEffect(()=>{if(u){const S=N=>{const C=N.target,j={x:N.clientX,y:N.clientY},k=m?.contains(C)||y?.contains(C),P=!nC(j,u);k?v():P&&(v(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[m,y,u,p,v]),r.jsx(U0,{...t,ref:c})}),[X2,J2]=Si(ki,{isInside:!1}),U0=g.forwardRef((t,a)=>{const{__scopeTooltip:s,children:l,"aria-label":i,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,m=Ri(ys,s),p=Ei(s),{onClose:y}=m;return g.useEffect(()=>(document.addEventListener(au,y),()=>document.removeEventListener(au,y)),[y]),g.useEffect(()=>{if(m.trigger){const b=v=>{v.target?.contains(m.trigger)&&y()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[m.trigger,y]),r.jsx(Du,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:y,children:r.jsxs(Bg,{"data-state":m.stateAttribute,...p,...f,ref:a,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(gg,{children:l}),r.jsx(X2,{scope:s,isInside:!0,children:r.jsx(E1,{id:m.contentId,role:"tooltip",children:i||l})})]})})});B0.displayName=ys;var W0="TooltipArrow",Z2=g.forwardRef((t,a)=>{const{__scopeTooltip:s,...l}=t,i=Ei(s);return J2(W0,s).isInside?null:r.jsx(Ug,{...i,...l,ref:a})});Z2.displayName=W0;function eC(t,a){const s=Math.abs(a.top-t.y),l=Math.abs(a.bottom-t.y),i=Math.abs(a.right-t.x),c=Math.abs(a.left-t.x);switch(Math.min(s,l,i,c)){case c:return"left";case i:return"right";case s:return"top";case l:return"bottom";default:throw new Error("unreachable")}}function tC(t,a,s=5){const l=[];switch(a){case"top":l.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":l.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":l.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":l.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return l}function rC(t){const{top:a,right:s,bottom:l,left:i}=t;return[{x:i,y:a},{x:s,y:a},{x:s,y:l},{x:i,y:l}]}function nC(t,a){const{x:s,y:l}=t;let i=!1;for(let c=0,u=a.length-1;c<a.length;u=c++){const f=a[c].x,m=a[c].y,p=a[u].x,y=a[u].y;m>l!=y>l&&s<(p-f)*(l-m)/(y-m)+f&&(i=!i)}return i}function aC(t){const a=t.slice();return a.sort((s,l)=>s.x<l.x?-1:s.x>l.x?1:s.y<l.y?-1:s.y>l.y?1:0),sC(a)}function sC(t){if(t.length<=1)return t.slice();const a=[];for(let l=0;l<t.length;l++){const i=t[l];for(;a.length>=2;){const c=a[a.length-1],u=a[a.length-2];if((c.x-u.x)*(i.y-u.y)>=(c.y-u.y)*(i.x-u.x))a.pop();else break}a.push(i)}a.pop();const s=[];for(let l=t.length-1;l>=0;l--){const i=t[l];for(;s.length>=2;){const c=s[s.length-1],u=s[s.length-2];if((c.x-u.x)*(i.y-u.y)>=(c.y-u.y)*(i.x-u.x))s.pop();else break}s.push(i)}return s.pop(),a.length===1&&s.length===1&&a[0].x===s[0].x&&a[0].y===s[0].y?a:a.concat(s)}var oC=$0,lC=z0,iC=V0,H0=B0;const cC=oC,yp=lC,vp=iC,ou=g.forwardRef(({className:t,sideOffset:a=4,...s},l)=>r.jsx(H0,{ref:l,sideOffset:a,className:ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));ou.displayName=H0.displayName;function dC({groupedRequest:t}){const a=[...t.periods].sort((u,f)=>{const m=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return u.year!==f.year?u.year-f.year:m.indexOf(u.monthName)-m.indexOf(f.monthName)}),s=t.periods.some(u=>u.workItemId),l=tj(t.entityName),c=`/${a.length>0?a[0].year:2025}/${l}?search=${encodeURIComponent(t.companyName)}`;return r.jsx(cC,{children:r.jsxs(fn,{className:"hover:shadow-md transition-shadow",children:[r.jsx(Ra,{className:"pb-2",children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[r.jsx(Xt,{to:c,className:"font-semibold text-sm leading-tight text-blue-600 hover:text-blue-800 hover:underline block",title:`Ver detalles de ${t.companyName}`,children:t.companyName}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[r.jsx(ut,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:t.entityName})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs(fg,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200 whitespace-nowrap",children:[t.pendingCount," período",t.pendingCount!==1?"s":""]}),s&&r.jsxs(yp,{children:[r.jsx(vp,{asChild:!0,children:r.jsx("div",{className:"p-1",children:r.jsx(Ia,{className:"h-3 w-3 text-blue-600"})})}),r.jsx(ou,{children:r.jsx("p",{children:"Contiene Work Items"})})]})]})]})}),r.jsx(mn,{className:"space-y-2 pt-0",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-700",children:[r.jsx(vt,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{children:"Períodos pendientes"})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:a.map(u=>{const f=Zn(u.estado),m=gs(u.estado),p=ku[u.estado]||u.estado;return r.jsxs(yp,{children:[r.jsx(vp,{asChild:!0,children:r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs ${f.bg} ${f.text} border cursor-default`,children:[r.jsx("span",{className:"text-xs",children:m}),r.jsx("span",{className:"font-medium",children:u.monthName}),r.jsx("span",{className:"text-xs opacity-75",children:u.year})]})}),r.jsx(ou,{children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"font-medium",children:[u.monthName," ",u.year]}),r.jsxs("p",{className:"text-xs",children:["Estado: ",p]})]})})]},`${u.year}-${u.monthName}`)})})]})})]})})}const uC=ug("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lu=g.forwardRef(({className:t,variant:a,...s},l)=>r.jsx("div",{ref:l,role:"alert",className:ot(uC({variant:a}),t),...s}));lu.displayName="Alert";const fC=g.forwardRef(({className:t,...a},s)=>r.jsx("h5",{ref:s,className:ot("mb-1 font-medium leading-none tracking-tight",t),...a}));fC.displayName="AlertTitle";const iu=g.forwardRef(({className:t,...a},s)=>r.jsx("div",{ref:s,className:ot("text-sm [&_p]:leading-relaxed",t),...a}));iu.displayName="AlertDescription";function bp(){const{groupedRequests:t,stats:a,selectedEntity:s,setSelectedEntity:l,selectedYear:i,setSelectedYear:c,searchTerm:u,setSearchTerm:f,statusFilter:m,setStatusFilter:p,isLoading:y,error:b,entities:v,allEntities:w,years:S,availableYears:N,statuses:C}=Mj();return b?r.jsx("div",{className:"p-6",children:r.jsxs(lu,{variant:"destructive",children:[r.jsx(hn,{className:"h-4 w-4"}),r.jsxs(iu,{children:["Error al cargar los datos: ",b]})]})}):r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Solicitudes Pendientes"}),r.jsx("p",{className:"text-gray-600",children:"Vista consolidada de todas las solicitudes no cerradas"}),v.length<w.length&&r.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Mostrando datos de ",v.length," de ",w.length," entidades",i==="all"?` para ${N.length} años`:` para el año ${i}`]})]})}),!y&&v.length===0&&r.jsxs(lu,{children:[r.jsx(hn,{className:"h-4 w-4"}),r.jsx(iu,{children:i==="all"?"No hay datos disponibles para ningún año. Verifica que existan archivos de datos para las entidades.":`No hay datos disponibles para el año ${i}. Intenta seleccionar un año diferente o verifica que existan archivos de datos para las entidades.`})]}),r.jsx(Oj,{stats:a,isLoading:y}),r.jsx(V2,{selectedEntity:s,setSelectedEntity:l,selectedYear:i,setSelectedYear:c,searchTerm:u,setSearchTerm:f,statusFilter:m,setStatusFilter:p,entities:v,years:S,availableYears:N,statuses:C}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Empresas con Solicitudes Pendientes (",t.length,")"]})}),y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(mg,{size:"lg"})}):t.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No se encontraron solicitudes pendientes con los filtros aplicados"})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(j=>r.jsx(dC,{groupedRequest:j},`${j.entityName}-${j.companyName}`))})]})]})}function mC(t){const[a,s]=g.useState({companyName:t,operations:[],billingHistory:[],statistics:{totalRequests:0,completedRequests:0,averageProcessingDays:0,entitiesCount:0,operatingYears:[],recentActivity:[],completionRate:0},loading:!0,error:null});return g.useEffect(()=>{if(!t)return;(async()=>{try{s(w=>({...w,loading:!0,error:null}));const i=[],c=[],u=new Set,f={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"};for(const w of xr){const S=f[w];if(S)for(const N of["2017","2018","2019","2020","2021","2022","2023","2024","2025"])try{const C=await fetch(`/src/modules/billing/data/${S}/${N}.json`);if(!C.ok)continue;const k=(await C.json())[t];if(k){u.add(N);const P=k._metadata||{};i.push({entity:w,year:N,relationshipType:P.tipoEmpresa||"Desconocido",isIncumbent:P.esIncumbente||!1,userCount:P.usuariosCount});for(const I of dt){const M=k[I];M&&c.push({entity:w,year:N,month:I,workItemId:M.workItemId,estado:M.estado||"Sin Solicitud",fechaRecibido:M.fechaRecibido,fechaCerrado:M.fechaCerrado,diasProcesamiento:M.diasProcesamiento,notas:M.notas||""})}}}catch{continue}}const m=c.filter(w=>w.estado==="Closed").length,p=c.filter(w=>w.diasProcesamiento),y=p.length>0?p.reduce((w,S)=>w+(S.diasProcesamiento||0),0)/p.length:0,b=c.filter(w=>w.fechaRecibido).sort((w,S)=>new Date(S.fechaRecibido).getTime()-new Date(w.fechaRecibido).getTime()).slice(0,10),v={totalRequests:c.length,completedRequests:m,averageProcessingDays:Math.round(y),entitiesCount:new Set(i.map(w=>w.entity)).size,operatingYears:Array.from(u).sort(),recentActivity:b,completionRate:c.length>0?m/c.length*100:0};s({companyName:t,operations:i,billingHistory:c,statistics:v,loading:!1,error:null})}catch(i){s(c=>({...c,loading:!1,error:i instanceof Error?i.message:"Error loading company data"}))}})()},[t]),a}function hC(){const{companyName:t}=xu(),a=t?decodeURIComponent(t):"",s=mC(a);if(s.loading)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando perfil de empresa..."})]})]});if(s.error||s.operations.length===0)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Empresa no encontrada"}),r.jsxs("p",{className:"text-gray-600",children:['No se encontraron datos para la empresa "',a,'"']})]})]});const{statistics:l,operations:i}=s;return r.jsxs("div",{className:"p-6 w-full",children:[r.jsx("div",{className:"flex items-center gap-4 mb-8",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg p-8 mb-8",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ut,{className:"h-8 w-8"}),r.jsx("h1",{className:"text-3xl font-bold",children:a})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Entidades"}),r.jsx("p",{className:"text-2xl font-bold",children:l.entitiesCount})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Años Activos"}),r.jsx("p",{className:"text-2xl font-bold",children:l.operatingYears.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Solicitudes Totales"}),r.jsx("p",{className:"text-2xl font-bold",children:l.totalRequests})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-200 text-sm",children:"Tasa de Completitud"}),r.jsxs("p",{className:"text-2xl font-bold",children:[l.completionRate.toFixed(1),"%"]})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Vt,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Solicitudes Completadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:l.completedRequests})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["de ",l.totalRequests," solicitudes totales"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(pn,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Tiempo Promedio"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l.averageProcessingDays})]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"días de procesamiento"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(vt,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Período de Operación"}),r.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[l.operatingYears[0]," - ",l.operatingYears[l.operatingYears.length-1]]})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[l.operatingYears.length," años activos"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jp,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"Operaciones por Entidad"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid gap-4",children:i.reduce((c,u)=>{const f=c.find(m=>m.entity===u.entity);return f?(f.years.push(u.year),u.relationshipType!=="Desconocido"&&(f.relationshipType=u.relationshipType),u.isIncumbent&&(f.isIncumbent=u.isIncumbent),u.userCount&&(f.userCount=u.userCount)):c.push({entity:u.entity,years:[u.year],relationshipType:u.relationshipType,isIncumbent:u.isIncumbent,userCount:u.userCount}),c},[]).map((c,u)=>r.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-lg",children:c.entity}),r.jsxs("div",{className:"flex items-center gap-2",children:[c.isIncumbent&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:"Incumbente"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:c.relationshipType})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:[r.jsx(vt,{className:"h-4 w-4 inline mr-1"}),"Años: ",c.years.sort().join(", ")]}),c.userCount&&r.jsxs("span",{children:[r.jsx(Do,{className:"h-4 w-4 inline mr-1"}),c.userCount.toLocaleString()," usuarios"]})]})]},u))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"Actividad Reciente"})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:l.recentActivity.slice(0,10).map((c,u)=>{const f=Zn(c.estado);return r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[c.month," ",c.year]}),r.jsx("p",{className:"text-sm text-gray-600",children:c.entity})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.bg} ${f.text}`,title:c.estado,children:Pu(c.estado)})]}),r.jsxs("div",{className:"text-right text-sm text-gray-600",children:[c.fechaRecibido&&r.jsxs("p",{children:["Recibido: ",new Date(c.fechaRecibido).toLocaleDateString()]}),c.diasProcesamiento&&r.jsxs("p",{children:["Procesado en ",c.diasProcesamiento," días"]}),c.workItemId&&r.jsxs("p",{className:"text-blue-600",children:["ID: ",c.workItemId]})]})]},u)})})})]})]})}class pC{cache=new Map;loadingPromises=new Map;TTL=5*60*1e3;async getData(a,s,l=!1){if(!l&&this.hasValidCache(a))return this.cache.get(a).data;if(this.loadingPromises.has(a)){const c=this.loadingPromises.get(a);if(Date.now()-c.timestamp<1e4)return c.promise;this.loadingPromises.delete(a)}const i=this.loadData(a,s);this.loadingPromises.set(a,{promise:i,timestamp:Date.now()});try{const c=await i;return this.loadingPromises.delete(a),c}catch(c){throw this.loadingPromises.delete(a),c}}async loadData(a,s){try{const l=await s();return this.cache.set(a,{data:l,timestamp:Date.now()}),l}catch(l){throw this.cache.delete(a),l}}hasValidCache(a){const s=this.cache.get(a);return s?Date.now()-s.timestamp>this.TTL?(this.cache.delete(a),!1):!0:!1}async getEntityYearData(a,s){const i={"alcaldia-palmira":"alcaldia-palmira","alcaldia-tulua":"alcaldia-tulua","gobernacion-valle":"gobernacion-valle",infibague:"infibague"}[a];if(!i)throw new Error(`Unknown entity: ${a}`);const c=`entity-${i}-${s}`;try{return await this.getData(c,async()=>{const u=await fetch(`/src/modules/billing/data/${i}/${s}.json`);return u.ok?u.json():null})}catch(u){return console.warn(`Failed to load ${a}/${s}:`,u),null}}async getEntityMultiYearData(a,s){const l=s.map(u=>this.getEntityYearData(a,u).then(f=>({year:u,data:f}))),i=await Promise.all(l),c=new Map;return i.forEach(({year:u,data:f})=>{f&&c.set(u,f)}),c}async getEntityAllYears(a){const s=["2017","2018","2019","2020","2021","2022","2023","2024","2025"];return this.getEntityMultiYearData(a,s)}async preloadRecentData(a){const s=["2023","2024","2025"];await this.getEntityMultiYearData(a,s)}clearCache(a){if(a)for(const s of this.cache.keys())s.includes(a)&&this.cache.delete(s);else this.cache.clear();this.loadingPromises.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),hitRate:0}}async getAllCompaniesData(){const a={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"},l=Object.keys(a).map(async u=>{const f=a[u],m=await this.getEntityAllYears(f);return{entity:u,yearData:m}}),i=await Promise.all(l),c=new Map;return i.forEach(({entity:u,yearData:f})=>{c.set(u,f)}),c}}const Y0=new pC,wp={"alcaldia-palmira":"alcaldia-palmira","alcaldia-tulua":"alcaldia-tulua","gobernacion-valle":"gobernacion-valle",infibague:"infibague"};function gC(t){const[a,s]=g.useState(null),[l,i]=g.useState([]),[c,u]=g.useState(new Map),[f,m]=g.useState(new Set),[p,y]=g.useState(!0),[b,v]=g.useState(null),w=g.useMemo(()=>({"alcaldia-palmira":"Alcaldía de Palmira","alcaldia-tulua":"Alcaldía de Tuluá","gobernacion-valle":"Gobernación del Valle del Cauca",infibague:"Infibagué"}),[]),S=g.useCallback(async P=>{if(!(!t||!wp[t]))try{const I=await Y0.getEntityMultiYearData(t,P);u(M=>{const R=new Map(M);return I.forEach((D,V)=>{R.set(V,D)}),R}),i(M=>{const R=P.filter(V=>I.has(V));return[...new Set([...M,...R])].sort()}),m(M=>{const R=new Set(M);return I.forEach(D=>{Object.keys(D).forEach(V=>R.add(V))}),R})}catch(I){console.error("Failed to load years data:",I)}},[t]);g.useEffect(()=>{if(!t||!wp[t]){v("Entidad no encontrada"),y(!1);return}(async()=>{try{y(!0),v(null),await S(["2023","2024","2025"])}catch(I){v(I instanceof Error?I.message:"Error loading historical data")}finally{y(!1)}})()},[t,S]);const N=g.useCallback(async P=>{const I=P.filter(M=>!l.includes(M));I.length>0&&await S(I)},[l,S]),C=g.useMemo(()=>{if(l.length===0)return{historicalMatrix:[],missingReports:[],totalStatistics:{totalRequests:0,completedRequests:0,averageCompletionRate:0,yearsActive:0,companiesServed:0}};const P=[],I=[];let M=0,R=0;for(let V=0;V<dt.length;V++){const T=[],O=dt[V];for(const Q of l){const J=c.get(Q),Z=[];let te=0,re=0,X=0;Array.from(f).forEach(ae=>{const K=J?.[ae]?.[O];if(K){const Y=K.estado||"Sin Solicitud",_=Y==="Closed";Z.push({companyName:ae,estado:Y,workItemId:K.workItemId,fechaRecibido:K.fechaRecibido,fechaCerrado:K.fechaCerrado,diasProcesamiento:K.diasProcesamiento,isMissing:!1}),M++,_?(te++,R++):Y!=="Sin Solicitud"&&re++}else Z.push({companyName:ae,estado:"Sin Solicitud",isMissing:!0}),X++}),X>Z.length*.5?I.push({year:Q,month:O,severity:"error",message:`Más del 50% de empresas sin reportar en ${O} ${Q}`,companiesCount:X}):X>Z.length*.2&&I.push({year:Q,month:O,severity:"warning",message:`${X} empresas sin reportar en ${O} ${Q}`,companiesCount:X}),T.push({year:Q,month:O,companies:Z,totalCompanies:Z.length,completedCompanies:te,pendingCompanies:re,missingCompanies:X})}P.push(T)}const D=I.sort((V,T)=>V.severity==="error"&&T.severity!=="error"?-1:V.severity!=="error"&&T.severity==="error"?1:T.companiesCount-V.companiesCount);return{historicalMatrix:P,missingReports:D,totalStatistics:{totalRequests:M,completedRequests:R,averageCompletionRate:M>0?R/M*100:0,yearsActive:l.length,companiesServed:f.size}}},[l,c,f]),j=C.missingReports.filter(P=>P.severity==="error").length,k=C.missingReports.filter(P=>P.severity==="warning").length;return{entityName:w[t]||t,years:l,historicalMatrix:C.historicalMatrix,missingReports:C.missingReports,totalStatistics:C.totalStatistics,selectedPeriod:a,setSelectedPeriod:s,criticalAlertsCount:j,warningAlertsCount:k,loading:p,error:b,loadMoreYears:N,loadedYears:l}}function xC(){const{entitySlug:t}=xu(),a=gC(t||"");if(a.loading)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando datos históricos..."})]})]});if(a.error)return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar datos"}),r.jsx("p",{className:"text-gray-600",children:a.error})]})]});const{entityName:s,years:l,historicalMatrix:i,totalStatistics:c,selectedPeriod:u,setSelectedPeriod:f,criticalAlertsCount:m,warningAlertsCount:p}=a;return r.jsxs("div",{className:"p-6 max-w-full mx-auto",children:[r.jsx("div",{className:"flex items-center gap-4 mb-6",children:r.jsxs(Xt,{to:"/",className:"flex items-center text-blue-600 hover:text-blue-800",children:[r.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Volver al Dashboard"]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vt,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["Histórico - ",s]}),r.jsx("div",{className:"flex items-center gap-6 mt-2 text-sm",children:r.jsxs("span",{children:[c.yearsActive," años • ",c.companiesServed," empresas • ",c.totalRequests," solicitudes"]})})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&r.jsxs("div",{className:"flex items-center gap-2 bg-red-500/20 border border-red-300 rounded-full px-3 py-1",children:[r.jsx(hn,{className:"h-4 w-4 text-red-200"}),r.jsxs("span",{className:"text-sm font-medium",children:[m," crítico",m!==1?"s":""]})]}),p>0&&r.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 border border-yellow-300 rounded-full px-3 py-1",children:[r.jsx(pw,{className:"h-4 w-4 text-yellow-200"}),r.jsxs("span",{className:"text-sm font-medium",children:[p," alerta",p!==1?"s":""]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-xl font-bold",children:[c.averageCompletionRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-green-200",children:"completitud"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsx("div",{className:"xl:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Matriz Histórica"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:u?"Click en otra celda para cambiar período":"Click en una celda para ver detalle"})]})}),r.jsx("div",{className:"p-4 overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2 border-b font-semibold bg-gray-50 sticky left-0 text-sm",children:"Mes"}),l.map(y=>r.jsx("th",{className:"text-center p-2 border-b font-semibold bg-gray-50 min-w-[100px] text-sm",children:y},y))]})}),r.jsx("tbody",{children:i.map((y,b)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"p-2 border-b font-medium sticky left-0 bg-white border-r text-sm",children:y[0]?.month||""}),y.map((v,w)=>{const S=v.totalCompanies>0?v.completedCompanies/v.totalCompanies*100:0;let N="bg-gray-100 hover:bg-gray-200";S>=80?N="bg-green-100 hover:bg-green-200":S>=60?N="bg-yellow-100 hover:bg-yellow-200":S>=40?N="bg-orange-100 hover:bg-orange-200":S>0&&(N="bg-red-100 hover:bg-red-200");const C=u?.year===l[w]&&u?.month===y[0]?.month;return r.jsx("td",{className:`p-2 border-b text-center cursor-pointer transition-colors ${N} ${C?"ring-2 ring-blue-500 ring-inset":""}`,onClick:()=>f({year:l[w],month:y[0]?.month||"",yearData:v}),children:r.jsxs("div",{className:"text-xs",children:[r.jsxs("div",{className:"font-semibold",children:[v.completedCompanies,"/",v.totalCompanies]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[S.toFixed(0),"%"]}),v.missingCompanies>0&&r.jsx(Rr,{className:"h-3 w-3 text-red-500 mx-auto mt-1"})]})},w)})]},b))})]})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-100 border rounded"}),r.jsx("span",{children:"≥80%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-100 border rounded"}),r.jsx("span",{children:"60-79%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-100 border rounded"}),r.jsx("span",{children:"40-59%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-red-100 border rounded"}),r.jsx("span",{children:"<40%"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-100 border rounded"}),r.jsx("span",{children:"Sin datos"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Rr,{className:"h-3 w-3 text-red-500"}),r.jsx("span",{children:"Alertas"})]})]})})]})}),r.jsx("div",{className:"xl:col-span-1",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm border h-fit",children:u?r.jsxs("div",{children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ut,{className:"h-5 w-5 text-blue-600"}),r.jsxs("h3",{className:"text-lg font-semibold",children:[u.month," ",u.year]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-green-600",children:u.yearData.completedCompanies}),r.jsx("div",{className:"text-gray-500",children:"Completadas"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-orange-600",children:u.yearData.pendingCompanies}),r.jsx("div",{className:"text-gray-500",children:"Pendientes"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold text-red-600",children:u.yearData.missingCompanies}),r.jsx("div",{className:"text-gray-500",children:"Sin reportar"})]})]})]}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:r.jsx("div",{className:"space-y-2",children:u.yearData.companies.sort((y,b)=>y.isMissing&&!b.isMissing?1:!y.isMissing&&b.isMissing||y.estado==="Closed"&&b.estado!=="Closed"?-1:y.estado!=="Closed"&&b.estado==="Closed"?1:y.companyName.localeCompare(b.companyName)).map((y,b)=>{const v=Zn(y.estado);return r.jsxs("div",{className:"border rounded p-3 hover:bg-gray-50",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm truncate",title:y.companyName,children:y.companyName}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.text}`,title:y.estado,children:Pu(y.estado)}),y.workItemId&&r.jsxs("span",{className:"text-xs text-gray-500",children:["#",y.workItemId]})]})]})}),y.fechaRecibido&&r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[r.jsxs("div",{children:["Recibido: ",new Date(y.fechaRecibido).toLocaleDateString()]}),y.fechaCerrado&&r.jsxs("div",{children:["Cerrado: ",new Date(y.fechaCerrado).toLocaleDateString()]}),y.diasProcesamiento&&r.jsxs("div",{children:["Procesado en ",y.diasProcesamiento," días"]})]}),y.isMissing&&r.jsxs("div",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[r.jsx(Rr,{className:"h-3 w-3"}),"Sin reportar"]})]},b)})})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsx("button",{onClick:()=>f(null),className:"w-full text-sm text-gray-600 hover:text-gray-800",children:"Cerrar detalle"})})]}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un Período"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Haz click en cualquier celda de la matriz para ver el detalle de empresas para ese mes y año."})]})})})]})]})}function yC(){const[t,a]=g.useState([]),[s,l]=g.useState(""),[i,c]=g.useState(""),[u,f]=g.useState("name"),[m,p]=g.useState("asc"),[y,b]=g.useState(!0),[v,w]=g.useState(null),[S,N]=g.useState(0),[C,j]=g.useState(0),[k]=g.useState(xr.length),P=g.useCallback(async()=>{try{b(!0),w(null),N(0),j(0);const R=new Map,D={"Alcaldía de Palmira":"alcaldia-palmira","Alcaldía de Tuluá":"alcaldia-tulua","Gobernación del Valle del Cauca":"gobernacion-valle",Infibagué:"infibague"};for(let T=0;T<xr.length;T++){const O=xr[T],Q=D[O];if(Q){try{const J=Q;(await Y0.getEntityAllYears(J)).forEach((te,re)=>{Object.entries(te).forEach(([X,ae])=>{R.has(X)||R.set(X,{entities:new Set,years:new Set,totalRequests:0,completedRequests:0,pendingRequests:0,processingDays:[],criticalAlerts:0,warningAlerts:0,isIncumbent:!1,entityOperations:new Map});const $=R.get(X);$.entities.add(O),$.years.add(re),(ae._metadata||{}).esIncumbente&&($.isIncumbent=!0),$.entityOperations.has(O)||$.entityOperations.set(O,{years:new Set,completed:0,total:0});const Y=$.entityOperations.get(O);Y.years.add(re);let _=0,q=0,de=0;dt.forEach(we=>{const le=ae[we];if(le){$.totalRequests++,q++;const me=le.estado||"Sin Solicitud";if(me==="Closed"?($.completedRequests++,_++):me!=="Sin Solicitud"&&$.pendingRequests++,le.diasProcesamiento&&$.processingDays.push(le.diasProcesamiento),le.fechaRecibido){const Me=new Date(le.fechaRecibido);(!$.lastActivity||Me>new Date($.lastActivity))&&($.lastActivity=le.fechaRecibido)}}else de++}),Y.completed+=_,Y.total+=q;const fe=dt.length,Se=de/fe*100;Se>50?$.criticalAlerts++:Se>20&&$.warningAlerts++})})}catch(J){console.warn(`Failed to load entity ${O}:`,J)}j(T+1),N((T+1)/xr.length*100),await new Promise(J=>setTimeout(J,0))}}const V=Array.from(R.entries()).map(([T,O])=>{const Q=O.totalRequests>0?O.completedRequests/O.totalRequests*100:0,J=O.processingDays.length>0?O.processingDays.reduce((te,re)=>te+re,0)/O.processingDays.length:0,Z=Array.from(O.entityOperations.entries()).map(([te,re])=>{const X=re.total>0?re.completed/re.total*100:0;let ae="excellent";return X<40?ae="critical":X<60?ae="warning":X<80&&(ae="good"),{entity:te,years:Array.from(re.years).sort(),completionRate:X,status:ae}});return{name:T,entities:Array.from(O.entities),years:Array.from(O.years).sort(),totalRequests:O.totalRequests,completedRequests:O.completedRequests,completionRate:Q,pendingRequests:O.pendingRequests,averageProcessingDays:Math.round(J),criticalAlertsCount:O.criticalAlerts,warningAlertsCount:O.warningAlerts,lastActivity:O.lastActivity,isIncumbent:O.isIncumbent,entityOperations:Z}});a(V)}catch(R){w(R instanceof Error?R.message:"Error loading companies data")}finally{b(!1),N(100)}},[]);g.useEffect(()=>{P()},[P]);const I=g.useMemo(()=>{let R=t;return s&&(R=R.filter(D=>D.name.toLowerCase().includes(s.toLowerCase()))),i&&(R=R.filter(D=>D.entities.includes(i))),R.sort((D,V)=>{let T,O;switch(u){case"completionRate":T=D.completionRate,O=V.completionRate;break;case"totalRequests":T=D.totalRequests,O=V.totalRequests;break;case"criticalAlerts":T=D.criticalAlertsCount,O=V.criticalAlertsCount;break;default:T=D.name.toLowerCase(),O=V.name.toLowerCase()}if(typeof T=="string"&&typeof O=="string")return m==="asc"?T.localeCompare(O):O.localeCompare(T);{const Q=T,J=O;return m==="asc"?Q-J:J-Q}}),R},[t,s,i,u,m]),M=g.useMemo(()=>{const R=t.reduce((O,Q)=>O+Q.totalRequests,0),D=t.reduce((O,Q)=>O+Q.completedRequests,0),V=t.length>0?t.reduce((O,Q)=>O+Q.completionRate,0)/t.length:0,T=t.filter(O=>O.criticalAlertsCount>0||O.warningAlertsCount>0).length;return{avgCompletionRate:V,totalRequests:R,totalCompletedRequests:D,companiesWithAlerts:T}},[t]);return{companies:t,filteredCompanies:I,searchTerm:s,setSearchTerm:l,selectedEntity:i,setSelectedEntity:c,sortBy:u,setSortBy:f,sortOrder:m,setSortOrder:p,totalCompanies:t.length,totalStatistics:M,loading:y,error:v,loadingProgress:S,loadedEntitiesCount:C,totalEntitiesCount:k}}function vC({company:t}){const a=l=>{switch(l){case"excellent":return r.jsx(Da,{className:"h-4 w-4 text-green-500"});case"good":return r.jsx(Da,{className:"h-4 w-4 text-blue-500"});case"warning":return r.jsx(Rr,{className:"h-4 w-4 text-yellow-500"});case"critical":return r.jsx(hn,{className:"h-4 w-4 text-red-500"});default:return null}},s=l=>{switch(l){case"excellent":return"text-green-600 bg-green-50 border-green-200";case"good":return"text-blue-600 bg-blue-50 border-blue-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return r.jsxs("div",{className:"bg-white rounded-lg border hover:shadow-md transition-shadow p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ut,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),r.jsx("h3",{className:"text-lg font-semibold truncate",title:t.name,children:t.name}),t.isIncumbent&&r.jsx(pi,{className:"h-4 w-4 text-yellow-500 flex-shrink-0",fill:"currentColor"})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4",children:[r.jsxs("span",{children:[t.entities.length," entidad",t.entities.length!==1?"es":""]}),r.jsxs("span",{children:[t.years.length," año",t.years.length!==1?"s":""]}),r.jsxs("span",{children:[t.totalRequests," solicitudes"]})]})]}),r.jsxs(Xt,{to:`/empresa/${encodeURIComponent(t.name)}`,className:"flex items-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex-shrink-0",children:[r.jsx(wo,{className:"h-4 w-4"}),"Ver Perfil"]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Tasa de Completitud"}),r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[t.completionRate.toFixed(1),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(t.completionRate,100)}%`}})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Operaciones por Entidad"}),r.jsx("div",{className:"space-y-2",children:t.entityOperations.map((l,i)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(l.status),r.jsx("span",{className:"truncate",children:l.entity})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border ${s(l.status)}`,children:[l.completionRate.toFixed(0),"%"]}),r.jsxs("span",{className:"text-gray-500 text-xs",children:[l.years.length," año",l.years.length!==1?"s":""]})]})]},i))})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 pt-3 border-t",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[t.criticalAlertsCount>0&&r.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[r.jsx(hn,{className:"h-4 w-4"}),t.criticalAlertsCount," crítico",t.criticalAlertsCount!==1?"s":""]}),t.warningAlertsCount>0&&r.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[r.jsx(Rr,{className:"h-4 w-4"}),t.warningAlertsCount," alerta",t.warningAlertsCount!==1?"s":""]}),t.criticalAlertsCount===0&&t.warningAlertsCount===0&&r.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[r.jsx(Da,{className:"h-4 w-4"}),"Sin alertas"]})]}),r.jsxs("div",{className:"text-right",children:[t.averageProcessingDays>0&&r.jsxs("div",{children:[t.averageProcessingDays," días promedio"]}),t.lastActivity&&r.jsxs("div",{className:"text-xs text-gray-400",children:["Última actividad: ",new Date(t.lastActivity).toLocaleDateString()]})]})]})]})}function bC(){const{filteredCompanies:t,searchTerm:a,setSearchTerm:s,selectedEntity:l,setSelectedEntity:i,sortBy:c,setSortBy:u,sortOrder:f,setSortOrder:m,totalCompanies:p,totalStatistics:y,loading:b,error:v,loadingProgress:w,loadedEntitiesCount:S,totalEntitiesCount:N}=yC(),C=j=>{c===j?m(f==="asc"?"desc":"asc"):(u(j),m("asc"))};return b?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Cargando empresas de energía..."}),r.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[r.jsxs("span",{children:["Procesando entidades (",S,"/",N,")"]}),r.jsxs("span",{children:[Math.round(w),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})]})}):v?r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx(Rr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error al cargar datos"}),r.jsx("p",{className:"text-gray-600",children:v})]})}):r.jsxs("div",{className:"p-6 w-full",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ut,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Empresas de Energía"}),r.jsx("p",{className:"text-gray-600",children:"Directorio completo de empresas en el sistema"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ut,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p}),r.jsx("div",{className:"text-sm text-gray-600",children:"Empresas totales"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[y.avgCompletionRate.toFixed(1),"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Completitud promedio"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Da,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.totalCompletedRequests.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600",children:"Solicitudes completadas"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rr,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y.companiesWithAlerts}),r.jsx("div",{className:"text-sm text-gray-600",children:"Con alertas"})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar empresas...",value:a,onChange:j=>s(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Po,{className:"h-4 w-4 text-gray-400"}),r.jsxs("select",{value:l,onChange:j=>i(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Todas las entidades"}),xr.map(j=>r.jsx("option",{value:j,children:j},j))]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),r.jsx("div",{className:"flex gap-1",children:[{key:"name",label:"Nombre"},{key:"completionRate",label:"Completitud"},{key:"totalRequests",label:"Solicitudes"},{key:"criticalAlerts",label:"Alertas"}].map(j=>r.jsxs("button",{onClick:()=>C(j.key),className:`px-3 py-2 text-sm rounded-lg border transition-colors flex items-center gap-1 ${c===j.key?"bg-blue-100 text-blue-700 border-blue-300":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[j.label,c===j.key&&(f==="asc"?r.jsx(ew,{className:"h-3 w-3"}):r.jsx(Jb,{className:"h-3 w-3"}))]},j.key))})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t text-sm text-gray-600",children:["Mostrando ",t.length," de ",p," empresas",a&&r.jsxs("span",{className:"ml-2",children:['• Búsqueda: "',r.jsx("span",{className:"font-medium",children:a}),'"']}),l&&r.jsxs("span",{className:"ml-2",children:["• Entidad: ",r.jsx("span",{className:"font-medium",children:l})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map((j,k)=>r.jsx(vC,{company:j},k))}),t.length===0&&r.jsxs("div",{className:"bg-white rounded-lg border p-12 text-center",children:[r.jsx(ut,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron empresas"}),r.jsx("p",{className:"text-gray-600 mb-4",children:a||l?"Intenta ajustar los filtros de búsqueda.":"No hay empresas disponibles en el sistema."}),(a||l)&&r.jsx("button",{onClick:()=>{s(""),i("")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Limpiar filtros"})]})]})}class jp{static async generateDemandMetrics(a){const s=await this.loadFilteredRequests(a),l=this.calculateDateRange(s,a),i=this.calculateDailyDistribution(s),c=this.calculateMonthlyDistribution(s),u=this.calculateWeekdayDistribution(s),f=this.findPeakDays(i),m=this.calculateTrends(s,l),p=this.calculateEntityBreakdown(s),y=this.calculateCompanyBreakdown(s),b=s.length,v=this.getDaysDifference(l.start,l.end)||1,w=b/v,S=b/Math.max(1,this.getMonthsDifference(l.start,l.end));return{totalRequests:b,dateRange:l,dailyAverage:w,monthlyAverage:S,dailyDistribution:i,monthlyDistribution:c,weekdayDistribution:u,peakDays:f,trends:m,entityBreakdown:p,companyBreakdown:y}}static async generateHeatMapData(a,s,l){const c=(await this.loadFilteredRequests(l)).filter(m=>{const p=new Date(m.receivedDate);return p.getFullYear()===a&&p.getMonth()===s-1}),u=this.generateCalendarCells(a,s,c),f=Math.max(...u.map(m=>m.count),1);return{year:a,month:s,cells:u,maxCount:f,totalRequests:c.length,averagePerDay:c.length/u.length}}static AVAILABLE_FILES=new Map([["Alcaldía de Palmira",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Alcaldía de Tuluá",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Gobernación del Valle del Cauca",[2017,2018,2019,2020,2021,2022,2023,2024,2025]],["Infibagué",[2023,2024,2025]]]);static async loadFilteredRequests(a){const s=[],l=a.entities.length>0?a.entities:xr,i=a.years.length>0?a.years:[2017,2018,2019,2020,2021,2022,2023,2024,2025];for(const c of l){const u=this.AVAILABLE_FILES.get(c)||[],f=i.filter(m=>u.includes(m));for(const m of f)try{const p=await Be.loadDataForEntityYear(c,m),y=this.extractRequestSummaries(p,c,m);s.push(...y)}catch(p){console.warn(`Failed to load ${c} ${m}:`,p)}}return this.applyFilters(s,a)}static extractRequestSummaries(a,s,l){const i=[];for(const[c,u]of Object.entries(a))for(const[f]of Object.entries(u)){if(f==="_metadata")continue;const m=Be.getMonthlyBillingData(u,f);!m||!m.fechaRecibido||m.fechaRecibido.trim()===""||i.push({company:c,month:f,year:l,entity:s,state:m.estado,receivedDate:m.fechaRecibido,closedDate:m.fechaCerrado||"",processingDays:m.diasProcesamiento||null,workItemId:m.workItemId})}return i}static applyFilters(a,s){return a.filter(l=>{if(s.companies.length>0&&!s.companies.includes(l.company))return!1;if(s.months.length>0){const i=new Date(l.receivedDate).getMonth()+1;if(!s.months.includes(i))return!1}return!(s.startDate&&l.receivedDate<s.startDate||s.endDate&&l.receivedDate>s.endDate||s.states.length>0&&!s.states.includes(l.state))})}static calculateDailyDistribution(a){const s=new Map;a.forEach(c=>{const u=c.receivedDate;s.has(u)||s.set(u,[]),s.get(u).push(c)});const l=[],i=Math.max(...Array.from(s.values()).map(c=>c.length),1);for(const[c,u]of s){const f=u.length,m=f<=i*.33?"low":f<=i*.66?"medium":"high";l.push({date:c,count:f,requests:u,intensity:m})}return l.sort((c,u)=>c.date.localeCompare(u.date))}static calculateMonthlyDistribution(a){const s=new Map;a.forEach(i=>{const c=new Date(i.receivedDate),u=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`;s.has(u)||s.set(u,[]),s.get(u).push(i)});const l=[];for(const[i,c]of s){const[u,f]=i.split("-").map(Number),m=new Date(u,f,0).getDate();l.push({year:u,month:f,monthName:dt[f-1],count:c.length,requests:c,averagePerDay:c.length/m})}return l.sort((i,c)=>i.year!==c.year?i.year-c.year:i.month-c.month)}static calculateWeekdayDistribution(a){const s=new Map,l=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];a.forEach(u=>{const f=new Date(u.receivedDate).getDay();s.has(f)||s.set(f,[]),s.get(f).push(u)});const i=a.length,c=[];for(let u=0;u<7;u++){const m=(s.get(u)||[]).length;c.push({dayOfWeek:u,dayName:l[u],count:m,percentage:i>0?m/i*100:0,averagePerWeek:m/Math.max(1,this.getWeeksSpanned(a))})}return c}static findPeakDays(a){if(a.length===0)return[];const s=[...a].sort((u,f)=>f.count-u.count),l=[],i=s[0];i&&l.push({date:i.date,count:i.count,type:"highest",companies:[...new Set(i.requests.map(u=>u.company))],entities:[...new Set(i.requests.map(u=>u.entity))]});const c=s[s.length-1];return c&&c.count>0&&l.push({date:c.date,count:c.count,type:"lowest",companies:[...new Set(c.requests.map(u=>u.company))],entities:[...new Set(c.requests.map(u=>u.entity))]}),l}static calculateTrends(a,s){const l=this.getDaysDifference(s.start,s.end)||1,i=a.length/l;return{daily:{period:"Diario",current:i,previous:i*.9,change:i*.1,changePercent:10,direction:"up"},weekly:{period:"Semanal",current:i*7,previous:i*7*.95,change:i*7*.05,changePercent:5,direction:"up"},monthly:{period:"Mensual",current:i*30,previous:i*30*.85,change:i*30*.15,changePercent:15,direction:"up"}}}static calculateEntityBreakdown(a){const s=new Map;a.forEach(c=>{s.has(c.entity)||s.set(c.entity,[]),s.get(c.entity).push(c)});const l=a.length,i=[];for(const[c,u]of s){const f=u.length;i.push({entity:c,count:f,percentage:l>0?f/l*100:0,requests:u,trend:{period:"Entidad",current:f,previous:f*.9,change:f*.1,changePercent:10,direction:"up"}})}return i.sort((c,u)=>u.count-c.count)}static calculateCompanyBreakdown(a){const s=new Map;a.forEach(c=>{s.has(c.company)||s.set(c.company,[]),s.get(c.company).push(c)});const l=a.length,i=[];for(const[c,u]of s){const f=u.length,m=new Set(u.map(p=>`${p.year}-${p.month}`)).size;i.push({company:c,entity:u[0]?.entity||"",count:f,percentage:l>0?f/l*100:0,requests:u,averagePerMonth:f/Math.max(1,m)})}return i.sort((c,u)=>u.count-c.count)}static generateCalendarCells(a,s,l){const i=[],c=new Date(a,s,0).getDate(),u=new Date,f=new Map;l.forEach(p=>{const y=p.receivedDate;f.has(y)||f.set(y,[]),f.get(y).push(p)});const m=Math.max(...Array.from(f.values()).map(p=>p.length),1);for(let p=1;p<=c;p++){const y=`${a}-${String(s).padStart(2,"0")}-${String(p).padStart(2,"0")}`,b=f.get(y)||[],v=b.length,w=new Date(a,s-1,p);i.push({date:y,count:v,intensity:v/m,requests:b,isToday:w.toDateString()===u.toDateString(),isWeekend:w.getDay()===0||w.getDay()===6})}return i}static calculateDateRange(a,s){if(s.startDate&&s.endDate)return{start:s.startDate,end:s.endDate};if(a.length===0){const i=new Date().toISOString().split("T")[0];return{start:i,end:i}}const l=a.map(i=>i.receivedDate).sort();return{start:s.startDate||l[0],end:s.endDate||l[l.length-1]}}static getDaysDifference(a,s){const l=new Date(a),i=new Date(s);return Math.max(1,Math.ceil((i.getTime()-l.getTime())/(1e3*60*60*24)))}static getMonthsDifference(a,s){const l=new Date(a),i=new Date(s);return Math.max(1,(i.getFullYear()-l.getFullYear())*12+(i.getMonth()-l.getMonth())+1)}static getWeeksSpanned(a){if(a.length===0)return 1;const s=a.map(c=>new Date(c.receivedDate)),l=new Date(Math.min(...s.map(c=>c.getTime()))),i=new Date(Math.max(...s.map(c=>c.getTime())));return Math.max(1,Math.ceil((i.getTime()-l.getTime())/(1e3*60*60*24*7)))}}function Bu(){const[t,a]=g.useState(null),[s,l]=g.useState(null),[i,c]=g.useState(!1),[u,f]=g.useState(null),m=g.useCallback(async b=>{c(!0),f(null);try{const v=await jp.generateDemandMetrics(b);a(v)}catch(v){console.error("Error loading demand metrics:",v),f("Error al cargar las métricas de demanda. Por favor, intenta nuevamente.")}finally{c(!1)}},[]),p=g.useCallback(async(b,v,w)=>{try{const S=await jp.generateHeatMapData(b,v,w);l(S)}catch(S){console.error("Error loading heat map data:",S)}},[]),y=g.useCallback((b,v)=>{try{const w=wC(b),S=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),C=URL.createObjectURL(S);N.setAttribute("href",C),N.setAttribute("download",`${v}-${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(C)}catch(w){console.error("Error exporting data:",w),f("Error al exportar los datos. Por favor, intenta nuevamente.")}},[]);return{demandMetrics:t,heatMapData:s,loading:i,error:u,loadDemandMetrics:m,loadHeatMapData:p,exportData:y}}function wC(t){const a=[];return a.push("Tipo,Fecha,Valor,Descripción"),a.push(`Resumen,${t.dateRange.start},${t.totalRequests},Total de solicitudes`),a.push(`Resumen,${t.dateRange.start},${t.dailyAverage.toFixed(2)},Promedio diario`),a.push(`Resumen,${t.dateRange.start},${t.monthlyAverage.toFixed(2)},Promedio mensual`),t.dailyDistribution.forEach(s=>{a.push(`Diario,${s.date},${s.count},Solicitudes del día`)}),t.monthlyDistribution.forEach(s=>{a.push(`Mensual,${s.year}-${String(s.month).padStart(2,"0")},${s.count},${s.monthName}`)}),t.weekdayDistribution.forEach(s=>{a.push(`Día de semana,${s.dayName},${s.count},${s.percentage.toFixed(1)}%`)}),t.entityBreakdown.forEach(s=>{a.push(`Entidad,${s.entity},${s.count},${s.percentage.toFixed(1)}%`)}),a.join(`
`)}function jC({metrics:t}){const a=(u,f="w-4 h-4")=>{const m=f;switch(u){case"up":return r.jsx(bn,{className:`${m} text-green-600`});case"down":return r.jsx(Su,{className:`${m} text-red-600`});case"stable":return r.jsx(Nu,{className:`${m} text-gray-600`})}},s=u=>{switch(u){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}},l=(u,f)=>{const m=new Date(u),p=new Date(f);return`${m.toLocaleDateString("es-ES",{day:"numeric",month:"short"})} - ${p.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}`},i=t.entityBreakdown[0],c=t.peakDays.find(u=>u.type==="highest");return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Resumen de Demanda"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Período: ",l(t.dateRange.start,t.dateRange.end)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalRequests}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total de solicitudes"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(vt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Promedio Diario"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.dailyAverage.toFixed(1)})]})]}),t.trends.daily&&r.jsxs("div",{className:"flex items-center gap-1",children:[a(t.trends.daily.direction),r.jsxs("span",{className:`text-sm font-medium ${s(t.trends.daily.direction)}`,children:[t.trends.daily.changePercent>0?"+":"",t.trends.daily.changePercent.toFixed(1),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(tw,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Promedio Mensual"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.monthlyAverage.toFixed(0)})]})]}),t.trends.monthly&&r.jsxs("div",{className:"flex items-center gap-1",children:[a(t.trends.monthly.direction),r.jsxs("span",{className:`text-sm font-medium ${s(t.trends.monthly.direction)}`,children:[t.trends.monthly.changePercent>0?"+":"",t.trends.monthly.changePercent.toFixed(1),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Xl,{className:"w-5 h-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Día Pico"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c?c.count:0}),c&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(c.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(pn,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Principal Entidad"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900 truncate",title:i?.entity,children:[i?i.percentage.toFixed(0):0,"%"]}),i&&r.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",title:i.entity,children:i.entity})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tendencias"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(t.trends.daily.direction,"w-5 h-5"),r.jsx("span",{className:"font-medium text-gray-900",children:"Diaria"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${s(t.trends.daily.direction)}`,children:[t.trends.daily.changePercent>0?"+":"",t.trends.daily.changePercent.toFixed(1),"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.trends.daily.current," vs ",t.trends.daily.previous]})]})]}),t.trends.weekly&&r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(t.trends.weekly.direction,"w-5 h-5"),r.jsx("span",{className:"font-medium text-gray-900",children:"Semanal"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${s(t.trends.weekly.direction)}`,children:[t.trends.weekly.changePercent>0?"+":"",t.trends.weekly.changePercent.toFixed(1),"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.trends.weekly.current," vs ",t.trends.weekly.previous]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(t.trends.monthly.direction,"w-5 h-5"),r.jsx("span",{className:"font-medium text-gray-900",children:"Mensual"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-lg font-bold ${s(t.trends.monthly.direction)}`,children:[t.trends.monthly.changePercent>0?"+":"",t.trends.monthly.changePercent.toFixed(1),"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.trends.monthly.current," vs ",t.trends.monthly.previous]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rendimiento Semanal"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-green-800",children:"Día más activo"}),r.jsx("div",{className:"text-right",children:(()=>{const f=t.weekdayDistribution.filter(m=>m.dayOfWeek>=1&&m.dayOfWeek<=5).reduce((m,p)=>p.count>m.count?p:m);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-bold text-green-600",children:f.dayName}),r.jsxs("div",{className:"text-sm text-green-600",children:[f.count," solicitudes"]})]})})()})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-blue-800",children:"Día menos activo (laborable)"}),r.jsx("div",{className:"text-right",children:(()=>{const f=t.weekdayDistribution.filter(m=>m.dayOfWeek>=1&&m.dayOfWeek<=5).reduce((m,p)=>p.count<m.count?p:m);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"font-bold text-blue-600",children:f.dayName}),r.jsxs("div",{className:"text-sm text-blue-600",children:[f.count," solicitudes"]})]})})()})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribución por Entidad"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total de entidades"}),r.jsx("span",{className:"font-bold text-gray-900",children:t.entityBreakdown.length})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Concentración top 3"}),r.jsxs("span",{className:"font-bold text-gray-900",children:[t.entityBreakdown.slice(0,3).reduce((u,f)=>u+f.percentage,0).toFixed(1),"%"]})]}),r.jsx("div",{className:"pt-2 space-y-2",children:t.entityBreakdown.slice(0,3).map((u,f)=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"text-gray-600 truncate pr-2",title:u.entity,children:["#",f+1," ",u.entity]}),r.jsxs("span",{className:"font-medium text-gray-900 flex-shrink-0",children:[u.percentage.toFixed(1),"%"]})]},u.entity))})]})]})]})]})}function G0({heatMapData:t,selectedDate:a,onDateChange:s,loading:l=!1}){const[i,c]=g.useState(null),u=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],f=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],m=v=>{const w=new Date(a);v==="prev"?w.setMonth(w.getMonth()-1):w.setMonth(w.getMonth()+1),s(w)},p=g.useMemo(()=>{if(!t)return[];const v=t.year,w=t.month-1,S=new Date(v,w,1),N=new Date(v,w+1,0),C=S.getDay(),j=N.getDate(),k=[];for(let P=0;P<C;P++)k.push(null);for(let P=1;P<=j;P++){const I=`${v}-${String(w+1).padStart(2,"0")}-${String(P).padStart(2,"0")}`,M=t.cells.find(R=>R.date===I);M?k.push(M):k.push({date:I,count:0,intensity:0,requests:[],isToday:!1,isWeekend:new Date(v,w,P).getDay()===0||new Date(v,w,P).getDay()===6})}return k},[t]),y=(v,w)=>w===0?"bg-gray-100 border-gray-200":v<=.2?"bg-green-100 border-green-200":v<=.4?"bg-green-200 border-green-300":v<=.6?"bg-yellow-200 border-yellow-300":v<=.8?"bg-orange-200 border-orange-300":"bg-red-200 border-red-300",b=(v,w)=>w===0?"text-gray-500":v<=.4?"text-green-800":v<=.6?"text-yellow-800":v<=.8?"text-orange-800":"text-red-800";return l?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(vt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Calor"})]}),r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"Generando mapa de calor..."})]})})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vt,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mapa de Calor"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>m("prev"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Mes anterior",children:r.jsx(aw,{className:"w-4 h-4 text-gray-600"})}),r.jsxs("span",{className:"font-medium text-gray-900 min-w-32 text-center",children:[u[a.getMonth()]," ",a.getFullYear()]}),r.jsx("button",{onClick:()=>m("next"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Mes siguiente",children:r.jsx(sw,{className:"w-4 h-4 text-gray-600"})})]})]}),t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:f.map(v=>r.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:v},v))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map((v,w)=>r.jsx("div",{className:"aspect-square",children:v?r.jsx("button",{onClick:()=>c(i?.date===v.date?null:v),className:`
                        w-full h-full border rounded-lg text-xs font-medium transition-all duration-200
                        hover:scale-105 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500
                        ${y(v.intensity,v.count)}
                        ${b(v.intensity,v.count)}
                        ${v.isToday?"ring-2 ring-blue-400":""}
                        ${i?.date===v.date?"ring-2 ring-purple-400":""}
                      `,title:`${new Date(v.date).getDate()} - ${v.count} solicitudes`,children:r.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[r.jsx("span",{className:"font-semibold",children:new Date(v.date).getDate()}),v.count>0&&r.jsx("span",{className:"text-xs opacity-75",children:v.count})]})}):r.jsx("div",{className:"w-full h-full"})},w))})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{children:"Menos"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-200 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-green-100 border border-green-200 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-300 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-yellow-200 border border-yellow-300 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-300 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-300 rounded-sm"})]}),r.jsx("span",{children:"Más"})]}),t&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",r.jsx("span",{className:"font-medium",children:t.totalRequests})," solicitudes",t.averagePerDay>0&&r.jsxs("span",{className:"ml-3",children:["Promedio: ",r.jsx("span",{className:"font-medium",children:t.averagePerDay.toFixed(1)}),"/día"]})]})]})}),i&&i.count>0&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:new Date(i.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),r.jsxs("p",{className:"text-sm text-blue-800 mb-3",children:[r.jsx("span",{className:"font-medium",children:i.count})," solicitud(es) recibida(s)"]}),i.requests.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-blue-900",children:"Empresas:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(new Set(i.requests.map(v=>v.company))).map(v=>r.jsx("span",{className:"inline-block px-2 py-1 bg-white border border-blue-200 rounded text-xs text-blue-800",children:v},v))})]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx(cw,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600",children:"No hay datos disponibles para este mes"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ajusta los filtros o selecciona otro período"})]})})]})}function Np({metrics:t,compact:a=!1}){const s=c=>{switch(c){case"up":return r.jsx(bn,{className:"w-4 h-4 text-green-600"});case"down":return r.jsx(Su,{className:"w-4 h-4 text-red-600"});case"stable":return r.jsx(Nu,{className:"w-4 h-4 text-gray-600"})}},l=c=>{switch(c){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}},i=c=>Math.max(...c.map(u=>u.count));return a?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(kr,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Distribución Semanal"})]}),r.jsx("div",{className:"space-y-3",children:t.weekdayDistribution.map(c=>{const u=i(t.weekdayDistribution),f=u>0?c.count/u*100:0;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 text-xs font-medium text-gray-600 text-right",children:c.dayName.slice(0,3)}),r.jsxs("div",{className:"flex-1 bg-gray-100 rounded-full h-6 relative overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 h-full rounded-full transition-all duration-500",style:{width:`${f}%`}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-gray-700",children:c.count})})]}),r.jsxs("div",{className:"w-10 text-xs text-gray-500 text-right",children:[c.percentage.toFixed(0),"%"]})]},c.dayOfWeek)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(kr,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Principales Entidades"})]}),r.jsx("div",{className:"space-y-2",children:t.entityBreakdown.slice(0,5).map((c,u)=>{const f=i(t.entityBreakdown),m=f>0?c.count/f*100:0;return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 text-xs font-bold text-gray-500 text-center",children:u+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:c.entity}),r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:c.count})]}),r.jsx("div",{className:"bg-gray-100 rounded-full h-2",children:r.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-500",style:{width:`${m}%`}})})]})]},c.entity)})})]})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendencia Mensual"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s(t.trends.monthly.direction),r.jsxs("span",{className:`font-medium ${l(t.trends.monthly.direction)}`,children:[t.trends.monthly.changePercent>0?"+":"",t.trends.monthly.changePercent.toFixed(1),"%"]})]})]}),r.jsx("div",{className:"h-64 flex items-end gap-2 mb-4",children:t.monthlyDistribution.map(c=>{const u=i(t.monthlyDistribution),f=u>0?c.count/u*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full flex flex-col justify-end h-48",children:r.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t cursor-pointer relative group",style:{height:`${f}%`,minHeight:c.count>0?"8px":"2px"},title:`${c.monthName} ${c.year}: ${c.count} solicitudes`,children:r.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:c.count})})}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[r.jsx("div",{className:"font-medium",children:c.monthName.slice(0,3)}),r.jsx("div",{className:"text-gray-500",children:c.year})]})]},`${c.year}-${c.month}`)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:[r.jsx("span",{children:"Promedio mensual: "}),r.jsx("span",{className:"font-medium",children:t.monthlyAverage.toFixed(1)}),r.jsx("span",{children:" solicitudes"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución por Día"})]}),r.jsx("div",{className:"space-y-4",children:t.weekdayDistribution.map(c=>{const u=i(t.weekdayDistribution),f=u>0?c.count/u*100:0;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:c.dayName}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:c.count}),r.jsxs("span",{children:["(",c.percentage.toFixed(1),"%)"]})]})]}),r.jsx("div",{className:"bg-gray-100 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-700",style:{width:`${f}%`}})})]},c.dayOfWeek)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Distribución por Entidad"})]}),r.jsxs("div",{className:"space-y-4",children:[t.entityBreakdown.slice(0,6).map(c=>{const u=i(t.entityBreakdown),f=u>0?c.count/u*100:0;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate pr-2",children:c.entity}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 flex-shrink-0",children:[r.jsx("span",{className:"font-medium",children:c.count}),r.jsxs("span",{children:["(",c.percentage.toFixed(1),"%)"]})]})]}),r.jsx("div",{className:"bg-gray-100 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-700",style:{width:`${f}%`}})})]},c.entity)}),t.entityBreakdown.length>6&&r.jsx("div",{className:"text-center pt-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["+",t.entityBreakdown.length-6," entidades más"]})})]})]})]}),t.peakDays.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(kr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Días Destacados"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.peakDays.map(c=>r.jsxs("div",{className:`p-4 rounded-lg border-2 ${c.type==="highest"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:`text-sm font-medium ${c.type==="highest"?"text-green-800":"text-blue-800"}`,children:c.type==="highest"?"Día con más solicitudes":"Día con menos solicitudes"}),r.jsx("span",{className:`text-lg font-bold ${c.type==="highest"?"text-green-600":"text-blue-600"}`,children:c.count})]}),r.jsx("p",{className:`text-sm ${c.type==="highest"?"text-green-700":"text-blue-700"} mb-2`,children:new Date(c.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),c.entities.length>0&&r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Entidades: "}),c.entities.slice(0,2).join(", "),c.entities.length>2&&` +${c.entities.length-2} más`]})]},`${c.date}-${c.type}`))})]})]})}function NC({filters:t,onFiltersChange:a,onClose:s}){const[l,i]=g.useState(t),c=new Date().getFullYear(),u=Array.from({length:10},(k,P)=>c-P+2),f=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=["New","Refinement","Ready","Active","QA Certification","Gestion Tributaria","Impediment","Paused","Peer Review","Third Party","Staging","Production","Closed","Removed"],p=["Generadora","Comercializadora","Ambas"],y=k=>{const P=l.entities.includes(k)?l.entities.filter(I=>I!==k):[...l.entities,k];i({...l,entities:P})},b=k=>{const P=l.years.includes(k)?l.years.filter(I=>I!==k):[...l.years,k];i({...l,years:P})},v=k=>{const P=l.months.includes(k)?l.months.filter(I=>I!==k):[...l.months,k];i({...l,months:P})},w=k=>{const P=l.states.includes(k)?l.states.filter(I=>I!==k):[...l.states,k];i({...l,states:P})},S=k=>{const P=l.companyTypes.includes(k)?l.companyTypes.filter(I=>I!==k):[...l.companyTypes,k];i({...l,companyTypes:P})},N=()=>{a(l),s()},C=()=>{const k={entities:[],companies:[],years:[2024,2025],months:[],states:[],companyTypes:[]};i(k),a(k)},j=()=>Object.values(l).filter(k=>Array.isArray(k)?k.length>0:!!k).length;return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Análisis"}),j()>0&&r.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2 py-1 rounded-full",children:[j()," activos"]})]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(lr,{className:"w-5 h-5 text-gray-600"})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Jp,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Entidades"}),l.entities.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.entities.length})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:xr.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.entities.includes(k),onChange:()=>y(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700 flex-1",children:k}),l.entities.includes(k)&&r.jsx(Vt,{className:"w-4 h-4 text-blue-600"})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(vt,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Años"}),l.years.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.years.length})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.years.includes(k),onChange:()=>b(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:k})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(vt,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Meses"}),l.months.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.months.length})]}),r.jsx("div",{className:"grid grid-cols-2 gap-1",children:f.map((k,P)=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.months.includes(P+1),onChange:()=>v(P+1),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-700",children:k.slice(0,3)})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Vt,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Estados"}),l.states.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.states.length})]}),r.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:m.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.states.includes(k),onChange:()=>w(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-700",children:ku[k]||k})]},k))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(rw,{className:"w-4 h-4 text-gray-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Tipos de Empresa"}),l.companyTypes.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full",children:l.companyTypes.length})]}),r.jsx("div",{className:"space-y-2",children:p.map(k=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[r.jsx("input",{type:"checkbox",checked:l.companyTypes.includes(k),onChange:()=>S(k),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:k}),l.companyTypes.includes(k)&&r.jsx(Vt,{className:"w-4 h-4 text-blue-600"})]},k))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Rango de Fechas"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Inicio"}),r.jsx("input",{type:"date",value:l.startDate||"",onChange:k=>i({...l,startDate:k.target.value||void 0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha Fin"}),r.jsx("input",{type:"date",value:l.endDate||"",onChange:k=>i({...l,endDate:k.target.value||void 0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Limpiar Filtros"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Aplicar Filtros"})]})]})]})}function q0({title:t="Solicitudes por Mes",filters:a={},compact:s=!1,showTrends:l=!0}){const{demandMetrics:i,loading:c,error:u,loadDemandMetrics:f}=Bu(),m=g.useMemo(()=>({entities:[],companies:[],years:[2017,2018,2019,2020,2021,2022,2023,2024,2025],months:[],states:[],companyTypes:[],...a}),[a]);g.useEffect(()=>{(async()=>{try{await f(m)}catch(w){console.warn("Failed to load demand metrics for MonthlyRequestsChart:",w)}})()},[m]);const p=v=>{switch(v){case"up":return r.jsx(bn,{className:"w-4 h-4 text-green-600"});case"down":return r.jsx(Su,{className:"w-4 h-4 text-red-600"});case"stable":return r.jsx(Nu,{className:"w-4 h-4 text-gray-600"})}},y=v=>{switch(v){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-600"}};if(c)return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})});if(u||!i)return r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"Error al cargar los datos del gráfico"})});const b=v=>Math.max(...v.map(w=>w.count));return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:`${s?"text-base":"text-lg"} font-semibold text-gray-900`,children:t})]}),l&&i.trends?.monthly&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p(i.trends.monthly.direction),r.jsxs("span",{className:`font-medium ${y(i.trends.monthly.direction)}`,children:[i.trends.monthly.changePercent>0?"+":"",i.trends.monthly.changePercent.toFixed(1),"%"]})]})]}),r.jsx("div",{className:`${s?"h-48":"h-64"} flex items-end gap-2 mb-4`,children:i.monthlyDistribution.map(v=>{const w=b(i.monthlyDistribution),S=w>0?v.count/w*100:0;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsx("div",{className:"w-full flex flex-col justify-end",style:{height:s?"12rem":"16rem"},children:r.jsx("div",{className:"bg-blue-500 hover:bg-blue-600 transition-colors rounded-t cursor-pointer relative group",style:{height:`${S}%`,minHeight:v.count>0?"8px":"2px"},title:`${v.monthName} ${v.year}: ${v.count} solicitudes`,children:r.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:v.count})})}),r.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:[r.jsx("div",{className:"font-medium",children:v.monthName.slice(0,3)}),r.jsx("div",{className:"text-gray-500",children:v.year})]})]},`${v.year}-${v.month}`)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600",children:[r.jsx("span",{children:"Total: "}),r.jsx("span",{className:"font-medium",children:i.totalRequests}),r.jsx("span",{children:" solicitudes • Promedio mensual: "}),r.jsx("span",{className:"font-medium",children:i.monthlyAverage.toFixed(1)})]})]})}function CC(){const[t,a]=g.useState(!1),[s,l]=g.useState(new Date),[i,c]=g.useState({entities:[],companies:[],years:[2024,2025],months:[],states:[],companyTypes:[]}),{demandMetrics:u,heatMapData:f,loading:m,error:p,loadDemandMetrics:y,loadHeatMapData:b,exportData:v}=Bu();g.useEffect(()=>{y(i),b(s.getFullYear(),s.getMonth()+1,i)},[i,s,y,b]);const w=g.useCallback(C=>{c(C)},[]),S=g.useCallback(C=>{l(C)},[]),N=g.useCallback(()=>{u&&v(u,"demand-analytics")},[u,v]);return m&&!u?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Analizando patrones de demanda..."})]})}):p?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("h3",{className:"font-bold",children:"Error en el análisis"}),r.jsx("p",{children:p})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:r.jsxs("div",{className:"w-full px-2 sm:px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(Xt,{to:"/",className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition-colors",children:[r.jsx(Xn,{className:"w-5 h-5"}),r.jsx("span",{children:"Volver al Dashboard"})]}),r.jsx("div",{className:"border-l border-gray-300 h-6 mx-4"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(bn,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Análisis de Demanda"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Patrones temporales de solicitudes de facturación"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>a(!t),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${t||Object.values(i).some(C=>Array.isArray(C)?C.length>0:!!C)?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:[r.jsx(Po,{className:"w-4 h-4"}),r.jsx("span",{children:"Filtros"}),Object.values(i).some(C=>Array.isArray(C)?C.length>0:!!C)&&r.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Object.values(i).filter(C=>Array.isArray(C)?C.length>0:!!C).length})]}),u&&r.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(ju,{className:"w-4 h-4"}),r.jsx("span",{children:"Exportar"})]})]})]}),t&&r.jsx("div",{className:"mt-6",children:r.jsx(NC,{filters:i,onFiltersChange:w,onClose:()=>a(!1)})})]}),u&&r.jsxs("div",{className:"space-y-8",children:[r.jsx(jC,{metrics:u}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsx(G0,{heatMapData:f,selectedDate:s,onDateChange:S,loading:m})}),r.jsx("div",{className:"xl:col-span-2",children:r.jsx(Np,{metrics:u,compact:!0})})]}),r.jsx("div",{className:"mt-8",children:r.jsx(q0,{title:"Solicitudes por Mes",filters:i,compact:!1,showTrends:!0})}),r.jsx("div",{className:"mt-8",children:r.jsx(Np,{metrics:u,compact:!1})})]}),!u&&!m&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(vt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configura los filtros para comenzar"}),r.jsx("p",{className:"text-gray-600",children:"Selecciona los parámetros de análisis para generar insights sobre los patrones de demanda."})]})]})})}class Id{static normalizeEntityName(a){return{"Gobernación del Valle":"Gobernación del Valle del Cauca","Gobernación del Valle del Cauca":"Gobernación del Valle del Cauca","Alcaldía de Palmira":"Alcaldía de Palmira","Alcaldía de Tuluá":"Alcaldía de Tuluá",Infibagué:"Infibagué"}[a]||a}static async generateReportData(a,s="month"){const l=[];for(const b of xr)for(const v of[2017,2018,2019,2020,2021,2022,2023,2024,2025])try{const w=await Be.loadDataForEntityYear(b,v),S=this.extractRequestSummaries(w,b,v);l.push(...S)}catch{console.warn(`No data found for ${b} ${v}`)}const i=this.filterByDateRange(l,a),c=i.length,u=this.calculateStateStatistics(i),f=this.calculateEntityStatistics(i),m=this.calculateEntityStatisticsWithProgress(i),p=this.calculateAverageResolutionTime(i),y=this.generateTimeSeriesData(i,s,a);return{totalRequests:c,stateStatistics:u,entityStatistics:f,entityStatisticsWithProgress:m,averageResolutionTime:p,timeSeriesData:y,requestSummaries:i}}static extractRequestSummaries(a,s,l){const i=[];for(const[c,u]of Object.entries(a))for(const[f]of Object.entries(u)){if(f==="_metadata")continue;const m=Be.getMonthlyBillingData(u,f);m&&(!m.fechaRecibido||m.fechaRecibido.trim()===""||i.push({company:c,month:f,year:l,entity:this.normalizeEntityName(m.entidad||s),state:m.estado,receivedDate:m.fechaRecibido,closedDate:m.fechaCerrado||"",processingDays:m.diasProcesamiento||null,workItemId:m.workItemId||null}))}return i}static filterByDateRange(a,s){const l=new Date(s.startDate),i=new Date(s.endDate);return a.filter(c=>{if(!c.receivedDate)return!1;const u=new Date(c.receivedDate);return u>=l&&u<=i})}static calculateStateStatistics(a){const s={};return a.forEach(l=>{const i=l.state;s[i]=(s[i]||0)+1}),s}static calculateEntityStatistics(a){const s={};return a.forEach(l=>{s[l.entity]=(s[l.entity]||0)+1}),s}static calculateEntityStatisticsWithProgress(a){const s={};return a.forEach(l=>{const i=l.entity,c=l.state;s[i]||(s[i]={total:0,completed:0,inProgress:0,ready:0,blocked:0,removed:0,completionPercentage:0,progressPercentage:0}),s[i].total+=1,c==="Closed"?s[i].completed+=1:c==="Ready"?s[i].ready+=1:c==="Paused"||c==="Impediment"?s[i].blocked+=1:c==="Removed"?s[i].removed+=1:s[i].inProgress+=1}),Object.keys(s).forEach(l=>{const i=s[l];i.total>0?(i.completionPercentage=Math.round(i.completed/i.total*100),i.progressPercentage=Math.round((i.completed+i.inProgress)/i.total*100)):(i.completionPercentage=0,i.progressPercentage=0)}),s}static calculateAverageResolutionTime(a){const s=a.filter(i=>i.closedDate&&i.closedDate.trim()!==""&&i.processingDays!==null);if(s.length===0)return 0;const l=s.reduce((i,c)=>i+(c.processingDays||0),0);return Math.round(l/s.length*100)/100}static generateTimeSeriesData(a,s,l){const i=new Map,c=new Date(l.startDate),u=new Date(l.endDate),f=new Date(c);for(;f<=u;){const m=this.formatDateForPeriod(f,s);switch(i.set(m,0),s){case"day":f.setDate(f.getDate()+1);break;case"week":f.setDate(f.getDate()+7);break;case"month":f.setMonth(f.getMonth()+1);break}}return a.forEach(m=>{if(!m.receivedDate)return;const p=new Date(m.receivedDate),y=this.formatDateForPeriod(p,s);i.has(y)&&i.set(y,(i.get(y)||0)+1)}),Array.from(i.entries()).map(([m,p])=>({date:m,count:p})).sort((m,p)=>m.date.localeCompare(p.date))}static formatDateForPeriod(a,s){const l=a.getFullYear(),i=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getDate()).padStart(2,"0");switch(s){case"day":return`${l}-${i}-${c}`;case"week":const u=new Date(a);u.setDate(a.getDate()-a.getDay()+1);const f=String(u.getMonth()+1).padStart(2,"0"),m=String(u.getDate()).padStart(2,"0");return`${u.getFullYear()}-${f}-${m}`;case"month":return`${l}-${i}`;default:return`${l}-${i}`}}static exportToCSV(a){const s=["empresa","vigencia","periodo","entidad","estado","fecha_recibido","fecha_cerrado","dias_procesamiento","id_azure"],l=a.requestSummaries.map(c=>[c.company,c.year.toString(),c.month,c.entity,c.state,c.receivedDate,c.closedDate,c.processingDays?.toString()||"",c.workItemId?.toString()||""]);return[s,...l].map(c=>c.map(u=>`"${u}"`).join(",")).join(`
`)}static downloadCSV(a,s="reporte-solicitudes.csv"){const l=new Blob([a],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const c=URL.createObjectURL(l);i.setAttribute("href",c),i.setAttribute("download",s),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}function SC(){const[t,a]=g.useState(null),[s,l]=g.useState(!1),[i,c]=g.useState(null),[u,f]=g.useState(()=>{const S=new Date,N=new Date(S.getFullYear(),S.getMonth(),1),C=new Date(S.getFullYear(),S.getMonth()+1,0);return{startDate:N.toISOString().split("T")[0],endDate:C.toISOString().split("T")[0]}}),[m,p]=g.useState("month"),y=g.useCallback(async()=>{l(!0),c(null);try{const S=await Id.generateReportData(u,m);a(S)}catch(S){console.error("Error generating report:",S),c("Error al generar el reporte. Por favor, intenta nuevamente.")}finally{l(!1)}},[u,m]),b=g.useCallback(S=>{f(S)},[]),v=g.useCallback(S=>{p(S)},[]),w=g.useCallback(()=>{if(t)try{const S=Id.exportToCSV(t),C=`reporte-solicitudes-${new Date().toISOString().split("T")[0]}.csv`;Id.downloadCSV(S,C)}catch(S){console.error("Error exporting CSV:",S),c("Error al exportar los datos. Por favor, intenta nuevamente.")}},[t]);return g.useEffect(()=>{y()},[y]),{reportData:t,loading:s,error:i,dateRange:u,period:m,updateDateRange:b,updatePeriod:v,generateReport:y,exportToCSV:w}}function EC({dateRange:t,onDateRangeChange:a,period:s,onPeriodChange:l,onExport:i,loading:c=!1}){const u=p=>{a({...t,startDate:p})},f=p=>{a({...t,endDate:p})},m=p=>{const y=new Date,b=new Date;b.setDate(y.getDate()-p),a({startDate:b.toISOString().split("T")[0],endDate:y.toISOString().split("T")[0]})};return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros de Reporte"})]}),r.jsxs("button",{onClick:i,disabled:c,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg hover:bg-green-100 transition-colors border border-green-200 disabled:opacity-50",children:[r.jsx(ju,{className:"w-4 h-4"}),"Exportar CSV"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Fecha Inicio"]}),r.jsx("input",{type:"date",value:t.startDate,onChange:p=>u(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Fecha Fin"]}),r.jsx("input",{type:"date",value:t.endDate,onChange:p=>f(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agrupación"}),r.jsxs("select",{value:s,onChange:p=>l(p.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"day",children:"Por Día"}),r.jsx("option",{value:"week",children:"Por Semana"}),r.jsx("option",{value:"month",children:"Por Mes"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rangos Rápidos"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:()=>m(30),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"30 días"}),r.jsx("button",{onClick:()=>m(90),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"90 días"}),r.jsx("button",{onClick:()=>m(365),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"1 año"})]})]})]})]})}function kC({totalRequests:t,stateStatistics:a,entityStatisticsWithProgress:s,averageResolutionTime:l}){return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(kr,{className:"w-6 h-6 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resumen General"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total de Solicitudes:"}),r.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Tiempo Promedio de Resolución:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(pn,{className:"w-4 h-4 text-orange-500"}),r.jsxs("span",{className:"text-xl font-bold text-orange-600",children:[l," días"]})]})]}),r.jsx("div",{className:"pt-2 border-t border-gray-100",children:r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Solicitudes Cerradas:"}),r.jsxs("span",{className:"font-medium text-green-600",children:[a.Closed||0," (",Math.round((a.Closed||0)/t*100),"%)"]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Vt,{className:"w-6 h-6 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estados de Solicitudes"})]}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Object.entries(a).sort(([,i],[,c])=>c-i).map(([i,c])=>{const u=Math.round(c/t*100),m=Zn(i).bg.replace("bg-","").replace("-100","-600");return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:gs(i)}),r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate max-w-32",title:i,children:i})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900",children:c}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",u,"%)"]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`bg-${m} h-2 rounded-full transition-all duration-300`,style:{width:`${u}%`}})})]},i)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ut,{className:"w-6 h-6 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Solicitudes por Entidad"})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(s).sort(([,i],[,c])=>c.total-i.total).map(([i,c])=>{const u=Math.round(c.total/t*100);return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",title:i,children:i}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[c.completed," completadas"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900",children:c.total}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",u,"%)"]})]})]})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-4 relative overflow-hidden",children:(()=>{const f=c.completed/c.total*100,m=c.inProgress/c.total*100,p=c.ready/c.total*100,y=c.blocked/c.total*100,b=c.removed/c.total*100,w=f+m,S=w+p,N=S+y,C=N+b;return r.jsxs(r.Fragment,{children:[c.completed>0&&r.jsx("div",{className:"bg-green-600 h-full absolute top-0 left-0 transition-all duration-500",style:{width:`${f}%`,borderRadius:"9999px 0 0 9999px"},title:`${c.completed} completadas`}),c.inProgress>0&&r.jsx("div",{className:"bg-blue-500 h-full absolute top-0 transition-all duration-500",style:{left:`${f}%`,width:`${m}%`},title:`${c.inProgress} en progreso`}),c.ready>0&&r.jsx("div",{className:"bg-gray-300 h-full absolute top-0 transition-all duration-500",style:{left:`${w}%`,width:`${p}%`},title:`${c.ready} por iniciar`}),c.blocked>0&&r.jsx("div",{className:"bg-red-500 h-full absolute top-0 transition-all duration-500",style:{left:`${S}%`,width:`${y}%`},title:`${c.blocked} pausadas/bloqueadas`}),c.removed>0&&r.jsx("div",{className:"bg-gray-600 h-full absolute top-0 transition-all duration-500",style:{left:`${N}%`,width:`${b}%`,borderRadius:C>=99.9?"0 9999px 9999px 0":"0"},title:`${c.removed} removidas`})]})})()}),r.jsxs("div",{className:"text-xs text-gray-600",children:[c.completed>0&&r.jsxs("span",{className:"text-green-600 font-medium",children:[c.completed," completadas"]}),c.inProgress>0&&r.jsxs("span",{children:[c.completed>0?", ":"",r.jsxs("span",{className:"text-blue-600 font-medium",children:[c.inProgress," en progreso"]})]}),c.ready>0&&r.jsxs("span",{children:[c.completed>0||c.inProgress>0?", ":"",r.jsxs("span",{className:"text-gray-600 font-medium",children:[c.ready," por iniciar"]})]}),c.blocked>0&&r.jsxs("span",{children:[c.completed>0||c.inProgress>0||c.ready>0?", ":"",r.jsxs("span",{className:"text-red-600 font-medium",children:[c.blocked," pausadas"]})]}),c.removed>0&&r.jsxs("span",{children:[c.completed>0||c.inProgress>0||c.ready>0||c.blocked>0?", ":"",r.jsxs("span",{className:"text-gray-600 font-medium",children:[c.removed," removidas"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsx("span",{children:"Progreso por categorías"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),r.jsx("span",{children:"Completadas"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{children:"En progreso"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),r.jsx("span",{children:"Por iniciar"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsx("span",{children:"Pausadas"})]})]})]})]},i)})})]})]})}function RC(){const[t,a]=g.useState(new Date),{reportData:s,loading:l,error:i,dateRange:c,period:u,updateDateRange:f,updatePeriod:m,exportToCSV:p}=SC(),{heatMapData:y,loading:b,loadHeatMapData:v}=Bu();return g.useEffect(()=>{const w={entities:[],companies:[],years:[2025],months:[],states:[],companyTypes:[]};v(t.getFullYear(),t.getMonth()+1,w)},[t,v]),l&&!s?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Generando reporte..."})]})}):i?r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("h3",{className:"font-bold",children:"Error al generar reporte"}),r.jsx("p",{children:i})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Intentar nuevamente"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4",children:r.jsxs(Xt,{to:"/",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 transition-colors",children:[r.jsx(Xn,{className:"w-4 h-4"}),"Volver al Dashboard"]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(kr,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reportes de Solicitudes"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Análisis y estadísticas de las solicitudes de facturación"})]})]})]}),r.jsx(EC,{dateRange:c,onDateRangeChange:f,period:u,onPeriodChange:m,onExport:p,loading:l}),s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-6",children:r.jsx(kC,{totalRequests:s.totalRequests,stateStatistics:s.stateStatistics,entityStatisticsWithProgress:s.entityStatisticsWithProgress,averageResolutionTime:s.averageResolutionTime})}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"xl:col-span-1",children:r.jsx(G0,{heatMapData:y,selectedDate:t,onDateChange:a,loading:b})}),r.jsx("div",{className:"xl:col-span-2",children:r.jsx(q0,{title:"Solicitudes por Mes - 2025",filters:{entities:[],companies:[],years:[2025],months:[],states:[],companyTypes:[]},compact:!1,showTrends:!0})})]}),s.requestSummaries.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Detalle de Solicitudes (",s.requestSummaries.length,")"]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Empresa"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Mes"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Año"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Entidad"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Estado"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha Recibido"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Fecha Cerrado"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Días Proc."})]})}),r.jsx("tbody",{children:s.requestSummaries.sort((w,S)=>!w.receivedDate&&!S.receivedDate?0:w.receivedDate?S.receivedDate?S.receivedDate.localeCompare(w.receivedDate):-1:1).slice(0,100).map((w,S)=>r.jsxs("tr",{className:S%2===0?"bg-gray-50":"bg-white",children:[r.jsx("td",{className:"py-3 px-4 text-gray-900 font-medium",children:w.company}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.month}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.year}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.entity}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`px-2 py-1 text-xs rounded-full max-w-32 truncate inline-flex items-center gap-1 ${Zn(w.state).bg} ${Zn(w.state).text}`,title:w.state,children:[r.jsx("span",{className:"text-xs",children:gs(w.state)}),r.jsx("span",{className:"truncate",children:w.state})]})}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.receivedDate?new Date(w.receivedDate).toLocaleDateString("es-ES"):"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.closedDate?new Date(w.closedDate).toLocaleDateString("es-ES"):"-"}),r.jsx("td",{className:"py-3 px-4 text-gray-700",children:w.processingDays!==null?`${w.processingDays} días`:"-"})]},`${w.company}-${w.month}-${w.year}-${w.entity}-${w.workItemId||S}`))})]}),s.requestSummaries.length>100&&r.jsxs("div",{className:"mt-4 text-center text-gray-500 text-sm",children:["Mostrando las primeras 100 solicitudes de ",s.requestSummaries.length," total. Exporta el CSV para ver todos los datos."]})]})]}),s.totalRequests===0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[r.jsx(kr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay solicitudes en el período seleccionado"}),r.jsx("p",{className:"text-gray-500",children:"Intenta ajustar el rango de fechas para ver más datos."})]})]}):null,l&&s&&r.jsxs("div",{className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-lg border p-4 flex items-center gap-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Actualizando reporte..."})]})]})})}const PC=_b([{path:"/",element:r.jsx(dn,{children:r.jsx(qh,{})})},{path:"/pendientes",element:r.jsx(dn,{children:r.jsx(bp,{})})},{path:"/resumen",element:r.jsx(dn,{children:r.jsx(bp,{})})},{path:"/reportes",element:r.jsx(dn,{children:r.jsx(RC,{})})},{path:"/empresas",element:r.jsx(dn,{children:r.jsx(bC,{})})},{path:"/empresa/:companyName",element:r.jsx(dn,{children:r.jsx(hC,{})})},{path:"/analisis-demanda",element:r.jsx(dn,{children:r.jsx(CC,{})})},{path:"/entidad/:entitySlug/historico",element:r.jsx(dn,{children:r.jsx(xC,{})})},{path:"/:year/:entity",element:r.jsx(dn,{children:r.jsx(qh,{})})}],{basename:"/jikko-estimator/facturacion"});By.createRoot(document.getElementById("root")).render(r.jsx(un.StrictMode,{children:r.jsx(qb,{router:PC})}));
